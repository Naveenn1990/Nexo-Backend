var Nz=Object.defineProperty;var Sz=(e,r,s)=>r in e?Nz(e,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[r]=s;var mi=(e,r,s)=>Sz(e,typeof r!="symbol"?r+"":r,s);function kz(e,r){for(var s=0;s<r.length;s++){const a=r[s];if(typeof a!="string"&&!Array.isArray(a)){for(const n in a)if(n!=="default"&&!(n in e)){const i=Object.getOwnPropertyDescriptor(a,n);i&&Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:()=>a[n]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();function li(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var gE={exports:{}},sy={},yE={exports:{}},qt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O0=Symbol.for("react.element"),Cz=Symbol.for("react.portal"),Pz=Symbol.for("react.fragment"),Az=Symbol.for("react.strict_mode"),Tz=Symbol.for("react.profiler"),Ez=Symbol.for("react.provider"),Iz=Symbol.for("react.context"),_z=Symbol.for("react.forward_ref"),Oz=Symbol.for("react.suspense"),Dz=Symbol.for("react.memo"),Mz=Symbol.for("react.lazy"),W6=Symbol.iterator;function Lz(e){return e===null||typeof e!="object"?null:(e=W6&&e[W6]||e["@@iterator"],typeof e=="function"?e:null)}var bE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},vE=Object.assign,jE={};function cm(e,r,s){this.props=e,this.context=r,this.refs=jE,this.updater=s||bE}cm.prototype.isReactComponent={};cm.prototype.setState=function(e,r){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,r,"setState")};cm.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function wE(){}wE.prototype=cm.prototype;function Sw(e,r,s){this.props=e,this.context=r,this.refs=jE,this.updater=s||bE}var kw=Sw.prototype=new wE;kw.constructor=Sw;vE(kw,cm.prototype);kw.isPureReactComponent=!0;var G6=Array.isArray,NE=Object.prototype.hasOwnProperty,Cw={current:null},SE={key:!0,ref:!0,__self:!0,__source:!0};function kE(e,r,s){var a,n={},i=null,l=null;if(r!=null)for(a in r.ref!==void 0&&(l=r.ref),r.key!==void 0&&(i=""+r.key),r)NE.call(r,a)&&!SE.hasOwnProperty(a)&&(n[a]=r[a]);var o=arguments.length-2;if(o===1)n.children=s;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];n.children=c}if(e&&e.defaultProps)for(a in o=e.defaultProps,o)n[a]===void 0&&(n[a]=o[a]);return{$$typeof:O0,type:e,key:i,ref:l,props:n,_owner:Cw.current}}function Fz(e,r){return{$$typeof:O0,type:e.type,key:r,ref:e.ref,props:e.props,_owner:e._owner}}function Pw(e){return typeof e=="object"&&e!==null&&e.$$typeof===O0}function Rz(e){var r={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return r[s]})}var q6=/\/+/g;function av(e,r){return typeof e=="object"&&e!==null&&e.key!=null?Rz(""+e.key):r.toString(36)}function Ap(e,r,s,a,n){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case O0:case Cz:l=!0}}if(l)return l=e,n=n(l),e=a===""?"."+av(l,0):a,G6(n)?(s="",e!=null&&(s=e.replace(q6,"$&/")+"/"),Ap(n,r,s,"",function(d){return d})):n!=null&&(Pw(n)&&(n=Fz(n,s+(!n.key||l&&l.key===n.key?"":(""+n.key).replace(q6,"$&/")+"/")+e)),r.push(n)),1;if(l=0,a=a===""?".":a+":",G6(e))for(var o=0;o<e.length;o++){i=e[o];var c=a+av(i,o);l+=Ap(i,r,s,c,n)}else if(c=Lz(e),typeof c=="function")for(e=c.call(e),o=0;!(i=e.next()).done;)i=i.value,c=a+av(i,o++),l+=Ap(i,r,s,c,n);else if(i==="object")throw r=String(e),Error("Objects are not valid as a React child (found: "+(r==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":r)+"). If you meant to render a collection of children, use an array instead.");return l}function Ex(e,r,s){if(e==null)return e;var a=[],n=0;return Ap(e,a,"","",function(i){return r.call(s,i,n++)}),a}function Bz(e){if(e._status===-1){var r=e._result;r=r(),r.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=r)}if(e._status===1)return e._result.default;throw e._result}var Fa={current:null},Tp={transition:null},$z={ReactCurrentDispatcher:Fa,ReactCurrentBatchConfig:Tp,ReactCurrentOwner:Cw};function CE(){throw Error("act(...) is not supported in production builds of React.")}qt.Children={map:Ex,forEach:function(e,r,s){Ex(e,function(){r.apply(this,arguments)},s)},count:function(e){var r=0;return Ex(e,function(){r++}),r},toArray:function(e){return Ex(e,function(r){return r})||[]},only:function(e){if(!Pw(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};qt.Component=cm;qt.Fragment=Pz;qt.Profiler=Tz;qt.PureComponent=Sw;qt.StrictMode=Az;qt.Suspense=Oz;qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$z;qt.act=CE;qt.cloneElement=function(e,r,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=vE({},e.props),n=e.key,i=e.ref,l=e._owner;if(r!=null){if(r.ref!==void 0&&(i=r.ref,l=Cw.current),r.key!==void 0&&(n=""+r.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in r)NE.call(r,c)&&!SE.hasOwnProperty(c)&&(a[c]=r[c]===void 0&&o!==void 0?o[c]:r[c])}var c=arguments.length-2;if(c===1)a.children=s;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];a.children=o}return{$$typeof:O0,type:e.type,key:n,ref:i,props:a,_owner:l}};qt.createContext=function(e){return e={$$typeof:Iz,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Ez,_context:e},e.Consumer=e};qt.createElement=kE;qt.createFactory=function(e){var r=kE.bind(null,e);return r.type=e,r};qt.createRef=function(){return{current:null}};qt.forwardRef=function(e){return{$$typeof:_z,render:e}};qt.isValidElement=Pw;qt.lazy=function(e){return{$$typeof:Mz,_payload:{_status:-1,_result:e},_init:Bz}};qt.memo=function(e,r){return{$$typeof:Dz,type:e,compare:r===void 0?null:r}};qt.startTransition=function(e){var r=Tp.transition;Tp.transition={};try{e()}finally{Tp.transition=r}};qt.unstable_act=CE;qt.useCallback=function(e,r){return Fa.current.useCallback(e,r)};qt.useContext=function(e){return Fa.current.useContext(e)};qt.useDebugValue=function(){};qt.useDeferredValue=function(e){return Fa.current.useDeferredValue(e)};qt.useEffect=function(e,r){return Fa.current.useEffect(e,r)};qt.useId=function(){return Fa.current.useId()};qt.useImperativeHandle=function(e,r,s){return Fa.current.useImperativeHandle(e,r,s)};qt.useInsertionEffect=function(e,r){return Fa.current.useInsertionEffect(e,r)};qt.useLayoutEffect=function(e,r){return Fa.current.useLayoutEffect(e,r)};qt.useMemo=function(e,r){return Fa.current.useMemo(e,r)};qt.useReducer=function(e,r,s){return Fa.current.useReducer(e,r,s)};qt.useRef=function(e){return Fa.current.useRef(e)};qt.useState=function(e){return Fa.current.useState(e)};qt.useSyncExternalStore=function(e,r,s){return Fa.current.useSyncExternalStore(e,r,s)};qt.useTransition=function(){return Fa.current.useTransition()};qt.version="18.3.1";yE.exports=qt;var g=yE.exports;const _t=li(g),PE=kz({__proto__:null,default:_t},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zz=g,Uz=Symbol.for("react.element"),Hz=Symbol.for("react.fragment"),Vz=Object.prototype.hasOwnProperty,Wz=zz.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Gz={key:!0,ref:!0,__self:!0,__source:!0};function AE(e,r,s){var a,n={},i=null,l=null;s!==void 0&&(i=""+s),r.key!==void 0&&(i=""+r.key),r.ref!==void 0&&(l=r.ref);for(a in r)Vz.call(r,a)&&!Gz.hasOwnProperty(a)&&(n[a]=r[a]);if(e&&e.defaultProps)for(a in r=e.defaultProps,r)n[a]===void 0&&(n[a]=r[a]);return{$$typeof:Uz,type:e,key:i,ref:l,props:n,_owner:Wz.current}}sy.Fragment=Hz;sy.jsx=AE;sy.jsxs=AE;gE.exports=sy;var t=gE.exports,W1={},TE={exports:{}},An={},EE={exports:{}},IE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function r(q,se){var R=q.length;q.push(se);e:for(;0<R;){var T=R-1>>>1,O=q[T];if(0<n(O,se))q[T]=se,q[R]=O,R=T;else break e}}function s(q){return q.length===0?null:q[0]}function a(q){if(q.length===0)return null;var se=q[0],R=q.pop();if(R!==se){q[0]=R;e:for(var T=0,O=q.length,K=O>>>1;T<K;){var U=2*(T+1)-1,ee=q[U],M=U+1,H=q[M];if(0>n(ee,R))M<O&&0>n(H,ee)?(q[T]=H,q[M]=R,T=M):(q[T]=ee,q[U]=R,T=U);else if(M<O&&0>n(H,R))q[T]=H,q[M]=R,T=M;else break e}}return se}function n(q,se){var R=q.sortIndex-se.sortIndex;return R!==0?R:q.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var c=[],d=[],u=1,m=null,x=3,h=!1,p=!1,f=!1,b=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(q){for(var se=s(d);se!==null;){if(se.callback===null)a(d);else if(se.startTime<=q)a(d),se.sortIndex=se.expirationTime,r(c,se);else break;se=s(d)}}function v(q){if(f=!1,y(q),!p)if(s(c)!==null)p=!0,he(N);else{var se=s(d);se!==null&&L(v,se.startTime-q)}}function N(q,se){p=!1,f&&(f=!1,j(C),C=-1),h=!0;var R=x;try{for(y(se),m=s(c);m!==null&&(!(m.expirationTime>se)||q&&!A());){var T=m.callback;if(typeof T=="function"){m.callback=null,x=m.priorityLevel;var O=T(m.expirationTime<=se);se=e.unstable_now(),typeof O=="function"?m.callback=O:m===s(c)&&a(c),y(se)}else a(c);m=s(c)}if(m!==null)var K=!0;else{var U=s(d);U!==null&&L(v,U.startTime-se),K=!1}return K}finally{m=null,x=R,h=!1}}var S=!1,k=null,C=-1,P=5,_=-1;function A(){return!(e.unstable_now()-_<P)}function D(){if(k!==null){var q=e.unstable_now();_=q;var se=!0;try{se=k(!0,q)}finally{se?F():(S=!1,k=null)}}else S=!1}var F;if(typeof w=="function")F=function(){w(D)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,ce=X.port2;X.port1.onmessage=D,F=function(){ce.postMessage(null)}}else F=function(){b(D,0)};function he(q){k=q,S||(S=!0,F())}function L(q,se){C=b(function(){q(e.unstable_now())},se)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_continueExecution=function(){p||h||(p=!0,he(N))},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return s(c)},e.unstable_next=function(q){switch(x){case 1:case 2:case 3:var se=3;break;default:se=x}var R=x;x=se;try{return q()}finally{x=R}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(q,se){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var R=x;x=q;try{return se()}finally{x=R}},e.unstable_scheduleCallback=function(q,se,R){var T=e.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?T+R:T):R=T,q){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=R+O,q={id:u++,callback:se,priorityLevel:q,startTime:R,expirationTime:O,sortIndex:-1},R>T?(q.sortIndex=R,r(d,q),s(c)===null&&q===s(d)&&(f?(j(C),C=-1):f=!0,L(v,R-T))):(q.sortIndex=O,r(c,q),p||h||(p=!0,he(N))),q},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(q){var se=x;return function(){var R=x;x=se;try{return q.apply(this,arguments)}finally{x=R}}}})(IE);EE.exports=IE;var qz=EE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kz=g,wn=qz;function tt(e){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)r+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _E=new Set,Rh={};function Nd(e,r){Ru(e,r),Ru(e+"Capture",r)}function Ru(e,r){for(Rh[e]=r,e=0;e<r.length;e++)_E.add(r[e])}var _l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),G1=Object.prototype.hasOwnProperty,Yz=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,K6={},Y6={};function Xz(e){return G1.call(Y6,e)?!0:G1.call(K6,e)?!1:Yz.test(e)?Y6[e]=!0:(K6[e]=!0,!1)}function Jz(e,r,s,a){if(s!==null&&s.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return a?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Qz(e,r,s,a){if(r===null||typeof r>"u"||Jz(e,r,s,a))return!0;if(a)return!1;if(s!==null)switch(s.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function Ra(e,r,s,a,n,i,l){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=a,this.attributeNamespace=n,this.mustUseProperty=s,this.propertyName=e,this.type=r,this.sanitizeURL=i,this.removeEmptyString=l}var na={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){na[e]=new Ra(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var r=e[0];na[r]=new Ra(r,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){na[e]=new Ra(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){na[e]=new Ra(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){na[e]=new Ra(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){na[e]=new Ra(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){na[e]=new Ra(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){na[e]=new Ra(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){na[e]=new Ra(e,5,!1,e.toLowerCase(),null,!1,!1)});var Aw=/[\-:]([a-z])/g;function Tw(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var r=e.replace(Aw,Tw);na[r]=new Ra(r,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var r=e.replace(Aw,Tw);na[r]=new Ra(r,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var r=e.replace(Aw,Tw);na[r]=new Ra(r,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){na[e]=new Ra(e,1,!1,e.toLowerCase(),null,!1,!1)});na.xlinkHref=new Ra("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){na[e]=new Ra(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ew(e,r,s,a){var n=na.hasOwnProperty(r)?na[r]:null;(n!==null?n.type!==0:a||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(Qz(r,s,n,a)&&(s=null),a||n===null?Xz(r)&&(s===null?e.removeAttribute(r):e.setAttribute(r,""+s)):n.mustUseProperty?e[n.propertyName]=s===null?n.type===3?!1:"":s:(r=n.attributeName,a=n.attributeNamespace,s===null?e.removeAttribute(r):(n=n.type,s=n===3||n===4&&s===!0?"":""+s,a?e.setAttributeNS(a,r,s):e.setAttribute(r,s))))}var Xl=Kz.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ix=Symbol.for("react.element"),Qd=Symbol.for("react.portal"),Zd=Symbol.for("react.fragment"),Iw=Symbol.for("react.strict_mode"),q1=Symbol.for("react.profiler"),OE=Symbol.for("react.provider"),DE=Symbol.for("react.context"),_w=Symbol.for("react.forward_ref"),K1=Symbol.for("react.suspense"),Y1=Symbol.for("react.suspense_list"),Ow=Symbol.for("react.memo"),bo=Symbol.for("react.lazy"),ME=Symbol.for("react.offscreen"),X6=Symbol.iterator;function Lm(e){return e===null||typeof e!="object"?null:(e=X6&&e[X6]||e["@@iterator"],typeof e=="function"?e:null)}var Yr=Object.assign,nv;function oh(e){if(nv===void 0)try{throw Error()}catch(s){var r=s.stack.trim().match(/\n( *(at )?)/);nv=r&&r[1]||""}return`
`+nv+e}var iv=!1;function lv(e,r){if(!e||iv)return"";iv=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(d){var a=d}Reflect.construct(e,[],r)}else{try{r.call()}catch(d){a=d}e.call(r.prototype)}else{try{throw Error()}catch(d){a=d}e()}}catch(d){if(d&&a&&typeof d.stack=="string"){for(var n=d.stack.split(`
`),i=a.stack.split(`
`),l=n.length-1,o=i.length-1;1<=l&&0<=o&&n[l]!==i[o];)o--;for(;1<=l&&0<=o;l--,o--)if(n[l]!==i[o]){if(l!==1||o!==1)do if(l--,o--,0>o||n[l]!==i[o]){var c=`
`+n[l].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=l&&0<=o);break}}}finally{iv=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?oh(e):""}function Zz(e){switch(e.tag){case 5:return oh(e.type);case 16:return oh("Lazy");case 13:return oh("Suspense");case 19:return oh("SuspenseList");case 0:case 2:case 15:return e=lv(e.type,!1),e;case 11:return e=lv(e.type.render,!1),e;case 1:return e=lv(e.type,!0),e;default:return""}}function X1(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Zd:return"Fragment";case Qd:return"Portal";case q1:return"Profiler";case Iw:return"StrictMode";case K1:return"Suspense";case Y1:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case DE:return(e.displayName||"Context")+".Consumer";case OE:return(e._context.displayName||"Context")+".Provider";case _w:var r=e.render;return e=e.displayName,e||(e=r.displayName||r.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ow:return r=e.displayName||null,r!==null?r:X1(e.type)||"Memo";case bo:r=e._payload,e=e._init;try{return X1(e(r))}catch{}}return null}function eU(e){var r=e.type;switch(e.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=r.render,e=e.displayName||e.name||"",r.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return X1(r);case 8:return r===Iw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Ko(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function LE(e){var r=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function tU(e){var r=LE(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,r),a=""+e[r];if(!e.hasOwnProperty(r)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var n=s.get,i=s.set;return Object.defineProperty(e,r,{configurable:!0,get:function(){return n.call(this)},set:function(l){a=""+l,i.call(this,l)}}),Object.defineProperty(e,r,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(l){a=""+l},stopTracking:function(){e._valueTracker=null,delete e[r]}}}}function _x(e){e._valueTracker||(e._valueTracker=tU(e))}function FE(e){if(!e)return!1;var r=e._valueTracker;if(!r)return!0;var s=r.getValue(),a="";return e&&(a=LE(e)?e.checked?"true":"false":e.value),e=a,e!==s?(r.setValue(e),!0):!1}function Zp(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function J1(e,r){var s=r.checked;return Yr({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function J6(e,r){var s=r.defaultValue==null?"":r.defaultValue,a=r.checked!=null?r.checked:r.defaultChecked;s=Ko(r.value!=null?r.value:s),e._wrapperState={initialChecked:a,initialValue:s,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function RE(e,r){r=r.checked,r!=null&&Ew(e,"checked",r,!1)}function Q1(e,r){RE(e,r);var s=Ko(r.value),a=r.type;if(s!=null)a==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}r.hasOwnProperty("value")?Z1(e,r.type,s):r.hasOwnProperty("defaultValue")&&Z1(e,r.type,Ko(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(e.defaultChecked=!!r.defaultChecked)}function Q6(e,r,s){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var a=r.type;if(!(a!=="submit"&&a!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+e._wrapperState.initialValue,s||r===e.value||(e.value=r),e.defaultValue=r}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function Z1(e,r,s){(r!=="number"||Zp(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var ch=Array.isArray;function bu(e,r,s,a){if(e=e.options,r){r={};for(var n=0;n<s.length;n++)r["$"+s[n]]=!0;for(s=0;s<e.length;s++)n=r.hasOwnProperty("$"+e[s].value),e[s].selected!==n&&(e[s].selected=n),n&&a&&(e[s].defaultSelected=!0)}else{for(s=""+Ko(s),r=null,n=0;n<e.length;n++){if(e[n].value===s){e[n].selected=!0,a&&(e[n].defaultSelected=!0);return}r!==null||e[n].disabled||(r=e[n])}r!==null&&(r.selected=!0)}}function e2(e,r){if(r.dangerouslySetInnerHTML!=null)throw Error(tt(91));return Yr({},r,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Z6(e,r){var s=r.value;if(s==null){if(s=r.children,r=r.defaultValue,s!=null){if(r!=null)throw Error(tt(92));if(ch(s)){if(1<s.length)throw Error(tt(93));s=s[0]}r=s}r==null&&(r=""),s=r}e._wrapperState={initialValue:Ko(s)}}function BE(e,r){var s=Ko(r.value),a=Ko(r.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),r.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),a!=null&&(e.defaultValue=""+a)}function eS(e){var r=e.textContent;r===e._wrapperState.initialValue&&r!==""&&r!==null&&(e.value=r)}function $E(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function t2(e,r){return e==null||e==="http://www.w3.org/1999/xhtml"?$E(r):e==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ox,zE=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,s,a,n){MSApp.execUnsafeLocalFunction(function(){return e(r,s,a,n)})}:e}(function(e,r){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=r;else{for(Ox=Ox||document.createElement("div"),Ox.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=Ox.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;r.firstChild;)e.appendChild(r.firstChild)}});function Bh(e,r){if(r){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=r;return}}e.textContent=r}var fh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rU=["Webkit","ms","Moz","O"];Object.keys(fh).forEach(function(e){rU.forEach(function(r){r=r+e.charAt(0).toUpperCase()+e.substring(1),fh[r]=fh[e]})});function UE(e,r,s){return r==null||typeof r=="boolean"||r===""?"":s||typeof r!="number"||r===0||fh.hasOwnProperty(e)&&fh[e]?(""+r).trim():r+"px"}function HE(e,r){e=e.style;for(var s in r)if(r.hasOwnProperty(s)){var a=s.indexOf("--")===0,n=UE(s,r[s],a);s==="float"&&(s="cssFloat"),a?e.setProperty(s,n):e[s]=n}}var sU=Yr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function r2(e,r){if(r){if(sU[e]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(tt(137,e));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(tt(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(tt(61))}if(r.style!=null&&typeof r.style!="object")throw Error(tt(62))}}function s2(e,r){if(e.indexOf("-")===-1)return typeof r.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var a2=null;function Dw(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var n2=null,vu=null,ju=null;function tS(e){if(e=L0(e)){if(typeof n2!="function")throw Error(tt(280));var r=e.stateNode;r&&(r=oy(r),n2(e.stateNode,e.type,r))}}function VE(e){vu?ju?ju.push(e):ju=[e]:vu=e}function WE(){if(vu){var e=vu,r=ju;if(ju=vu=null,tS(e),r)for(e=0;e<r.length;e++)tS(r[e])}}function GE(e,r){return e(r)}function qE(){}var ov=!1;function KE(e,r,s){if(ov)return e(r,s);ov=!0;try{return GE(e,r,s)}finally{ov=!1,(vu!==null||ju!==null)&&(qE(),WE())}}function $h(e,r){var s=e.stateNode;if(s===null)return null;var a=oy(s);if(a===null)return null;s=a[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(tt(231,r,typeof s));return s}var i2=!1;if(_l)try{var Fm={};Object.defineProperty(Fm,"passive",{get:function(){i2=!0}}),window.addEventListener("test",Fm,Fm),window.removeEventListener("test",Fm,Fm)}catch{i2=!1}function aU(e,r,s,a,n,i,l,o,c){var d=Array.prototype.slice.call(arguments,3);try{r.apply(s,d)}catch(u){this.onError(u)}}var gh=!1,ef=null,tf=!1,l2=null,nU={onError:function(e){gh=!0,ef=e}};function iU(e,r,s,a,n,i,l,o,c){gh=!1,ef=null,aU.apply(nU,arguments)}function lU(e,r,s,a,n,i,l,o,c){if(iU.apply(this,arguments),gh){if(gh){var d=ef;gh=!1,ef=null}else throw Error(tt(198));tf||(tf=!0,l2=d)}}function Sd(e){var r=e,s=e;if(e.alternate)for(;r.return;)r=r.return;else{e=r;do r=e,r.flags&4098&&(s=r.return),e=r.return;while(e)}return r.tag===3?s:null}function YE(e){if(e.tag===13){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function rS(e){if(Sd(e)!==e)throw Error(tt(188))}function oU(e){var r=e.alternate;if(!r){if(r=Sd(e),r===null)throw Error(tt(188));return r!==e?null:e}for(var s=e,a=r;;){var n=s.return;if(n===null)break;var i=n.alternate;if(i===null){if(a=n.return,a!==null){s=a;continue}break}if(n.child===i.child){for(i=n.child;i;){if(i===s)return rS(n),e;if(i===a)return rS(n),r;i=i.sibling}throw Error(tt(188))}if(s.return!==a.return)s=n,a=i;else{for(var l=!1,o=n.child;o;){if(o===s){l=!0,s=n,a=i;break}if(o===a){l=!0,a=n,s=i;break}o=o.sibling}if(!l){for(o=i.child;o;){if(o===s){l=!0,s=i,a=n;break}if(o===a){l=!0,a=i,s=n;break}o=o.sibling}if(!l)throw Error(tt(189))}}if(s.alternate!==a)throw Error(tt(190))}if(s.tag!==3)throw Error(tt(188));return s.stateNode.current===s?e:r}function XE(e){return e=oU(e),e!==null?JE(e):null}function JE(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var r=JE(e);if(r!==null)return r;e=e.sibling}return null}var QE=wn.unstable_scheduleCallback,sS=wn.unstable_cancelCallback,cU=wn.unstable_shouldYield,dU=wn.unstable_requestPaint,us=wn.unstable_now,uU=wn.unstable_getCurrentPriorityLevel,Mw=wn.unstable_ImmediatePriority,ZE=wn.unstable_UserBlockingPriority,rf=wn.unstable_NormalPriority,mU=wn.unstable_LowPriority,e7=wn.unstable_IdlePriority,ay=null,qi=null;function hU(e){if(qi&&typeof qi.onCommitFiberRoot=="function")try{qi.onCommitFiberRoot(ay,e,void 0,(e.current.flags&128)===128)}catch{}}var Si=Math.clz32?Math.clz32:fU,xU=Math.log,pU=Math.LN2;function fU(e){return e>>>=0,e===0?32:31-(xU(e)/pU|0)|0}var Dx=64,Mx=4194304;function dh(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function sf(e,r){var s=e.pendingLanes;if(s===0)return 0;var a=0,n=e.suspendedLanes,i=e.pingedLanes,l=s&268435455;if(l!==0){var o=l&~n;o!==0?a=dh(o):(i&=l,i!==0&&(a=dh(i)))}else l=s&~n,l!==0?a=dh(l):i!==0&&(a=dh(i));if(a===0)return 0;if(r!==0&&r!==a&&!(r&n)&&(n=a&-a,i=r&-r,n>=i||n===16&&(i&4194240)!==0))return r;if(a&4&&(a|=s&16),r=e.entangledLanes,r!==0)for(e=e.entanglements,r&=a;0<r;)s=31-Si(r),n=1<<s,a|=e[s],r&=~n;return a}function gU(e,r){switch(e){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yU(e,r){for(var s=e.suspendedLanes,a=e.pingedLanes,n=e.expirationTimes,i=e.pendingLanes;0<i;){var l=31-Si(i),o=1<<l,c=n[l];c===-1?(!(o&s)||o&a)&&(n[l]=gU(o,r)):c<=r&&(e.expiredLanes|=o),i&=~o}}function o2(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function t7(){var e=Dx;return Dx<<=1,!(Dx&4194240)&&(Dx=64),e}function cv(e){for(var r=[],s=0;31>s;s++)r.push(e);return r}function D0(e,r,s){e.pendingLanes|=r,r!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,r=31-Si(r),e[r]=s}function bU(e,r){var s=e.pendingLanes&~r;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=r,e.mutableReadLanes&=r,e.entangledLanes&=r,r=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<s;){var n=31-Si(s),i=1<<n;r[n]=0,a[n]=-1,e[n]=-1,s&=~i}}function Lw(e,r){var s=e.entangledLanes|=r;for(e=e.entanglements;s;){var a=31-Si(s),n=1<<a;n&r|e[a]&r&&(e[a]|=r),s&=~n}}var pr=0;function r7(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var s7,Fw,a7,n7,i7,c2=!1,Lx=[],Oo=null,Do=null,Mo=null,zh=new Map,Uh=new Map,So=[],vU="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function aS(e,r){switch(e){case"focusin":case"focusout":Oo=null;break;case"dragenter":case"dragleave":Do=null;break;case"mouseover":case"mouseout":Mo=null;break;case"pointerover":case"pointerout":zh.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Uh.delete(r.pointerId)}}function Rm(e,r,s,a,n,i){return e===null||e.nativeEvent!==i?(e={blockedOn:r,domEventName:s,eventSystemFlags:a,nativeEvent:i,targetContainers:[n]},r!==null&&(r=L0(r),r!==null&&Fw(r)),e):(e.eventSystemFlags|=a,r=e.targetContainers,n!==null&&r.indexOf(n)===-1&&r.push(n),e)}function jU(e,r,s,a,n){switch(r){case"focusin":return Oo=Rm(Oo,e,r,s,a,n),!0;case"dragenter":return Do=Rm(Do,e,r,s,a,n),!0;case"mouseover":return Mo=Rm(Mo,e,r,s,a,n),!0;case"pointerover":var i=n.pointerId;return zh.set(i,Rm(zh.get(i)||null,e,r,s,a,n)),!0;case"gotpointercapture":return i=n.pointerId,Uh.set(i,Rm(Uh.get(i)||null,e,r,s,a,n)),!0}return!1}function l7(e){var r=Tc(e.target);if(r!==null){var s=Sd(r);if(s!==null){if(r=s.tag,r===13){if(r=YE(s),r!==null){e.blockedOn=r,i7(e.priority,function(){a7(s)});return}}else if(r===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ep(e){if(e.blockedOn!==null)return!1;for(var r=e.targetContainers;0<r.length;){var s=d2(e.domEventName,e.eventSystemFlags,r[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var a=new s.constructor(s.type,s);a2=a,s.target.dispatchEvent(a),a2=null}else return r=L0(s),r!==null&&Fw(r),e.blockedOn=s,!1;r.shift()}return!0}function nS(e,r,s){Ep(e)&&s.delete(r)}function wU(){c2=!1,Oo!==null&&Ep(Oo)&&(Oo=null),Do!==null&&Ep(Do)&&(Do=null),Mo!==null&&Ep(Mo)&&(Mo=null),zh.forEach(nS),Uh.forEach(nS)}function Bm(e,r){e.blockedOn===r&&(e.blockedOn=null,c2||(c2=!0,wn.unstable_scheduleCallback(wn.unstable_NormalPriority,wU)))}function Hh(e){function r(n){return Bm(n,e)}if(0<Lx.length){Bm(Lx[0],e);for(var s=1;s<Lx.length;s++){var a=Lx[s];a.blockedOn===e&&(a.blockedOn=null)}}for(Oo!==null&&Bm(Oo,e),Do!==null&&Bm(Do,e),Mo!==null&&Bm(Mo,e),zh.forEach(r),Uh.forEach(r),s=0;s<So.length;s++)a=So[s],a.blockedOn===e&&(a.blockedOn=null);for(;0<So.length&&(s=So[0],s.blockedOn===null);)l7(s),s.blockedOn===null&&So.shift()}var wu=Xl.ReactCurrentBatchConfig,af=!0;function NU(e,r,s,a){var n=pr,i=wu.transition;wu.transition=null;try{pr=1,Rw(e,r,s,a)}finally{pr=n,wu.transition=i}}function SU(e,r,s,a){var n=pr,i=wu.transition;wu.transition=null;try{pr=4,Rw(e,r,s,a)}finally{pr=n,wu.transition=i}}function Rw(e,r,s,a){if(af){var n=d2(e,r,s,a);if(n===null)bv(e,r,a,nf,s),aS(e,a);else if(jU(n,e,r,s,a))a.stopPropagation();else if(aS(e,a),r&4&&-1<vU.indexOf(e)){for(;n!==null;){var i=L0(n);if(i!==null&&s7(i),i=d2(e,r,s,a),i===null&&bv(e,r,a,nf,s),i===n)break;n=i}n!==null&&a.stopPropagation()}else bv(e,r,a,null,s)}}var nf=null;function d2(e,r,s,a){if(nf=null,e=Dw(a),e=Tc(e),e!==null)if(r=Sd(e),r===null)e=null;else if(s=r.tag,s===13){if(e=YE(r),e!==null)return e;e=null}else if(s===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;e=null}else r!==e&&(e=null);return nf=e,null}function o7(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(uU()){case Mw:return 1;case ZE:return 4;case rf:case mU:return 16;case e7:return 536870912;default:return 16}default:return 16}}var Po=null,Bw=null,Ip=null;function c7(){if(Ip)return Ip;var e,r=Bw,s=r.length,a,n="value"in Po?Po.value:Po.textContent,i=n.length;for(e=0;e<s&&r[e]===n[e];e++);var l=s-e;for(a=1;a<=l&&r[s-a]===n[i-a];a++);return Ip=n.slice(e,1<a?1-a:void 0)}function _p(e){var r=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&r===13&&(e=13)):e=r,e===10&&(e=13),32<=e||e===13?e:0}function Fx(){return!0}function iS(){return!1}function Tn(e){function r(s,a,n,i,l){this._reactName=s,this._targetInst=n,this.type=a,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(s=e[o],this[o]=s?s(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Fx:iS,this.isPropagationStopped=iS,this}return Yr(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Fx)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Fx)},persist:function(){},isPersistent:Fx}),r}var dm={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$w=Tn(dm),M0=Yr({},dm,{view:0,detail:0}),kU=Tn(M0),dv,uv,$m,ny=Yr({},M0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zw,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$m&&($m&&e.type==="mousemove"?(dv=e.screenX-$m.screenX,uv=e.screenY-$m.screenY):uv=dv=0,$m=e),dv)},movementY:function(e){return"movementY"in e?e.movementY:uv}}),lS=Tn(ny),CU=Yr({},ny,{dataTransfer:0}),PU=Tn(CU),AU=Yr({},M0,{relatedTarget:0}),mv=Tn(AU),TU=Yr({},dm,{animationName:0,elapsedTime:0,pseudoElement:0}),EU=Tn(TU),IU=Yr({},dm,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_U=Tn(IU),OU=Yr({},dm,{data:0}),oS=Tn(OU),DU={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},MU={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},LU={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function FU(e){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(e):(e=LU[e])?!!r[e]:!1}function zw(){return FU}var RU=Yr({},M0,{key:function(e){if(e.key){var r=DU[e.key]||e.key;if(r!=="Unidentified")return r}return e.type==="keypress"?(e=_p(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?MU[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zw,charCode:function(e){return e.type==="keypress"?_p(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_p(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),BU=Tn(RU),$U=Yr({},ny,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cS=Tn($U),zU=Yr({},M0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zw}),UU=Tn(zU),HU=Yr({},dm,{propertyName:0,elapsedTime:0,pseudoElement:0}),VU=Tn(HU),WU=Yr({},ny,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),GU=Tn(WU),qU=[9,13,27,32],Uw=_l&&"CompositionEvent"in window,yh=null;_l&&"documentMode"in document&&(yh=document.documentMode);var KU=_l&&"TextEvent"in window&&!yh,d7=_l&&(!Uw||yh&&8<yh&&11>=yh),dS=" ",uS=!1;function u7(e,r){switch(e){case"keyup":return qU.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function m7(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var eu=!1;function YU(e,r){switch(e){case"compositionend":return m7(r);case"keypress":return r.which!==32?null:(uS=!0,dS);case"textInput":return e=r.data,e===dS&&uS?null:e;default:return null}}function XU(e,r){if(eu)return e==="compositionend"||!Uw&&u7(e,r)?(e=c7(),Ip=Bw=Po=null,eu=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return d7&&r.locale!=="ko"?null:r.data;default:return null}}var JU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mS(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r==="input"?!!JU[e.type]:r==="textarea"}function h7(e,r,s,a){VE(a),r=lf(r,"onChange"),0<r.length&&(s=new $w("onChange","change",null,s,a),e.push({event:s,listeners:r}))}var bh=null,Vh=null;function QU(e){S7(e,0)}function iy(e){var r=su(e);if(FE(r))return e}function ZU(e,r){if(e==="change")return r}var x7=!1;if(_l){var hv;if(_l){var xv="oninput"in document;if(!xv){var hS=document.createElement("div");hS.setAttribute("oninput","return;"),xv=typeof hS.oninput=="function"}hv=xv}else hv=!1;x7=hv&&(!document.documentMode||9<document.documentMode)}function xS(){bh&&(bh.detachEvent("onpropertychange",p7),Vh=bh=null)}function p7(e){if(e.propertyName==="value"&&iy(Vh)){var r=[];h7(r,Vh,e,Dw(e)),KE(QU,r)}}function eH(e,r,s){e==="focusin"?(xS(),bh=r,Vh=s,bh.attachEvent("onpropertychange",p7)):e==="focusout"&&xS()}function tH(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return iy(Vh)}function rH(e,r){if(e==="click")return iy(r)}function sH(e,r){if(e==="input"||e==="change")return iy(r)}function aH(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var Ai=typeof Object.is=="function"?Object.is:aH;function Wh(e,r){if(Ai(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var s=Object.keys(e),a=Object.keys(r);if(s.length!==a.length)return!1;for(a=0;a<s.length;a++){var n=s[a];if(!G1.call(r,n)||!Ai(e[n],r[n]))return!1}return!0}function pS(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fS(e,r){var s=pS(e);e=0;for(var a;s;){if(s.nodeType===3){if(a=e+s.textContent.length,e<=r&&a>=r)return{node:s,offset:r-e};e=a}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=pS(s)}}function f7(e,r){return e&&r?e===r?!0:e&&e.nodeType===3?!1:r&&r.nodeType===3?f7(e,r.parentNode):"contains"in e?e.contains(r):e.compareDocumentPosition?!!(e.compareDocumentPosition(r)&16):!1:!1}function g7(){for(var e=window,r=Zp();r instanceof e.HTMLIFrameElement;){try{var s=typeof r.contentWindow.location.href=="string"}catch{s=!1}if(s)e=r.contentWindow;else break;r=Zp(e.document)}return r}function Hw(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r&&(r==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||r==="textarea"||e.contentEditable==="true")}function nH(e){var r=g7(),s=e.focusedElem,a=e.selectionRange;if(r!==s&&s&&s.ownerDocument&&f7(s.ownerDocument.documentElement,s)){if(a!==null&&Hw(s)){if(r=a.start,e=a.end,e===void 0&&(e=r),"selectionStart"in s)s.selectionStart=r,s.selectionEnd=Math.min(e,s.value.length);else if(e=(r=s.ownerDocument||document)&&r.defaultView||window,e.getSelection){e=e.getSelection();var n=s.textContent.length,i=Math.min(a.start,n);a=a.end===void 0?i:Math.min(a.end,n),!e.extend&&i>a&&(n=a,a=i,i=n),n=fS(s,i);var l=fS(s,a);n&&l&&(e.rangeCount!==1||e.anchorNode!==n.node||e.anchorOffset!==n.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(r=r.createRange(),r.setStart(n.node,n.offset),e.removeAllRanges(),i>a?(e.addRange(r),e.extend(l.node,l.offset)):(r.setEnd(l.node,l.offset),e.addRange(r)))}}for(r=[],e=s;e=e.parentNode;)e.nodeType===1&&r.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<r.length;s++)e=r[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var iH=_l&&"documentMode"in document&&11>=document.documentMode,tu=null,u2=null,vh=null,m2=!1;function gS(e,r,s){var a=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;m2||tu==null||tu!==Zp(a)||(a=tu,"selectionStart"in a&&Hw(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),vh&&Wh(vh,a)||(vh=a,a=lf(u2,"onSelect"),0<a.length&&(r=new $w("onSelect","select",null,r,s),e.push({event:r,listeners:a}),r.target=tu)))}function Rx(e,r){var s={};return s[e.toLowerCase()]=r.toLowerCase(),s["Webkit"+e]="webkit"+r,s["Moz"+e]="moz"+r,s}var ru={animationend:Rx("Animation","AnimationEnd"),animationiteration:Rx("Animation","AnimationIteration"),animationstart:Rx("Animation","AnimationStart"),transitionend:Rx("Transition","TransitionEnd")},pv={},y7={};_l&&(y7=document.createElement("div").style,"AnimationEvent"in window||(delete ru.animationend.animation,delete ru.animationiteration.animation,delete ru.animationstart.animation),"TransitionEvent"in window||delete ru.transitionend.transition);function ly(e){if(pv[e])return pv[e];if(!ru[e])return e;var r=ru[e],s;for(s in r)if(r.hasOwnProperty(s)&&s in y7)return pv[e]=r[s];return e}var b7=ly("animationend"),v7=ly("animationiteration"),j7=ly("animationstart"),w7=ly("transitionend"),N7=new Map,yS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ic(e,r){N7.set(e,r),Nd(r,[e])}for(var fv=0;fv<yS.length;fv++){var gv=yS[fv],lH=gv.toLowerCase(),oH=gv[0].toUpperCase()+gv.slice(1);ic(lH,"on"+oH)}ic(b7,"onAnimationEnd");ic(v7,"onAnimationIteration");ic(j7,"onAnimationStart");ic("dblclick","onDoubleClick");ic("focusin","onFocus");ic("focusout","onBlur");ic(w7,"onTransitionEnd");Ru("onMouseEnter",["mouseout","mouseover"]);Ru("onMouseLeave",["mouseout","mouseover"]);Ru("onPointerEnter",["pointerout","pointerover"]);Ru("onPointerLeave",["pointerout","pointerover"]);Nd("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Nd("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Nd("onBeforeInput",["compositionend","keypress","textInput","paste"]);Nd("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Nd("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Nd("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cH=new Set("cancel close invalid load scroll toggle".split(" ").concat(uh));function bS(e,r,s){var a=e.type||"unknown-event";e.currentTarget=s,lU(a,r,void 0,e),e.currentTarget=null}function S7(e,r){r=(r&4)!==0;for(var s=0;s<e.length;s++){var a=e[s],n=a.event;a=a.listeners;e:{var i=void 0;if(r)for(var l=a.length-1;0<=l;l--){var o=a[l],c=o.instance,d=o.currentTarget;if(o=o.listener,c!==i&&n.isPropagationStopped())break e;bS(n,o,d),i=c}else for(l=0;l<a.length;l++){if(o=a[l],c=o.instance,d=o.currentTarget,o=o.listener,c!==i&&n.isPropagationStopped())break e;bS(n,o,d),i=c}}}if(tf)throw e=l2,tf=!1,l2=null,e}function Ir(e,r){var s=r[g2];s===void 0&&(s=r[g2]=new Set);var a=e+"__bubble";s.has(a)||(k7(r,e,2,!1),s.add(a))}function yv(e,r,s){var a=0;r&&(a|=4),k7(s,e,a,r)}var Bx="_reactListening"+Math.random().toString(36).slice(2);function Gh(e){if(!e[Bx]){e[Bx]=!0,_E.forEach(function(s){s!=="selectionchange"&&(cH.has(s)||yv(s,!1,e),yv(s,!0,e))});var r=e.nodeType===9?e:e.ownerDocument;r===null||r[Bx]||(r[Bx]=!0,yv("selectionchange",!1,r))}}function k7(e,r,s,a){switch(o7(r)){case 1:var n=NU;break;case 4:n=SU;break;default:n=Rw}s=n.bind(null,r,s,e),n=void 0,!i2||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(n=!0),a?n!==void 0?e.addEventListener(r,s,{capture:!0,passive:n}):e.addEventListener(r,s,!0):n!==void 0?e.addEventListener(r,s,{passive:n}):e.addEventListener(r,s,!1)}function bv(e,r,s,a,n){var i=a;if(!(r&1)&&!(r&2)&&a!==null)e:for(;;){if(a===null)return;var l=a.tag;if(l===3||l===4){var o=a.stateNode.containerInfo;if(o===n||o.nodeType===8&&o.parentNode===n)break;if(l===4)for(l=a.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===n||c.nodeType===8&&c.parentNode===n))return;l=l.return}for(;o!==null;){if(l=Tc(o),l===null)return;if(c=l.tag,c===5||c===6){a=i=l;continue e}o=o.parentNode}}a=a.return}KE(function(){var d=i,u=Dw(s),m=[];e:{var x=N7.get(e);if(x!==void 0){var h=$w,p=e;switch(e){case"keypress":if(_p(s)===0)break e;case"keydown":case"keyup":h=BU;break;case"focusin":p="focus",h=mv;break;case"focusout":p="blur",h=mv;break;case"beforeblur":case"afterblur":h=mv;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=lS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=PU;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=UU;break;case b7:case v7:case j7:h=EU;break;case w7:h=VU;break;case"scroll":h=kU;break;case"wheel":h=GU;break;case"copy":case"cut":case"paste":h=_U;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=cS}var f=(r&4)!==0,b=!f&&e==="scroll",j=f?x!==null?x+"Capture":null:x;f=[];for(var w=d,y;w!==null;){y=w;var v=y.stateNode;if(y.tag===5&&v!==null&&(y=v,j!==null&&(v=$h(w,j),v!=null&&f.push(qh(w,v,y)))),b)break;w=w.return}0<f.length&&(x=new h(x,p,null,s,u),m.push({event:x,listeners:f}))}}if(!(r&7)){e:{if(x=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",x&&s!==a2&&(p=s.relatedTarget||s.fromElement)&&(Tc(p)||p[Ol]))break e;if((h||x)&&(x=u.window===u?u:(x=u.ownerDocument)?x.defaultView||x.parentWindow:window,h?(p=s.relatedTarget||s.toElement,h=d,p=p?Tc(p):null,p!==null&&(b=Sd(p),p!==b||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=d),h!==p)){if(f=lS,v="onMouseLeave",j="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(f=cS,v="onPointerLeave",j="onPointerEnter",w="pointer"),b=h==null?x:su(h),y=p==null?x:su(p),x=new f(v,w+"leave",h,s,u),x.target=b,x.relatedTarget=y,v=null,Tc(u)===d&&(f=new f(j,w+"enter",p,s,u),f.target=y,f.relatedTarget=b,v=f),b=v,h&&p)t:{for(f=h,j=p,w=0,y=f;y;y=Ud(y))w++;for(y=0,v=j;v;v=Ud(v))y++;for(;0<w-y;)f=Ud(f),w--;for(;0<y-w;)j=Ud(j),y--;for(;w--;){if(f===j||j!==null&&f===j.alternate)break t;f=Ud(f),j=Ud(j)}f=null}else f=null;h!==null&&vS(m,x,h,f,!1),p!==null&&b!==null&&vS(m,b,p,f,!0)}}e:{if(x=d?su(d):window,h=x.nodeName&&x.nodeName.toLowerCase(),h==="select"||h==="input"&&x.type==="file")var N=ZU;else if(mS(x))if(x7)N=sH;else{N=tH;var S=eH}else(h=x.nodeName)&&h.toLowerCase()==="input"&&(x.type==="checkbox"||x.type==="radio")&&(N=rH);if(N&&(N=N(e,d))){h7(m,N,s,u);break e}S&&S(e,x,d),e==="focusout"&&(S=x._wrapperState)&&S.controlled&&x.type==="number"&&Z1(x,"number",x.value)}switch(S=d?su(d):window,e){case"focusin":(mS(S)||S.contentEditable==="true")&&(tu=S,u2=d,vh=null);break;case"focusout":vh=u2=tu=null;break;case"mousedown":m2=!0;break;case"contextmenu":case"mouseup":case"dragend":m2=!1,gS(m,s,u);break;case"selectionchange":if(iH)break;case"keydown":case"keyup":gS(m,s,u)}var k;if(Uw)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else eu?u7(e,s)&&(C="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(C="onCompositionStart");C&&(d7&&s.locale!=="ko"&&(eu||C!=="onCompositionStart"?C==="onCompositionEnd"&&eu&&(k=c7()):(Po=u,Bw="value"in Po?Po.value:Po.textContent,eu=!0)),S=lf(d,C),0<S.length&&(C=new oS(C,e,null,s,u),m.push({event:C,listeners:S}),k?C.data=k:(k=m7(s),k!==null&&(C.data=k)))),(k=KU?YU(e,s):XU(e,s))&&(d=lf(d,"onBeforeInput"),0<d.length&&(u=new oS("onBeforeInput","beforeinput",null,s,u),m.push({event:u,listeners:d}),u.data=k))}S7(m,r)})}function qh(e,r,s){return{instance:e,listener:r,currentTarget:s}}function lf(e,r){for(var s=r+"Capture",a=[];e!==null;){var n=e,i=n.stateNode;n.tag===5&&i!==null&&(n=i,i=$h(e,s),i!=null&&a.unshift(qh(e,i,n)),i=$h(e,r),i!=null&&a.push(qh(e,i,n))),e=e.return}return a}function Ud(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function vS(e,r,s,a,n){for(var i=r._reactName,l=[];s!==null&&s!==a;){var o=s,c=o.alternate,d=o.stateNode;if(c!==null&&c===a)break;o.tag===5&&d!==null&&(o=d,n?(c=$h(s,i),c!=null&&l.unshift(qh(s,c,o))):n||(c=$h(s,i),c!=null&&l.push(qh(s,c,o)))),s=s.return}l.length!==0&&e.push({event:r,listeners:l})}var dH=/\r\n?/g,uH=/\u0000|\uFFFD/g;function jS(e){return(typeof e=="string"?e:""+e).replace(dH,`
`).replace(uH,"")}function $x(e,r,s){if(r=jS(r),jS(e)!==r&&s)throw Error(tt(425))}function of(){}var h2=null,x2=null;function p2(e,r){return e==="textarea"||e==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var f2=typeof setTimeout=="function"?setTimeout:void 0,mH=typeof clearTimeout=="function"?clearTimeout:void 0,wS=typeof Promise=="function"?Promise:void 0,hH=typeof queueMicrotask=="function"?queueMicrotask:typeof wS<"u"?function(e){return wS.resolve(null).then(e).catch(xH)}:f2;function xH(e){setTimeout(function(){throw e})}function vv(e,r){var s=r,a=0;do{var n=s.nextSibling;if(e.removeChild(s),n&&n.nodeType===8)if(s=n.data,s==="/$"){if(a===0){e.removeChild(n),Hh(r);return}a--}else s!=="$"&&s!=="$?"&&s!=="$!"||a++;s=n}while(s);Hh(r)}function Lo(e){for(;e!=null;e=e.nextSibling){var r=e.nodeType;if(r===1||r===3)break;if(r===8){if(r=e.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return e}function NS(e){e=e.previousSibling;for(var r=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(r===0)return e;r--}else s==="/$"&&r++}e=e.previousSibling}return null}var um=Math.random().toString(36).slice(2),zi="__reactFiber$"+um,Kh="__reactProps$"+um,Ol="__reactContainer$"+um,g2="__reactEvents$"+um,pH="__reactListeners$"+um,fH="__reactHandles$"+um;function Tc(e){var r=e[zi];if(r)return r;for(var s=e.parentNode;s;){if(r=s[Ol]||s[zi]){if(s=r.alternate,r.child!==null||s!==null&&s.child!==null)for(e=NS(e);e!==null;){if(s=e[zi])return s;e=NS(e)}return r}e=s,s=e.parentNode}return null}function L0(e){return e=e[zi]||e[Ol],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function su(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(tt(33))}function oy(e){return e[Kh]||null}var y2=[],au=-1;function lc(e){return{current:e}}function Dr(e){0>au||(e.current=y2[au],y2[au]=null,au--)}function Cr(e,r){au++,y2[au]=e.current,e.current=r}var Yo={},ja=lc(Yo),Wa=lc(!1),ed=Yo;function Bu(e,r){var s=e.type.contextTypes;if(!s)return Yo;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===r)return a.__reactInternalMemoizedMaskedChildContext;var n={},i;for(i in s)n[i]=r[i];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=n),n}function Ga(e){return e=e.childContextTypes,e!=null}function cf(){Dr(Wa),Dr(ja)}function SS(e,r,s){if(ja.current!==Yo)throw Error(tt(168));Cr(ja,r),Cr(Wa,s)}function C7(e,r,s){var a=e.stateNode;if(r=r.childContextTypes,typeof a.getChildContext!="function")return s;a=a.getChildContext();for(var n in a)if(!(n in r))throw Error(tt(108,eU(e)||"Unknown",n));return Yr({},s,a)}function df(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Yo,ed=ja.current,Cr(ja,e),Cr(Wa,Wa.current),!0}function kS(e,r,s){var a=e.stateNode;if(!a)throw Error(tt(169));s?(e=C7(e,r,ed),a.__reactInternalMemoizedMergedChildContext=e,Dr(Wa),Dr(ja),Cr(ja,e)):Dr(Wa),Cr(Wa,s)}var ul=null,cy=!1,jv=!1;function P7(e){ul===null?ul=[e]:ul.push(e)}function gH(e){cy=!0,P7(e)}function oc(){if(!jv&&ul!==null){jv=!0;var e=0,r=pr;try{var s=ul;for(pr=1;e<s.length;e++){var a=s[e];do a=a(!0);while(a!==null)}ul=null,cy=!1}catch(n){throw ul!==null&&(ul=ul.slice(e+1)),QE(Mw,oc),n}finally{pr=r,jv=!1}}return null}var nu=[],iu=0,uf=null,mf=0,Wn=[],Gn=0,td=null,xl=1,pl="";function bc(e,r){nu[iu++]=mf,nu[iu++]=uf,uf=e,mf=r}function A7(e,r,s){Wn[Gn++]=xl,Wn[Gn++]=pl,Wn[Gn++]=td,td=e;var a=xl;e=pl;var n=32-Si(a)-1;a&=~(1<<n),s+=1;var i=32-Si(r)+n;if(30<i){var l=n-n%5;i=(a&(1<<l)-1).toString(32),a>>=l,n-=l,xl=1<<32-Si(r)+n|s<<n|a,pl=i+e}else xl=1<<i|s<<n|a,pl=e}function Vw(e){e.return!==null&&(bc(e,1),A7(e,1,0))}function Ww(e){for(;e===uf;)uf=nu[--iu],nu[iu]=null,mf=nu[--iu],nu[iu]=null;for(;e===td;)td=Wn[--Gn],Wn[Gn]=null,pl=Wn[--Gn],Wn[Gn]=null,xl=Wn[--Gn],Wn[Gn]=null}var yn=null,gn=null,zr=!1,yi=null;function T7(e,r){var s=Kn(5,null,null,0);s.elementType="DELETED",s.stateNode=r,s.return=e,r=e.deletions,r===null?(e.deletions=[s],e.flags|=16):r.push(s)}function CS(e,r){switch(e.tag){case 5:var s=e.type;return r=r.nodeType!==1||s.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(e.stateNode=r,yn=e,gn=Lo(r.firstChild),!0):!1;case 6:return r=e.pendingProps===""||r.nodeType!==3?null:r,r!==null?(e.stateNode=r,yn=e,gn=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(s=td!==null?{id:xl,overflow:pl}:null,e.memoizedState={dehydrated:r,treeContext:s,retryLane:1073741824},s=Kn(18,null,null,0),s.stateNode=r,s.return=e,e.child=s,yn=e,gn=null,!0):!1;default:return!1}}function b2(e){return(e.mode&1)!==0&&(e.flags&128)===0}function v2(e){if(zr){var r=gn;if(r){var s=r;if(!CS(e,r)){if(b2(e))throw Error(tt(418));r=Lo(s.nextSibling);var a=yn;r&&CS(e,r)?T7(a,s):(e.flags=e.flags&-4097|2,zr=!1,yn=e)}}else{if(b2(e))throw Error(tt(418));e.flags=e.flags&-4097|2,zr=!1,yn=e}}}function PS(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;yn=e}function zx(e){if(e!==yn)return!1;if(!zr)return PS(e),zr=!0,!1;var r;if((r=e.tag!==3)&&!(r=e.tag!==5)&&(r=e.type,r=r!=="head"&&r!=="body"&&!p2(e.type,e.memoizedProps)),r&&(r=gn)){if(b2(e))throw E7(),Error(tt(418));for(;r;)T7(e,r),r=Lo(r.nextSibling)}if(PS(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(tt(317));e:{for(e=e.nextSibling,r=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(r===0){gn=Lo(e.nextSibling);break e}r--}else s!=="$"&&s!=="$!"&&s!=="$?"||r++}e=e.nextSibling}gn=null}}else gn=yn?Lo(e.stateNode.nextSibling):null;return!0}function E7(){for(var e=gn;e;)e=Lo(e.nextSibling)}function $u(){gn=yn=null,zr=!1}function Gw(e){yi===null?yi=[e]:yi.push(e)}var yH=Xl.ReactCurrentBatchConfig;function zm(e,r,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(tt(309));var a=s.stateNode}if(!a)throw Error(tt(147,e));var n=a,i=""+e;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===i?r.ref:(r=function(l){var o=n.refs;l===null?delete o[i]:o[i]=l},r._stringRef=i,r)}if(typeof e!="string")throw Error(tt(284));if(!s._owner)throw Error(tt(290,e))}return e}function Ux(e,r){throw e=Object.prototype.toString.call(r),Error(tt(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e))}function AS(e){var r=e._init;return r(e._payload)}function I7(e){function r(j,w){if(e){var y=j.deletions;y===null?(j.deletions=[w],j.flags|=16):y.push(w)}}function s(j,w){if(!e)return null;for(;w!==null;)r(j,w),w=w.sibling;return null}function a(j,w){for(j=new Map;w!==null;)w.key!==null?j.set(w.key,w):j.set(w.index,w),w=w.sibling;return j}function n(j,w){return j=$o(j,w),j.index=0,j.sibling=null,j}function i(j,w,y){return j.index=y,e?(y=j.alternate,y!==null?(y=y.index,y<w?(j.flags|=2,w):y):(j.flags|=2,w)):(j.flags|=1048576,w)}function l(j){return e&&j.alternate===null&&(j.flags|=2),j}function o(j,w,y,v){return w===null||w.tag!==6?(w=Av(y,j.mode,v),w.return=j,w):(w=n(w,y),w.return=j,w)}function c(j,w,y,v){var N=y.type;return N===Zd?u(j,w,y.props.children,v,y.key):w!==null&&(w.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===bo&&AS(N)===w.type)?(v=n(w,y.props),v.ref=zm(j,w,y),v.return=j,v):(v=Bp(y.type,y.key,y.props,null,j.mode,v),v.ref=zm(j,w,y),v.return=j,v)}function d(j,w,y,v){return w===null||w.tag!==4||w.stateNode.containerInfo!==y.containerInfo||w.stateNode.implementation!==y.implementation?(w=Tv(y,j.mode,v),w.return=j,w):(w=n(w,y.children||[]),w.return=j,w)}function u(j,w,y,v,N){return w===null||w.tag!==7?(w=zc(y,j.mode,v,N),w.return=j,w):(w=n(w,y),w.return=j,w)}function m(j,w,y){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Av(""+w,j.mode,y),w.return=j,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ix:return y=Bp(w.type,w.key,w.props,null,j.mode,y),y.ref=zm(j,null,w),y.return=j,y;case Qd:return w=Tv(w,j.mode,y),w.return=j,w;case bo:var v=w._init;return m(j,v(w._payload),y)}if(ch(w)||Lm(w))return w=zc(w,j.mode,y,null),w.return=j,w;Ux(j,w)}return null}function x(j,w,y,v){var N=w!==null?w.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return N!==null?null:o(j,w,""+y,v);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ix:return y.key===N?c(j,w,y,v):null;case Qd:return y.key===N?d(j,w,y,v):null;case bo:return N=y._init,x(j,w,N(y._payload),v)}if(ch(y)||Lm(y))return N!==null?null:u(j,w,y,v,null);Ux(j,y)}return null}function h(j,w,y,v,N){if(typeof v=="string"&&v!==""||typeof v=="number")return j=j.get(y)||null,o(w,j,""+v,N);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ix:return j=j.get(v.key===null?y:v.key)||null,c(w,j,v,N);case Qd:return j=j.get(v.key===null?y:v.key)||null,d(w,j,v,N);case bo:var S=v._init;return h(j,w,y,S(v._payload),N)}if(ch(v)||Lm(v))return j=j.get(y)||null,u(w,j,v,N,null);Ux(w,v)}return null}function p(j,w,y,v){for(var N=null,S=null,k=w,C=w=0,P=null;k!==null&&C<y.length;C++){k.index>C?(P=k,k=null):P=k.sibling;var _=x(j,k,y[C],v);if(_===null){k===null&&(k=P);break}e&&k&&_.alternate===null&&r(j,k),w=i(_,w,C),S===null?N=_:S.sibling=_,S=_,k=P}if(C===y.length)return s(j,k),zr&&bc(j,C),N;if(k===null){for(;C<y.length;C++)k=m(j,y[C],v),k!==null&&(w=i(k,w,C),S===null?N=k:S.sibling=k,S=k);return zr&&bc(j,C),N}for(k=a(j,k);C<y.length;C++)P=h(k,j,C,y[C],v),P!==null&&(e&&P.alternate!==null&&k.delete(P.key===null?C:P.key),w=i(P,w,C),S===null?N=P:S.sibling=P,S=P);return e&&k.forEach(function(A){return r(j,A)}),zr&&bc(j,C),N}function f(j,w,y,v){var N=Lm(y);if(typeof N!="function")throw Error(tt(150));if(y=N.call(y),y==null)throw Error(tt(151));for(var S=N=null,k=w,C=w=0,P=null,_=y.next();k!==null&&!_.done;C++,_=y.next()){k.index>C?(P=k,k=null):P=k.sibling;var A=x(j,k,_.value,v);if(A===null){k===null&&(k=P);break}e&&k&&A.alternate===null&&r(j,k),w=i(A,w,C),S===null?N=A:S.sibling=A,S=A,k=P}if(_.done)return s(j,k),zr&&bc(j,C),N;if(k===null){for(;!_.done;C++,_=y.next())_=m(j,_.value,v),_!==null&&(w=i(_,w,C),S===null?N=_:S.sibling=_,S=_);return zr&&bc(j,C),N}for(k=a(j,k);!_.done;C++,_=y.next())_=h(k,j,C,_.value,v),_!==null&&(e&&_.alternate!==null&&k.delete(_.key===null?C:_.key),w=i(_,w,C),S===null?N=_:S.sibling=_,S=_);return e&&k.forEach(function(D){return r(j,D)}),zr&&bc(j,C),N}function b(j,w,y,v){if(typeof y=="object"&&y!==null&&y.type===Zd&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Ix:e:{for(var N=y.key,S=w;S!==null;){if(S.key===N){if(N=y.type,N===Zd){if(S.tag===7){s(j,S.sibling),w=n(S,y.props.children),w.return=j,j=w;break e}}else if(S.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===bo&&AS(N)===S.type){s(j,S.sibling),w=n(S,y.props),w.ref=zm(j,S,y),w.return=j,j=w;break e}s(j,S);break}else r(j,S);S=S.sibling}y.type===Zd?(w=zc(y.props.children,j.mode,v,y.key),w.return=j,j=w):(v=Bp(y.type,y.key,y.props,null,j.mode,v),v.ref=zm(j,w,y),v.return=j,j=v)}return l(j);case Qd:e:{for(S=y.key;w!==null;){if(w.key===S)if(w.tag===4&&w.stateNode.containerInfo===y.containerInfo&&w.stateNode.implementation===y.implementation){s(j,w.sibling),w=n(w,y.children||[]),w.return=j,j=w;break e}else{s(j,w);break}else r(j,w);w=w.sibling}w=Tv(y,j.mode,v),w.return=j,j=w}return l(j);case bo:return S=y._init,b(j,w,S(y._payload),v)}if(ch(y))return p(j,w,y,v);if(Lm(y))return f(j,w,y,v);Ux(j,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,w!==null&&w.tag===6?(s(j,w.sibling),w=n(w,y),w.return=j,j=w):(s(j,w),w=Av(y,j.mode,v),w.return=j,j=w),l(j)):s(j,w)}return b}var zu=I7(!0),_7=I7(!1),hf=lc(null),xf=null,lu=null,qw=null;function Kw(){qw=lu=xf=null}function Yw(e){var r=hf.current;Dr(hf),e._currentValue=r}function j2(e,r,s){for(;e!==null;){var a=e.alternate;if((e.childLanes&r)!==r?(e.childLanes|=r,a!==null&&(a.childLanes|=r)):a!==null&&(a.childLanes&r)!==r&&(a.childLanes|=r),e===s)break;e=e.return}}function Nu(e,r){xf=e,qw=lu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&r&&(Ha=!0),e.firstContext=null)}function ri(e){var r=e._currentValue;if(qw!==e)if(e={context:e,memoizedValue:r,next:null},lu===null){if(xf===null)throw Error(tt(308));lu=e,xf.dependencies={lanes:0,firstContext:e}}else lu=lu.next=e;return r}var Ec=null;function Xw(e){Ec===null?Ec=[e]:Ec.push(e)}function O7(e,r,s,a){var n=r.interleaved;return n===null?(s.next=s,Xw(r)):(s.next=n.next,n.next=s),r.interleaved=s,Dl(e,a)}function Dl(e,r){e.lanes|=r;var s=e.alternate;for(s!==null&&(s.lanes|=r),s=e,e=e.return;e!==null;)e.childLanes|=r,s=e.alternate,s!==null&&(s.childLanes|=r),s=e,e=e.return;return s.tag===3?s.stateNode:null}var vo=!1;function Jw(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function D7(e,r){e=e.updateQueue,r.updateQueue===e&&(r.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function bl(e,r){return{eventTime:e,lane:r,tag:0,payload:null,callback:null,next:null}}function Fo(e,r,s){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,sr&2){var n=a.pending;return n===null?r.next=r:(r.next=n.next,n.next=r),a.pending=r,Dl(e,s)}return n=a.interleaved,n===null?(r.next=r,Xw(a)):(r.next=n.next,n.next=r),a.interleaved=r,Dl(e,s)}function Op(e,r,s){if(r=r.updateQueue,r!==null&&(r=r.shared,(s&4194240)!==0)){var a=r.lanes;a&=e.pendingLanes,s|=a,r.lanes=s,Lw(e,s)}}function TS(e,r){var s=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,s===a)){var n=null,i=null;if(s=s.firstBaseUpdate,s!==null){do{var l={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};i===null?n=i=l:i=i.next=l,s=s.next}while(s!==null);i===null?n=i=r:i=i.next=r}else n=i=r;s={baseState:a.baseState,firstBaseUpdate:n,lastBaseUpdate:i,shared:a.shared,effects:a.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=r:e.next=r,s.lastBaseUpdate=r}function pf(e,r,s,a){var n=e.updateQueue;vo=!1;var i=n.firstBaseUpdate,l=n.lastBaseUpdate,o=n.shared.pending;if(o!==null){n.shared.pending=null;var c=o,d=c.next;c.next=null,l===null?i=d:l.next=d,l=c;var u=e.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==l&&(o===null?u.firstBaseUpdate=d:o.next=d,u.lastBaseUpdate=c))}if(i!==null){var m=n.baseState;l=0,u=d=c=null,o=i;do{var x=o.lane,h=o.eventTime;if((a&x)===x){u!==null&&(u=u.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,f=o;switch(x=r,h=s,f.tag){case 1:if(p=f.payload,typeof p=="function"){m=p.call(h,m,x);break e}m=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=f.payload,x=typeof p=="function"?p.call(h,m,x):p,x==null)break e;m=Yr({},m,x);break e;case 2:vo=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,x=n.effects,x===null?n.effects=[o]:x.push(o))}else h={eventTime:h,lane:x,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(d=u=h,c=m):u=u.next=h,l|=x;if(o=o.next,o===null){if(o=n.shared.pending,o===null)break;x=o,o=x.next,x.next=null,n.lastBaseUpdate=x,n.shared.pending=null}}while(!0);if(u===null&&(c=m),n.baseState=c,n.firstBaseUpdate=d,n.lastBaseUpdate=u,r=n.shared.interleaved,r!==null){n=r;do l|=n.lane,n=n.next;while(n!==r)}else i===null&&(n.shared.lanes=0);sd|=l,e.lanes=l,e.memoizedState=m}}function ES(e,r,s){if(e=r.effects,r.effects=null,e!==null)for(r=0;r<e.length;r++){var a=e[r],n=a.callback;if(n!==null){if(a.callback=null,a=s,typeof n!="function")throw Error(tt(191,n));n.call(a)}}}var F0={},Ki=lc(F0),Yh=lc(F0),Xh=lc(F0);function Ic(e){if(e===F0)throw Error(tt(174));return e}function Qw(e,r){switch(Cr(Xh,r),Cr(Yh,e),Cr(Ki,F0),e=r.nodeType,e){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:t2(null,"");break;default:e=e===8?r.parentNode:r,r=e.namespaceURI||null,e=e.tagName,r=t2(r,e)}Dr(Ki),Cr(Ki,r)}function Uu(){Dr(Ki),Dr(Yh),Dr(Xh)}function M7(e){Ic(Xh.current);var r=Ic(Ki.current),s=t2(r,e.type);r!==s&&(Cr(Yh,e),Cr(Ki,s))}function Zw(e){Yh.current===e&&(Dr(Ki),Dr(Yh))}var Wr=lc(0);function ff(e){for(var r=e;r!==null;){if(r.tag===13){var s=r.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var wv=[];function eN(){for(var e=0;e<wv.length;e++)wv[e]._workInProgressVersionPrimary=null;wv.length=0}var Dp=Xl.ReactCurrentDispatcher,Nv=Xl.ReactCurrentBatchConfig,rd=0,qr=null,Is=null,Us=null,gf=!1,jh=!1,Jh=0,bH=0;function ca(){throw Error(tt(321))}function tN(e,r){if(r===null)return!1;for(var s=0;s<r.length&&s<e.length;s++)if(!Ai(e[s],r[s]))return!1;return!0}function rN(e,r,s,a,n,i){if(rd=i,qr=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Dp.current=e===null||e.memoizedState===null?NH:SH,e=s(a,n),jh){i=0;do{if(jh=!1,Jh=0,25<=i)throw Error(tt(301));i+=1,Us=Is=null,r.updateQueue=null,Dp.current=kH,e=s(a,n)}while(jh)}if(Dp.current=yf,r=Is!==null&&Is.next!==null,rd=0,Us=Is=qr=null,gf=!1,r)throw Error(tt(300));return e}function sN(){var e=Jh!==0;return Jh=0,e}function Bi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Us===null?qr.memoizedState=Us=e:Us=Us.next=e,Us}function si(){if(Is===null){var e=qr.alternate;e=e!==null?e.memoizedState:null}else e=Is.next;var r=Us===null?qr.memoizedState:Us.next;if(r!==null)Us=r,Is=e;else{if(e===null)throw Error(tt(310));Is=e,e={memoizedState:Is.memoizedState,baseState:Is.baseState,baseQueue:Is.baseQueue,queue:Is.queue,next:null},Us===null?qr.memoizedState=Us=e:Us=Us.next=e}return Us}function Qh(e,r){return typeof r=="function"?r(e):r}function Sv(e){var r=si(),s=r.queue;if(s===null)throw Error(tt(311));s.lastRenderedReducer=e;var a=Is,n=a.baseQueue,i=s.pending;if(i!==null){if(n!==null){var l=n.next;n.next=i.next,i.next=l}a.baseQueue=n=i,s.pending=null}if(n!==null){i=n.next,a=a.baseState;var o=l=null,c=null,d=i;do{var u=d.lane;if((rd&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),a=d.hasEagerState?d.eagerState:e(a,d.action);else{var m={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(o=c=m,l=a):c=c.next=m,qr.lanes|=u,sd|=u}d=d.next}while(d!==null&&d!==i);c===null?l=a:c.next=o,Ai(a,r.memoizedState)||(Ha=!0),r.memoizedState=a,r.baseState=l,r.baseQueue=c,s.lastRenderedState=a}if(e=s.interleaved,e!==null){n=e;do i=n.lane,qr.lanes|=i,sd|=i,n=n.next;while(n!==e)}else n===null&&(s.lanes=0);return[r.memoizedState,s.dispatch]}function kv(e){var r=si(),s=r.queue;if(s===null)throw Error(tt(311));s.lastRenderedReducer=e;var a=s.dispatch,n=s.pending,i=r.memoizedState;if(n!==null){s.pending=null;var l=n=n.next;do i=e(i,l.action),l=l.next;while(l!==n);Ai(i,r.memoizedState)||(Ha=!0),r.memoizedState=i,r.baseQueue===null&&(r.baseState=i),s.lastRenderedState=i}return[i,a]}function L7(){}function F7(e,r){var s=qr,a=si(),n=r(),i=!Ai(a.memoizedState,n);if(i&&(a.memoizedState=n,Ha=!0),a=a.queue,aN($7.bind(null,s,a,e),[e]),a.getSnapshot!==r||i||Us!==null&&Us.memoizedState.tag&1){if(s.flags|=2048,Zh(9,B7.bind(null,s,a,n,r),void 0,null),qs===null)throw Error(tt(349));rd&30||R7(s,r,n)}return n}function R7(e,r,s){e.flags|=16384,e={getSnapshot:r,value:s},r=qr.updateQueue,r===null?(r={lastEffect:null,stores:null},qr.updateQueue=r,r.stores=[e]):(s=r.stores,s===null?r.stores=[e]:s.push(e))}function B7(e,r,s,a){r.value=s,r.getSnapshot=a,z7(r)&&U7(e)}function $7(e,r,s){return s(function(){z7(r)&&U7(e)})}function z7(e){var r=e.getSnapshot;e=e.value;try{var s=r();return!Ai(e,s)}catch{return!0}}function U7(e){var r=Dl(e,1);r!==null&&ki(r,e,1,-1)}function IS(e){var r=Bi();return typeof e=="function"&&(e=e()),r.memoizedState=r.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qh,lastRenderedState:e},r.queue=e,e=e.dispatch=wH.bind(null,qr,e),[r.memoizedState,e]}function Zh(e,r,s,a){return e={tag:e,create:r,destroy:s,deps:a,next:null},r=qr.updateQueue,r===null?(r={lastEffect:null,stores:null},qr.updateQueue=r,r.lastEffect=e.next=e):(s=r.lastEffect,s===null?r.lastEffect=e.next=e:(a=s.next,s.next=e,e.next=a,r.lastEffect=e)),e}function H7(){return si().memoizedState}function Mp(e,r,s,a){var n=Bi();qr.flags|=e,n.memoizedState=Zh(1|r,s,void 0,a===void 0?null:a)}function dy(e,r,s,a){var n=si();a=a===void 0?null:a;var i=void 0;if(Is!==null){var l=Is.memoizedState;if(i=l.destroy,a!==null&&tN(a,l.deps)){n.memoizedState=Zh(r,s,i,a);return}}qr.flags|=e,n.memoizedState=Zh(1|r,s,i,a)}function _S(e,r){return Mp(8390656,8,e,r)}function aN(e,r){return dy(2048,8,e,r)}function V7(e,r){return dy(4,2,e,r)}function W7(e,r){return dy(4,4,e,r)}function G7(e,r){if(typeof r=="function")return e=e(),r(e),function(){r(null)};if(r!=null)return e=e(),r.current=e,function(){r.current=null}}function q7(e,r,s){return s=s!=null?s.concat([e]):null,dy(4,4,G7.bind(null,r,e),s)}function nN(){}function K7(e,r){var s=si();r=r===void 0?null:r;var a=s.memoizedState;return a!==null&&r!==null&&tN(r,a[1])?a[0]:(s.memoizedState=[e,r],e)}function Y7(e,r){var s=si();r=r===void 0?null:r;var a=s.memoizedState;return a!==null&&r!==null&&tN(r,a[1])?a[0]:(e=e(),s.memoizedState=[e,r],e)}function X7(e,r,s){return rd&21?(Ai(s,r)||(s=t7(),qr.lanes|=s,sd|=s,e.baseState=!0),r):(e.baseState&&(e.baseState=!1,Ha=!0),e.memoizedState=s)}function vH(e,r){var s=pr;pr=s!==0&&4>s?s:4,e(!0);var a=Nv.transition;Nv.transition={};try{e(!1),r()}finally{pr=s,Nv.transition=a}}function J7(){return si().memoizedState}function jH(e,r,s){var a=Bo(e);if(s={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null},Q7(e))Z7(r,s);else if(s=O7(e,r,s,a),s!==null){var n=_a();ki(s,e,a,n),eI(s,r,a)}}function wH(e,r,s){var a=Bo(e),n={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null};if(Q7(e))Z7(r,n);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=r.lastRenderedReducer,i!==null))try{var l=r.lastRenderedState,o=i(l,s);if(n.hasEagerState=!0,n.eagerState=o,Ai(o,l)){var c=r.interleaved;c===null?(n.next=n,Xw(r)):(n.next=c.next,c.next=n),r.interleaved=n;return}}catch{}finally{}s=O7(e,r,n,a),s!==null&&(n=_a(),ki(s,e,a,n),eI(s,r,a))}}function Q7(e){var r=e.alternate;return e===qr||r!==null&&r===qr}function Z7(e,r){jh=gf=!0;var s=e.pending;s===null?r.next=r:(r.next=s.next,s.next=r),e.pending=r}function eI(e,r,s){if(s&4194240){var a=r.lanes;a&=e.pendingLanes,s|=a,r.lanes=s,Lw(e,s)}}var yf={readContext:ri,useCallback:ca,useContext:ca,useEffect:ca,useImperativeHandle:ca,useInsertionEffect:ca,useLayoutEffect:ca,useMemo:ca,useReducer:ca,useRef:ca,useState:ca,useDebugValue:ca,useDeferredValue:ca,useTransition:ca,useMutableSource:ca,useSyncExternalStore:ca,useId:ca,unstable_isNewReconciler:!1},NH={readContext:ri,useCallback:function(e,r){return Bi().memoizedState=[e,r===void 0?null:r],e},useContext:ri,useEffect:_S,useImperativeHandle:function(e,r,s){return s=s!=null?s.concat([e]):null,Mp(4194308,4,G7.bind(null,r,e),s)},useLayoutEffect:function(e,r){return Mp(4194308,4,e,r)},useInsertionEffect:function(e,r){return Mp(4,2,e,r)},useMemo:function(e,r){var s=Bi();return r=r===void 0?null:r,e=e(),s.memoizedState=[e,r],e},useReducer:function(e,r,s){var a=Bi();return r=s!==void 0?s(r):r,a.memoizedState=a.baseState=r,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},a.queue=e,e=e.dispatch=jH.bind(null,qr,e),[a.memoizedState,e]},useRef:function(e){var r=Bi();return e={current:e},r.memoizedState=e},useState:IS,useDebugValue:nN,useDeferredValue:function(e){return Bi().memoizedState=e},useTransition:function(){var e=IS(!1),r=e[0];return e=vH.bind(null,e[1]),Bi().memoizedState=e,[r,e]},useMutableSource:function(){},useSyncExternalStore:function(e,r,s){var a=qr,n=Bi();if(zr){if(s===void 0)throw Error(tt(407));s=s()}else{if(s=r(),qs===null)throw Error(tt(349));rd&30||R7(a,r,s)}n.memoizedState=s;var i={value:s,getSnapshot:r};return n.queue=i,_S($7.bind(null,a,i,e),[e]),a.flags|=2048,Zh(9,B7.bind(null,a,i,s,r),void 0,null),s},useId:function(){var e=Bi(),r=qs.identifierPrefix;if(zr){var s=pl,a=xl;s=(a&~(1<<32-Si(a)-1)).toString(32)+s,r=":"+r+"R"+s,s=Jh++,0<s&&(r+="H"+s.toString(32)),r+=":"}else s=bH++,r=":"+r+"r"+s.toString(32)+":";return e.memoizedState=r},unstable_isNewReconciler:!1},SH={readContext:ri,useCallback:K7,useContext:ri,useEffect:aN,useImperativeHandle:q7,useInsertionEffect:V7,useLayoutEffect:W7,useMemo:Y7,useReducer:Sv,useRef:H7,useState:function(){return Sv(Qh)},useDebugValue:nN,useDeferredValue:function(e){var r=si();return X7(r,Is.memoizedState,e)},useTransition:function(){var e=Sv(Qh)[0],r=si().memoizedState;return[e,r]},useMutableSource:L7,useSyncExternalStore:F7,useId:J7,unstable_isNewReconciler:!1},kH={readContext:ri,useCallback:K7,useContext:ri,useEffect:aN,useImperativeHandle:q7,useInsertionEffect:V7,useLayoutEffect:W7,useMemo:Y7,useReducer:kv,useRef:H7,useState:function(){return kv(Qh)},useDebugValue:nN,useDeferredValue:function(e){var r=si();return Is===null?r.memoizedState=e:X7(r,Is.memoizedState,e)},useTransition:function(){var e=kv(Qh)[0],r=si().memoizedState;return[e,r]},useMutableSource:L7,useSyncExternalStore:F7,useId:J7,unstable_isNewReconciler:!1};function fi(e,r){if(e&&e.defaultProps){r=Yr({},r),e=e.defaultProps;for(var s in e)r[s]===void 0&&(r[s]=e[s]);return r}return r}function w2(e,r,s,a){r=e.memoizedState,s=s(a,r),s=s==null?r:Yr({},r,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var uy={isMounted:function(e){return(e=e._reactInternals)?Sd(e)===e:!1},enqueueSetState:function(e,r,s){e=e._reactInternals;var a=_a(),n=Bo(e),i=bl(a,n);i.payload=r,s!=null&&(i.callback=s),r=Fo(e,i,n),r!==null&&(ki(r,e,n,a),Op(r,e,n))},enqueueReplaceState:function(e,r,s){e=e._reactInternals;var a=_a(),n=Bo(e),i=bl(a,n);i.tag=1,i.payload=r,s!=null&&(i.callback=s),r=Fo(e,i,n),r!==null&&(ki(r,e,n,a),Op(r,e,n))},enqueueForceUpdate:function(e,r){e=e._reactInternals;var s=_a(),a=Bo(e),n=bl(s,a);n.tag=2,r!=null&&(n.callback=r),r=Fo(e,n,a),r!==null&&(ki(r,e,a,s),Op(r,e,a))}};function OS(e,r,s,a,n,i,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,i,l):r.prototype&&r.prototype.isPureReactComponent?!Wh(s,a)||!Wh(n,i):!0}function tI(e,r,s){var a=!1,n=Yo,i=r.contextType;return typeof i=="object"&&i!==null?i=ri(i):(n=Ga(r)?ed:ja.current,a=r.contextTypes,i=(a=a!=null)?Bu(e,n):Yo),r=new r(s,i),e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=uy,e.stateNode=r,r._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=i),r}function DS(e,r,s,a){e=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(s,a),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(s,a),r.state!==e&&uy.enqueueReplaceState(r,r.state,null)}function N2(e,r,s,a){var n=e.stateNode;n.props=s,n.state=e.memoizedState,n.refs={},Jw(e);var i=r.contextType;typeof i=="object"&&i!==null?n.context=ri(i):(i=Ga(r)?ed:ja.current,n.context=Bu(e,i)),n.state=e.memoizedState,i=r.getDerivedStateFromProps,typeof i=="function"&&(w2(e,r,i,s),n.state=e.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof n.getSnapshotBeforeUpdate=="function"||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(r=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),r!==n.state&&uy.enqueueReplaceState(n,n.state,null),pf(e,s,n,a),n.state=e.memoizedState),typeof n.componentDidMount=="function"&&(e.flags|=4194308)}function Hu(e,r){try{var s="",a=r;do s+=Zz(a),a=a.return;while(a);var n=s}catch(i){n=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:r,stack:n,digest:null}}function Cv(e,r,s){return{value:e,source:null,stack:s??null,digest:r??null}}function S2(e,r){try{console.error(r.value)}catch(s){setTimeout(function(){throw s})}}var CH=typeof WeakMap=="function"?WeakMap:Map;function rI(e,r,s){s=bl(-1,s),s.tag=3,s.payload={element:null};var a=r.value;return s.callback=function(){vf||(vf=!0,D2=a),S2(e,r)},s}function sI(e,r,s){s=bl(-1,s),s.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var n=r.value;s.payload=function(){return a(n)},s.callback=function(){S2(e,r)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(s.callback=function(){S2(e,r),typeof a!="function"&&(Ro===null?Ro=new Set([this]):Ro.add(this));var l=r.stack;this.componentDidCatch(r.value,{componentStack:l!==null?l:""})}),s}function MS(e,r,s){var a=e.pingCache;if(a===null){a=e.pingCache=new CH;var n=new Set;a.set(r,n)}else n=a.get(r),n===void 0&&(n=new Set,a.set(r,n));n.has(s)||(n.add(s),e=$H.bind(null,e,r,s),r.then(e,e))}function LS(e){do{var r;if((r=e.tag===13)&&(r=e.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return e;e=e.return}while(e!==null);return null}function FS(e,r,s,a,n){return e.mode&1?(e.flags|=65536,e.lanes=n,e):(e===r?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(r=bl(-1,1),r.tag=2,Fo(s,r,1))),s.lanes|=1),e)}var PH=Xl.ReactCurrentOwner,Ha=!1;function Ca(e,r,s,a){r.child=e===null?_7(r,null,s,a):zu(r,e.child,s,a)}function RS(e,r,s,a,n){s=s.render;var i=r.ref;return Nu(r,n),a=rN(e,r,s,a,i,n),s=sN(),e!==null&&!Ha?(r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~n,Ml(e,r,n)):(zr&&s&&Vw(r),r.flags|=1,Ca(e,r,a,n),r.child)}function BS(e,r,s,a,n){if(e===null){var i=s.type;return typeof i=="function"&&!hN(i)&&i.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(r.tag=15,r.type=i,aI(e,r,i,a,n)):(e=Bp(s.type,null,a,r,r.mode,n),e.ref=r.ref,e.return=r,r.child=e)}if(i=e.child,!(e.lanes&n)){var l=i.memoizedProps;if(s=s.compare,s=s!==null?s:Wh,s(l,a)&&e.ref===r.ref)return Ml(e,r,n)}return r.flags|=1,e=$o(i,a),e.ref=r.ref,e.return=r,r.child=e}function aI(e,r,s,a,n){if(e!==null){var i=e.memoizedProps;if(Wh(i,a)&&e.ref===r.ref)if(Ha=!1,r.pendingProps=a=i,(e.lanes&n)!==0)e.flags&131072&&(Ha=!0);else return r.lanes=e.lanes,Ml(e,r,n)}return k2(e,r,s,a,n)}function nI(e,r,s){var a=r.pendingProps,n=a.children,i=e!==null?e.memoizedState:null;if(a.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},Cr(cu,dn),dn|=s;else{if(!(s&1073741824))return e=i!==null?i.baseLanes|s:s,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:e,cachePool:null,transitions:null},r.updateQueue=null,Cr(cu,dn),dn|=e,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=i!==null?i.baseLanes:s,Cr(cu,dn),dn|=a}else i!==null?(a=i.baseLanes|s,r.memoizedState=null):a=s,Cr(cu,dn),dn|=a;return Ca(e,r,n,s),r.child}function iI(e,r){var s=r.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(r.flags|=512,r.flags|=2097152)}function k2(e,r,s,a,n){var i=Ga(s)?ed:ja.current;return i=Bu(r,i),Nu(r,n),s=rN(e,r,s,a,i,n),a=sN(),e!==null&&!Ha?(r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~n,Ml(e,r,n)):(zr&&a&&Vw(r),r.flags|=1,Ca(e,r,s,n),r.child)}function $S(e,r,s,a,n){if(Ga(s)){var i=!0;df(r)}else i=!1;if(Nu(r,n),r.stateNode===null)Lp(e,r),tI(r,s,a),N2(r,s,a,n),a=!0;else if(e===null){var l=r.stateNode,o=r.memoizedProps;l.props=o;var c=l.context,d=s.contextType;typeof d=="object"&&d!==null?d=ri(d):(d=Ga(s)?ed:ja.current,d=Bu(r,d));var u=s.getDerivedStateFromProps,m=typeof u=="function"||typeof l.getSnapshotBeforeUpdate=="function";m||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==a||c!==d)&&DS(r,l,a,d),vo=!1;var x=r.memoizedState;l.state=x,pf(r,a,l,n),c=r.memoizedState,o!==a||x!==c||Wa.current||vo?(typeof u=="function"&&(w2(r,s,u,a),c=r.memoizedState),(o=vo||OS(r,s,o,a,x,c,d))?(m||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(r.flags|=4194308)):(typeof l.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=a,r.memoizedState=c),l.props=a,l.state=c,l.context=d,a=o):(typeof l.componentDidMount=="function"&&(r.flags|=4194308),a=!1)}else{l=r.stateNode,D7(e,r),o=r.memoizedProps,d=r.type===r.elementType?o:fi(r.type,o),l.props=d,m=r.pendingProps,x=l.context,c=s.contextType,typeof c=="object"&&c!==null?c=ri(c):(c=Ga(s)?ed:ja.current,c=Bu(r,c));var h=s.getDerivedStateFromProps;(u=typeof h=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==m||x!==c)&&DS(r,l,a,c),vo=!1,x=r.memoizedState,l.state=x,pf(r,a,l,n);var p=r.memoizedState;o!==m||x!==p||Wa.current||vo?(typeof h=="function"&&(w2(r,s,h,a),p=r.memoizedState),(d=vo||OS(r,s,d,a,x,p,c)||!1)?(u||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(a,p,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(a,p,c)),typeof l.componentDidUpdate=="function"&&(r.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&x===e.memoizedState||(r.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&x===e.memoizedState||(r.flags|=1024),r.memoizedProps=a,r.memoizedState=p),l.props=a,l.state=p,l.context=c,a=d):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&x===e.memoizedState||(r.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&x===e.memoizedState||(r.flags|=1024),a=!1)}return C2(e,r,s,a,i,n)}function C2(e,r,s,a,n,i){iI(e,r);var l=(r.flags&128)!==0;if(!a&&!l)return n&&kS(r,s,!1),Ml(e,r,i);a=r.stateNode,PH.current=r;var o=l&&typeof s.getDerivedStateFromError!="function"?null:a.render();return r.flags|=1,e!==null&&l?(r.child=zu(r,e.child,null,i),r.child=zu(r,null,o,i)):Ca(e,r,o,i),r.memoizedState=a.state,n&&kS(r,s,!0),r.child}function lI(e){var r=e.stateNode;r.pendingContext?SS(e,r.pendingContext,r.pendingContext!==r.context):r.context&&SS(e,r.context,!1),Qw(e,r.containerInfo)}function zS(e,r,s,a,n){return $u(),Gw(n),r.flags|=256,Ca(e,r,s,a),r.child}var P2={dehydrated:null,treeContext:null,retryLane:0};function A2(e){return{baseLanes:e,cachePool:null,transitions:null}}function oI(e,r,s){var a=r.pendingProps,n=Wr.current,i=!1,l=(r.flags&128)!==0,o;if((o=l)||(o=e!==null&&e.memoizedState===null?!1:(n&2)!==0),o?(i=!0,r.flags&=-129):(e===null||e.memoizedState!==null)&&(n|=1),Cr(Wr,n&1),e===null)return v2(r),e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(r.mode&1?e.data==="$!"?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(l=a.children,e=a.fallback,i?(a=r.mode,i=r.child,l={mode:"hidden",children:l},!(a&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=xy(l,a,0,null),e=zc(e,a,s,null),i.return=r,e.return=r,i.sibling=e,r.child=i,r.child.memoizedState=A2(s),r.memoizedState=P2,e):iN(r,l));if(n=e.memoizedState,n!==null&&(o=n.dehydrated,o!==null))return AH(e,r,l,a,o,n,s);if(i){i=a.fallback,l=r.mode,n=e.child,o=n.sibling;var c={mode:"hidden",children:a.children};return!(l&1)&&r.child!==n?(a=r.child,a.childLanes=0,a.pendingProps=c,r.deletions=null):(a=$o(n,c),a.subtreeFlags=n.subtreeFlags&14680064),o!==null?i=$o(o,i):(i=zc(i,l,s,null),i.flags|=2),i.return=r,a.return=r,a.sibling=i,r.child=a,a=i,i=r.child,l=e.child.memoizedState,l=l===null?A2(s):{baseLanes:l.baseLanes|s,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~s,r.memoizedState=P2,a}return i=e.child,e=i.sibling,a=$o(i,{mode:"visible",children:a.children}),!(r.mode&1)&&(a.lanes=s),a.return=r,a.sibling=null,e!==null&&(s=r.deletions,s===null?(r.deletions=[e],r.flags|=16):s.push(e)),r.child=a,r.memoizedState=null,a}function iN(e,r){return r=xy({mode:"visible",children:r},e.mode,0,null),r.return=e,e.child=r}function Hx(e,r,s,a){return a!==null&&Gw(a),zu(r,e.child,null,s),e=iN(r,r.pendingProps.children),e.flags|=2,r.memoizedState=null,e}function AH(e,r,s,a,n,i,l){if(s)return r.flags&256?(r.flags&=-257,a=Cv(Error(tt(422))),Hx(e,r,l,a)):r.memoizedState!==null?(r.child=e.child,r.flags|=128,null):(i=a.fallback,n=r.mode,a=xy({mode:"visible",children:a.children},n,0,null),i=zc(i,n,l,null),i.flags|=2,a.return=r,i.return=r,a.sibling=i,r.child=a,r.mode&1&&zu(r,e.child,null,l),r.child.memoizedState=A2(l),r.memoizedState=P2,i);if(!(r.mode&1))return Hx(e,r,l,null);if(n.data==="$!"){if(a=n.nextSibling&&n.nextSibling.dataset,a)var o=a.dgst;return a=o,i=Error(tt(419)),a=Cv(i,a,void 0),Hx(e,r,l,a)}if(o=(l&e.childLanes)!==0,Ha||o){if(a=qs,a!==null){switch(l&-l){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}n=n&(a.suspendedLanes|l)?0:n,n!==0&&n!==i.retryLane&&(i.retryLane=n,Dl(e,n),ki(a,e,n,-1))}return mN(),a=Cv(Error(tt(421))),Hx(e,r,l,a)}return n.data==="$?"?(r.flags|=128,r.child=e.child,r=zH.bind(null,e),n._reactRetry=r,null):(e=i.treeContext,gn=Lo(n.nextSibling),yn=r,zr=!0,yi=null,e!==null&&(Wn[Gn++]=xl,Wn[Gn++]=pl,Wn[Gn++]=td,xl=e.id,pl=e.overflow,td=r),r=iN(r,a.children),r.flags|=4096,r)}function US(e,r,s){e.lanes|=r;var a=e.alternate;a!==null&&(a.lanes|=r),j2(e.return,r,s)}function Pv(e,r,s,a,n){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:a,tail:s,tailMode:n}:(i.isBackwards=r,i.rendering=null,i.renderingStartTime=0,i.last=a,i.tail=s,i.tailMode=n)}function cI(e,r,s){var a=r.pendingProps,n=a.revealOrder,i=a.tail;if(Ca(e,r,a.children,s),a=Wr.current,a&2)a=a&1|2,r.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=r.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&US(e,s,r);else if(e.tag===19)US(e,s,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break e;for(;e.sibling===null;){if(e.return===null||e.return===r)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(Cr(Wr,a),!(r.mode&1))r.memoizedState=null;else switch(n){case"forwards":for(s=r.child,n=null;s!==null;)e=s.alternate,e!==null&&ff(e)===null&&(n=s),s=s.sibling;s=n,s===null?(n=r.child,r.child=null):(n=s.sibling,s.sibling=null),Pv(r,!1,n,s,i);break;case"backwards":for(s=null,n=r.child,r.child=null;n!==null;){if(e=n.alternate,e!==null&&ff(e)===null){r.child=n;break}e=n.sibling,n.sibling=s,s=n,n=e}Pv(r,!0,s,null,i);break;case"together":Pv(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Lp(e,r){!(r.mode&1)&&e!==null&&(e.alternate=null,r.alternate=null,r.flags|=2)}function Ml(e,r,s){if(e!==null&&(r.dependencies=e.dependencies),sd|=r.lanes,!(s&r.childLanes))return null;if(e!==null&&r.child!==e.child)throw Error(tt(153));if(r.child!==null){for(e=r.child,s=$o(e,e.pendingProps),r.child=s,s.return=r;e.sibling!==null;)e=e.sibling,s=s.sibling=$o(e,e.pendingProps),s.return=r;s.sibling=null}return r.child}function TH(e,r,s){switch(r.tag){case 3:lI(r),$u();break;case 5:M7(r);break;case 1:Ga(r.type)&&df(r);break;case 4:Qw(r,r.stateNode.containerInfo);break;case 10:var a=r.type._context,n=r.memoizedProps.value;Cr(hf,a._currentValue),a._currentValue=n;break;case 13:if(a=r.memoizedState,a!==null)return a.dehydrated!==null?(Cr(Wr,Wr.current&1),r.flags|=128,null):s&r.child.childLanes?oI(e,r,s):(Cr(Wr,Wr.current&1),e=Ml(e,r,s),e!==null?e.sibling:null);Cr(Wr,Wr.current&1);break;case 19:if(a=(s&r.childLanes)!==0,e.flags&128){if(a)return cI(e,r,s);r.flags|=128}if(n=r.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),Cr(Wr,Wr.current),a)break;return null;case 22:case 23:return r.lanes=0,nI(e,r,s)}return Ml(e,r,s)}var dI,T2,uI,mI;dI=function(e,r){for(var s=r.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};T2=function(){};uI=function(e,r,s,a){var n=e.memoizedProps;if(n!==a){e=r.stateNode,Ic(Ki.current);var i=null;switch(s){case"input":n=J1(e,n),a=J1(e,a),i=[];break;case"select":n=Yr({},n,{value:void 0}),a=Yr({},a,{value:void 0}),i=[];break;case"textarea":n=e2(e,n),a=e2(e,a),i=[];break;default:typeof n.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=of)}r2(s,a);var l;s=null;for(d in n)if(!a.hasOwnProperty(d)&&n.hasOwnProperty(d)&&n[d]!=null)if(d==="style"){var o=n[d];for(l in o)o.hasOwnProperty(l)&&(s||(s={}),s[l]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Rh.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in a){var c=a[d];if(o=n!=null?n[d]:void 0,a.hasOwnProperty(d)&&c!==o&&(c!=null||o!=null))if(d==="style")if(o){for(l in o)!o.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(s||(s={}),s[l]="");for(l in c)c.hasOwnProperty(l)&&o[l]!==c[l]&&(s||(s={}),s[l]=c[l])}else s||(i||(i=[]),i.push(d,s)),s=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Rh.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Ir("scroll",e),i||o===c||(i=[])):(i=i||[]).push(d,c))}s&&(i=i||[]).push("style",s);var d=i;(r.updateQueue=d)&&(r.flags|=4)}};mI=function(e,r,s,a){s!==a&&(r.flags|=4)};function Um(e,r){if(!zr)switch(e.tailMode){case"hidden":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?r||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function da(e){var r=e.alternate!==null&&e.alternate.child===e.child,s=0,a=0;if(r)for(var n=e.child;n!==null;)s|=n.lanes|n.childLanes,a|=n.subtreeFlags&14680064,a|=n.flags&14680064,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)s|=n.lanes|n.childLanes,a|=n.subtreeFlags,a|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=a,e.childLanes=s,r}function EH(e,r,s){var a=r.pendingProps;switch(Ww(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return da(r),null;case 1:return Ga(r.type)&&cf(),da(r),null;case 3:return a=r.stateNode,Uu(),Dr(Wa),Dr(ja),eN(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(zx(r)?r.flags|=4:e===null||e.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,yi!==null&&(F2(yi),yi=null))),T2(e,r),da(r),null;case 5:Zw(r);var n=Ic(Xh.current);if(s=r.type,e!==null&&r.stateNode!=null)uI(e,r,s,a,n),e.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!a){if(r.stateNode===null)throw Error(tt(166));return da(r),null}if(e=Ic(Ki.current),zx(r)){a=r.stateNode,s=r.type;var i=r.memoizedProps;switch(a[zi]=r,a[Kh]=i,e=(r.mode&1)!==0,s){case"dialog":Ir("cancel",a),Ir("close",a);break;case"iframe":case"object":case"embed":Ir("load",a);break;case"video":case"audio":for(n=0;n<uh.length;n++)Ir(uh[n],a);break;case"source":Ir("error",a);break;case"img":case"image":case"link":Ir("error",a),Ir("load",a);break;case"details":Ir("toggle",a);break;case"input":J6(a,i),Ir("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!i.multiple},Ir("invalid",a);break;case"textarea":Z6(a,i),Ir("invalid",a)}r2(s,i),n=null;for(var l in i)if(i.hasOwnProperty(l)){var o=i[l];l==="children"?typeof o=="string"?a.textContent!==o&&(i.suppressHydrationWarning!==!0&&$x(a.textContent,o,e),n=["children",o]):typeof o=="number"&&a.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&$x(a.textContent,o,e),n=["children",""+o]):Rh.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&Ir("scroll",a)}switch(s){case"input":_x(a),Q6(a,i,!0);break;case"textarea":_x(a),eS(a);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(a.onclick=of)}a=n,r.updateQueue=a,a!==null&&(r.flags|=4)}else{l=n.nodeType===9?n:n.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=$E(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=l.createElement(s,{is:a.is}):(e=l.createElement(s),s==="select"&&(l=e,a.multiple?l.multiple=!0:a.size&&(l.size=a.size))):e=l.createElementNS(e,s),e[zi]=r,e[Kh]=a,dI(e,r,!1,!1),r.stateNode=e;e:{switch(l=s2(s,a),s){case"dialog":Ir("cancel",e),Ir("close",e),n=a;break;case"iframe":case"object":case"embed":Ir("load",e),n=a;break;case"video":case"audio":for(n=0;n<uh.length;n++)Ir(uh[n],e);n=a;break;case"source":Ir("error",e),n=a;break;case"img":case"image":case"link":Ir("error",e),Ir("load",e),n=a;break;case"details":Ir("toggle",e),n=a;break;case"input":J6(e,a),n=J1(e,a),Ir("invalid",e);break;case"option":n=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},n=Yr({},a,{value:void 0}),Ir("invalid",e);break;case"textarea":Z6(e,a),n=e2(e,a),Ir("invalid",e);break;default:n=a}r2(s,n),o=n;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?HE(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&zE(e,c)):i==="children"?typeof c=="string"?(s!=="textarea"||c!=="")&&Bh(e,c):typeof c=="number"&&Bh(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Rh.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ir("scroll",e):c!=null&&Ew(e,i,c,l))}switch(s){case"input":_x(e),Q6(e,a,!1);break;case"textarea":_x(e),eS(e);break;case"option":a.value!=null&&e.setAttribute("value",""+Ko(a.value));break;case"select":e.multiple=!!a.multiple,i=a.value,i!=null?bu(e,!!a.multiple,i,!1):a.defaultValue!=null&&bu(e,!!a.multiple,a.defaultValue,!0);break;default:typeof n.onClick=="function"&&(e.onclick=of)}switch(s){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return da(r),null;case 6:if(e&&r.stateNode!=null)mI(e,r,e.memoizedProps,a);else{if(typeof a!="string"&&r.stateNode===null)throw Error(tt(166));if(s=Ic(Xh.current),Ic(Ki.current),zx(r)){if(a=r.stateNode,s=r.memoizedProps,a[zi]=r,(i=a.nodeValue!==s)&&(e=yn,e!==null))switch(e.tag){case 3:$x(a.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&$x(a.nodeValue,s,(e.mode&1)!==0)}i&&(r.flags|=4)}else a=(s.nodeType===9?s:s.ownerDocument).createTextNode(a),a[zi]=r,r.stateNode=a}return da(r),null;case 13:if(Dr(Wr),a=r.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(zr&&gn!==null&&r.mode&1&&!(r.flags&128))E7(),$u(),r.flags|=98560,i=!1;else if(i=zx(r),a!==null&&a.dehydrated!==null){if(e===null){if(!i)throw Error(tt(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(tt(317));i[zi]=r}else $u(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;da(r),i=!1}else yi!==null&&(F2(yi),yi=null),i=!0;if(!i)return r.flags&65536?r:null}return r.flags&128?(r.lanes=s,r):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(r.child.flags|=8192,r.mode&1&&(e===null||Wr.current&1?Ms===0&&(Ms=3):mN())),r.updateQueue!==null&&(r.flags|=4),da(r),null);case 4:return Uu(),T2(e,r),e===null&&Gh(r.stateNode.containerInfo),da(r),null;case 10:return Yw(r.type._context),da(r),null;case 17:return Ga(r.type)&&cf(),da(r),null;case 19:if(Dr(Wr),i=r.memoizedState,i===null)return da(r),null;if(a=(r.flags&128)!==0,l=i.rendering,l===null)if(a)Um(i,!1);else{if(Ms!==0||e!==null&&e.flags&128)for(e=r.child;e!==null;){if(l=ff(e),l!==null){for(r.flags|=128,Um(i,!1),a=l.updateQueue,a!==null&&(r.updateQueue=a,r.flags|=4),r.subtreeFlags=0,a=s,s=r.child;s!==null;)i=s,e=a,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return Cr(Wr,Wr.current&1|2),r.child}e=e.sibling}i.tail!==null&&us()>Vu&&(r.flags|=128,a=!0,Um(i,!1),r.lanes=4194304)}else{if(!a)if(e=ff(l),e!==null){if(r.flags|=128,a=!0,s=e.updateQueue,s!==null&&(r.updateQueue=s,r.flags|=4),Um(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!zr)return da(r),null}else 2*us()-i.renderingStartTime>Vu&&s!==1073741824&&(r.flags|=128,a=!0,Um(i,!1),r.lanes=4194304);i.isBackwards?(l.sibling=r.child,r.child=l):(s=i.last,s!==null?s.sibling=l:r.child=l,i.last=l)}return i.tail!==null?(r=i.tail,i.rendering=r,i.tail=r.sibling,i.renderingStartTime=us(),r.sibling=null,s=Wr.current,Cr(Wr,a?s&1|2:s&1),r):(da(r),null);case 22:case 23:return uN(),a=r.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(r.flags|=8192),a&&r.mode&1?dn&1073741824&&(da(r),r.subtreeFlags&6&&(r.flags|=8192)):da(r),null;case 24:return null;case 25:return null}throw Error(tt(156,r.tag))}function IH(e,r){switch(Ww(r),r.tag){case 1:return Ga(r.type)&&cf(),e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 3:return Uu(),Dr(Wa),Dr(ja),eN(),e=r.flags,e&65536&&!(e&128)?(r.flags=e&-65537|128,r):null;case 5:return Zw(r),null;case 13:if(Dr(Wr),e=r.memoizedState,e!==null&&e.dehydrated!==null){if(r.alternate===null)throw Error(tt(340));$u()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 19:return Dr(Wr),null;case 4:return Uu(),null;case 10:return Yw(r.type._context),null;case 22:case 23:return uN(),null;case 24:return null;default:return null}}var Vx=!1,ha=!1,_H=typeof WeakSet=="function"?WeakSet:Set,wt=null;function ou(e,r){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(a){rs(e,r,a)}else s.current=null}function E2(e,r,s){try{s()}catch(a){rs(e,r,a)}}var HS=!1;function OH(e,r){if(h2=af,e=g7(),Hw(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var a=s.getSelection&&s.getSelection();if(a&&a.rangeCount!==0){s=a.anchorNode;var n=a.anchorOffset,i=a.focusNode;a=a.focusOffset;try{s.nodeType,i.nodeType}catch{s=null;break e}var l=0,o=-1,c=-1,d=0,u=0,m=e,x=null;t:for(;;){for(var h;m!==s||n!==0&&m.nodeType!==3||(o=l+n),m!==i||a!==0&&m.nodeType!==3||(c=l+a),m.nodeType===3&&(l+=m.nodeValue.length),(h=m.firstChild)!==null;)x=m,m=h;for(;;){if(m===e)break t;if(x===s&&++d===n&&(o=l),x===i&&++u===a&&(c=l),(h=m.nextSibling)!==null)break;m=x,x=m.parentNode}m=h}s=o===-1||c===-1?null:{start:o,end:c}}else s=null}s=s||{start:0,end:0}}else s=null;for(x2={focusedElem:e,selectionRange:s},af=!1,wt=r;wt!==null;)if(r=wt,e=r.child,(r.subtreeFlags&1028)!==0&&e!==null)e.return=r,wt=e;else for(;wt!==null;){r=wt;try{var p=r.alternate;if(r.flags&1024)switch(r.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var f=p.memoizedProps,b=p.memoizedState,j=r.stateNode,w=j.getSnapshotBeforeUpdate(r.elementType===r.type?f:fi(r.type,f),b);j.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var y=r.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(tt(163))}}catch(v){rs(r,r.return,v)}if(e=r.sibling,e!==null){e.return=r.return,wt=e;break}wt=r.return}return p=HS,HS=!1,p}function wh(e,r,s){var a=r.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var n=a=a.next;do{if((n.tag&e)===e){var i=n.destroy;n.destroy=void 0,i!==void 0&&E2(r,s,i)}n=n.next}while(n!==a)}}function my(e,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var a=s.create;s.destroy=a()}s=s.next}while(s!==r)}}function I2(e){var r=e.ref;if(r!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof r=="function"?r(e):r.current=e}}function hI(e){var r=e.alternate;r!==null&&(e.alternate=null,hI(r)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(r=e.stateNode,r!==null&&(delete r[zi],delete r[Kh],delete r[g2],delete r[pH],delete r[fH])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function xI(e){return e.tag===5||e.tag===3||e.tag===4}function VS(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||xI(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function _2(e,r,s){var a=e.tag;if(a===5||a===6)e=e.stateNode,r?s.nodeType===8?s.parentNode.insertBefore(e,r):s.insertBefore(e,r):(s.nodeType===8?(r=s.parentNode,r.insertBefore(e,s)):(r=s,r.appendChild(e)),s=s._reactRootContainer,s!=null||r.onclick!==null||(r.onclick=of));else if(a!==4&&(e=e.child,e!==null))for(_2(e,r,s),e=e.sibling;e!==null;)_2(e,r,s),e=e.sibling}function O2(e,r,s){var a=e.tag;if(a===5||a===6)e=e.stateNode,r?s.insertBefore(e,r):s.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(O2(e,r,s),e=e.sibling;e!==null;)O2(e,r,s),e=e.sibling}var Zs=null,gi=!1;function uo(e,r,s){for(s=s.child;s!==null;)pI(e,r,s),s=s.sibling}function pI(e,r,s){if(qi&&typeof qi.onCommitFiberUnmount=="function")try{qi.onCommitFiberUnmount(ay,s)}catch{}switch(s.tag){case 5:ha||ou(s,r);case 6:var a=Zs,n=gi;Zs=null,uo(e,r,s),Zs=a,gi=n,Zs!==null&&(gi?(e=Zs,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):Zs.removeChild(s.stateNode));break;case 18:Zs!==null&&(gi?(e=Zs,s=s.stateNode,e.nodeType===8?vv(e.parentNode,s):e.nodeType===1&&vv(e,s),Hh(e)):vv(Zs,s.stateNode));break;case 4:a=Zs,n=gi,Zs=s.stateNode.containerInfo,gi=!0,uo(e,r,s),Zs=a,gi=n;break;case 0:case 11:case 14:case 15:if(!ha&&(a=s.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){n=a=a.next;do{var i=n,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&E2(s,r,l),n=n.next}while(n!==a)}uo(e,r,s);break;case 1:if(!ha&&(ou(s,r),a=s.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=s.memoizedProps,a.state=s.memoizedState,a.componentWillUnmount()}catch(o){rs(s,r,o)}uo(e,r,s);break;case 21:uo(e,r,s);break;case 22:s.mode&1?(ha=(a=ha)||s.memoizedState!==null,uo(e,r,s),ha=a):uo(e,r,s);break;default:uo(e,r,s)}}function WS(e){var r=e.updateQueue;if(r!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new _H),r.forEach(function(a){var n=UH.bind(null,e,a);s.has(a)||(s.add(a),a.then(n,n))})}}function hi(e,r){var s=r.deletions;if(s!==null)for(var a=0;a<s.length;a++){var n=s[a];try{var i=e,l=r,o=l;e:for(;o!==null;){switch(o.tag){case 5:Zs=o.stateNode,gi=!1;break e;case 3:Zs=o.stateNode.containerInfo,gi=!0;break e;case 4:Zs=o.stateNode.containerInfo,gi=!0;break e}o=o.return}if(Zs===null)throw Error(tt(160));pI(i,l,n),Zs=null,gi=!1;var c=n.alternate;c!==null&&(c.return=null),n.return=null}catch(d){rs(n,r,d)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)fI(r,e),r=r.sibling}function fI(e,r){var s=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(hi(r,e),Di(e),a&4){try{wh(3,e,e.return),my(3,e)}catch(f){rs(e,e.return,f)}try{wh(5,e,e.return)}catch(f){rs(e,e.return,f)}}break;case 1:hi(r,e),Di(e),a&512&&s!==null&&ou(s,s.return);break;case 5:if(hi(r,e),Di(e),a&512&&s!==null&&ou(s,s.return),e.flags&32){var n=e.stateNode;try{Bh(n,"")}catch(f){rs(e,e.return,f)}}if(a&4&&(n=e.stateNode,n!=null)){var i=e.memoizedProps,l=s!==null?s.memoizedProps:i,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&RE(n,i),s2(o,l);var d=s2(o,i);for(l=0;l<c.length;l+=2){var u=c[l],m=c[l+1];u==="style"?HE(n,m):u==="dangerouslySetInnerHTML"?zE(n,m):u==="children"?Bh(n,m):Ew(n,u,m,d)}switch(o){case"input":Q1(n,i);break;case"textarea":BE(n,i);break;case"select":var x=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!i.multiple;var h=i.value;h!=null?bu(n,!!i.multiple,h,!1):x!==!!i.multiple&&(i.defaultValue!=null?bu(n,!!i.multiple,i.defaultValue,!0):bu(n,!!i.multiple,i.multiple?[]:"",!1))}n[Kh]=i}catch(f){rs(e,e.return,f)}}break;case 6:if(hi(r,e),Di(e),a&4){if(e.stateNode===null)throw Error(tt(162));n=e.stateNode,i=e.memoizedProps;try{n.nodeValue=i}catch(f){rs(e,e.return,f)}}break;case 3:if(hi(r,e),Di(e),a&4&&s!==null&&s.memoizedState.isDehydrated)try{Hh(r.containerInfo)}catch(f){rs(e,e.return,f)}break;case 4:hi(r,e),Di(e);break;case 13:hi(r,e),Di(e),n=e.child,n.flags&8192&&(i=n.memoizedState!==null,n.stateNode.isHidden=i,!i||n.alternate!==null&&n.alternate.memoizedState!==null||(cN=us())),a&4&&WS(e);break;case 22:if(u=s!==null&&s.memoizedState!==null,e.mode&1?(ha=(d=ha)||u,hi(r,e),ha=d):hi(r,e),Di(e),a&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(wt=e,u=e.child;u!==null;){for(m=wt=u;wt!==null;){switch(x=wt,h=x.child,x.tag){case 0:case 11:case 14:case 15:wh(4,x,x.return);break;case 1:ou(x,x.return);var p=x.stateNode;if(typeof p.componentWillUnmount=="function"){a=x,s=x.return;try{r=a,p.props=r.memoizedProps,p.state=r.memoizedState,p.componentWillUnmount()}catch(f){rs(a,s,f)}}break;case 5:ou(x,x.return);break;case 22:if(x.memoizedState!==null){qS(m);continue}}h!==null?(h.return=x,wt=h):qS(m)}u=u.sibling}e:for(u=null,m=e;;){if(m.tag===5){if(u===null){u=m;try{n=m.stateNode,d?(i=n.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=m.stateNode,c=m.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=UE("display",l))}catch(f){rs(e,e.return,f)}}}else if(m.tag===6){if(u===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(f){rs(e,e.return,f)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;u===m&&(u=null),m=m.return}u===m&&(u=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:hi(r,e),Di(e),a&4&&WS(e);break;case 21:break;default:hi(r,e),Di(e)}}function Di(e){var r=e.flags;if(r&2){try{e:{for(var s=e.return;s!==null;){if(xI(s)){var a=s;break e}s=s.return}throw Error(tt(160))}switch(a.tag){case 5:var n=a.stateNode;a.flags&32&&(Bh(n,""),a.flags&=-33);var i=VS(e);O2(e,i,n);break;case 3:case 4:var l=a.stateNode.containerInfo,o=VS(e);_2(e,o,l);break;default:throw Error(tt(161))}}catch(c){rs(e,e.return,c)}e.flags&=-3}r&4096&&(e.flags&=-4097)}function DH(e,r,s){wt=e,gI(e)}function gI(e,r,s){for(var a=(e.mode&1)!==0;wt!==null;){var n=wt,i=n.child;if(n.tag===22&&a){var l=n.memoizedState!==null||Vx;if(!l){var o=n.alternate,c=o!==null&&o.memoizedState!==null||ha;o=Vx;var d=ha;if(Vx=l,(ha=c)&&!d)for(wt=n;wt!==null;)l=wt,c=l.child,l.tag===22&&l.memoizedState!==null?KS(n):c!==null?(c.return=l,wt=c):KS(n);for(;i!==null;)wt=i,gI(i),i=i.sibling;wt=n,Vx=o,ha=d}GS(e)}else n.subtreeFlags&8772&&i!==null?(i.return=n,wt=i):GS(e)}}function GS(e){for(;wt!==null;){var r=wt;if(r.flags&8772){var s=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:ha||my(5,r);break;case 1:var a=r.stateNode;if(r.flags&4&&!ha)if(s===null)a.componentDidMount();else{var n=r.elementType===r.type?s.memoizedProps:fi(r.type,s.memoizedProps);a.componentDidUpdate(n,s.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var i=r.updateQueue;i!==null&&ES(r,i,a);break;case 3:var l=r.updateQueue;if(l!==null){if(s=null,r.child!==null)switch(r.child.tag){case 5:s=r.child.stateNode;break;case 1:s=r.child.stateNode}ES(r,l,s)}break;case 5:var o=r.stateNode;if(s===null&&r.flags&4){s=o;var c=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&s.focus();break;case"img":c.src&&(s.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var d=r.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var m=u.dehydrated;m!==null&&Hh(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(tt(163))}ha||r.flags&512&&I2(r)}catch(x){rs(r,r.return,x)}}if(r===e){wt=null;break}if(s=r.sibling,s!==null){s.return=r.return,wt=s;break}wt=r.return}}function qS(e){for(;wt!==null;){var r=wt;if(r===e){wt=null;break}var s=r.sibling;if(s!==null){s.return=r.return,wt=s;break}wt=r.return}}function KS(e){for(;wt!==null;){var r=wt;try{switch(r.tag){case 0:case 11:case 15:var s=r.return;try{my(4,r)}catch(c){rs(r,s,c)}break;case 1:var a=r.stateNode;if(typeof a.componentDidMount=="function"){var n=r.return;try{a.componentDidMount()}catch(c){rs(r,n,c)}}var i=r.return;try{I2(r)}catch(c){rs(r,i,c)}break;case 5:var l=r.return;try{I2(r)}catch(c){rs(r,l,c)}}}catch(c){rs(r,r.return,c)}if(r===e){wt=null;break}var o=r.sibling;if(o!==null){o.return=r.return,wt=o;break}wt=r.return}}var MH=Math.ceil,bf=Xl.ReactCurrentDispatcher,lN=Xl.ReactCurrentOwner,Zn=Xl.ReactCurrentBatchConfig,sr=0,qs=null,Ns=null,sa=0,dn=0,cu=lc(0),Ms=0,e0=null,sd=0,hy=0,oN=0,Nh=null,za=null,cN=0,Vu=1/0,cl=null,vf=!1,D2=null,Ro=null,Wx=!1,Ao=null,jf=0,Sh=0,M2=null,Fp=-1,Rp=0;function _a(){return sr&6?us():Fp!==-1?Fp:Fp=us()}function Bo(e){return e.mode&1?sr&2&&sa!==0?sa&-sa:yH.transition!==null?(Rp===0&&(Rp=t7()),Rp):(e=pr,e!==0||(e=window.event,e=e===void 0?16:o7(e.type)),e):1}function ki(e,r,s,a){if(50<Sh)throw Sh=0,M2=null,Error(tt(185));D0(e,s,a),(!(sr&2)||e!==qs)&&(e===qs&&(!(sr&2)&&(hy|=s),Ms===4&&ko(e,sa)),qa(e,a),s===1&&sr===0&&!(r.mode&1)&&(Vu=us()+500,cy&&oc()))}function qa(e,r){var s=e.callbackNode;yU(e,r);var a=sf(e,e===qs?sa:0);if(a===0)s!==null&&sS(s),e.callbackNode=null,e.callbackPriority=0;else if(r=a&-a,e.callbackPriority!==r){if(s!=null&&sS(s),r===1)e.tag===0?gH(YS.bind(null,e)):P7(YS.bind(null,e)),hH(function(){!(sr&6)&&oc()}),s=null;else{switch(r7(a)){case 1:s=Mw;break;case 4:s=ZE;break;case 16:s=rf;break;case 536870912:s=e7;break;default:s=rf}s=kI(s,yI.bind(null,e))}e.callbackPriority=r,e.callbackNode=s}}function yI(e,r){if(Fp=-1,Rp=0,sr&6)throw Error(tt(327));var s=e.callbackNode;if(Su()&&e.callbackNode!==s)return null;var a=sf(e,e===qs?sa:0);if(a===0)return null;if(a&30||a&e.expiredLanes||r)r=wf(e,a);else{r=a;var n=sr;sr|=2;var i=vI();(qs!==e||sa!==r)&&(cl=null,Vu=us()+500,$c(e,r));do try{RH();break}catch(o){bI(e,o)}while(!0);Kw(),bf.current=i,sr=n,Ns!==null?r=0:(qs=null,sa=0,r=Ms)}if(r!==0){if(r===2&&(n=o2(e),n!==0&&(a=n,r=L2(e,n))),r===1)throw s=e0,$c(e,0),ko(e,a),qa(e,us()),s;if(r===6)ko(e,a);else{if(n=e.current.alternate,!(a&30)&&!LH(n)&&(r=wf(e,a),r===2&&(i=o2(e),i!==0&&(a=i,r=L2(e,i))),r===1))throw s=e0,$c(e,0),ko(e,a),qa(e,us()),s;switch(e.finishedWork=n,e.finishedLanes=a,r){case 0:case 1:throw Error(tt(345));case 2:vc(e,za,cl);break;case 3:if(ko(e,a),(a&130023424)===a&&(r=cN+500-us(),10<r)){if(sf(e,0)!==0)break;if(n=e.suspendedLanes,(n&a)!==a){_a(),e.pingedLanes|=e.suspendedLanes&n;break}e.timeoutHandle=f2(vc.bind(null,e,za,cl),r);break}vc(e,za,cl);break;case 4:if(ko(e,a),(a&4194240)===a)break;for(r=e.eventTimes,n=-1;0<a;){var l=31-Si(a);i=1<<l,l=r[l],l>n&&(n=l),a&=~i}if(a=n,a=us()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*MH(a/1960))-a,10<a){e.timeoutHandle=f2(vc.bind(null,e,za,cl),a);break}vc(e,za,cl);break;case 5:vc(e,za,cl);break;default:throw Error(tt(329))}}}return qa(e,us()),e.callbackNode===s?yI.bind(null,e):null}function L2(e,r){var s=Nh;return e.current.memoizedState.isDehydrated&&($c(e,r).flags|=256),e=wf(e,r),e!==2&&(r=za,za=s,r!==null&&F2(r)),e}function F2(e){za===null?za=e:za.push.apply(za,e)}function LH(e){for(var r=e;;){if(r.flags&16384){var s=r.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var a=0;a<s.length;a++){var n=s[a],i=n.getSnapshot;n=n.value;try{if(!Ai(i(),n))return!1}catch{return!1}}}if(s=r.child,r.subtreeFlags&16384&&s!==null)s.return=r,r=s;else{if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ko(e,r){for(r&=~oN,r&=~hy,e.suspendedLanes|=r,e.pingedLanes&=~r,e=e.expirationTimes;0<r;){var s=31-Si(r),a=1<<s;e[s]=-1,r&=~a}}function YS(e){if(sr&6)throw Error(tt(327));Su();var r=sf(e,0);if(!(r&1))return qa(e,us()),null;var s=wf(e,r);if(e.tag!==0&&s===2){var a=o2(e);a!==0&&(r=a,s=L2(e,a))}if(s===1)throw s=e0,$c(e,0),ko(e,r),qa(e,us()),s;if(s===6)throw Error(tt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=r,vc(e,za,cl),qa(e,us()),null}function dN(e,r){var s=sr;sr|=1;try{return e(r)}finally{sr=s,sr===0&&(Vu=us()+500,cy&&oc())}}function ad(e){Ao!==null&&Ao.tag===0&&!(sr&6)&&Su();var r=sr;sr|=1;var s=Zn.transition,a=pr;try{if(Zn.transition=null,pr=1,e)return e()}finally{pr=a,Zn.transition=s,sr=r,!(sr&6)&&oc()}}function uN(){dn=cu.current,Dr(cu)}function $c(e,r){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,mH(s)),Ns!==null)for(s=Ns.return;s!==null;){var a=s;switch(Ww(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&cf();break;case 3:Uu(),Dr(Wa),Dr(ja),eN();break;case 5:Zw(a);break;case 4:Uu();break;case 13:Dr(Wr);break;case 19:Dr(Wr);break;case 10:Yw(a.type._context);break;case 22:case 23:uN()}s=s.return}if(qs=e,Ns=e=$o(e.current,null),sa=dn=r,Ms=0,e0=null,oN=hy=sd=0,za=Nh=null,Ec!==null){for(r=0;r<Ec.length;r++)if(s=Ec[r],a=s.interleaved,a!==null){s.interleaved=null;var n=a.next,i=s.pending;if(i!==null){var l=i.next;i.next=n,a.next=l}s.pending=a}Ec=null}return e}function bI(e,r){do{var s=Ns;try{if(Kw(),Dp.current=yf,gf){for(var a=qr.memoizedState;a!==null;){var n=a.queue;n!==null&&(n.pending=null),a=a.next}gf=!1}if(rd=0,Us=Is=qr=null,jh=!1,Jh=0,lN.current=null,s===null||s.return===null){Ms=1,e0=r,Ns=null;break}e:{var i=e,l=s.return,o=s,c=r;if(r=sa,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=o,m=u.tag;if(!(u.mode&1)&&(m===0||m===11||m===15)){var x=u.alternate;x?(u.updateQueue=x.updateQueue,u.memoizedState=x.memoizedState,u.lanes=x.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=LS(l);if(h!==null){h.flags&=-257,FS(h,l,o,i,r),h.mode&1&&MS(i,d,r),r=h,c=d;var p=r.updateQueue;if(p===null){var f=new Set;f.add(c),r.updateQueue=f}else p.add(c);break e}else{if(!(r&1)){MS(i,d,r),mN();break e}c=Error(tt(426))}}else if(zr&&o.mode&1){var b=LS(l);if(b!==null){!(b.flags&65536)&&(b.flags|=256),FS(b,l,o,i,r),Gw(Hu(c,o));break e}}i=c=Hu(c,o),Ms!==4&&(Ms=2),Nh===null?Nh=[i]:Nh.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,r&=-r,i.lanes|=r;var j=rI(i,c,r);TS(i,j);break e;case 1:o=c;var w=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ro===null||!Ro.has(y)))){i.flags|=65536,r&=-r,i.lanes|=r;var v=sI(i,o,r);TS(i,v);break e}}i=i.return}while(i!==null)}wI(s)}catch(N){r=N,Ns===s&&s!==null&&(Ns=s=s.return);continue}break}while(!0)}function vI(){var e=bf.current;return bf.current=yf,e===null?yf:e}function mN(){(Ms===0||Ms===3||Ms===2)&&(Ms=4),qs===null||!(sd&268435455)&&!(hy&268435455)||ko(qs,sa)}function wf(e,r){var s=sr;sr|=2;var a=vI();(qs!==e||sa!==r)&&(cl=null,$c(e,r));do try{FH();break}catch(n){bI(e,n)}while(!0);if(Kw(),sr=s,bf.current=a,Ns!==null)throw Error(tt(261));return qs=null,sa=0,Ms}function FH(){for(;Ns!==null;)jI(Ns)}function RH(){for(;Ns!==null&&!cU();)jI(Ns)}function jI(e){var r=SI(e.alternate,e,dn);e.memoizedProps=e.pendingProps,r===null?wI(e):Ns=r,lN.current=null}function wI(e){var r=e;do{var s=r.alternate;if(e=r.return,r.flags&32768){if(s=IH(s,r),s!==null){s.flags&=32767,Ns=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ms=6,Ns=null;return}}else if(s=EH(s,r,dn),s!==null){Ns=s;return}if(r=r.sibling,r!==null){Ns=r;return}Ns=r=e}while(r!==null);Ms===0&&(Ms=5)}function vc(e,r,s){var a=pr,n=Zn.transition;try{Zn.transition=null,pr=1,BH(e,r,s,a)}finally{Zn.transition=n,pr=a}return null}function BH(e,r,s,a){do Su();while(Ao!==null);if(sr&6)throw Error(tt(327));s=e.finishedWork;var n=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(tt(177));e.callbackNode=null,e.callbackPriority=0;var i=s.lanes|s.childLanes;if(bU(e,i),e===qs&&(Ns=qs=null,sa=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||Wx||(Wx=!0,kI(rf,function(){return Su(),null})),i=(s.flags&15990)!==0,s.subtreeFlags&15990||i){i=Zn.transition,Zn.transition=null;var l=pr;pr=1;var o=sr;sr|=4,lN.current=null,OH(e,s),fI(s,e),nH(x2),af=!!h2,x2=h2=null,e.current=s,DH(s),dU(),sr=o,pr=l,Zn.transition=i}else e.current=s;if(Wx&&(Wx=!1,Ao=e,jf=n),i=e.pendingLanes,i===0&&(Ro=null),hU(s.stateNode),qa(e,us()),r!==null)for(a=e.onRecoverableError,s=0;s<r.length;s++)n=r[s],a(n.value,{componentStack:n.stack,digest:n.digest});if(vf)throw vf=!1,e=D2,D2=null,e;return jf&1&&e.tag!==0&&Su(),i=e.pendingLanes,i&1?e===M2?Sh++:(Sh=0,M2=e):Sh=0,oc(),null}function Su(){if(Ao!==null){var e=r7(jf),r=Zn.transition,s=pr;try{if(Zn.transition=null,pr=16>e?16:e,Ao===null)var a=!1;else{if(e=Ao,Ao=null,jf=0,sr&6)throw Error(tt(331));var n=sr;for(sr|=4,wt=e.current;wt!==null;){var i=wt,l=i.child;if(wt.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var d=o[c];for(wt=d;wt!==null;){var u=wt;switch(u.tag){case 0:case 11:case 15:wh(8,u,i)}var m=u.child;if(m!==null)m.return=u,wt=m;else for(;wt!==null;){u=wt;var x=u.sibling,h=u.return;if(hI(u),u===d){wt=null;break}if(x!==null){x.return=h,wt=x;break}wt=h}}}var p=i.alternate;if(p!==null){var f=p.child;if(f!==null){p.child=null;do{var b=f.sibling;f.sibling=null,f=b}while(f!==null)}}wt=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,wt=l;else e:for(;wt!==null;){if(i=wt,i.flags&2048)switch(i.tag){case 0:case 11:case 15:wh(9,i,i.return)}var j=i.sibling;if(j!==null){j.return=i.return,wt=j;break e}wt=i.return}}var w=e.current;for(wt=w;wt!==null;){l=wt;var y=l.child;if(l.subtreeFlags&2064&&y!==null)y.return=l,wt=y;else e:for(l=w;wt!==null;){if(o=wt,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:my(9,o)}}catch(N){rs(o,o.return,N)}if(o===l){wt=null;break e}var v=o.sibling;if(v!==null){v.return=o.return,wt=v;break e}wt=o.return}}if(sr=n,oc(),qi&&typeof qi.onPostCommitFiberRoot=="function")try{qi.onPostCommitFiberRoot(ay,e)}catch{}a=!0}return a}finally{pr=s,Zn.transition=r}}return!1}function XS(e,r,s){r=Hu(s,r),r=rI(e,r,1),e=Fo(e,r,1),r=_a(),e!==null&&(D0(e,1,r),qa(e,r))}function rs(e,r,s){if(e.tag===3)XS(e,e,s);else for(;r!==null;){if(r.tag===3){XS(r,e,s);break}else if(r.tag===1){var a=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Ro===null||!Ro.has(a))){e=Hu(s,e),e=sI(r,e,1),r=Fo(r,e,1),e=_a(),r!==null&&(D0(r,1,e),qa(r,e));break}}r=r.return}}function $H(e,r,s){var a=e.pingCache;a!==null&&a.delete(r),r=_a(),e.pingedLanes|=e.suspendedLanes&s,qs===e&&(sa&s)===s&&(Ms===4||Ms===3&&(sa&130023424)===sa&&500>us()-cN?$c(e,0):oN|=s),qa(e,r)}function NI(e,r){r===0&&(e.mode&1?(r=Mx,Mx<<=1,!(Mx&130023424)&&(Mx=4194304)):r=1);var s=_a();e=Dl(e,r),e!==null&&(D0(e,r,s),qa(e,s))}function zH(e){var r=e.memoizedState,s=0;r!==null&&(s=r.retryLane),NI(e,s)}function UH(e,r){var s=0;switch(e.tag){case 13:var a=e.stateNode,n=e.memoizedState;n!==null&&(s=n.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(tt(314))}a!==null&&a.delete(r),NI(e,s)}var SI;SI=function(e,r,s){if(e!==null)if(e.memoizedProps!==r.pendingProps||Wa.current)Ha=!0;else{if(!(e.lanes&s)&&!(r.flags&128))return Ha=!1,TH(e,r,s);Ha=!!(e.flags&131072)}else Ha=!1,zr&&r.flags&1048576&&A7(r,mf,r.index);switch(r.lanes=0,r.tag){case 2:var a=r.type;Lp(e,r),e=r.pendingProps;var n=Bu(r,ja.current);Nu(r,s),n=rN(null,r,a,e,n,s);var i=sN();return r.flags|=1,typeof n=="object"&&n!==null&&typeof n.render=="function"&&n.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Ga(a)?(i=!0,df(r)):i=!1,r.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,Jw(r),n.updater=uy,r.stateNode=n,n._reactInternals=r,N2(r,a,e,s),r=C2(null,r,a,!0,i,s)):(r.tag=0,zr&&i&&Vw(r),Ca(null,r,n,s),r=r.child),r;case 16:a=r.elementType;e:{switch(Lp(e,r),e=r.pendingProps,n=a._init,a=n(a._payload),r.type=a,n=r.tag=VH(a),e=fi(a,e),n){case 0:r=k2(null,r,a,e,s);break e;case 1:r=$S(null,r,a,e,s);break e;case 11:r=RS(null,r,a,e,s);break e;case 14:r=BS(null,r,a,fi(a.type,e),s);break e}throw Error(tt(306,a,""))}return r;case 0:return a=r.type,n=r.pendingProps,n=r.elementType===a?n:fi(a,n),k2(e,r,a,n,s);case 1:return a=r.type,n=r.pendingProps,n=r.elementType===a?n:fi(a,n),$S(e,r,a,n,s);case 3:e:{if(lI(r),e===null)throw Error(tt(387));a=r.pendingProps,i=r.memoizedState,n=i.element,D7(e,r),pf(r,a,null,s);var l=r.memoizedState;if(a=l.element,i.isDehydrated)if(i={element:a,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},r.updateQueue.baseState=i,r.memoizedState=i,r.flags&256){n=Hu(Error(tt(423)),r),r=zS(e,r,a,s,n);break e}else if(a!==n){n=Hu(Error(tt(424)),r),r=zS(e,r,a,s,n);break e}else for(gn=Lo(r.stateNode.containerInfo.firstChild),yn=r,zr=!0,yi=null,s=_7(r,null,a,s),r.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if($u(),a===n){r=Ml(e,r,s);break e}Ca(e,r,a,s)}r=r.child}return r;case 5:return M7(r),e===null&&v2(r),a=r.type,n=r.pendingProps,i=e!==null?e.memoizedProps:null,l=n.children,p2(a,n)?l=null:i!==null&&p2(a,i)&&(r.flags|=32),iI(e,r),Ca(e,r,l,s),r.child;case 6:return e===null&&v2(r),null;case 13:return oI(e,r,s);case 4:return Qw(r,r.stateNode.containerInfo),a=r.pendingProps,e===null?r.child=zu(r,null,a,s):Ca(e,r,a,s),r.child;case 11:return a=r.type,n=r.pendingProps,n=r.elementType===a?n:fi(a,n),RS(e,r,a,n,s);case 7:return Ca(e,r,r.pendingProps,s),r.child;case 8:return Ca(e,r,r.pendingProps.children,s),r.child;case 12:return Ca(e,r,r.pendingProps.children,s),r.child;case 10:e:{if(a=r.type._context,n=r.pendingProps,i=r.memoizedProps,l=n.value,Cr(hf,a._currentValue),a._currentValue=l,i!==null)if(Ai(i.value,l)){if(i.children===n.children&&!Wa.current){r=Ml(e,r,s);break e}}else for(i=r.child,i!==null&&(i.return=r);i!==null;){var o=i.dependencies;if(o!==null){l=i.child;for(var c=o.firstContext;c!==null;){if(c.context===a){if(i.tag===1){c=bl(-1,s&-s),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=s,c=i.alternate,c!==null&&(c.lanes|=s),j2(i.return,s,r),o.lanes|=s;break}c=c.next}}else if(i.tag===10)l=i.type===r.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(tt(341));l.lanes|=s,o=l.alternate,o!==null&&(o.lanes|=s),j2(l,s,r),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===r){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}Ca(e,r,n.children,s),r=r.child}return r;case 9:return n=r.type,a=r.pendingProps.children,Nu(r,s),n=ri(n),a=a(n),r.flags|=1,Ca(e,r,a,s),r.child;case 14:return a=r.type,n=fi(a,r.pendingProps),n=fi(a.type,n),BS(e,r,a,n,s);case 15:return aI(e,r,r.type,r.pendingProps,s);case 17:return a=r.type,n=r.pendingProps,n=r.elementType===a?n:fi(a,n),Lp(e,r),r.tag=1,Ga(a)?(e=!0,df(r)):e=!1,Nu(r,s),tI(r,a,n),N2(r,a,n,s),C2(null,r,a,!0,e,s);case 19:return cI(e,r,s);case 22:return nI(e,r,s)}throw Error(tt(156,r.tag))};function kI(e,r){return QE(e,r)}function HH(e,r,s,a){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kn(e,r,s,a){return new HH(e,r,s,a)}function hN(e){return e=e.prototype,!(!e||!e.isReactComponent)}function VH(e){if(typeof e=="function")return hN(e)?1:0;if(e!=null){if(e=e.$$typeof,e===_w)return 11;if(e===Ow)return 14}return 2}function $o(e,r){var s=e.alternate;return s===null?(s=Kn(e.tag,r,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=r,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,r=e.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function Bp(e,r,s,a,n,i){var l=2;if(a=e,typeof e=="function")hN(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case Zd:return zc(s.children,n,i,r);case Iw:l=8,n|=8;break;case q1:return e=Kn(12,s,r,n|2),e.elementType=q1,e.lanes=i,e;case K1:return e=Kn(13,s,r,n),e.elementType=K1,e.lanes=i,e;case Y1:return e=Kn(19,s,r,n),e.elementType=Y1,e.lanes=i,e;case ME:return xy(s,n,i,r);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case OE:l=10;break e;case DE:l=9;break e;case _w:l=11;break e;case Ow:l=14;break e;case bo:l=16,a=null;break e}throw Error(tt(130,e==null?e:typeof e,""))}return r=Kn(l,s,r,n),r.elementType=e,r.type=a,r.lanes=i,r}function zc(e,r,s,a){return e=Kn(7,e,a,r),e.lanes=s,e}function xy(e,r,s,a){return e=Kn(22,e,a,r),e.elementType=ME,e.lanes=s,e.stateNode={isHidden:!1},e}function Av(e,r,s){return e=Kn(6,e,null,r),e.lanes=s,e}function Tv(e,r,s){return r=Kn(4,e.children!==null?e.children:[],e.key,r),r.lanes=s,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}function WH(e,r,s,a,n){this.tag=r,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=cv(0),this.expirationTimes=cv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cv(0),this.identifierPrefix=a,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function xN(e,r,s,a,n,i,l,o,c){return e=new WH(e,r,s,o,c),r===1?(r=1,i===!0&&(r|=8)):r=0,i=Kn(3,null,null,r),e.current=i,i.stateNode=e,i.memoizedState={element:a,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Jw(i),e}function GH(e,r,s){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Qd,key:a==null?null:""+a,children:e,containerInfo:r,implementation:s}}function CI(e){if(!e)return Yo;e=e._reactInternals;e:{if(Sd(e)!==e||e.tag!==1)throw Error(tt(170));var r=e;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Ga(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(tt(171))}if(e.tag===1){var s=e.type;if(Ga(s))return C7(e,s,r)}return r}function PI(e,r,s,a,n,i,l,o,c){return e=xN(s,a,!0,e,n,i,l,o,c),e.context=CI(null),s=e.current,a=_a(),n=Bo(s),i=bl(a,n),i.callback=r??null,Fo(s,i,n),e.current.lanes=n,D0(e,n,a),qa(e,a),e}function py(e,r,s,a){var n=r.current,i=_a(),l=Bo(n);return s=CI(s),r.context===null?r.context=s:r.pendingContext=s,r=bl(i,l),r.payload={element:e},a=a===void 0?null:a,a!==null&&(r.callback=a),e=Fo(n,r,l),e!==null&&(ki(e,n,l,i),Op(e,n,l)),l}function Nf(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function JS(e,r){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<r?s:r}}function pN(e,r){JS(e,r),(e=e.alternate)&&JS(e,r)}function qH(){return null}var AI=typeof reportError=="function"?reportError:function(e){console.error(e)};function fN(e){this._internalRoot=e}fy.prototype.render=fN.prototype.render=function(e){var r=this._internalRoot;if(r===null)throw Error(tt(409));py(e,r,null,null)};fy.prototype.unmount=fN.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var r=e.containerInfo;ad(function(){py(null,e,null,null)}),r[Ol]=null}};function fy(e){this._internalRoot=e}fy.prototype.unstable_scheduleHydration=function(e){if(e){var r=n7();e={blockedOn:null,target:e,priority:r};for(var s=0;s<So.length&&r!==0&&r<So[s].priority;s++);So.splice(s,0,e),s===0&&l7(e)}};function gN(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function gy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function QS(){}function KH(e,r,s,a,n){if(n){if(typeof a=="function"){var i=a;a=function(){var d=Nf(l);i.call(d)}}var l=PI(r,a,e,0,null,!1,!1,"",QS);return e._reactRootContainer=l,e[Ol]=l.current,Gh(e.nodeType===8?e.parentNode:e),ad(),l}for(;n=e.lastChild;)e.removeChild(n);if(typeof a=="function"){var o=a;a=function(){var d=Nf(c);o.call(d)}}var c=xN(e,0,!1,null,null,!1,!1,"",QS);return e._reactRootContainer=c,e[Ol]=c.current,Gh(e.nodeType===8?e.parentNode:e),ad(function(){py(r,c,s,a)}),c}function yy(e,r,s,a,n){var i=s._reactRootContainer;if(i){var l=i;if(typeof n=="function"){var o=n;n=function(){var c=Nf(l);o.call(c)}}py(r,l,e,n)}else l=KH(s,r,e,n,a);return Nf(l)}s7=function(e){switch(e.tag){case 3:var r=e.stateNode;if(r.current.memoizedState.isDehydrated){var s=dh(r.pendingLanes);s!==0&&(Lw(r,s|1),qa(r,us()),!(sr&6)&&(Vu=us()+500,oc()))}break;case 13:ad(function(){var a=Dl(e,1);if(a!==null){var n=_a();ki(a,e,1,n)}}),pN(e,1)}};Fw=function(e){if(e.tag===13){var r=Dl(e,134217728);if(r!==null){var s=_a();ki(r,e,134217728,s)}pN(e,134217728)}};a7=function(e){if(e.tag===13){var r=Bo(e),s=Dl(e,r);if(s!==null){var a=_a();ki(s,e,r,a)}pN(e,r)}};n7=function(){return pr};i7=function(e,r){var s=pr;try{return pr=e,r()}finally{pr=s}};n2=function(e,r,s){switch(r){case"input":if(Q1(e,s),r=s.name,s.type==="radio"&&r!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<s.length;r++){var a=s[r];if(a!==e&&a.form===e.form){var n=oy(a);if(!n)throw Error(tt(90));FE(a),Q1(a,n)}}}break;case"textarea":BE(e,s);break;case"select":r=s.value,r!=null&&bu(e,!!s.multiple,r,!1)}};GE=dN;qE=ad;var YH={usingClientEntryPoint:!1,Events:[L0,su,oy,VE,WE,dN]},Hm={findFiberByHostInstance:Tc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},XH={bundleType:Hm.bundleType,version:Hm.version,rendererPackageName:Hm.rendererPackageName,rendererConfig:Hm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xl.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=XE(e),e===null?null:e.stateNode},findFiberByHostInstance:Hm.findFiberByHostInstance||qH,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gx.isDisabled&&Gx.supportsFiber)try{ay=Gx.inject(XH),qi=Gx}catch{}}An.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YH;An.createPortal=function(e,r){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gN(r))throw Error(tt(200));return GH(e,r,null,s)};An.createRoot=function(e,r){if(!gN(e))throw Error(tt(299));var s=!1,a="",n=AI;return r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(n=r.onRecoverableError)),r=xN(e,1,!1,null,null,s,!1,a,n),e[Ol]=r.current,Gh(e.nodeType===8?e.parentNode:e),new fN(r)};An.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var r=e._reactInternals;if(r===void 0)throw typeof e.render=="function"?Error(tt(188)):(e=Object.keys(e).join(","),Error(tt(268,e)));return e=XE(r),e=e===null?null:e.stateNode,e};An.flushSync=function(e){return ad(e)};An.hydrate=function(e,r,s){if(!gy(r))throw Error(tt(200));return yy(null,e,r,!0,s)};An.hydrateRoot=function(e,r,s){if(!gN(e))throw Error(tt(405));var a=s!=null&&s.hydratedSources||null,n=!1,i="",l=AI;if(s!=null&&(s.unstable_strictMode===!0&&(n=!0),s.identifierPrefix!==void 0&&(i=s.identifierPrefix),s.onRecoverableError!==void 0&&(l=s.onRecoverableError)),r=PI(r,null,e,1,s??null,n,!1,i,l),e[Ol]=r.current,Gh(e),a)for(e=0;e<a.length;e++)s=a[e],n=s._getVersion,n=n(s._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[s,n]:r.mutableSourceEagerHydrationData.push(s,n);return new fy(r)};An.render=function(e,r,s){if(!gy(r))throw Error(tt(200));return yy(null,e,r,!1,s)};An.unmountComponentAtNode=function(e){if(!gy(e))throw Error(tt(40));return e._reactRootContainer?(ad(function(){yy(null,null,e,!1,function(){e._reactRootContainer=null,e[Ol]=null})}),!0):!1};An.unstable_batchedUpdates=dN;An.unstable_renderSubtreeIntoContainer=function(e,r,s,a){if(!gy(s))throw Error(tt(200));if(e==null||e._reactInternals===void 0)throw Error(tt(38));return yy(e,r,s,!1,a)};An.version="18.3.1-next-f1338f8080-20240426";function TI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(TI)}catch(e){console.error(e)}}TI(),TE.exports=An;var by=TE.exports,ZS=by;W1.createRoot=ZS.createRoot,W1.hydrateRoot=ZS.hydrateRoot;var JH=typeof Element<"u",QH=typeof Map=="function",ZH=typeof Set=="function",eV=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function $p(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var s,a,n;if(Array.isArray(e)){if(s=e.length,s!=r.length)return!1;for(a=s;a--!==0;)if(!$p(e[a],r[a]))return!1;return!0}var i;if(QH&&e instanceof Map&&r instanceof Map){if(e.size!==r.size)return!1;for(i=e.entries();!(a=i.next()).done;)if(!r.has(a.value[0]))return!1;for(i=e.entries();!(a=i.next()).done;)if(!$p(a.value[1],r.get(a.value[0])))return!1;return!0}if(ZH&&e instanceof Set&&r instanceof Set){if(e.size!==r.size)return!1;for(i=e.entries();!(a=i.next()).done;)if(!r.has(a.value[0]))return!1;return!0}if(eV&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(r)){if(s=e.length,s!=r.length)return!1;for(a=s;a--!==0;)if(e[a]!==r[a])return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof r.valueOf=="function")return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof r.toString=="function")return e.toString()===r.toString();if(n=Object.keys(e),s=n.length,s!==Object.keys(r).length)return!1;for(a=s;a--!==0;)if(!Object.prototype.hasOwnProperty.call(r,n[a]))return!1;if(JH&&e instanceof Element)return!1;for(a=s;a--!==0;)if(!((n[a]==="_owner"||n[a]==="__v"||n[a]==="__o")&&e.$$typeof)&&!$p(e[n[a]],r[n[a]]))return!1;return!0}return e!==e&&r!==r}var tV=function(r,s){try{return $p(r,s)}catch(a){if((a.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw a}};const rV=li(tV);var sV=function(e,r,s,a,n,i,l,o){if(!e){var c;if(r===void 0)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[s,a,n,i,l,o],u=0;c=new Error(r.replace(/%s/g,function(){return d[u++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}},aV=sV;const ek=li(aV);var nV=function(r,s,a,n){var i=a?a.call(n,r,s):void 0;if(i!==void 0)return!!i;if(r===s)return!0;if(typeof r!="object"||!r||typeof s!="object"||!s)return!1;var l=Object.keys(r),o=Object.keys(s);if(l.length!==o.length)return!1;for(var c=Object.prototype.hasOwnProperty.bind(s),d=0;d<l.length;d++){var u=l[d];if(!c(u))return!1;var m=r[u],x=s[u];if(i=a?a.call(n,m,x,u):void 0,i===!1||i===void 0&&m!==x)return!1}return!0};const iV=li(nV);var EI=(e=>(e.BASE="base",e.BODY="body",e.HEAD="head",e.HTML="html",e.LINK="link",e.META="meta",e.NOSCRIPT="noscript",e.SCRIPT="script",e.STYLE="style",e.TITLE="title",e.FRAGMENT="Symbol(react.fragment)",e))(EI||{}),Ev={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},tk=Object.values(EI),yN={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},lV=Object.entries(yN).reduce((e,[r,s])=>(e[s]=r,e),{}),wi="data-rh",ku={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},Cu=(e,r)=>{for(let s=e.length-1;s>=0;s-=1){const a=e[s];if(Object.prototype.hasOwnProperty.call(a,r))return a[r]}return null},oV=e=>{let r=Cu(e,"title");const s=Cu(e,ku.TITLE_TEMPLATE);if(Array.isArray(r)&&(r=r.join("")),s&&r)return s.replace(/%s/g,()=>r);const a=Cu(e,ku.DEFAULT_TITLE);return r||a||void 0},cV=e=>Cu(e,ku.ON_CHANGE_CLIENT_STATE)||(()=>{}),Iv=(e,r)=>r.filter(s=>typeof s[e]<"u").map(s=>s[e]).reduce((s,a)=>({...s,...a}),{}),dV=(e,r)=>r.filter(s=>typeof s.base<"u").map(s=>s.base).reverse().reduce((s,a)=>{if(!s.length){const n=Object.keys(a);for(let i=0;i<n.length;i+=1){const o=n[i].toLowerCase();if(e.indexOf(o)!==-1&&a[o])return s.concat(a)}}return s},[]),uV=e=>console&&typeof console.warn=="function"&&console.warn(e),Vm=(e,r,s)=>{const a={};return s.filter(n=>Array.isArray(n[e])?!0:(typeof n[e]<"u"&&uV(`Helmet: ${e} should be of type "Array". Instead found type "${typeof n[e]}"`),!1)).map(n=>n[e]).reverse().reduce((n,i)=>{const l={};i.filter(c=>{let d;const u=Object.keys(c);for(let x=0;x<u.length;x+=1){const h=u[x],p=h.toLowerCase();r.indexOf(p)!==-1&&!(d==="rel"&&c[d].toLowerCase()==="canonical")&&!(p==="rel"&&c[p].toLowerCase()==="stylesheet")&&(d=p),r.indexOf(h)!==-1&&(h==="innerHTML"||h==="cssText"||h==="itemprop")&&(d=h)}if(!d||!c[d])return!1;const m=c[d].toLowerCase();return a[d]||(a[d]={}),l[d]||(l[d]={}),a[d][m]?!1:(l[d][m]=!0,!0)}).reverse().forEach(c=>n.push(c));const o=Object.keys(l);for(let c=0;c<o.length;c+=1){const d=o[c],u={...a[d],...l[d]};a[d]=u}return n},[]).reverse()},mV=(e,r)=>{if(Array.isArray(e)&&e.length){for(let s=0;s<e.length;s+=1)if(e[s][r])return!0}return!1},hV=e=>({baseTag:dV(["href"],e),bodyAttributes:Iv("bodyAttributes",e),defer:Cu(e,ku.DEFER),encode:Cu(e,ku.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Iv("htmlAttributes",e),linkTags:Vm("link",["rel","href"],e),metaTags:Vm("meta",["name","charset","http-equiv","property","itemprop"],e),noscriptTags:Vm("noscript",["innerHTML"],e),onChangeClientState:cV(e),scriptTags:Vm("script",["src","innerHTML"],e),styleTags:Vm("style",["cssText"],e),title:oV(e),titleAttributes:Iv("titleAttributes",e),prioritizeSeoTags:mV(e,ku.PRIORITIZE_SEO_TAGS)}),II=e=>Array.isArray(e)?e.join(""):e,xV=(e,r)=>{const s=Object.keys(e);for(let a=0;a<s.length;a+=1)if(r[s[a]]&&r[s[a]].includes(e[s[a]]))return!0;return!1},_v=(e,r)=>Array.isArray(e)?e.reduce((s,a)=>(xV(a,r)?s.priority.push(a):s.default.push(a),s),{priority:[],default:[]}):{default:e,priority:[]},rk=(e,r)=>({...e,[r]:void 0}),pV=["noscript","script","style"],R2=(e,r=!0)=>r===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),_I=e=>Object.keys(e).reduce((r,s)=>{const a=typeof e[s]<"u"?`${s}="${e[s]}"`:`${s}`;return r?`${r} ${a}`:a},""),fV=(e,r,s,a)=>{const n=_I(s),i=II(r);return n?`<${e} ${wi}="true" ${n}>${R2(i,a)}</${e}>`:`<${e} ${wi}="true">${R2(i,a)}</${e}>`},gV=(e,r,s=!0)=>r.reduce((a,n)=>{const i=n,l=Object.keys(i).filter(d=>!(d==="innerHTML"||d==="cssText")).reduce((d,u)=>{const m=typeof i[u]>"u"?u:`${u}="${R2(i[u],s)}"`;return d?`${d} ${m}`:m},""),o=i.innerHTML||i.cssText||"",c=pV.indexOf(e)===-1;return`${a}<${e} ${wi}="true" ${l}${c?"/>":`>${o}</${e}>`}`},""),OI=(e,r={})=>Object.keys(e).reduce((s,a)=>{const n=yN[a];return s[n||a]=e[a],s},r),yV=(e,r,s)=>{const a={key:r,[wi]:!0},n=OI(s,a);return[_t.createElement("title",n,r)]},zp=(e,r)=>r.map((s,a)=>{const n={key:a,[wi]:!0};return Object.keys(s).forEach(i=>{const o=yN[i]||i;if(o==="innerHTML"||o==="cssText"){const c=s.innerHTML||s.cssText;n.dangerouslySetInnerHTML={__html:c}}else n[o]=s[i]}),_t.createElement(e,n)}),Hn=(e,r,s=!0)=>{switch(e){case"title":return{toComponent:()=>yV(e,r.title,r.titleAttributes),toString:()=>fV(e,r.title,r.titleAttributes,s)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>OI(r),toString:()=>_I(r)};default:return{toComponent:()=>zp(e,r),toString:()=>gV(e,r,s)}}},bV=({metaTags:e,linkTags:r,scriptTags:s,encode:a})=>{const n=_v(e,Ev.meta),i=_v(r,Ev.link),l=_v(s,Ev.script);return{priorityMethods:{toComponent:()=>[...zp("meta",n.priority),...zp("link",i.priority),...zp("script",l.priority)],toString:()=>`${Hn("meta",n.priority,a)} ${Hn("link",i.priority,a)} ${Hn("script",l.priority,a)}`},metaTags:n.default,linkTags:i.default,scriptTags:l.default}},vV=e=>{const{baseTag:r,bodyAttributes:s,encode:a=!0,htmlAttributes:n,noscriptTags:i,styleTags:l,title:o="",titleAttributes:c,prioritizeSeoTags:d}=e;let{linkTags:u,metaTags:m,scriptTags:x}=e,h={toComponent:()=>{},toString:()=>""};return d&&({priorityMethods:h,linkTags:u,metaTags:m,scriptTags:x}=bV(e)),{priority:h,base:Hn("base",r,a),bodyAttributes:Hn("bodyAttributes",s,a),htmlAttributes:Hn("htmlAttributes",n,a),link:Hn("link",u,a),meta:Hn("meta",m,a),noscript:Hn("noscript",i,a),script:Hn("script",x,a),style:Hn("style",l,a),title:Hn("title",{title:o,titleAttributes:c},a)}},B2=vV,qx=[],DI=!!(typeof window<"u"&&window.document&&window.document.createElement),$2=class{constructor(e,r){mi(this,"instances",[]);mi(this,"canUseDOM",DI);mi(this,"context");mi(this,"value",{setHelmet:e=>{this.context.helmet=e},helmetInstances:{get:()=>this.canUseDOM?qx:this.instances,add:e=>{(this.canUseDOM?qx:this.instances).push(e)},remove:e=>{const r=(this.canUseDOM?qx:this.instances).indexOf(e);(this.canUseDOM?qx:this.instances).splice(r,1)}}});this.context=e,this.canUseDOM=r||!1,r||(e.helmet=B2({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},jV={},MI=_t.createContext(jV),Bc,LI=(Bc=class extends g.Component{constructor(s){super(s);mi(this,"helmetData");this.helmetData=new $2(this.props.context||{},Bc.canUseDOM)}render(){return _t.createElement(MI.Provider,{value:this.helmetData.value},this.props.children)}},mi(Bc,"canUseDOM",DI),Bc),Hd=(e,r)=>{const s=document.head||document.querySelector("head"),a=s.querySelectorAll(`${e}[${wi}]`),n=[].slice.call(a),i=[];let l;return r&&r.length&&r.forEach(o=>{const c=document.createElement(e);for(const d in o)if(Object.prototype.hasOwnProperty.call(o,d))if(d==="innerHTML")c.innerHTML=o.innerHTML;else if(d==="cssText")c.styleSheet?c.styleSheet.cssText=o.cssText:c.appendChild(document.createTextNode(o.cssText));else{const u=d,m=typeof o[u]>"u"?"":o[u];c.setAttribute(d,m)}c.setAttribute(wi,"true"),n.some((d,u)=>(l=u,c.isEqualNode(d)))?n.splice(l,1):i.push(c)}),n.forEach(o=>{var c;return(c=o.parentNode)==null?void 0:c.removeChild(o)}),i.forEach(o=>s.appendChild(o)),{oldTags:n,newTags:i}},z2=(e,r)=>{const s=document.getElementsByTagName(e)[0];if(!s)return;const a=s.getAttribute(wi),n=a?a.split(","):[],i=[...n],l=Object.keys(r);for(const o of l){const c=r[o]||"";s.getAttribute(o)!==c&&s.setAttribute(o,c),n.indexOf(o)===-1&&n.push(o);const d=i.indexOf(o);d!==-1&&i.splice(d,1)}for(let o=i.length-1;o>=0;o-=1)s.removeAttribute(i[o]);n.length===i.length?s.removeAttribute(wi):s.getAttribute(wi)!==l.join(",")&&s.setAttribute(wi,l.join(","))},wV=(e,r)=>{typeof e<"u"&&document.title!==e&&(document.title=II(e)),z2("title",r)},sk=(e,r)=>{const{baseTag:s,bodyAttributes:a,htmlAttributes:n,linkTags:i,metaTags:l,noscriptTags:o,onChangeClientState:c,scriptTags:d,styleTags:u,title:m,titleAttributes:x}=e;z2("body",a),z2("html",n),wV(m,x);const h={baseTag:Hd("base",s),linkTags:Hd("link",i),metaTags:Hd("meta",l),noscriptTags:Hd("noscript",o),scriptTags:Hd("script",d),styleTags:Hd("style",u)},p={},f={};Object.keys(h).forEach(b=>{const{newTags:j,oldTags:w}=h[b];j.length&&(p[b]=j),w.length&&(f[b]=h[b].oldTags)}),r&&r(),c(e,p,f)},Wm=null,NV=e=>{Wm&&cancelAnimationFrame(Wm),e.defer?Wm=requestAnimationFrame(()=>{sk(e,()=>{Wm=null})}):(sk(e),Wm=null)},SV=NV,ak=class extends g.Component{constructor(){super(...arguments);mi(this,"rendered",!1)}shouldComponentUpdate(r){return!iV(r,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:r}=this.props.context;r.remove(this),this.emitChange()}emitChange(){const{helmetInstances:r,setHelmet:s}=this.props.context;let a=null;const n=hV(r.get().map(i=>{const l={...i.props};return delete l.context,l}));LI.canUseDOM?SV(n):B2&&(a=B2(n)),s(a)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:r}=this.props.context;r.add(this),this.emitChange()}render(){return this.init(),null}},V1,kV=(V1=class extends g.Component{shouldComponentUpdate(e){return!rV(rk(this.props,"helmetData"),rk(e,"helmetData"))}mapNestedChildrenToProps(e,r){if(!r)return null;switch(e.type){case"script":case"noscript":return{innerHTML:r};case"style":return{cssText:r};default:throw new Error(`<${e.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(e,r,s,a){return{...r,[e.type]:[...r[e.type]||[],{...s,...this.mapNestedChildrenToProps(e,a)}]}}mapObjectTypeChildren(e,r,s,a){switch(e.type){case"title":return{...r,[e.type]:a,titleAttributes:{...s}};case"body":return{...r,bodyAttributes:{...s}};case"html":return{...r,htmlAttributes:{...s}};default:return{...r,[e.type]:{...s}}}}mapArrayTypeChildrenToProps(e,r){let s={...r};return Object.keys(e).forEach(a=>{s={...s,[a]:e[a]}}),s}warnOnInvalidChildren(e,r){return ek(tk.some(s=>e.type===s),typeof e.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${tk.join(", ")} are allowed. Helmet does not support rendering <${e.type}> elements. Refer to our API for more information.`),ek(!r||typeof r=="string"||Array.isArray(r)&&!r.some(s=>typeof s!="string"),`Helmet expects a string as a child of <${e.type}>. Did you forget to wrap your children in braces? ( <${e.type}>{\`\`}</${e.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(e,r){let s={};return _t.Children.forEach(e,a=>{if(!a||!a.props)return;const{children:n,...i}=a.props,l=Object.keys(i).reduce((c,d)=>(c[lV[d]||d]=i[d],c),{});let{type:o}=a;switch(typeof o=="symbol"?o=o.toString():this.warnOnInvalidChildren(a,n),o){case"Symbol(react.fragment)":r=this.mapChildrenToProps(n,r);break;case"link":case"meta":case"noscript":case"script":case"style":s=this.flattenArrayTypeChildren(a,s,l,n);break;default:r=this.mapObjectTypeChildren(a,r,l,n);break}}),this.mapArrayTypeChildrenToProps(s,r)}render(){const{children:e,...r}=this.props;let s={...r},{helmetData:a}=r;if(e&&(s=this.mapChildrenToProps(e,s)),a&&!(a instanceof $2)){const n=a;a=new $2(n.context,!0),delete s.helmetData}return a?_t.createElement(ak,{...s,context:a.value}):_t.createElement(MI.Consumer,null,n=>_t.createElement(ak,{...s,context:n}))}},mi(V1,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),V1);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function t0(){return t0=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},t0.apply(this,arguments)}var To;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(To||(To={}));const nk="popstate";function CV(e){e===void 0&&(e={});function r(a,n){let{pathname:i,search:l,hash:o}=a.location;return U2("",{pathname:i,search:l,hash:o},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function s(a,n){return typeof n=="string"?n:Sf(n)}return AV(r,s,null,e)}function Kr(e,r){if(e===!1||e===null||typeof e>"u")throw new Error(r)}function FI(e,r){if(!e){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function PV(){return Math.random().toString(36).substr(2,8)}function ik(e,r){return{usr:e.state,key:e.key,idx:r}}function U2(e,r,s,a){return s===void 0&&(s=null),t0({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof r=="string"?mm(r):r,{state:s,key:r&&r.key||a||PV()})}function Sf(e){let{pathname:r="/",search:s="",hash:a=""}=e;return s&&s!=="?"&&(r+=s.charAt(0)==="?"?s:"?"+s),a&&a!=="#"&&(r+=a.charAt(0)==="#"?a:"#"+a),r}function mm(e){let r={};if(e){let s=e.indexOf("#");s>=0&&(r.hash=e.substr(s),e=e.substr(0,s));let a=e.indexOf("?");a>=0&&(r.search=e.substr(a),e=e.substr(0,a)),e&&(r.pathname=e)}return r}function AV(e,r,s,a){a===void 0&&(a={});let{window:n=document.defaultView,v5Compat:i=!1}=a,l=n.history,o=To.Pop,c=null,d=u();d==null&&(d=0,l.replaceState(t0({},l.state,{idx:d}),""));function u(){return(l.state||{idx:null}).idx}function m(){o=To.Pop;let b=u(),j=b==null?null:b-d;d=b,c&&c({action:o,location:f.location,delta:j})}function x(b,j){o=To.Push;let w=U2(f.location,b,j);d=u()+1;let y=ik(w,d),v=f.createHref(w);try{l.pushState(y,"",v)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;n.location.assign(v)}i&&c&&c({action:o,location:f.location,delta:1})}function h(b,j){o=To.Replace;let w=U2(f.location,b,j);d=u();let y=ik(w,d),v=f.createHref(w);l.replaceState(y,"",v),i&&c&&c({action:o,location:f.location,delta:0})}function p(b){let j=n.location.origin!=="null"?n.location.origin:n.location.href,w=typeof b=="string"?b:Sf(b);return w=w.replace(/ $/,"%20"),Kr(j,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,j)}let f={get action(){return o},get location(){return e(n,l)},listen(b){if(c)throw new Error("A history only accepts one active listener");return n.addEventListener(nk,m),c=b,()=>{n.removeEventListener(nk,m),c=null}},createHref(b){return r(n,b)},createURL:p,encodeLocation(b){let j=p(b);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:x,replace:h,go(b){return l.go(b)}};return f}var lk;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(lk||(lk={}));function TV(e,r,s){return s===void 0&&(s="/"),EV(e,r,s)}function EV(e,r,s,a){let n=typeof r=="string"?mm(r):r,i=Wu(n.pathname||"/",s);if(i==null)return null;let l=RI(e);IV(l);let o=null;for(let c=0;o==null&&c<l.length;++c){let d=UV(i);o=$V(l[c],d)}return o}function RI(e,r,s,a){r===void 0&&(r=[]),s===void 0&&(s=[]),a===void 0&&(a="");let n=(i,l,o)=>{let c={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:l,route:i};c.relativePath.startsWith("/")&&(Kr(c.relativePath.startsWith(a),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(a.length));let d=zo([a,c.relativePath]),u=s.concat(c);i.children&&i.children.length>0&&(Kr(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),RI(i.children,r,u,d)),!(i.path==null&&!i.index)&&r.push({path:d,score:RV(d,i.index),routesMeta:u})};return e.forEach((i,l)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))n(i,l);else for(let c of BI(i.path))n(i,l,c)}),r}function BI(e){let r=e.split("/");if(r.length===0)return[];let[s,...a]=r,n=s.endsWith("?"),i=s.replace(/\?$/,"");if(a.length===0)return n?[i,""]:[i];let l=BI(a.join("/")),o=[];return o.push(...l.map(c=>c===""?i:[i,c].join("/"))),n&&o.push(...l),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function IV(e){e.sort((r,s)=>r.score!==s.score?s.score-r.score:BV(r.routesMeta.map(a=>a.childrenIndex),s.routesMeta.map(a=>a.childrenIndex)))}const _V=/^:[\w-]+$/,OV=3,DV=2,MV=1,LV=10,FV=-2,ok=e=>e==="*";function RV(e,r){let s=e.split("/"),a=s.length;return s.some(ok)&&(a+=FV),r&&(a+=DV),s.filter(n=>!ok(n)).reduce((n,i)=>n+(_V.test(i)?OV:i===""?MV:LV),a)}function BV(e,r){return e.length===r.length&&e.slice(0,-1).every((a,n)=>a===r[n])?e[e.length-1]-r[r.length-1]:0}function $V(e,r,s){let{routesMeta:a}=e,n={},i="/",l=[];for(let o=0;o<a.length;++o){let c=a[o],d=o===a.length-1,u=i==="/"?r:r.slice(i.length)||"/",m=H2({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),x=c.route;if(!m)return null;Object.assign(n,m.params),l.push({params:n,pathname:zo([i,m.pathname]),pathnameBase:GV(zo([i,m.pathnameBase])),route:x}),m.pathnameBase!=="/"&&(i=zo([i,m.pathnameBase]))}return l}function H2(e,r){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,a]=zV(e.path,e.caseSensitive,e.end),n=r.match(s);if(!n)return null;let i=n[0],l=i.replace(/(.)\/+$/,"$1"),o=n.slice(1);return{params:a.reduce((d,u,m)=>{let{paramName:x,isOptional:h}=u;if(x==="*"){let f=o[m]||"";l=i.slice(0,i.length-f.length).replace(/(.)\/+$/,"$1")}const p=o[m];return h&&!p?d[x]=void 0:d[x]=(p||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:l,pattern:e}}function zV(e,r,s){r===void 0&&(r=!1),s===void 0&&(s=!0),FI(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,c)=>(a.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),n+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?n+="\\/*$":e!==""&&e!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,r?void 0:"i"),a]}function UV(e){try{return e.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return FI(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+r+").")),e}}function Wu(e,r){if(r==="/")return e;if(!e.toLowerCase().startsWith(r.toLowerCase()))return null;let s=r.endsWith("/")?r.length-1:r.length,a=e.charAt(s);return a&&a!=="/"?null:e.slice(s)||"/"}function HV(e,r){r===void 0&&(r="/");let{pathname:s,search:a="",hash:n=""}=typeof e=="string"?mm(e):e;return{pathname:s?s.startsWith("/")?s:VV(s,r):r,search:qV(a),hash:KV(n)}}function VV(e,r){let s=r.replace(/\/+$/,"").split("/");return e.split("/").forEach(n=>{n===".."?s.length>1&&s.pop():n!=="."&&s.push(n)}),s.length>1?s.join("/"):"/"}function Ov(e,r,s,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+r+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function WV(e){return e.filter((r,s)=>s===0||r.route.path&&r.route.path.length>0)}function bN(e,r){let s=WV(e);return r?s.map((a,n)=>n===s.length-1?a.pathname:a.pathnameBase):s.map(a=>a.pathnameBase)}function vN(e,r,s,a){a===void 0&&(a=!1);let n;typeof e=="string"?n=mm(e):(n=t0({},e),Kr(!n.pathname||!n.pathname.includes("?"),Ov("?","pathname","search",n)),Kr(!n.pathname||!n.pathname.includes("#"),Ov("#","pathname","hash",n)),Kr(!n.search||!n.search.includes("#"),Ov("#","search","hash",n)));let i=e===""||n.pathname==="",l=i?"/":n.pathname,o;if(l==null)o=s;else{let m=r.length-1;if(!a&&l.startsWith("..")){let x=l.split("/");for(;x[0]==="..";)x.shift(),m-=1;n.pathname=x.join("/")}o=m>=0?r[m]:"/"}let c=HV(n,o),d=l&&l!=="/"&&l.endsWith("/"),u=(i||l===".")&&s.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const zo=e=>e.join("/").replace(/\/\/+/g,"/"),GV=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),qV=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,KV=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function YV(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const $I=["post","put","patch","delete"];new Set($I);const XV=["get",...$I];new Set(XV);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function r0(){return r0=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},r0.apply(this,arguments)}const vy=g.createContext(null),zI=g.createContext(null),Jl=g.createContext(null),jy=g.createContext(null),ll=g.createContext({outlet:null,matches:[],isDataRoute:!1}),UI=g.createContext(null);function JV(e,r){let{relative:s}=r===void 0?{}:r;hm()||Kr(!1);let{basename:a,navigator:n}=g.useContext(Jl),{hash:i,pathname:l,search:o}=wy(e,{relative:s}),c=l;return a!=="/"&&(c=l==="/"?a:zo([a,l])),n.createHref({pathname:c,search:o,hash:i})}function hm(){return g.useContext(jy)!=null}function Br(){return hm()||Kr(!1),g.useContext(jy).location}function HI(e){g.useContext(Jl).static||g.useLayoutEffect(e)}function Qt(){let{isDataRoute:e}=g.useContext(ll);return e?mW():QV()}function QV(){hm()||Kr(!1);let e=g.useContext(vy),{basename:r,future:s,navigator:a}=g.useContext(Jl),{matches:n}=g.useContext(ll),{pathname:i}=Br(),l=JSON.stringify(bN(n,s.v7_relativeSplatPath)),o=g.useRef(!1);return HI(()=>{o.current=!0}),g.useCallback(function(d,u){if(u===void 0&&(u={}),!o.current)return;if(typeof d=="number"){a.go(d);return}let m=vN(d,JSON.parse(l),i,u.relative==="path");e==null&&r!=="/"&&(m.pathname=m.pathname==="/"?r:zo([r,m.pathname])),(u.replace?a.replace:a.push)(m,u.state,u)},[r,a,l,i,e])}const ZV=g.createContext(null);function eW(e){let r=g.useContext(ll).outlet;return r&&g.createElement(ZV.Provider,{value:e},r)}function xm(){let{matches:e}=g.useContext(ll),r=e[e.length-1];return r?r.params:{}}function wy(e,r){let{relative:s}=r===void 0?{}:r,{future:a}=g.useContext(Jl),{matches:n}=g.useContext(ll),{pathname:i}=Br(),l=JSON.stringify(bN(n,a.v7_relativeSplatPath));return g.useMemo(()=>vN(e,JSON.parse(l),i,s==="path"),[e,l,i,s])}function tW(e,r){return rW(e,r)}function rW(e,r,s,a){hm()||Kr(!1);let{navigator:n}=g.useContext(Jl),{matches:i}=g.useContext(ll),l=i[i.length-1],o=l?l.params:{};l&&l.pathname;let c=l?l.pathnameBase:"/";l&&l.route;let d=Br(),u;if(r){var m;let b=typeof r=="string"?mm(r):r;c==="/"||(m=b.pathname)!=null&&m.startsWith(c)||Kr(!1),u=b}else u=d;let x=u.pathname||"/",h=x;if(c!=="/"){let b=c.replace(/^\//,"").split("/");h="/"+x.replace(/^\//,"").split("/").slice(b.length).join("/")}let p=TV(e,{pathname:h}),f=lW(p&&p.map(b=>Object.assign({},b,{params:Object.assign({},o,b.params),pathname:zo([c,n.encodeLocation?n.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:zo([c,n.encodeLocation?n.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,s,a);return r&&f?g.createElement(jy.Provider,{value:{location:r0({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:To.Pop}},f):f}function sW(){let e=uW(),r=YV(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},r),s?g.createElement("pre",{style:n},s):null,null)}const aW=g.createElement(sW,null);class nW extends g.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,s){return s.location!==r.location||s.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:s.error,location:s.location,revalidation:r.revalidation||s.revalidation}}componentDidCatch(r,s){console.error("React Router caught the following error during render",r,s)}render(){return this.state.error!==void 0?g.createElement(ll.Provider,{value:this.props.routeContext},g.createElement(UI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function iW(e){let{routeContext:r,match:s,children:a}=e,n=g.useContext(vy);return n&&n.static&&n.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=s.route.id),g.createElement(ll.Provider,{value:r},a)}function lW(e,r,s,a){var n;if(r===void 0&&(r=[]),s===void 0&&(s=null),a===void 0&&(a=null),e==null){var i;if(!s)return null;if(s.errors)e=s.matches;else if((i=a)!=null&&i.v7_partialHydration&&r.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let l=e,o=(n=s)==null?void 0:n.errors;if(o!=null){let u=l.findIndex(m=>m.route.id&&(o==null?void 0:o[m.route.id])!==void 0);u>=0||Kr(!1),l=l.slice(0,Math.min(l.length,u+1))}let c=!1,d=-1;if(s&&a&&a.v7_partialHydration)for(let u=0;u<l.length;u++){let m=l[u];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=u),m.route.id){let{loaderData:x,errors:h}=s,p=m.route.loader&&x[m.route.id]===void 0&&(!h||h[m.route.id]===void 0);if(m.route.lazy||p){c=!0,d>=0?l=l.slice(0,d+1):l=[l[0]];break}}}return l.reduceRight((u,m,x)=>{let h,p=!1,f=null,b=null;s&&(h=o&&m.route.id?o[m.route.id]:void 0,f=m.route.errorElement||aW,c&&(d<0&&x===0?(hW("route-fallback"),p=!0,b=null):d===x&&(p=!0,b=m.route.hydrateFallbackElement||null)));let j=r.concat(l.slice(0,x+1)),w=()=>{let y;return h?y=f:p?y=b:m.route.Component?y=g.createElement(m.route.Component,null):m.route.element?y=m.route.element:y=u,g.createElement(iW,{match:m,routeContext:{outlet:u,matches:j,isDataRoute:s!=null},children:y})};return s&&(m.route.ErrorBoundary||m.route.errorElement||x===0)?g.createElement(nW,{location:s.location,revalidation:s.revalidation,component:f,error:h,children:w(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):w()},null)}var VI=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(VI||{}),WI=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(WI||{});function oW(e){let r=g.useContext(vy);return r||Kr(!1),r}function cW(e){let r=g.useContext(zI);return r||Kr(!1),r}function dW(e){let r=g.useContext(ll);return r||Kr(!1),r}function GI(e){let r=dW(),s=r.matches[r.matches.length-1];return s.route.id||Kr(!1),s.route.id}function uW(){var e;let r=g.useContext(UI),s=cW(),a=GI();return r!==void 0?r:(e=s.errors)==null?void 0:e[a]}function mW(){let{router:e}=oW(VI.UseNavigateStable),r=GI(WI.UseNavigateStable),s=g.useRef(!1);return HI(()=>{s.current=!0}),g.useCallback(function(n,i){i===void 0&&(i={}),s.current&&(typeof n=="number"?e.navigate(n):e.navigate(n,r0({fromRouteId:r},i)))},[e,r])}const ck={};function hW(e,r,s){ck[e]||(ck[e]=!0)}function xW(e,r){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function kd(e){let{to:r,replace:s,state:a,relative:n}=e;hm()||Kr(!1);let{future:i,static:l}=g.useContext(Jl),{matches:o}=g.useContext(ll),{pathname:c}=Br(),d=Qt(),u=vN(r,bN(o,i.v7_relativeSplatPath),c,n==="path"),m=JSON.stringify(u);return g.useEffect(()=>d(JSON.parse(m),{replace:s,state:a,relative:n}),[d,m,n,s,a]),null}function Ql(e){return eW(e.context)}function et(e){Kr(!1)}function pW(e){let{basename:r="/",children:s=null,location:a,navigationType:n=To.Pop,navigator:i,static:l=!1,future:o}=e;hm()&&Kr(!1);let c=r.replace(/^\/*/,"/"),d=g.useMemo(()=>({basename:c,navigator:i,static:l,future:r0({v7_relativeSplatPath:!1},o)}),[c,o,i,l]);typeof a=="string"&&(a=mm(a));let{pathname:u="/",search:m="",hash:x="",state:h=null,key:p="default"}=a,f=g.useMemo(()=>{let b=Wu(u,c);return b==null?null:{location:{pathname:b,search:m,hash:x,state:h,key:p},navigationType:n}},[c,u,m,x,h,p,n]);return f==null?null:g.createElement(Jl.Provider,{value:d},g.createElement(jy.Provider,{children:s,value:f}))}function Ny(e){let{children:r,location:s}=e;return tW(V2(r),s)}new Promise(()=>{});function V2(e,r){r===void 0&&(r=[]);let s=[];return g.Children.forEach(e,(a,n)=>{if(!g.isValidElement(a))return;let i=[...r,n];if(a.type===g.Fragment){s.push.apply(s,V2(a.props.children,i));return}a.type!==et&&Kr(!1),!a.props.index||!a.props.children||Kr(!1);let l={id:a.props.id||i.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(l.children=V2(a.props.children,i)),s.push(l)}),s}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kf(){return kf=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},kf.apply(this,arguments)}function qI(e,r){if(e==null)return{};var s={},a=Object.keys(e),n,i;for(i=0;i<a.length;i++)n=a[i],!(r.indexOf(n)>=0)&&(s[n]=e[n]);return s}function fW(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function gW(e,r){return e.button===0&&(!r||r==="_self")&&!fW(e)}function W2(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((r,s)=>{let a=e[s];return r.concat(Array.isArray(a)?a.map(n=>[s,n]):[[s,a]])},[]))}function yW(e,r){let s=W2(e);return r&&r.forEach((a,n)=>{s.has(n)||r.getAll(n).forEach(i=>{s.append(n,i)})}),s}const bW=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],vW=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],jW="6";try{window.__reactRouterVersion=jW}catch{}const wW=g.createContext({isTransitioning:!1}),NW="startTransition",dk=PE[NW];function SW(e){let{basename:r,children:s,future:a,window:n}=e,i=g.useRef();i.current==null&&(i.current=CV({window:n,v5Compat:!0}));let l=i.current,[o,c]=g.useState({action:l.action,location:l.location}),{v7_startTransition:d}=a||{},u=g.useCallback(m=>{d&&dk?dk(()=>c(m)):c(m)},[c,d]);return g.useLayoutEffect(()=>l.listen(u),[l,u]),g.useEffect(()=>xW(a),[a]),g.createElement(pW,{basename:r,children:s,location:o.location,navigationType:o.action,navigator:l,future:a})}const kW=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",CW=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ut=g.forwardRef(function(r,s){let{onClick:a,relative:n,reloadDocument:i,replace:l,state:o,target:c,to:d,preventScrollReset:u,viewTransition:m}=r,x=qI(r,bW),{basename:h}=g.useContext(Jl),p,f=!1;if(typeof d=="string"&&CW.test(d)&&(p=d,kW))try{let y=new URL(window.location.href),v=d.startsWith("//")?new URL(y.protocol+d):new URL(d),N=Wu(v.pathname,h);v.origin===y.origin&&N!=null?d=N+v.search+v.hash:f=!0}catch{}let b=JV(d,{relative:n}),j=AW(d,{replace:l,state:o,target:c,preventScrollReset:u,relative:n,viewTransition:m});function w(y){a&&a(y),y.defaultPrevented||j(y)}return g.createElement("a",kf({},x,{href:p||b,onClick:f||i?a:w,ref:s,target:c}))}),Dv=g.forwardRef(function(r,s){let{"aria-current":a="page",caseSensitive:n=!1,className:i="",end:l=!1,style:o,to:c,viewTransition:d,children:u}=r,m=qI(r,vW),x=wy(c,{relative:m.relative}),h=Br(),p=g.useContext(zI),{navigator:f,basename:b}=g.useContext(Jl),j=p!=null&&TW(x)&&d===!0,w=f.encodeLocation?f.encodeLocation(x).pathname:x.pathname,y=h.pathname,v=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;n||(y=y.toLowerCase(),v=v?v.toLowerCase():null,w=w.toLowerCase()),v&&b&&(v=Wu(v,b)||v);const N=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let S=y===w||!l&&y.startsWith(w)&&y.charAt(N)==="/",k=v!=null&&(v===w||!l&&v.startsWith(w)&&v.charAt(w.length)==="/"),C={isActive:S,isPending:k,isTransitioning:j},P=S?a:void 0,_;typeof i=="function"?_=i(C):_=[i,S?"active":null,k?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let A=typeof o=="function"?o(C):o;return g.createElement(Ut,kf({},m,{"aria-current":P,className:_,ref:s,style:A,to:c,viewTransition:d}),typeof u=="function"?u(C):u)});var G2;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(G2||(G2={}));var uk;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(uk||(uk={}));function PW(e){let r=g.useContext(vy);return r||Kr(!1),r}function AW(e,r){let{target:s,replace:a,state:n,preventScrollReset:i,relative:l,viewTransition:o}=r===void 0?{}:r,c=Qt(),d=Br(),u=wy(e,{relative:l});return g.useCallback(m=>{if(gW(m,s)){m.preventDefault();let x=a!==void 0?a:Sf(d)===Sf(u);c(e,{replace:x,state:n,preventScrollReset:i,relative:l,viewTransition:o})}},[d,c,u,a,n,s,e,i,l,o])}function R0(e){let r=g.useRef(W2(e)),s=g.useRef(!1),a=Br(),n=g.useMemo(()=>yW(a.search,s.current?null:r.current),[a.search]),i=Qt(),l=g.useCallback((o,c)=>{const d=W2(typeof o=="function"?o(n):o);s.current=!0,i("?"+d,c)},[i,n]);return[n,l]}function TW(e,r){r===void 0&&(r={});let s=g.useContext(wW);s==null&&Kr(!1);let{basename:a}=PW(G2.useViewTransitionState),n=wy(e,{relative:r.relative});if(!s.isTransitioning)return!1;let i=Wu(s.currentLocation.pathname,a)||s.currentLocation.pathname,l=Wu(s.nextLocation.pathname,a)||s.nextLocation.pathname;return H2(n.pathname,l)!=null||H2(n.pathname,i)!=null}const KI=g.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Sy=g.createContext({}),ky=g.createContext(null),Cy=typeof document<"u",jN=Cy?g.useLayoutEffect:g.useEffect,YI=g.createContext({strict:!1}),wN=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),EW="framerAppearId",XI="data-"+wN(EW);function IW(e,r,s,a){const{visualElement:n}=g.useContext(Sy),i=g.useContext(YI),l=g.useContext(ky),o=g.useContext(KI).reducedMotion,c=g.useRef();a=a||i.renderer,!c.current&&a&&(c.current=a(e,{visualState:r,parent:n,props:s,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:o}));const d=c.current;g.useInsertionEffect(()=>{d&&d.update(s,l)});const u=g.useRef(!!(s[XI]&&!window.HandoffComplete));return jN(()=>{d&&(d.render(),u.current&&d.animationState&&d.animationState.animateChanges())}),g.useEffect(()=>{d&&(d.updateFeatures(),!u.current&&d.animationState&&d.animationState.animateChanges(),u.current&&(u.current=!1,window.HandoffComplete=!0))}),d}function du(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function _W(e,r,s){return g.useCallback(a=>{a&&e.mount&&e.mount(a),r&&(a?r.mount(a):r.unmount()),s&&(typeof s=="function"?s(a):du(s)&&(s.current=a))},[r])}function s0(e){return typeof e=="string"||Array.isArray(e)}function Py(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const NN=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],SN=["initial",...NN];function Ay(e){return Py(e.animate)||SN.some(r=>s0(e[r]))}function JI(e){return!!(Ay(e)||e.variants)}function OW(e,r){if(Ay(e)){const{initial:s,animate:a}=e;return{initial:s===!1||s0(s)?s:void 0,animate:s0(a)?a:void 0}}return e.inherit!==!1?r:{}}function DW(e){const{initial:r,animate:s}=OW(e,g.useContext(Sy));return g.useMemo(()=>({initial:r,animate:s}),[mk(r),mk(s)])}function mk(e){return Array.isArray(e)?e.join(" "):e}const hk={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},a0={};for(const e in hk)a0[e]={isEnabled:r=>hk[e].some(s=>!!r[s])};function MW(e){for(const r in e)a0[r]={...a0[r],...e[r]}}const kN=g.createContext({}),QI=g.createContext({}),LW=Symbol.for("motionComponentSymbol");function FW({preloadedFeatures:e,createVisualElement:r,useRender:s,useVisualState:a,Component:n}){e&&MW(e);function i(o,c){let d;const u={...g.useContext(KI),...o,layoutId:RW(o)},{isStatic:m}=u,x=DW(o),h=a(o,m);if(!m&&Cy){x.visualElement=IW(n,h,u,r);const p=g.useContext(QI),f=g.useContext(YI).strict;x.visualElement&&(d=x.visualElement.loadFeatures(u,f,e,p))}return g.createElement(Sy.Provider,{value:x},d&&x.visualElement?g.createElement(d,{visualElement:x.visualElement,...u}):null,s(n,o,_W(h,x.visualElement,c),h,m,x.visualElement))}const l=g.forwardRef(i);return l[LW]=n,l}function RW({layoutId:e}){const r=g.useContext(kN).id;return r&&e!==void 0?r+"-"+e:e}function BW(e){function r(a,n={}){return FW(e(a,n))}if(typeof Proxy>"u")return r;const s=new Map;return new Proxy(r,{get:(a,n)=>(s.has(n)||s.set(n,r(n)),s.get(n))})}const $W=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function CN(e){return typeof e!="string"||e.includes("-")?!1:!!($W.indexOf(e)>-1||/[A-Z]/.test(e))}const Cf={};function zW(e){Object.assign(Cf,e)}const B0=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Cd=new Set(B0);function ZI(e,{layout:r,layoutId:s}){return Cd.has(e)||e.startsWith("origin")||(r||s!==void 0)&&(!!Cf[e]||e==="opacity")}const Qa=e=>!!(e&&e.getVelocity),UW={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},HW=B0.length;function VW(e,{enableHardwareAcceleration:r=!0,allowTransformNone:s=!0},a,n){let i="";for(let l=0;l<HW;l++){const o=B0[l];if(e[o]!==void 0){const c=UW[o]||o;i+=`${c}(${e[o]}) `}}return r&&!e.z&&(i+="translateZ(0)"),i=i.trim(),n?i=n(e,a?"":i):s&&a&&(i="none"),i}const e_=e=>r=>typeof r=="string"&&r.startsWith(e),t_=e_("--"),q2=e_("var(--"),WW=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,GW=(e,r)=>r&&typeof e=="number"?r.transform(e):e,Xo=(e,r,s)=>Math.min(Math.max(s,e),r),Pd={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},kh={...Pd,transform:e=>Xo(0,1,e)},Kx={...Pd,default:1},Ch=e=>Math.round(e*1e5)/1e5,Ty=/(-)?([\d]*\.?[\d])+/g,r_=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,qW=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function $0(e){return typeof e=="string"}const z0=e=>({test:r=>$0(r)&&r.endsWith(e)&&r.split(" ").length===1,parse:parseFloat,transform:r=>`${r}${e}`}),fo=z0("deg"),Yi=z0("%"),Ot=z0("px"),KW=z0("vh"),YW=z0("vw"),xk={...Yi,parse:e=>Yi.parse(e)/100,transform:e=>Yi.transform(e*100)},pk={...Pd,transform:Math.round},s_={borderWidth:Ot,borderTopWidth:Ot,borderRightWidth:Ot,borderBottomWidth:Ot,borderLeftWidth:Ot,borderRadius:Ot,radius:Ot,borderTopLeftRadius:Ot,borderTopRightRadius:Ot,borderBottomRightRadius:Ot,borderBottomLeftRadius:Ot,width:Ot,maxWidth:Ot,height:Ot,maxHeight:Ot,size:Ot,top:Ot,right:Ot,bottom:Ot,left:Ot,padding:Ot,paddingTop:Ot,paddingRight:Ot,paddingBottom:Ot,paddingLeft:Ot,margin:Ot,marginTop:Ot,marginRight:Ot,marginBottom:Ot,marginLeft:Ot,rotate:fo,rotateX:fo,rotateY:fo,rotateZ:fo,scale:Kx,scaleX:Kx,scaleY:Kx,scaleZ:Kx,skew:fo,skewX:fo,skewY:fo,distance:Ot,translateX:Ot,translateY:Ot,translateZ:Ot,x:Ot,y:Ot,z:Ot,perspective:Ot,transformPerspective:Ot,opacity:kh,originX:xk,originY:xk,originZ:Ot,zIndex:pk,fillOpacity:kh,strokeOpacity:kh,numOctaves:pk};function PN(e,r,s,a){const{style:n,vars:i,transform:l,transformOrigin:o}=e;let c=!1,d=!1,u=!0;for(const m in r){const x=r[m];if(t_(m)){i[m]=x;continue}const h=s_[m],p=GW(x,h);if(Cd.has(m)){if(c=!0,l[m]=p,!u)continue;x!==(h.default||0)&&(u=!1)}else m.startsWith("origin")?(d=!0,o[m]=p):n[m]=p}if(r.transform||(c||a?n.transform=VW(e.transform,s,u,a):n.transform&&(n.transform="none")),d){const{originX:m="50%",originY:x="50%",originZ:h=0}=o;n.transformOrigin=`${m} ${x} ${h}`}}const AN=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function a_(e,r,s){for(const a in r)!Qa(r[a])&&!ZI(a,s)&&(e[a]=r[a])}function XW({transformTemplate:e},r,s){return g.useMemo(()=>{const a=AN();return PN(a,r,{enableHardwareAcceleration:!s},e),Object.assign({},a.vars,a.style)},[r])}function JW(e,r,s){const a=e.style||{},n={};return a_(n,a,e),Object.assign(n,XW(e,r,s)),e.transformValues?e.transformValues(n):n}function QW(e,r,s){const a={},n=JW(e,r,s);return e.drag&&e.dragListener!==!1&&(a.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(a.tabIndex=0),a.style=n,a}const ZW=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Pf(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||ZW.has(e)}let n_=e=>!Pf(e);function eG(e){e&&(n_=r=>r.startsWith("on")?!Pf(r):e(r))}try{eG(require("@emotion/is-prop-valid").default)}catch{}function tG(e,r,s){const a={};for(const n in e)n==="values"&&typeof e.values=="object"||(n_(n)||s===!0&&Pf(n)||!r&&!Pf(n)||e.draggable&&n.startsWith("onDrag"))&&(a[n]=e[n]);return a}function fk(e,r,s){return typeof e=="string"?e:Ot.transform(r+s*e)}function rG(e,r,s){const a=fk(r,e.x,e.width),n=fk(s,e.y,e.height);return`${a} ${n}`}const sG={offset:"stroke-dashoffset",array:"stroke-dasharray"},aG={offset:"strokeDashoffset",array:"strokeDasharray"};function nG(e,r,s=1,a=0,n=!0){e.pathLength=1;const i=n?sG:aG;e[i.offset]=Ot.transform(-a);const l=Ot.transform(r),o=Ot.transform(s);e[i.array]=`${l} ${o}`}function TN(e,{attrX:r,attrY:s,attrScale:a,originX:n,originY:i,pathLength:l,pathSpacing:o=1,pathOffset:c=0,...d},u,m,x){if(PN(e,d,u,x),m){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:p,dimensions:f}=e;h.transform&&(f&&(p.transform=h.transform),delete h.transform),f&&(n!==void 0||i!==void 0||p.transform)&&(p.transformOrigin=rG(f,n!==void 0?n:.5,i!==void 0?i:.5)),r!==void 0&&(h.x=r),s!==void 0&&(h.y=s),a!==void 0&&(h.scale=a),l!==void 0&&nG(h,l,o,c,!1)}const i_=()=>({...AN(),attrs:{}}),EN=e=>typeof e=="string"&&e.toLowerCase()==="svg";function iG(e,r,s,a){const n=g.useMemo(()=>{const i=i_();return TN(i,r,{enableHardwareAcceleration:!1},EN(a),e.transformTemplate),{...i.attrs,style:{...i.style}}},[r]);if(e.style){const i={};a_(i,e.style,e),n.style={...i,...n.style}}return n}function lG(e=!1){return(s,a,n,{latestValues:i},l)=>{const c=(CN(s)?iG:QW)(a,i,l,s),u={...tG(a,typeof s=="string",e),...c,ref:n},{children:m}=a,x=g.useMemo(()=>Qa(m)?m.get():m,[m]);return g.createElement(s,{...u,children:x})}}function l_(e,{style:r,vars:s},a,n){Object.assign(e.style,r,n&&n.getProjectionStyles(a));for(const i in s)e.style.setProperty(i,s[i])}const o_=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function c_(e,r,s,a){l_(e,r,void 0,a);for(const n in r.attrs)e.setAttribute(o_.has(n)?n:wN(n),r.attrs[n])}function IN(e,r){const{style:s}=e,a={};for(const n in s)(Qa(s[n])||r.style&&Qa(r.style[n])||ZI(n,e))&&(a[n]=s[n]);return a}function d_(e,r){const s=IN(e,r);for(const a in e)if(Qa(e[a])||Qa(r[a])){const n=B0.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[n]=e[a]}return s}function _N(e,r,s,a={},n={}){return typeof r=="function"&&(r=r(s!==void 0?s:e.custom,a,n)),typeof r=="string"&&(r=e.variants&&e.variants[r]),typeof r=="function"&&(r=r(s!==void 0?s:e.custom,a,n)),r}function u_(e){const r=g.useRef(null);return r.current===null&&(r.current=e()),r.current}const Af=e=>Array.isArray(e),oG=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),cG=e=>Af(e)?e[e.length-1]||0:e;function Up(e){const r=Qa(e)?e.get():e;return oG(r)?r.toValue():r}function dG({scrapeMotionValuesFromProps:e,createRenderState:r,onMount:s},a,n,i){const l={latestValues:uG(a,n,i,e),renderState:r()};return s&&(l.mount=o=>s(a,o,l)),l}const m_=e=>(r,s)=>{const a=g.useContext(Sy),n=g.useContext(ky),i=()=>dG(e,r,a,n);return s?i():u_(i)};function uG(e,r,s,a){const n={},i=a(e,{});for(const x in i)n[x]=Up(i[x]);let{initial:l,animate:o}=e;const c=Ay(e),d=JI(e);r&&d&&!c&&e.inherit!==!1&&(l===void 0&&(l=r.initial),o===void 0&&(o=r.animate));let u=s?s.initial===!1:!1;u=u||l===!1;const m=u?o:l;return m&&typeof m!="boolean"&&!Py(m)&&(Array.isArray(m)?m:[m]).forEach(h=>{const p=_N(e,h);if(!p)return;const{transitionEnd:f,transition:b,...j}=p;for(const w in j){let y=j[w];if(Array.isArray(y)){const v=u?y.length-1:0;y=y[v]}y!==null&&(n[w]=y)}for(const w in f)n[w]=f[w]}),n}const ms=e=>e;class gk{constructor(){this.order=[],this.scheduled=new Set}add(r){if(!this.scheduled.has(r))return this.scheduled.add(r),this.order.push(r),!0}remove(r){const s=this.order.indexOf(r);s!==-1&&(this.order.splice(s,1),this.scheduled.delete(r))}clear(){this.order.length=0,this.scheduled.clear()}}function mG(e){let r=new gk,s=new gk,a=0,n=!1,i=!1;const l=new WeakSet,o={schedule:(c,d=!1,u=!1)=>{const m=u&&n,x=m?r:s;return d&&l.add(c),x.add(c)&&m&&n&&(a=r.order.length),c},cancel:c=>{s.remove(c),l.delete(c)},process:c=>{if(n){i=!0;return}if(n=!0,[r,s]=[s,r],s.clear(),a=r.order.length,a)for(let d=0;d<a;d++){const u=r.order[d];u(c),l.has(u)&&(o.schedule(u),e())}n=!1,i&&(i=!1,o.process(c))}};return o}const Yx=["prepare","read","update","preRender","render","postRender"],hG=40;function xG(e,r){let s=!1,a=!0;const n={delta:0,timestamp:0,isProcessing:!1},i=Yx.reduce((m,x)=>(m[x]=mG(()=>s=!0),m),{}),l=m=>i[m].process(n),o=()=>{const m=performance.now();s=!1,n.delta=a?1e3/60:Math.max(Math.min(m-n.timestamp,hG),1),n.timestamp=m,n.isProcessing=!0,Yx.forEach(l),n.isProcessing=!1,s&&r&&(a=!1,e(o))},c=()=>{s=!0,a=!0,n.isProcessing||e(o)};return{schedule:Yx.reduce((m,x)=>{const h=i[x];return m[x]=(p,f=!1,b=!1)=>(s||c(),h.schedule(p,f,b)),m},{}),cancel:m=>Yx.forEach(x=>i[x].cancel(m)),state:n,steps:i}}const{schedule:Ar,cancel:Ll,state:ua,steps:Mv}=xG(typeof requestAnimationFrame<"u"?requestAnimationFrame:ms,!0),pG={useVisualState:m_({scrapeMotionValuesFromProps:d_,createRenderState:i_,onMount:(e,r,{renderState:s,latestValues:a})=>{Ar.read(()=>{try{s.dimensions=typeof r.getBBox=="function"?r.getBBox():r.getBoundingClientRect()}catch{s.dimensions={x:0,y:0,width:0,height:0}}}),Ar.render(()=>{TN(s,a,{enableHardwareAcceleration:!1},EN(r.tagName),e.transformTemplate),c_(r,s)})}})},fG={useVisualState:m_({scrapeMotionValuesFromProps:IN,createRenderState:AN})};function gG(e,{forwardMotionProps:r=!1},s,a){return{...CN(e)?pG:fG,preloadedFeatures:s,useRender:lG(r),createVisualElement:a,Component:e}}function fl(e,r,s,a={passive:!0}){return e.addEventListener(r,s,a),()=>e.removeEventListener(r,s)}const h_=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Ey(e,r="page"){return{point:{x:e[r+"X"],y:e[r+"Y"]}}}const yG=e=>r=>h_(r)&&e(r,Ey(r));function vl(e,r,s,a){return fl(e,r,yG(s),a)}const bG=(e,r)=>s=>r(e(s)),Uo=(...e)=>e.reduce(bG);function x_(e){let r=null;return()=>{const s=()=>{r=null};return r===null?(r=e,s):!1}}const yk=x_("dragHorizontal"),bk=x_("dragVertical");function p_(e){let r=!1;if(e==="y")r=bk();else if(e==="x")r=yk();else{const s=yk(),a=bk();s&&a?r=()=>{s(),a()}:(s&&s(),a&&a())}return r}function f_(){const e=p_(!0);return e?(e(),!1):!0}class cc{constructor(r){this.isMounted=!1,this.node=r}update(){}}function vk(e,r){const s="pointer"+(r?"enter":"leave"),a="onHover"+(r?"Start":"End"),n=(i,l)=>{if(i.pointerType==="touch"||f_())return;const o=e.getProps();e.animationState&&o.whileHover&&e.animationState.setActive("whileHover",r),o[a]&&Ar.update(()=>o[a](i,l))};return vl(e.current,s,n,{passive:!e.getProps()[a]})}class vG extends cc{mount(){this.unmount=Uo(vk(this.node,!0),vk(this.node,!1))}unmount(){}}class jG extends cc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let r=!1;try{r=this.node.current.matches(":focus-visible")}catch{r=!0}!r||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Uo(fl(this.node.current,"focus",()=>this.onFocus()),fl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const g_=(e,r)=>r?e===r?!0:g_(e,r.parentElement):!1;function Lv(e,r){if(!r)return;const s=new PointerEvent("pointer"+e);r(s,Ey(s))}class wG extends cc{constructor(){super(...arguments),this.removeStartListeners=ms,this.removeEndListeners=ms,this.removeAccessibleListeners=ms,this.startPointerPress=(r,s)=>{if(this.isPressing)return;this.removeEndListeners();const a=this.node.getProps(),i=vl(window,"pointerup",(o,c)=>{if(!this.checkPressEnd())return;const{onTap:d,onTapCancel:u,globalTapTarget:m}=this.node.getProps();Ar.update(()=>{!m&&!g_(this.node.current,o.target)?u&&u(o,c):d&&d(o,c)})},{passive:!(a.onTap||a.onPointerUp)}),l=vl(window,"pointercancel",(o,c)=>this.cancelPress(o,c),{passive:!(a.onTapCancel||a.onPointerCancel)});this.removeEndListeners=Uo(i,l),this.startPress(r,s)},this.startAccessiblePress=()=>{const r=i=>{if(i.key!=="Enter"||this.isPressing)return;const l=o=>{o.key!=="Enter"||!this.checkPressEnd()||Lv("up",(c,d)=>{const{onTap:u}=this.node.getProps();u&&Ar.update(()=>u(c,d))})};this.removeEndListeners(),this.removeEndListeners=fl(this.node.current,"keyup",l),Lv("down",(o,c)=>{this.startPress(o,c)})},s=fl(this.node.current,"keydown",r),a=()=>{this.isPressing&&Lv("cancel",(i,l)=>this.cancelPress(i,l))},n=fl(this.node.current,"blur",a);this.removeAccessibleListeners=Uo(s,n)}}startPress(r,s){this.isPressing=!0;const{onTapStart:a,whileTap:n}=this.node.getProps();n&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),a&&Ar.update(()=>a(r,s))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!f_()}cancelPress(r,s){if(!this.checkPressEnd())return;const{onTapCancel:a}=this.node.getProps();a&&Ar.update(()=>a(r,s))}mount(){const r=this.node.getProps(),s=vl(r.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(r.onTapStart||r.onPointerStart)}),a=fl(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Uo(s,a)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const K2=new WeakMap,Fv=new WeakMap,NG=e=>{const r=K2.get(e.target);r&&r(e)},SG=e=>{e.forEach(NG)};function kG({root:e,...r}){const s=e||document;Fv.has(s)||Fv.set(s,{});const a=Fv.get(s),n=JSON.stringify(r);return a[n]||(a[n]=new IntersectionObserver(SG,{root:e,...r})),a[n]}function CG(e,r,s){const a=kG(r);return K2.set(e,s),a.observe(e),()=>{K2.delete(e),a.unobserve(e)}}const PG={some:0,all:1};class AG extends cc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:r={}}=this.node.getProps(),{root:s,margin:a,amount:n="some",once:i}=r,l={root:s?s.current:void 0,rootMargin:a,threshold:typeof n=="number"?n:PG[n]},o=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:m}=this.node.getProps(),x=d?u:m;x&&x(c)};return CG(this.node.current,l,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:r,prevProps:s}=this.node;["amount","margin","root"].some(TG(r,s))&&this.startObserver()}unmount(){}}function TG({viewport:e={}},{viewport:r={}}={}){return s=>e[s]!==r[s]}const EG={inView:{Feature:AG},tap:{Feature:wG},focus:{Feature:jG},hover:{Feature:vG}};function y_(e,r){if(!Array.isArray(r))return!1;const s=r.length;if(s!==e.length)return!1;for(let a=0;a<s;a++)if(r[a]!==e[a])return!1;return!0}function IG(e){const r={};return e.values.forEach((s,a)=>r[a]=s.get()),r}function _G(e){const r={};return e.values.forEach((s,a)=>r[a]=s.getVelocity()),r}function Iy(e,r,s){const a=e.getProps();return _N(a,r,s!==void 0?s:a.custom,IG(e),_G(e))}let ON=ms;const Uc=e=>e*1e3,jl=e=>e/1e3,OG={current:!1},b_=e=>Array.isArray(e)&&typeof e[0]=="number";function v_(e){return!!(!e||typeof e=="string"&&j_[e]||b_(e)||Array.isArray(e)&&e.every(v_))}const mh=([e,r,s,a])=>`cubic-bezier(${e}, ${r}, ${s}, ${a})`,j_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:mh([0,.65,.55,1]),circOut:mh([.55,0,1,.45]),backIn:mh([.31,.01,.66,-.59]),backOut:mh([.33,1.53,.69,.99])};function w_(e){if(e)return b_(e)?mh(e):Array.isArray(e)?e.map(w_):j_[e]}function DG(e,r,s,{delay:a=0,duration:n,repeat:i=0,repeatType:l="loop",ease:o,times:c}={}){const d={[r]:s};c&&(d.offset=c);const u=w_(o);return Array.isArray(u)&&(d.easing=u),e.animate(d,{delay:a,duration:n,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:i+1,direction:l==="reverse"?"alternate":"normal"})}function MG(e,{repeat:r,repeatType:s="loop"}){const a=r&&s!=="loop"&&r%2===1?0:e.length-1;return e[a]}const N_=(e,r,s)=>(((1-3*s+3*r)*e+(3*s-6*r))*e+3*r)*e,LG=1e-7,FG=12;function RG(e,r,s,a,n){let i,l,o=0;do l=r+(s-r)/2,i=N_(l,a,n)-e,i>0?s=l:r=l;while(Math.abs(i)>LG&&++o<FG);return l}function U0(e,r,s,a){if(e===r&&s===a)return ms;const n=i=>RG(i,0,1,e,s);return i=>i===0||i===1?i:N_(n(i),r,a)}const BG=U0(.42,0,1,1),$G=U0(0,0,.58,1),S_=U0(.42,0,.58,1),zG=e=>Array.isArray(e)&&typeof e[0]!="number",k_=e=>r=>r<=.5?e(2*r)/2:(2-e(2*(1-r)))/2,C_=e=>r=>1-e(1-r),DN=e=>1-Math.sin(Math.acos(e)),P_=C_(DN),UG=k_(DN),A_=U0(.33,1.53,.69,.99),MN=C_(A_),HG=k_(MN),VG=e=>(e*=2)<1?.5*MN(e):.5*(2-Math.pow(2,-10*(e-1))),WG={linear:ms,easeIn:BG,easeInOut:S_,easeOut:$G,circIn:DN,circInOut:UG,circOut:P_,backIn:MN,backInOut:HG,backOut:A_,anticipate:VG},jk=e=>{if(Array.isArray(e)){ON(e.length===4);const[r,s,a,n]=e;return U0(r,s,a,n)}else if(typeof e=="string")return WG[e];return e},LN=(e,r)=>s=>!!($0(s)&&qW.test(s)&&s.startsWith(e)||r&&Object.prototype.hasOwnProperty.call(s,r)),T_=(e,r,s)=>a=>{if(!$0(a))return a;const[n,i,l,o]=a.match(Ty);return{[e]:parseFloat(n),[r]:parseFloat(i),[s]:parseFloat(l),alpha:o!==void 0?parseFloat(o):1}},GG=e=>Xo(0,255,e),Rv={...Pd,transform:e=>Math.round(GG(e))},_c={test:LN("rgb","red"),parse:T_("red","green","blue"),transform:({red:e,green:r,blue:s,alpha:a=1})=>"rgba("+Rv.transform(e)+", "+Rv.transform(r)+", "+Rv.transform(s)+", "+Ch(kh.transform(a))+")"};function qG(e){let r="",s="",a="",n="";return e.length>5?(r=e.substring(1,3),s=e.substring(3,5),a=e.substring(5,7),n=e.substring(7,9)):(r=e.substring(1,2),s=e.substring(2,3),a=e.substring(3,4),n=e.substring(4,5),r+=r,s+=s,a+=a,n+=n),{red:parseInt(r,16),green:parseInt(s,16),blue:parseInt(a,16),alpha:n?parseInt(n,16)/255:1}}const Y2={test:LN("#"),parse:qG,transform:_c.transform},uu={test:LN("hsl","hue"),parse:T_("hue","saturation","lightness"),transform:({hue:e,saturation:r,lightness:s,alpha:a=1})=>"hsla("+Math.round(e)+", "+Yi.transform(Ch(r))+", "+Yi.transform(Ch(s))+", "+Ch(kh.transform(a))+")"},ka={test:e=>_c.test(e)||Y2.test(e)||uu.test(e),parse:e=>_c.test(e)?_c.parse(e):uu.test(e)?uu.parse(e):Y2.parse(e),transform:e=>$0(e)?e:e.hasOwnProperty("red")?_c.transform(e):uu.transform(e)},Gr=(e,r,s)=>-s*e+s*r+e;function Bv(e,r,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(r-e)*6*s:s<1/2?r:s<2/3?e+(r-e)*(2/3-s)*6:e}function KG({hue:e,saturation:r,lightness:s,alpha:a}){e/=360,r/=100,s/=100;let n=0,i=0,l=0;if(!r)n=i=l=s;else{const o=s<.5?s*(1+r):s+r-s*r,c=2*s-o;n=Bv(c,o,e+1/3),i=Bv(c,o,e),l=Bv(c,o,e-1/3)}return{red:Math.round(n*255),green:Math.round(i*255),blue:Math.round(l*255),alpha:a}}const $v=(e,r,s)=>{const a=e*e;return Math.sqrt(Math.max(0,s*(r*r-a)+a))},YG=[Y2,_c,uu],XG=e=>YG.find(r=>r.test(e));function wk(e){const r=XG(e);let s=r.parse(e);return r===uu&&(s=KG(s)),s}const E_=(e,r)=>{const s=wk(e),a=wk(r),n={...s};return i=>(n.red=$v(s.red,a.red,i),n.green=$v(s.green,a.green,i),n.blue=$v(s.blue,a.blue,i),n.alpha=Gr(s.alpha,a.alpha,i),_c.transform(n))};function JG(e){var r,s;return isNaN(e)&&$0(e)&&(((r=e.match(Ty))===null||r===void 0?void 0:r.length)||0)+(((s=e.match(r_))===null||s===void 0?void 0:s.length)||0)>0}const I_={regex:WW,countKey:"Vars",token:"${v}",parse:ms},__={regex:r_,countKey:"Colors",token:"${c}",parse:ka.parse},O_={regex:Ty,countKey:"Numbers",token:"${n}",parse:Pd.parse};function zv(e,{regex:r,countKey:s,token:a,parse:n}){const i=e.tokenised.match(r);i&&(e["num"+s]=i.length,e.tokenised=e.tokenised.replace(r,a),e.values.push(...i.map(n)))}function Tf(e){const r=e.toString(),s={value:r,tokenised:r,values:[],numVars:0,numColors:0,numNumbers:0};return s.value.includes("var(--")&&zv(s,I_),zv(s,__),zv(s,O_),s}function D_(e){return Tf(e).values}function M_(e){const{values:r,numColors:s,numVars:a,tokenised:n}=Tf(e),i=r.length;return l=>{let o=n;for(let c=0;c<i;c++)c<a?o=o.replace(I_.token,l[c]):c<a+s?o=o.replace(__.token,ka.transform(l[c])):o=o.replace(O_.token,Ch(l[c]));return o}}const QG=e=>typeof e=="number"?0:e;function ZG(e){const r=D_(e);return M_(e)(r.map(QG))}const Jo={test:JG,parse:D_,createTransformer:M_,getAnimatableNone:ZG},L_=(e,r)=>s=>`${s>0?r:e}`;function F_(e,r){return typeof e=="number"?s=>Gr(e,r,s):ka.test(e)?E_(e,r):e.startsWith("var(")?L_(e,r):B_(e,r)}const R_=(e,r)=>{const s=[...e],a=s.length,n=e.map((i,l)=>F_(i,r[l]));return i=>{for(let l=0;l<a;l++)s[l]=n[l](i);return s}},eq=(e,r)=>{const s={...e,...r},a={};for(const n in s)e[n]!==void 0&&r[n]!==void 0&&(a[n]=F_(e[n],r[n]));return n=>{for(const i in a)s[i]=a[i](n);return s}},B_=(e,r)=>{const s=Jo.createTransformer(r),a=Tf(e),n=Tf(r);return a.numVars===n.numVars&&a.numColors===n.numColors&&a.numNumbers>=n.numNumbers?Uo(R_(a.values,n.values),s):L_(e,r)},n0=(e,r,s)=>{const a=r-e;return a===0?1:(s-e)/a},Nk=(e,r)=>s=>Gr(e,r,s);function tq(e){return typeof e=="number"?Nk:typeof e=="string"?ka.test(e)?E_:B_:Array.isArray(e)?R_:typeof e=="object"?eq:Nk}function rq(e,r,s){const a=[],n=s||tq(e[0]),i=e.length-1;for(let l=0;l<i;l++){let o=n(e[l],e[l+1]);if(r){const c=Array.isArray(r)?r[l]||ms:r;o=Uo(c,o)}a.push(o)}return a}function $_(e,r,{clamp:s=!0,ease:a,mixer:n}={}){const i=e.length;if(ON(i===r.length),i===1)return()=>r[0];e[0]>e[i-1]&&(e=[...e].reverse(),r=[...r].reverse());const l=rq(r,a,n),o=l.length,c=d=>{let u=0;if(o>1)for(;u<e.length-2&&!(d<e[u+1]);u++);const m=n0(e[u],e[u+1],d);return l[u](m)};return s?d=>c(Xo(e[0],e[i-1],d)):c}function sq(e,r){const s=e[e.length-1];for(let a=1;a<=r;a++){const n=n0(0,r,a);e.push(Gr(s,1,n))}}function aq(e){const r=[0];return sq(r,e.length-1),r}function nq(e,r){return e.map(s=>s*r)}function iq(e,r){return e.map(()=>r||S_).splice(0,e.length-1)}function Ef({duration:e=300,keyframes:r,times:s,ease:a="easeInOut"}){const n=zG(a)?a.map(jk):jk(a),i={done:!1,value:r[0]},l=nq(s&&s.length===r.length?s:aq(r),e),o=$_(l,r,{ease:Array.isArray(n)?n:iq(r,n)});return{calculatedDuration:e,next:c=>(i.value=o(c),i.done=c>=e,i)}}function z_(e,r){return r?e*(1e3/r):0}const lq=5;function U_(e,r,s){const a=Math.max(r-lq,0);return z_(s-e(a),r-a)}const Uv=.001,oq=.01,cq=10,dq=.05,uq=1;function mq({duration:e=800,bounce:r=.25,velocity:s=0,mass:a=1}){let n,i,l=1-r;l=Xo(dq,uq,l),e=Xo(oq,cq,jl(e)),l<1?(n=d=>{const u=d*l,m=u*e,x=u-s,h=X2(d,l),p=Math.exp(-m);return Uv-x/h*p},i=d=>{const m=d*l*e,x=m*s+s,h=Math.pow(l,2)*Math.pow(d,2)*e,p=Math.exp(-m),f=X2(Math.pow(d,2),l);return(-n(d)+Uv>0?-1:1)*((x-h)*p)/f}):(n=d=>{const u=Math.exp(-d*e),m=(d-s)*e+1;return-Uv+u*m},i=d=>{const u=Math.exp(-d*e),m=(s-d)*(e*e);return u*m});const o=5/e,c=xq(n,i,o);if(e=Uc(e),isNaN(c))return{stiffness:100,damping:10,duration:e};{const d=Math.pow(c,2)*a;return{stiffness:d,damping:l*2*Math.sqrt(a*d),duration:e}}}const hq=12;function xq(e,r,s){let a=s;for(let n=1;n<hq;n++)a=a-e(a)/r(a);return a}function X2(e,r){return e*Math.sqrt(1-r*r)}const pq=["duration","bounce"],fq=["stiffness","damping","mass"];function Sk(e,r){return r.some(s=>e[s]!==void 0)}function gq(e){let r={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!Sk(e,fq)&&Sk(e,pq)){const s=mq(e);r={...r,...s,mass:1},r.isResolvedFromDuration=!0}return r}function H_({keyframes:e,restDelta:r,restSpeed:s,...a}){const n=e[0],i=e[e.length-1],l={done:!1,value:n},{stiffness:o,damping:c,mass:d,duration:u,velocity:m,isResolvedFromDuration:x}=gq({...a,velocity:-jl(a.velocity||0)}),h=m||0,p=c/(2*Math.sqrt(o*d)),f=i-n,b=jl(Math.sqrt(o/d)),j=Math.abs(f)<5;s||(s=j?.01:2),r||(r=j?.005:.5);let w;if(p<1){const y=X2(b,p);w=v=>{const N=Math.exp(-p*b*v);return i-N*((h+p*b*f)/y*Math.sin(y*v)+f*Math.cos(y*v))}}else if(p===1)w=y=>i-Math.exp(-b*y)*(f+(h+b*f)*y);else{const y=b*Math.sqrt(p*p-1);w=v=>{const N=Math.exp(-p*b*v),S=Math.min(y*v,300);return i-N*((h+p*b*f)*Math.sinh(S)+y*f*Math.cosh(S))/y}}return{calculatedDuration:x&&u||null,next:y=>{const v=w(y);if(x)l.done=y>=u;else{let N=h;y!==0&&(p<1?N=U_(w,y,v):N=0);const S=Math.abs(N)<=s,k=Math.abs(i-v)<=r;l.done=S&&k}return l.value=l.done?i:v,l}}}function kk({keyframes:e,velocity:r=0,power:s=.8,timeConstant:a=325,bounceDamping:n=10,bounceStiffness:i=500,modifyTarget:l,min:o,max:c,restDelta:d=.5,restSpeed:u}){const m=e[0],x={done:!1,value:m},h=C=>o!==void 0&&C<o||c!==void 0&&C>c,p=C=>o===void 0?c:c===void 0||Math.abs(o-C)<Math.abs(c-C)?o:c;let f=s*r;const b=m+f,j=l===void 0?b:l(b);j!==b&&(f=j-m);const w=C=>-f*Math.exp(-C/a),y=C=>j+w(C),v=C=>{const P=w(C),_=y(C);x.done=Math.abs(P)<=d,x.value=x.done?j:_};let N,S;const k=C=>{h(x.value)&&(N=C,S=H_({keyframes:[x.value,p(x.value)],velocity:U_(y,C,x.value),damping:n,stiffness:i,restDelta:d,restSpeed:u}))};return k(0),{calculatedDuration:null,next:C=>{let P=!1;return!S&&N===void 0&&(P=!0,v(C),k(C)),N!==void 0&&C>N?S.next(C-N):(!P&&v(C),x)}}}const yq=e=>{const r=({timestamp:s})=>e(s);return{start:()=>Ar.update(r,!0),stop:()=>Ll(r),now:()=>ua.isProcessing?ua.timestamp:performance.now()}},Ck=2e4;function Pk(e){let r=0;const s=50;let a=e.next(r);for(;!a.done&&r<Ck;)r+=s,a=e.next(r);return r>=Ck?1/0:r}const bq={decay:kk,inertia:kk,tween:Ef,keyframes:Ef,spring:H_};function If({autoplay:e=!0,delay:r=0,driver:s=yq,keyframes:a,type:n="keyframes",repeat:i=0,repeatDelay:l=0,repeatType:o="loop",onPlay:c,onStop:d,onComplete:u,onUpdate:m,...x}){let h=1,p=!1,f,b;const j=()=>{b=new Promise(T=>{f=T})};j();let w;const y=bq[n]||Ef;let v;y!==Ef&&typeof a[0]!="number"&&(v=$_([0,100],a,{clamp:!1}),a=[0,100]);const N=y({...x,keyframes:a});let S;o==="mirror"&&(S=y({...x,keyframes:[...a].reverse(),velocity:-(x.velocity||0)}));let k="idle",C=null,P=null,_=null;N.calculatedDuration===null&&i&&(N.calculatedDuration=Pk(N));const{calculatedDuration:A}=N;let D=1/0,F=1/0;A!==null&&(D=A+l,F=D*(i+1)-l);let X=0;const ce=T=>{if(P===null)return;h>0&&(P=Math.min(P,T)),h<0&&(P=Math.min(T-F/h,P)),C!==null?X=C:X=Math.round(T-P)*h;const O=X-r*(h>=0?1:-1),K=h>=0?O<0:O>F;X=Math.max(O,0),k==="finished"&&C===null&&(X=F);let U=X,ee=N;if(i){const Y=Math.min(X,F)/D;let ie=Math.floor(Y),me=Y%1;!me&&Y>=1&&(me=1),me===1&&ie--,ie=Math.min(ie,i+1),!!(ie%2)&&(o==="reverse"?(me=1-me,l&&(me-=l/D)):o==="mirror"&&(ee=S)),U=Xo(0,1,me)*D}const M=K?{done:!1,value:a[0]}:ee.next(U);v&&(M.value=v(M.value));let{done:H}=M;!K&&A!==null&&(H=h>=0?X>=F:X<=0);const B=C===null&&(k==="finished"||k==="running"&&H);return m&&m(M.value),B&&q(),M},he=()=>{w&&w.stop(),w=void 0},L=()=>{k="idle",he(),f(),j(),P=_=null},q=()=>{k="finished",u&&u(),he(),f()},se=()=>{if(p)return;w||(w=s(ce));const T=w.now();c&&c(),C!==null?P=T-C:(!P||k==="finished")&&(P=T),k==="finished"&&j(),_=P,C=null,k="running",w.start()};e&&se();const R={then(T,O){return b.then(T,O)},get time(){return jl(X)},set time(T){T=Uc(T),X=T,C!==null||!w||h===0?C=T:P=w.now()-T/h},get duration(){const T=N.calculatedDuration===null?Pk(N):N.calculatedDuration;return jl(T)},get speed(){return h},set speed(T){T===h||!w||(h=T,R.time=jl(X))},get state(){return k},play:se,pause:()=>{k="paused",C=X},stop:()=>{p=!0,k!=="idle"&&(k="idle",d&&d(),L())},cancel:()=>{_!==null&&ce(_),L()},complete:()=>{k="finished"},sample:T=>(P=0,ce(T))};return R}function vq(e){let r;return()=>(r===void 0&&(r=e()),r)}const jq=vq(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),wq=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Xx=10,Nq=2e4,Sq=(e,r)=>r.type==="spring"||e==="backgroundColor"||!v_(r.ease);function kq(e,r,{onUpdate:s,onComplete:a,...n}){if(!(jq()&&wq.has(r)&&!n.repeatDelay&&n.repeatType!=="mirror"&&n.damping!==0&&n.type!=="inertia"))return!1;let l=!1,o,c,d=!1;const u=()=>{c=new Promise(y=>{o=y})};u();let{keyframes:m,duration:x=300,ease:h,times:p}=n;if(Sq(r,n)){const y=If({...n,repeat:0,delay:0});let v={done:!1,value:m[0]};const N=[];let S=0;for(;!v.done&&S<Nq;)v=y.sample(S),N.push(v.value),S+=Xx;p=void 0,m=N,x=S-Xx,h="linear"}const f=DG(e.owner.current,r,m,{...n,duration:x,ease:h,times:p}),b=()=>{d=!1,f.cancel()},j=()=>{d=!0,Ar.update(b),o(),u()};return f.onfinish=()=>{d||(e.set(MG(m,n)),a&&a(),j())},{then(y,v){return c.then(y,v)},attachTimeline(y){return f.timeline=y,f.onfinish=null,ms},get time(){return jl(f.currentTime||0)},set time(y){f.currentTime=Uc(y)},get speed(){return f.playbackRate},set speed(y){f.playbackRate=y},get duration(){return jl(x)},play:()=>{l||(f.play(),Ll(b))},pause:()=>f.pause(),stop:()=>{if(l=!0,f.playState==="idle")return;const{currentTime:y}=f;if(y){const v=If({...n,autoplay:!1});e.setWithVelocity(v.sample(y-Xx).value,v.sample(y).value,Xx)}j()},complete:()=>{d||f.finish()},cancel:j}}function Cq({keyframes:e,delay:r,onUpdate:s,onComplete:a}){const n=()=>(s&&s(e[e.length-1]),a&&a(),{time:0,speed:1,duration:0,play:ms,pause:ms,stop:ms,then:i=>(i(),Promise.resolve()),cancel:ms,complete:ms});return r?If({keyframes:[0,1],duration:0,delay:r,onComplete:n}):n()}const Pq={type:"spring",stiffness:500,damping:25,restSpeed:10},Aq=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Tq={type:"keyframes",duration:.8},Eq={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Iq=(e,{keyframes:r})=>r.length>2?Tq:Cd.has(e)?e.startsWith("scale")?Aq(r[1]):Pq:Eq,J2=(e,r)=>e==="zIndex"?!1:!!(typeof r=="number"||Array.isArray(r)||typeof r=="string"&&(Jo.test(r)||r==="0")&&!r.startsWith("url(")),_q=new Set(["brightness","contrast","saturate","opacity"]);function Oq(e){const[r,s]=e.slice(0,-1).split("(");if(r==="drop-shadow")return e;const[a]=s.match(Ty)||[];if(!a)return e;const n=s.replace(a,"");let i=_q.has(r)?1:0;return a!==s&&(i*=100),r+"("+i+n+")"}const Dq=/([a-z-]*)\(.*?\)/g,Q2={...Jo,getAnimatableNone:e=>{const r=e.match(Dq);return r?r.map(Oq).join(" "):e}},Mq={...s_,color:ka,backgroundColor:ka,outlineColor:ka,fill:ka,stroke:ka,borderColor:ka,borderTopColor:ka,borderRightColor:ka,borderBottomColor:ka,borderLeftColor:ka,filter:Q2,WebkitFilter:Q2},FN=e=>Mq[e];function V_(e,r){let s=FN(e);return s!==Q2&&(s=Jo),s.getAnimatableNone?s.getAnimatableNone(r):void 0}const W_=e=>/^0[^.\s]+$/.test(e);function Lq(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||W_(e)}function Fq(e,r,s,a){const n=J2(r,s);let i;Array.isArray(s)?i=[...s]:i=[null,s];const l=a.from!==void 0?a.from:e.get();let o;const c=[];for(let d=0;d<i.length;d++)i[d]===null&&(i[d]=d===0?l:i[d-1]),Lq(i[d])&&c.push(d),typeof i[d]=="string"&&i[d]!=="none"&&i[d]!=="0"&&(o=i[d]);if(n&&c.length&&o)for(let d=0;d<c.length;d++){const u=c[d];i[u]=V_(r,o)}return i}function Rq({when:e,delay:r,delayChildren:s,staggerChildren:a,staggerDirection:n,repeat:i,repeatType:l,repeatDelay:o,from:c,elapsed:d,...u}){return!!Object.keys(u).length}function RN(e,r){return e[r]||e.default||e}const Bq={skipAnimations:!1},BN=(e,r,s,a={})=>n=>{const i=RN(a,e)||{},l=i.delay||a.delay||0;let{elapsed:o=0}=a;o=o-Uc(l);const c=Fq(r,e,s,i),d=c[0],u=c[c.length-1],m=J2(e,d),x=J2(e,u);let h={keyframes:c,velocity:r.getVelocity(),ease:"easeOut",...i,delay:-o,onUpdate:p=>{r.set(p),i.onUpdate&&i.onUpdate(p)},onComplete:()=>{n(),i.onComplete&&i.onComplete()}};if(Rq(i)||(h={...h,...Iq(e,h)}),h.duration&&(h.duration=Uc(h.duration)),h.repeatDelay&&(h.repeatDelay=Uc(h.repeatDelay)),!m||!x||OG.current||i.type===!1||Bq.skipAnimations)return Cq(h);if(!a.isHandoff&&r.owner&&r.owner.current instanceof HTMLElement&&!r.owner.getProps().onUpdate){const p=kq(r,e,h);if(p)return p}return If(h)};function _f(e){return!!(Qa(e)&&e.add)}const G_=e=>/^\-?\d*\.?\d+$/.test(e);function $N(e,r){e.indexOf(r)===-1&&e.push(r)}function zN(e,r){const s=e.indexOf(r);s>-1&&e.splice(s,1)}class UN{constructor(){this.subscriptions=[]}add(r){return $N(this.subscriptions,r),()=>zN(this.subscriptions,r)}notify(r,s,a){const n=this.subscriptions.length;if(n)if(n===1)this.subscriptions[0](r,s,a);else for(let i=0;i<n;i++){const l=this.subscriptions[i];l&&l(r,s,a)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const $q=e=>!isNaN(parseFloat(e));class zq{constructor(r,s={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(a,n=!0)=>{this.prev=this.current,this.current=a;const{delta:i,timestamp:l}=ua;this.lastUpdated!==l&&(this.timeDelta=i,this.lastUpdated=l,Ar.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),n&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Ar.postRender(this.velocityCheck),this.velocityCheck=({timestamp:a})=>{a!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=r,this.canTrackVelocity=$q(this.current),this.owner=s.owner}onChange(r){return this.on("change",r)}on(r,s){this.events[r]||(this.events[r]=new UN);const a=this.events[r].add(s);return r==="change"?()=>{a(),Ar.read(()=>{this.events.change.getSize()||this.stop()})}:a}clearListeners(){for(const r in this.events)this.events[r].clear()}attach(r,s){this.passiveEffect=r,this.stopPassiveEffect=s}set(r,s=!0){!s||!this.passiveEffect?this.updateAndNotify(r,s):this.passiveEffect(r,this.updateAndNotify)}setWithVelocity(r,s,a){this.set(s),this.prev=r,this.timeDelta=a}jump(r){this.updateAndNotify(r),this.prev=r,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?z_(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(r){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=r(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Gu(e,r){return new zq(e,r)}const q_=e=>r=>r.test(e),Uq={test:e=>e==="auto",parse:e=>e},K_=[Pd,Ot,Yi,fo,YW,KW,Uq],Gm=e=>K_.find(q_(e)),Hq=[...K_,ka,Jo],Vq=e=>Hq.find(q_(e));function Wq(e,r,s){e.hasValue(r)?e.getValue(r).set(s):e.addValue(r,Gu(s))}function Gq(e,r){const s=Iy(e,r);let{transitionEnd:a={},transition:n={},...i}=s?e.makeTargetAnimatable(s,!1):{};i={...i,...a};for(const l in i){const o=cG(i[l]);Wq(e,l,o)}}function qq(e,r,s){var a,n;const i=Object.keys(r).filter(o=>!e.hasValue(o)),l=i.length;if(l)for(let o=0;o<l;o++){const c=i[o],d=r[c];let u=null;Array.isArray(d)&&(u=d[0]),u===null&&(u=(n=(a=s[c])!==null&&a!==void 0?a:e.readValue(c))!==null&&n!==void 0?n:r[c]),u!=null&&(typeof u=="string"&&(G_(u)||W_(u))?u=parseFloat(u):!Vq(u)&&Jo.test(d)&&(u=V_(c,d)),e.addValue(c,Gu(u,{owner:e})),s[c]===void 0&&(s[c]=u),u!==null&&e.setBaseTarget(c,u))}}function Kq(e,r){return r?(r[e]||r.default||r).from:void 0}function Yq(e,r,s){const a={};for(const n in e){const i=Kq(n,r);if(i!==void 0)a[n]=i;else{const l=s.getValue(n);l&&(a[n]=l.get())}}return a}function Xq({protectedKeys:e,needsAnimating:r},s){const a=e.hasOwnProperty(s)&&r[s]!==!0;return r[s]=!1,a}function Jq(e,r){const s=e.get();if(Array.isArray(r)){for(let a=0;a<r.length;a++)if(r[a]!==s)return!0}else return s!==r}function Y_(e,r,{delay:s=0,transitionOverride:a,type:n}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:l,...o}=e.makeTargetAnimatable(r);const c=e.getValue("willChange");a&&(i=a);const d=[],u=n&&e.animationState&&e.animationState.getState()[n];for(const m in o){const x=e.getValue(m),h=o[m];if(!x||h===void 0||u&&Xq(u,m))continue;const p={delay:s,elapsed:0,...RN(i||{},m)};if(window.HandoffAppearAnimations){const j=e.getProps()[XI];if(j){const w=window.HandoffAppearAnimations(j,m,x,Ar);w!==null&&(p.elapsed=w,p.isHandoff=!0)}}let f=!p.isHandoff&&!Jq(x,h);if(p.type==="spring"&&(x.getVelocity()||p.velocity)&&(f=!1),x.animation&&(f=!1),f)continue;x.start(BN(m,x,h,e.shouldReduceMotion&&Cd.has(m)?{type:!1}:p));const b=x.animation;_f(c)&&(c.add(m),b.then(()=>c.remove(m))),d.push(b)}return l&&Promise.all(d).then(()=>{l&&Gq(e,l)}),d}function Z2(e,r,s={}){const a=Iy(e,r,s.custom);let{transition:n=e.getDefaultTransition()||{}}=a||{};s.transitionOverride&&(n=s.transitionOverride);const i=a?()=>Promise.all(Y_(e,a,s)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:u,staggerDirection:m}=n;return Qq(e,r,d+c,u,m,s)}:()=>Promise.resolve(),{when:o}=n;if(o){const[c,d]=o==="beforeChildren"?[i,l]:[l,i];return c().then(()=>d())}else return Promise.all([i(),l(s.delay)])}function Qq(e,r,s=0,a=0,n=1,i){const l=[],o=(e.variantChildren.size-1)*a,c=n===1?(d=0)=>d*a:(d=0)=>o-d*a;return Array.from(e.variantChildren).sort(Zq).forEach((d,u)=>{d.notify("AnimationStart",r),l.push(Z2(d,r,{...i,delay:s+c(u)}).then(()=>d.notify("AnimationComplete",r)))}),Promise.all(l)}function Zq(e,r){return e.sortNodePosition(r)}function eK(e,r,s={}){e.notify("AnimationStart",r);let a;if(Array.isArray(r)){const n=r.map(i=>Z2(e,i,s));a=Promise.all(n)}else if(typeof r=="string")a=Z2(e,r,s);else{const n=typeof r=="function"?Iy(e,r,s.custom):r;a=Promise.all(Y_(e,n,s))}return a.then(()=>e.notify("AnimationComplete",r))}const tK=[...NN].reverse(),rK=NN.length;function sK(e){return r=>Promise.all(r.map(({animation:s,options:a})=>eK(e,s,a)))}function aK(e){let r=sK(e);const s=iK();let a=!0;const n=(c,d)=>{const u=Iy(e,d);if(u){const{transition:m,transitionEnd:x,...h}=u;c={...c,...h,...x}}return c};function i(c){r=c(e)}function l(c,d){const u=e.getProps(),m=e.getVariantContext(!0)||{},x=[],h=new Set;let p={},f=1/0;for(let j=0;j<rK;j++){const w=tK[j],y=s[w],v=u[w]!==void 0?u[w]:m[w],N=s0(v),S=w===d?y.isActive:null;S===!1&&(f=j);let k=v===m[w]&&v!==u[w]&&N;if(k&&a&&e.manuallyAnimateOnMount&&(k=!1),y.protectedKeys={...p},!y.isActive&&S===null||!v&&!y.prevProp||Py(v)||typeof v=="boolean")continue;let P=nK(y.prevProp,v)||w===d&&y.isActive&&!k&&N||j>f&&N,_=!1;const A=Array.isArray(v)?v:[v];let D=A.reduce(n,{});S===!1&&(D={});const{prevResolvedValues:F={}}=y,X={...F,...D},ce=he=>{P=!0,h.has(he)&&(_=!0,h.delete(he)),y.needsAnimating[he]=!0};for(const he in X){const L=D[he],q=F[he];if(p.hasOwnProperty(he))continue;let se=!1;Af(L)&&Af(q)?se=!y_(L,q):se=L!==q,se?L!==void 0?ce(he):h.add(he):L!==void 0&&h.has(he)?ce(he):y.protectedKeys[he]=!0}y.prevProp=v,y.prevResolvedValues=D,y.isActive&&(p={...p,...D}),a&&e.blockInitialAnimation&&(P=!1),P&&(!k||_)&&x.push(...A.map(he=>({animation:he,options:{type:w,...c}})))}if(h.size){const j={};h.forEach(w=>{const y=e.getBaseTarget(w);y!==void 0&&(j[w]=y)}),x.push({animation:j})}let b=!!x.length;return a&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(b=!1),a=!1,b?r(x):Promise.resolve()}function o(c,d,u){var m;if(s[c].isActive===d)return Promise.resolve();(m=e.variantChildren)===null||m===void 0||m.forEach(h=>{var p;return(p=h.animationState)===null||p===void 0?void 0:p.setActive(c,d)}),s[c].isActive=d;const x=l(u,c);for(const h in s)s[h].protectedKeys={};return x}return{animateChanges:l,setActive:o,setAnimateFunction:i,getState:()=>s}}function nK(e,r){return typeof r=="string"?r!==e:Array.isArray(r)?!y_(r,e):!1}function pc(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function iK(){return{animate:pc(!0),whileInView:pc(),whileHover:pc(),whileTap:pc(),whileDrag:pc(),whileFocus:pc(),exit:pc()}}class lK extends cc{constructor(r){super(r),r.animationState||(r.animationState=aK(r))}updateAnimationControlsSubscription(){const{animate:r}=this.node.getProps();this.unmount(),Py(r)&&(this.unmount=r.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:r}=this.node.getProps(),{animate:s}=this.node.prevProps||{};r!==s&&this.updateAnimationControlsSubscription()}unmount(){}}let oK=0;class cK extends cc{constructor(){super(...arguments),this.id=oK++}update(){if(!this.node.presenceContext)return;const{isPresent:r,onExitComplete:s,custom:a}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||r===n)return;const i=this.node.animationState.setActive("exit",!r,{custom:a??this.node.getProps().custom});s&&!r&&i.then(()=>s(this.id))}mount(){const{register:r}=this.node.presenceContext||{};r&&(this.unmount=r(this.id))}unmount(){}}const dK={animation:{Feature:lK},exit:{Feature:cK}},Ak=(e,r)=>Math.abs(e-r);function uK(e,r){const s=Ak(e.x,r.x),a=Ak(e.y,r.y);return Math.sqrt(s**2+a**2)}class X_{constructor(r,s,{transformPagePoint:a,contextWindow:n,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=Vv(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,h=uK(m.offset,{x:0,y:0})>=3;if(!x&&!h)return;const{point:p}=m,{timestamp:f}=ua;this.history.push({...p,timestamp:f});const{onStart:b,onMove:j}=this.handlers;x||(b&&b(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),j&&j(this.lastMoveEvent,m)},this.handlePointerMove=(m,x)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=Hv(x,this.transformPagePoint),Ar.update(this.updatePoint,!0)},this.handlePointerUp=(m,x)=>{this.end();const{onEnd:h,onSessionEnd:p,resumeAnimation:f}=this.handlers;if(this.dragSnapToOrigin&&f&&f(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Vv(m.type==="pointercancel"?this.lastMoveEventInfo:Hv(x,this.transformPagePoint),this.history);this.startEvent&&h&&h(m,b),p&&p(m,b)},!h_(r))return;this.dragSnapToOrigin=i,this.handlers=s,this.transformPagePoint=a,this.contextWindow=n||window;const l=Ey(r),o=Hv(l,this.transformPagePoint),{point:c}=o,{timestamp:d}=ua;this.history=[{...c,timestamp:d}];const{onSessionStart:u}=s;u&&u(r,Vv(o,this.history)),this.removeListeners=Uo(vl(this.contextWindow,"pointermove",this.handlePointerMove),vl(this.contextWindow,"pointerup",this.handlePointerUp),vl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(r){this.handlers=r}end(){this.removeListeners&&this.removeListeners(),Ll(this.updatePoint)}}function Hv(e,r){return r?{point:r(e.point)}:e}function Tk(e,r){return{x:e.x-r.x,y:e.y-r.y}}function Vv({point:e},r){return{point:e,delta:Tk(e,J_(r)),offset:Tk(e,mK(r)),velocity:hK(r,.1)}}function mK(e){return e[0]}function J_(e){return e[e.length-1]}function hK(e,r){if(e.length<2)return{x:0,y:0};let s=e.length-1,a=null;const n=J_(e);for(;s>=0&&(a=e[s],!(n.timestamp-a.timestamp>Uc(r)));)s--;if(!a)return{x:0,y:0};const i=jl(n.timestamp-a.timestamp);if(i===0)return{x:0,y:0};const l={x:(n.x-a.x)/i,y:(n.y-a.y)/i};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function Nn(e){return e.max-e.min}function ej(e,r=0,s=.01){return Math.abs(e-r)<=s}function Ek(e,r,s,a=.5){e.origin=a,e.originPoint=Gr(r.min,r.max,e.origin),e.scale=Nn(s)/Nn(r),(ej(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Gr(s.min,s.max,e.origin)-e.originPoint,(ej(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Ph(e,r,s,a){Ek(e.x,r.x,s.x,a?a.originX:void 0),Ek(e.y,r.y,s.y,a?a.originY:void 0)}function Ik(e,r,s){e.min=s.min+r.min,e.max=e.min+Nn(r)}function xK(e,r,s){Ik(e.x,r.x,s.x),Ik(e.y,r.y,s.y)}function _k(e,r,s){e.min=r.min-s.min,e.max=e.min+Nn(r)}function Ah(e,r,s){_k(e.x,r.x,s.x),_k(e.y,r.y,s.y)}function pK(e,{min:r,max:s},a){return r!==void 0&&e<r?e=a?Gr(r,e,a.min):Math.max(e,r):s!==void 0&&e>s&&(e=a?Gr(s,e,a.max):Math.min(e,s)),e}function Ok(e,r,s){return{min:r!==void 0?e.min+r:void 0,max:s!==void 0?e.max+s-(e.max-e.min):void 0}}function fK(e,{top:r,left:s,bottom:a,right:n}){return{x:Ok(e.x,s,n),y:Ok(e.y,r,a)}}function Dk(e,r){let s=r.min-e.min,a=r.max-e.max;return r.max-r.min<e.max-e.min&&([s,a]=[a,s]),{min:s,max:a}}function gK(e,r){return{x:Dk(e.x,r.x),y:Dk(e.y,r.y)}}function yK(e,r){let s=.5;const a=Nn(e),n=Nn(r);return n>a?s=n0(r.min,r.max-a,e.min):a>n&&(s=n0(e.min,e.max-n,r.min)),Xo(0,1,s)}function bK(e,r){const s={};return r.min!==void 0&&(s.min=r.min-e.min),r.max!==void 0&&(s.max=r.max-e.min),s}const tj=.35;function vK(e=tj){return e===!1?e=0:e===!0&&(e=tj),{x:Mk(e,"left","right"),y:Mk(e,"top","bottom")}}function Mk(e,r,s){return{min:Lk(e,r),max:Lk(e,s)}}function Lk(e,r){return typeof e=="number"?e:e[r]||0}const Fk=()=>({translate:0,scale:1,origin:0,originPoint:0}),mu=()=>({x:Fk(),y:Fk()}),Rk=()=>({min:0,max:0}),js=()=>({x:Rk(),y:Rk()});function zn(e){return[e("x"),e("y")]}function Q_({top:e,left:r,right:s,bottom:a}){return{x:{min:r,max:s},y:{min:e,max:a}}}function jK({x:e,y:r}){return{top:r.min,right:e.max,bottom:r.max,left:e.min}}function wK(e,r){if(!r)return e;const s=r({x:e.left,y:e.top}),a=r({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:a.y,right:a.x}}function Wv(e){return e===void 0||e===1}function rj({scale:e,scaleX:r,scaleY:s}){return!Wv(e)||!Wv(r)||!Wv(s)}function jc(e){return rj(e)||Z_(e)||e.z||e.rotate||e.rotateX||e.rotateY}function Z_(e){return Bk(e.x)||Bk(e.y)}function Bk(e){return e&&e!=="0%"}function Of(e,r,s){const a=e-s,n=r*a;return s+n}function $k(e,r,s,a,n){return n!==void 0&&(e=Of(e,n,a)),Of(e,s,a)+r}function sj(e,r=0,s=1,a,n){e.min=$k(e.min,r,s,a,n),e.max=$k(e.max,r,s,a,n)}function eO(e,{x:r,y:s}){sj(e.x,r.translate,r.scale,r.originPoint),sj(e.y,s.translate,s.scale,s.originPoint)}function NK(e,r,s,a=!1){const n=s.length;if(!n)return;r.x=r.y=1;let i,l;for(let o=0;o<n;o++){i=s[o],l=i.projectionDelta;const c=i.instance;c&&c.style&&c.style.display==="contents"||(a&&i.options.layoutScroll&&i.scroll&&i!==i.root&&hu(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),l&&(r.x*=l.x.scale,r.y*=l.y.scale,eO(e,l)),a&&jc(i.latestValues)&&hu(e,i.latestValues))}r.x=zk(r.x),r.y=zk(r.y)}function zk(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function jo(e,r){e.min=e.min+r,e.max=e.max+r}function Uk(e,r,[s,a,n]){const i=r[n]!==void 0?r[n]:.5,l=Gr(e.min,e.max,i);sj(e,r[s],r[a],l,r.scale)}const SK=["x","scaleX","originX"],kK=["y","scaleY","originY"];function hu(e,r){Uk(e.x,r,SK),Uk(e.y,r,kK)}function tO(e,r){return Q_(wK(e.getBoundingClientRect(),r))}function CK(e,r,s){const a=tO(e,s),{scroll:n}=r;return n&&(jo(a.x,n.offset.x),jo(a.y,n.offset.y)),a}const rO=({current:e})=>e?e.ownerDocument.defaultView:null,PK=new WeakMap;class AK{constructor(r){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=js(),this.visualElement=r}start(r,{snapToCursor:s=!1}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const n=u=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(Ey(u,"page").point)},i=(u,m)=>{const{drag:x,dragPropagation:h,onDragStart:p}=this.getProps();if(x&&!h&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=p_(x),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),zn(b=>{let j=this.getAxisMotionValue(b).get()||0;if(Yi.test(j)){const{projection:w}=this.visualElement;if(w&&w.layout){const y=w.layout.layoutBox[b];y&&(j=Nn(y)*(parseFloat(j)/100))}}this.originPoint[b]=j}),p&&Ar.update(()=>p(u,m),!1,!0);const{animationState:f}=this.visualElement;f&&f.setActive("whileDrag",!0)},l=(u,m)=>{const{dragPropagation:x,dragDirectionLock:h,onDirectionLock:p,onDrag:f}=this.getProps();if(!x&&!this.openGlobalLock)return;const{offset:b}=m;if(h&&this.currentDirection===null){this.currentDirection=TK(b),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",m.point,b),this.updateAxis("y",m.point,b),this.visualElement.render(),f&&f(u,m)},o=(u,m)=>this.stop(u,m),c=()=>zn(u=>{var m;return this.getAnimationState(u)==="paused"&&((m=this.getAxisMotionValue(u).animation)===null||m===void 0?void 0:m.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new X_(r,{onSessionStart:n,onStart:i,onMove:l,onSessionEnd:o,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:rO(this.visualElement)})}stop(r,s){const a=this.isDragging;if(this.cancel(),!a)return;const{velocity:n}=s;this.startAnimation(n);const{onDragEnd:i}=this.getProps();i&&Ar.update(()=>i(r,s))}cancel(){this.isDragging=!1;const{projection:r,animationState:s}=this.visualElement;r&&(r.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:a}=this.getProps();!a&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(r,s,a){const{drag:n}=this.getProps();if(!a||!Jx(r,n,this.currentDirection))return;const i=this.getAxisMotionValue(r);let l=this.originPoint[r]+a[r];this.constraints&&this.constraints[r]&&(l=pK(l,this.constraints[r],this.elastic[r])),i.set(l)}resolveConstraints(){var r;const{dragConstraints:s,dragElastic:a}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(r=this.visualElement.projection)===null||r===void 0?void 0:r.layout,i=this.constraints;s&&du(s)?this.constraints||(this.constraints=this.resolveRefConstraints()):s&&n?this.constraints=fK(n.layoutBox,s):this.constraints=!1,this.elastic=vK(a),i!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&zn(l=>{this.getAxisMotionValue(l)&&(this.constraints[l]=bK(n.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:r,onMeasureDragConstraints:s}=this.getProps();if(!r||!du(r))return!1;const a=r.current,{projection:n}=this.visualElement;if(!n||!n.layout)return!1;const i=CK(a,n.root,this.visualElement.getTransformPagePoint());let l=gK(n.layout.layoutBox,i);if(s){const o=s(jK(l));this.hasMutatedConstraints=!!o,o&&(l=Q_(o))}return l}startAnimation(r){const{drag:s,dragMomentum:a,dragElastic:n,dragTransition:i,dragSnapToOrigin:l,onDragTransitionEnd:o}=this.getProps(),c=this.constraints||{},d=zn(u=>{if(!Jx(u,s,this.currentDirection))return;let m=c&&c[u]||{};l&&(m={min:0,max:0});const x=n?200:1e6,h=n?40:1e7,p={type:"inertia",velocity:a?r[u]:0,bounceStiffness:x,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10,...i,...m};return this.startAxisValueAnimation(u,p)});return Promise.all(d).then(o)}startAxisValueAnimation(r,s){const a=this.getAxisMotionValue(r);return a.start(BN(r,a,0,s))}stopAnimation(){zn(r=>this.getAxisMotionValue(r).stop())}pauseAnimation(){zn(r=>{var s;return(s=this.getAxisMotionValue(r).animation)===null||s===void 0?void 0:s.pause()})}getAnimationState(r){var s;return(s=this.getAxisMotionValue(r).animation)===null||s===void 0?void 0:s.state}getAxisMotionValue(r){const s="_drag"+r.toUpperCase(),a=this.visualElement.getProps(),n=a[s];return n||this.visualElement.getValue(r,(a.initial?a.initial[r]:void 0)||0)}snapToCursor(r){zn(s=>{const{drag:a}=this.getProps();if(!Jx(s,a,this.currentDirection))return;const{projection:n}=this.visualElement,i=this.getAxisMotionValue(s);if(n&&n.layout){const{min:l,max:o}=n.layout.layoutBox[s];i.set(r[s]-Gr(l,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:r,dragConstraints:s}=this.getProps(),{projection:a}=this.visualElement;if(!du(s)||!a||!this.constraints)return;this.stopAnimation();const n={x:0,y:0};zn(l=>{const o=this.getAxisMotionValue(l);if(o){const c=o.get();n[l]=yK({min:c,max:c},this.constraints[l])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",a.root&&a.root.updateScroll(),a.updateLayout(),this.resolveConstraints(),zn(l=>{if(!Jx(l,r,null))return;const o=this.getAxisMotionValue(l),{min:c,max:d}=this.constraints[l];o.set(Gr(c,d,n[l]))})}addListeners(){if(!this.visualElement.current)return;PK.set(this.visualElement,this);const r=this.visualElement.current,s=vl(r,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),a=()=>{const{dragConstraints:c}=this.getProps();du(c)&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,i=n.addEventListener("measure",a);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),a();const l=fl(window,"resize",()=>this.scalePositionWithinConstraints()),o=n.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(zn(u=>{const m=this.getAxisMotionValue(u);m&&(this.originPoint[u]+=c[u].translate,m.set(m.get()+c[u].translate))}),this.visualElement.render())});return()=>{l(),s(),i(),o&&o()}}getProps(){const r=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:a=!1,dragPropagation:n=!1,dragConstraints:i=!1,dragElastic:l=tj,dragMomentum:o=!0}=r;return{...r,drag:s,dragDirectionLock:a,dragPropagation:n,dragConstraints:i,dragElastic:l,dragMomentum:o}}}function Jx(e,r,s){return(r===!0||r===e)&&(s===null||s===e)}function TK(e,r=10){let s=null;return Math.abs(e.y)>r?s="y":Math.abs(e.x)>r&&(s="x"),s}class EK extends cc{constructor(r){super(r),this.removeGroupControls=ms,this.removeListeners=ms,this.controls=new AK(r)}mount(){const{dragControls:r}=this.node.getProps();r&&(this.removeGroupControls=r.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ms}unmount(){this.removeGroupControls(),this.removeListeners()}}const Hk=e=>(r,s)=>{e&&Ar.update(()=>e(r,s))};class IK extends cc{constructor(){super(...arguments),this.removePointerDownListener=ms}onPointerDown(r){this.session=new X_(r,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:rO(this.node)})}createPanHandlers(){const{onPanSessionStart:r,onPanStart:s,onPan:a,onPanEnd:n}=this.node.getProps();return{onSessionStart:Hk(r),onStart:Hk(s),onMove:a,onEnd:(i,l)=>{delete this.session,n&&Ar.update(()=>n(i,l))}}}mount(){this.removePointerDownListener=vl(this.node.current,"pointerdown",r=>this.onPointerDown(r))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function _K(){const e=g.useContext(ky);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:s,register:a}=e,n=g.useId();return g.useEffect(()=>a(n),[]),!r&&s?[!1,()=>s&&s(n)]:[!0]}const Hp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Vk(e,r){return r.max===r.min?0:e/(r.max-r.min)*100}const qm={correct:(e,r)=>{if(!r.target)return e;if(typeof e=="string")if(Ot.test(e))e=parseFloat(e);else return e;const s=Vk(e,r.target.x),a=Vk(e,r.target.y);return`${s}% ${a}%`}},OK={correct:(e,{treeScale:r,projectionDelta:s})=>{const a=e,n=Jo.parse(e);if(n.length>5)return a;const i=Jo.createTransformer(e),l=typeof n[0]!="number"?1:0,o=s.x.scale*r.x,c=s.y.scale*r.y;n[0+l]/=o,n[1+l]/=c;const d=Gr(o,c,.5);return typeof n[2+l]=="number"&&(n[2+l]/=d),typeof n[3+l]=="number"&&(n[3+l]/=d),i(n)}};class DK extends _t.Component{componentDidMount(){const{visualElement:r,layoutGroup:s,switchLayoutGroup:a,layoutId:n}=this.props,{projection:i}=r;zW(MK),i&&(s.group&&s.group.add(i),a&&a.register&&n&&a.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Hp.hasEverUpdated=!0}getSnapshotBeforeUpdate(r){const{layoutDependency:s,visualElement:a,drag:n,isPresent:i}=this.props,l=a.projection;return l&&(l.isPresent=i,n||r.layoutDependency!==s||s===void 0?l.willUpdate():this.safeToRemove(),r.isPresent!==i&&(i?l.promote():l.relegate()||Ar.postRender(()=>{const o=l.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:r}=this.props.visualElement;r&&(r.root.didUpdate(),queueMicrotask(()=>{!r.currentAnimation&&r.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:r,layoutGroup:s,switchLayoutGroup:a}=this.props,{projection:n}=r;n&&(n.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(n),a&&a.deregister&&a.deregister(n))}safeToRemove(){const{safeToRemove:r}=this.props;r&&r()}render(){return null}}function sO(e){const[r,s]=_K(),a=g.useContext(kN);return _t.createElement(DK,{...e,layoutGroup:a,switchLayoutGroup:g.useContext(QI),isPresent:r,safeToRemove:s})}const MK={borderRadius:{...qm,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:qm,borderTopRightRadius:qm,borderBottomLeftRadius:qm,borderBottomRightRadius:qm,boxShadow:OK},aO=["TopLeft","TopRight","BottomLeft","BottomRight"],LK=aO.length,Wk=e=>typeof e=="string"?parseFloat(e):e,Gk=e=>typeof e=="number"||Ot.test(e);function FK(e,r,s,a,n,i){n?(e.opacity=Gr(0,s.opacity!==void 0?s.opacity:1,RK(a)),e.opacityExit=Gr(r.opacity!==void 0?r.opacity:1,0,BK(a))):i&&(e.opacity=Gr(r.opacity!==void 0?r.opacity:1,s.opacity!==void 0?s.opacity:1,a));for(let l=0;l<LK;l++){const o=`border${aO[l]}Radius`;let c=qk(r,o),d=qk(s,o);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||Gk(c)===Gk(d)?(e[o]=Math.max(Gr(Wk(c),Wk(d),a),0),(Yi.test(d)||Yi.test(c))&&(e[o]+="%")):e[o]=d}(r.rotate||s.rotate)&&(e.rotate=Gr(r.rotate||0,s.rotate||0,a))}function qk(e,r){return e[r]!==void 0?e[r]:e.borderRadius}const RK=nO(0,.5,P_),BK=nO(.5,.95,ms);function nO(e,r,s){return a=>a<e?0:a>r?1:s(n0(e,r,a))}function Kk(e,r){e.min=r.min,e.max=r.max}function On(e,r){Kk(e.x,r.x),Kk(e.y,r.y)}function Yk(e,r,s,a,n){return e-=r,e=Of(e,1/s,a),n!==void 0&&(e=Of(e,1/n,a)),e}function $K(e,r=0,s=1,a=.5,n,i=e,l=e){if(Yi.test(r)&&(r=parseFloat(r),r=Gr(l.min,l.max,r/100)-l.min),typeof r!="number")return;let o=Gr(i.min,i.max,a);e===i&&(o-=r),e.min=Yk(e.min,r,s,o,n),e.max=Yk(e.max,r,s,o,n)}function Xk(e,r,[s,a,n],i,l){$K(e,r[s],r[a],r[n],r.scale,i,l)}const zK=["x","scaleX","originX"],UK=["y","scaleY","originY"];function Jk(e,r,s,a){Xk(e.x,r,zK,s?s.x:void 0,a?a.x:void 0),Xk(e.y,r,UK,s?s.y:void 0,a?a.y:void 0)}function Qk(e){return e.translate===0&&e.scale===1}function iO(e){return Qk(e.x)&&Qk(e.y)}function HK(e,r){return e.x.min===r.x.min&&e.x.max===r.x.max&&e.y.min===r.y.min&&e.y.max===r.y.max}function lO(e,r){return Math.round(e.x.min)===Math.round(r.x.min)&&Math.round(e.x.max)===Math.round(r.x.max)&&Math.round(e.y.min)===Math.round(r.y.min)&&Math.round(e.y.max)===Math.round(r.y.max)}function Zk(e){return Nn(e.x)/Nn(e.y)}class VK{constructor(){this.members=[]}add(r){$N(this.members,r),r.scheduleRender()}remove(r){if(zN(this.members,r),r===this.prevLead&&(this.prevLead=void 0),r===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(r){const s=this.members.findIndex(n=>r===n);if(s===0)return!1;let a;for(let n=s;n>=0;n--){const i=this.members[n];if(i.isPresent!==!1){a=i;break}}return a?(this.promote(a),!0):!1}promote(r,s){const a=this.lead;if(r!==a&&(this.prevLead=a,this.lead=r,r.show(),a)){a.instance&&a.scheduleRender(),r.scheduleRender(),r.resumeFrom=a,s&&(r.resumeFrom.preserveOpacity=!0),a.snapshot&&(r.snapshot=a.snapshot,r.snapshot.latestValues=a.animationValues||a.latestValues),r.root&&r.root.isUpdating&&(r.isLayoutDirty=!0);const{crossfade:n}=r.options;n===!1&&a.hide()}}exitAnimationComplete(){this.members.forEach(r=>{const{options:s,resumingFrom:a}=r;s.onExitComplete&&s.onExitComplete(),a&&a.options.onExitComplete&&a.options.onExitComplete()})}scheduleRender(){this.members.forEach(r=>{r.instance&&r.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function eC(e,r,s){let a="";const n=e.x.translate/r.x,i=e.y.translate/r.y;if((n||i)&&(a=`translate3d(${n}px, ${i}px, 0) `),(r.x!==1||r.y!==1)&&(a+=`scale(${1/r.x}, ${1/r.y}) `),s){const{rotate:c,rotateX:d,rotateY:u}=s;c&&(a+=`rotate(${c}deg) `),d&&(a+=`rotateX(${d}deg) `),u&&(a+=`rotateY(${u}deg) `)}const l=e.x.scale*r.x,o=e.y.scale*r.y;return(l!==1||o!==1)&&(a+=`scale(${l}, ${o})`),a||"none"}const WK=(e,r)=>e.depth-r.depth;class GK{constructor(){this.children=[],this.isDirty=!1}add(r){$N(this.children,r),this.isDirty=!0}remove(r){zN(this.children,r),this.isDirty=!0}forEach(r){this.isDirty&&this.children.sort(WK),this.isDirty=!1,this.children.forEach(r)}}function qK(e,r){const s=performance.now(),a=({timestamp:n})=>{const i=n-s;i>=r&&(Ll(a),e(i-r))};return Ar.read(a,!0),()=>Ll(a)}function KK(e){window.MotionDebug&&window.MotionDebug.record(e)}function YK(e){return e instanceof SVGElement&&e.tagName!=="svg"}function XK(e,r,s){const a=Qa(e)?e:Gu(e);return a.start(BN("",a,r,s)),a.animation}const tC=["","X","Y","Z"],JK={visibility:"hidden"},rC=1e3;let QK=0;const wc={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function oO({attachResizeListener:e,defaultParent:r,measureScroll:s,checkIsScrollRoot:a,resetTransform:n}){return class{constructor(l={},o=r==null?void 0:r()){this.id=QK++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,wc.totalNodes=wc.resolvedTargetDeltas=wc.recalculatedProjection=0,this.nodes.forEach(tY),this.nodes.forEach(iY),this.nodes.forEach(lY),this.nodes.forEach(rY),KK(wc)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new GK)}addEventListener(l,o){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new UN),this.eventHandlers.get(l).add(o)}notifyListeners(l,...o){const c=this.eventHandlers.get(l);c&&c.notify(...o)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=YK(l),this.instance=l;const{layoutId:c,layout:d,visualElement:u}=this.options;if(u&&!u.current&&u.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(d||c)&&(this.isLayoutDirty=!0),e){let m;const x=()=>this.root.updateBlockedByResize=!1;e(l,()=>{this.root.updateBlockedByResize=!0,m&&m(),m=qK(x,250),Hp.hasAnimatedSinceResize&&(Hp.hasAnimatedSinceResize=!1,this.nodes.forEach(aC))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&u&&(c||d)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:x,hasRelativeTargetChanged:h,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const f=this.options.transition||u.getDefaultTransition()||mY,{onLayoutAnimationStart:b,onLayoutAnimationComplete:j}=u.getProps(),w=!this.targetLayout||!lO(this.targetLayout,p)||h,y=!x&&h;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||y||x&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(m,y);const v={...RN(f,"layout"),onPlay:b,onComplete:j};(u.shouldReduceMotion||this.options.layoutRoot)&&(v.delay=0,v.type=!1),this.startAnimation(v)}else x||aC(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ll(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(oY),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const m=this.path[u];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:o,layout:c}=this.options;if(o===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(sC);return}this.isUpdating||this.nodes.forEach(aY),this.isUpdating=!1,this.nodes.forEach(nY),this.nodes.forEach(ZK),this.nodes.forEach(eY),this.clearAllSnapshots();const o=performance.now();ua.delta=Xo(0,1e3/60,o-ua.timestamp),ua.timestamp=o,ua.isProcessing=!0,Mv.update.process(ua),Mv.preRender.process(ua),Mv.render.process(ua),ua.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(sY),this.sharedNodes.forEach(cY)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ar.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ar.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=js(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let o=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(o=!1),o&&(this.scroll={animationId:this.root.animationId,phase:l,isRoot:a(this.instance),offset:s(this.instance)})}resetTransform(){if(!n)return;const l=this.isLayoutDirty||this.shouldResetTransform,o=this.projectionDelta&&!iO(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;l&&(o||jc(this.latestValues)||u)&&(n(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const o=this.measurePageBox();let c=this.removeElementScroll(o);return l&&(c=this.removeTransform(c)),hY(c),{animationId:this.root.animationId,measuredBox:o,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return js();const o=l.measureViewportBox(),{scroll:c}=this.root;return c&&(jo(o.x,c.offset.x),jo(o.y,c.offset.y)),o}removeElementScroll(l){const o=js();On(o,l);for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:u,options:m}=d;if(d!==this.root&&u&&m.layoutScroll){if(u.isRoot){On(o,l);const{scroll:x}=this.root;x&&(jo(o.x,-x.offset.x),jo(o.y,-x.offset.y))}jo(o.x,u.offset.x),jo(o.y,u.offset.y)}}return o}applyTransform(l,o=!1){const c=js();On(c,l);for(let d=0;d<this.path.length;d++){const u=this.path[d];!o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&hu(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),jc(u.latestValues)&&hu(c,u.latestValues)}return jc(this.latestValues)&&hu(c,this.latestValues),c}removeTransform(l){const o=js();On(o,l);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!jc(d.latestValues))continue;rj(d.latestValues)&&d.updateSnapshot();const u=js(),m=d.measurePageBox();On(u,m),Jk(o,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return jc(this.latestValues)&&Jk(o,this.latestValues),o}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ua.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var o;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(l||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:m,layoutId:x}=this.options;if(!(!this.layout||!(m||x))){if(this.resolvedRelativeTargetAt=ua.timestamp,!this.targetDelta&&!this.relativeTarget){const h=this.getClosestProjectingParent();h&&h.layout&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=js(),this.relativeTargetOrigin=js(),Ah(this.relativeTargetOrigin,this.layout.layoutBox,h.layout.layoutBox),On(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=js(),this.targetWithTransforms=js()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),xK(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):On(this.target,this.layout.layoutBox),eO(this.target,this.targetDelta)):On(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const h=this.getClosestProjectingParent();h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=js(),this.relativeTargetOrigin=js(),Ah(this.relativeTargetOrigin,this.target,h.target),On(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}wc.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||rj(this.parent.latestValues)||Z_(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const o=this.getLead(),c=!!this.resumingFrom||this!==o;let d=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===ua.timestamp&&(d=!1),d)return;const{layout:u,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||m))return;On(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,h=this.treeScale.y;NK(this.layoutCorrected,this.treeScale,this.path,c),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox);const{target:p}=o;if(!p){this.projectionTransform&&(this.projectionDelta=mu(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=mu(),this.projectionDeltaWithTransform=mu());const f=this.projectionTransform;Ph(this.projectionDelta,this.layoutCorrected,p,this.latestValues),this.projectionTransform=eC(this.projectionDelta,this.treeScale),(this.projectionTransform!==f||this.treeScale.x!==x||this.treeScale.y!==h)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p)),wc.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),l){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(l,o=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},m=mu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const x=js(),h=c?c.source:void 0,p=this.layout?this.layout.source:void 0,f=h!==p,b=this.getStack(),j=!b||b.members.length<=1,w=!!(f&&!j&&this.options.crossfade===!0&&!this.path.some(uY));this.animationProgress=0;let y;this.mixTargetDelta=v=>{const N=v/1e3;nC(m.x,l.x,N),nC(m.y,l.y,N),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ah(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),dY(this.relativeTarget,this.relativeTargetOrigin,x,N),y&&HK(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=js()),On(y,this.relativeTarget)),f&&(this.animationValues=u,FK(u,d,this.latestValues,N,w,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ll(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ar.update(()=>{Hp.hasAnimatedSinceResize=!0,this.currentAnimation=XK(0,rC,{...l,onUpdate:o=>{this.mixTargetDelta(o),l.onUpdate&&l.onUpdate(o)},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(rC),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:o,target:c,layout:d,latestValues:u}=l;if(!(!o||!c||!d)){if(this!==l&&this.layout&&d&&cO(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||js();const m=Nn(this.layout.layoutBox.x);c.x.min=l.target.x.min,c.x.max=c.x.min+m;const x=Nn(this.layout.layoutBox.y);c.y.min=l.target.y.min,c.y.max=c.y.min+x}On(o,c),hu(o,u),Ph(this.projectionDeltaWithTransform,this.layoutCorrected,o,u)}}registerSharedNode(l,o){this.sharedNodes.has(l)||this.sharedNodes.set(l,new VK),this.sharedNodes.get(l).add(o);const d=o.options.initialPromotionConfig;o.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(o):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:o,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),l&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetRotation(){const{visualElement:l}=this.options;if(!l)return;let o=!1;const{latestValues:c}=l;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(o=!0),!o)return;const d={};for(let u=0;u<tC.length;u++){const m="rotate"+tC[u];c[m]&&(d[m]=c[m],l.setStaticValue(m,0))}l.render();for(const u in d)l.setStaticValue(u,d[u]);l.scheduleRender()}getProjectionStyles(l){var o,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return JK;const d={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=Up(l==null?void 0:l.pointerEvents)||"",d.transform=u?u(this.latestValues,""):"none",d;const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){const f={};return this.options.layoutId&&(f.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,f.pointerEvents=Up(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!jc(this.latestValues)&&(f.transform=u?u({},""):"none",this.hasProjected=!1),f}const x=m.animationValues||m.latestValues;this.applyTransformsToTarget(),d.transform=eC(this.projectionDeltaWithTransform,this.treeScale,x),u&&(d.transform=u(x,d.transform));const{x:h,y:p}=this.projectionDelta;d.transformOrigin=`${h.origin*100}% ${p.origin*100}% 0`,m.animationValues?d.opacity=m===this?(c=(o=x.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:x.opacityExit:d.opacity=m===this?x.opacity!==void 0?x.opacity:"":x.opacityExit!==void 0?x.opacityExit:0;for(const f in Cf){if(x[f]===void 0)continue;const{correct:b,applyTo:j}=Cf[f],w=d.transform==="none"?x[f]:b(x[f],m);if(j){const y=j.length;for(let v=0;v<y;v++)d[j[v]]=w}else d[f]=w}return this.options.layoutId&&(d.pointerEvents=m===this?Up(l==null?void 0:l.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var o;return(o=l.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(sC),this.root.sharedNodes.clear()}}}function ZK(e){e.updateLayout()}function eY(e){var r;const s=((r=e.resumeFrom)===null||r===void 0?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&s&&e.hasListeners("didUpdate")){const{layoutBox:a,measuredBox:n}=e.layout,{animationType:i}=e.options,l=s.source!==e.layout.source;i==="size"?zn(m=>{const x=l?s.measuredBox[m]:s.layoutBox[m],h=Nn(x);x.min=a[m].min,x.max=x.min+h}):cO(i,s.layoutBox,a)&&zn(m=>{const x=l?s.measuredBox[m]:s.layoutBox[m],h=Nn(a[m]);x.max=x.min+h,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[m].max=e.relativeTarget[m].min+h)});const o=mu();Ph(o,a,s.layoutBox);const c=mu();l?Ph(c,e.applyTransform(n,!0),s.measuredBox):Ph(c,a,s.layoutBox);const d=!iO(o);let u=!1;if(!e.resumeFrom){const m=e.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:x,layout:h}=m;if(x&&h){const p=js();Ah(p,s.layoutBox,x.layoutBox);const f=js();Ah(f,a,h.layoutBox),lO(p,f)||(u=!0),m.options.layoutRoot&&(e.relativeTarget=f,e.relativeTargetOrigin=p,e.relativeParent=m)}}}e.notifyListeners("didUpdate",{layout:a,snapshot:s,delta:c,layoutDelta:o,hasLayoutChanged:d,hasRelativeTargetChanged:u})}else if(e.isLead()){const{onExitComplete:a}=e.options;a&&a()}e.options.transition=void 0}function tY(e){wc.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function rY(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function sY(e){e.clearSnapshot()}function sC(e){e.clearMeasurements()}function aY(e){e.isLayoutDirty=!1}function nY(e){const{visualElement:r}=e.options;r&&r.getProps().onBeforeLayoutMeasure&&r.notify("BeforeLayoutMeasure"),e.resetTransform()}function aC(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function iY(e){e.resolveTargetDelta()}function lY(e){e.calcProjection()}function oY(e){e.resetRotation()}function cY(e){e.removeLeadSnapshot()}function nC(e,r,s){e.translate=Gr(r.translate,0,s),e.scale=Gr(r.scale,1,s),e.origin=r.origin,e.originPoint=r.originPoint}function iC(e,r,s,a){e.min=Gr(r.min,s.min,a),e.max=Gr(r.max,s.max,a)}function dY(e,r,s,a){iC(e.x,r.x,s.x,a),iC(e.y,r.y,s.y,a)}function uY(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const mY={duration:.45,ease:[.4,0,.1,1]},lC=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),oC=lC("applewebkit/")&&!lC("chrome/")?Math.round:ms;function cC(e){e.min=oC(e.min),e.max=oC(e.max)}function hY(e){cC(e.x),cC(e.y)}function cO(e,r,s){return e==="position"||e==="preserve-aspect"&&!ej(Zk(r),Zk(s),.2)}const xY=oO({attachResizeListener:(e,r)=>fl(e,"resize",r),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Gv={current:void 0},dO=oO({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Gv.current){const e=new xY({});e.mount(window),e.setOptions({layoutScroll:!0}),Gv.current=e}return Gv.current},resetTransform:(e,r)=>{e.style.transform=r!==void 0?r:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),pY={pan:{Feature:IK},drag:{Feature:EK,ProjectionNode:dO,MeasureLayout:sO}},fY=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function gY(e){const r=fY.exec(e);if(!r)return[,];const[,s,a]=r;return[s,a]}function aj(e,r,s=1){const[a,n]=gY(e);if(!a)return;const i=window.getComputedStyle(r).getPropertyValue(a);if(i){const l=i.trim();return G_(l)?parseFloat(l):l}else return q2(n)?aj(n,r,s+1):n}function yY(e,{...r},s){const a=e.current;if(!(a instanceof Element))return{target:r,transitionEnd:s};s&&(s={...s}),e.values.forEach(n=>{const i=n.get();if(!q2(i))return;const l=aj(i,a);l&&n.set(l)});for(const n in r){const i=r[n];if(!q2(i))continue;const l=aj(i,a);l&&(r[n]=l,s||(s={}),s[n]===void 0&&(s[n]=i))}return{target:r,transitionEnd:s}}const bY=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),uO=e=>bY.has(e),vY=e=>Object.keys(e).some(uO),dC=e=>e===Pd||e===Ot,uC=(e,r)=>parseFloat(e.split(", ")[r]),mC=(e,r)=>(s,{transform:a})=>{if(a==="none"||!a)return 0;const n=a.match(/^matrix3d\((.+)\)$/);if(n)return uC(n[1],r);{const i=a.match(/^matrix\((.+)\)$/);return i?uC(i[1],e):0}},jY=new Set(["x","y","z"]),wY=B0.filter(e=>!jY.has(e));function NY(e){const r=[];return wY.forEach(s=>{const a=e.getValue(s);a!==void 0&&(r.push([s,a.get()]),a.set(s.startsWith("scale")?1:0))}),r.length&&e.render(),r}const qu={width:({x:e},{paddingLeft:r="0",paddingRight:s="0"})=>e.max-e.min-parseFloat(r)-parseFloat(s),height:({y:e},{paddingTop:r="0",paddingBottom:s="0"})=>e.max-e.min-parseFloat(r)-parseFloat(s),top:(e,{top:r})=>parseFloat(r),left:(e,{left:r})=>parseFloat(r),bottom:({y:e},{top:r})=>parseFloat(r)+(e.max-e.min),right:({x:e},{left:r})=>parseFloat(r)+(e.max-e.min),x:mC(4,13),y:mC(5,14)};qu.translateX=qu.x;qu.translateY=qu.y;const SY=(e,r,s)=>{const a=r.measureViewportBox(),n=r.current,i=getComputedStyle(n),{display:l}=i,o={};l==="none"&&r.setStaticValue("display",e.display||"block"),s.forEach(d=>{o[d]=qu[d](a,i)}),r.render();const c=r.measureViewportBox();return s.forEach(d=>{const u=r.getValue(d);u&&u.jump(o[d]),e[d]=qu[d](c,i)}),e},kY=(e,r,s={},a={})=>{r={...r},a={...a};const n=Object.keys(r).filter(uO);let i=[],l=!1;const o=[];if(n.forEach(c=>{const d=e.getValue(c);if(!e.hasValue(c))return;let u=s[c],m=Gm(u);const x=r[c];let h;if(Af(x)){const p=x.length,f=x[0]===null?1:0;u=x[f],m=Gm(u);for(let b=f;b<p&&x[b]!==null;b++)h?ON(Gm(x[b])===h):h=Gm(x[b])}else h=Gm(x);if(m!==h)if(dC(m)&&dC(h)){const p=d.get();typeof p=="string"&&d.set(parseFloat(p)),typeof x=="string"?r[c]=parseFloat(x):Array.isArray(x)&&h===Ot&&(r[c]=x.map(parseFloat))}else m!=null&&m.transform&&(h!=null&&h.transform)&&(u===0||x===0)?u===0?d.set(h.transform(u)):r[c]=m.transform(x):(l||(i=NY(e),l=!0),o.push(c),a[c]=a[c]!==void 0?a[c]:r[c],d.jump(x))}),o.length){const c=o.indexOf("height")>=0?window.pageYOffset:null,d=SY(r,e,o);return i.length&&i.forEach(([u,m])=>{e.getValue(u).set(m)}),e.render(),Cy&&c!==null&&window.scrollTo({top:c}),{target:d,transitionEnd:a}}else return{target:r,transitionEnd:a}};function CY(e,r,s,a){return vY(r)?kY(e,r,s,a):{target:r,transitionEnd:a}}const PY=(e,r,s,a)=>{const n=yY(e,r,a);return r=n.target,a=n.transitionEnd,CY(e,r,s,a)},nj={current:null},mO={current:!1};function AY(){if(mO.current=!0,!!Cy)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),r=()=>nj.current=e.matches;e.addListener(r),r()}else nj.current=!1}function TY(e,r,s){const{willChange:a}=r;for(const n in r){const i=r[n],l=s[n];if(Qa(i))e.addValue(n,i),_f(a)&&a.add(n);else if(Qa(l))e.addValue(n,Gu(i,{owner:e})),_f(a)&&a.remove(n);else if(l!==i)if(e.hasValue(n)){const o=e.getValue(n);!o.hasAnimated&&o.set(i)}else{const o=e.getStaticValue(n);e.addValue(n,Gu(o!==void 0?o:i,{owner:e}))}}for(const n in s)r[n]===void 0&&e.removeValue(n);return r}const hC=new WeakMap,hO=Object.keys(a0),EY=hO.length,xC=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],IY=SN.length;class _Y{constructor({parent:r,props:s,presenceContext:a,reducedMotionConfig:n,visualState:i},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Ar.render(this.render,!1,!0);const{latestValues:o,renderState:c}=i;this.latestValues=o,this.baseTarget={...o},this.initialValues=s.initial?{...o}:{},this.renderState=c,this.parent=r,this.props=s,this.presenceContext=a,this.depth=r?r.depth+1:0,this.reducedMotionConfig=n,this.options=l,this.isControllingVariants=Ay(s),this.isVariantNode=JI(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(r&&r.current);const{willChange:d,...u}=this.scrapeMotionValuesFromProps(s,{});for(const m in u){const x=u[m];o[m]!==void 0&&Qa(x)&&(x.set(o[m],!1),_f(d)&&d.add(m))}}scrapeMotionValuesFromProps(r,s){return{}}mount(r){this.current=r,hC.set(r,this),this.projection&&!this.projection.instance&&this.projection.mount(r),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,a)=>this.bindToMotionValue(a,s)),mO.current||AY(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:nj.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){hC.delete(this.current),this.projection&&this.projection.unmount(),Ll(this.notifyUpdate),Ll(this.render),this.valueSubscriptions.forEach(r=>r()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const r in this.events)this.events[r].clear();for(const r in this.features)this.features[r].unmount();this.current=null}bindToMotionValue(r,s){const a=Cd.has(r),n=s.on("change",l=>{this.latestValues[r]=l,this.props.onUpdate&&Ar.update(this.notifyUpdate,!1,!0),a&&this.projection&&(this.projection.isTransformDirty=!0)}),i=s.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(r,()=>{n(),i()})}sortNodePosition(r){return!this.current||!this.sortInstanceNodePosition||this.type!==r.type?0:this.sortInstanceNodePosition(this.current,r.current)}loadFeatures({children:r,...s},a,n,i){let l,o;for(let c=0;c<EY;c++){const d=hO[c],{isEnabled:u,Feature:m,ProjectionNode:x,MeasureLayout:h}=a0[d];x&&(l=x),u(s)&&(!this.features[d]&&m&&(this.features[d]=new m(this)),h&&(o=h))}if((this.type==="html"||this.type==="svg")&&!this.projection&&l){this.projection=new l(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:d,drag:u,dragConstraints:m,layoutScroll:x,layoutRoot:h}=s;this.projection.setOptions({layoutId:c,layout:d,alwaysMeasureLayout:!!u||m&&du(m),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof d=="string"?d:"both",initialPromotionConfig:i,layoutScroll:x,layoutRoot:h})}return o}updateFeatures(){for(const r in this.features){const s=this.features[r];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):js()}getStaticValue(r){return this.latestValues[r]}setStaticValue(r,s){this.latestValues[r]=s}makeTargetAnimatable(r,s=!0){return this.makeTargetAnimatableFromInstance(r,this.props,s)}update(r,s){(r.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=r,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let a=0;a<xC.length;a++){const n=xC[a];this.propEventSubscriptions[n]&&(this.propEventSubscriptions[n](),delete this.propEventSubscriptions[n]);const i=r["on"+n];i&&(this.propEventSubscriptions[n]=this.on(n,i))}this.prevMotionValues=TY(this,this.scrapeMotionValuesFromProps(r,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(r){return this.props.variants?this.props.variants[r]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(r=!1){if(r)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const a=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(a.initial=this.props.initial),a}const s={};for(let a=0;a<IY;a++){const n=SN[a],i=this.props[n];(s0(i)||i===!1)&&(s[n]=i)}return s}addVariantChild(r){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(r),()=>s.variantChildren.delete(r)}addValue(r,s){s!==this.values.get(r)&&(this.removeValue(r),this.bindToMotionValue(r,s)),this.values.set(r,s),this.latestValues[r]=s.get()}removeValue(r){this.values.delete(r);const s=this.valueSubscriptions.get(r);s&&(s(),this.valueSubscriptions.delete(r)),delete this.latestValues[r],this.removeValueFromRenderState(r,this.renderState)}hasValue(r){return this.values.has(r)}getValue(r,s){if(this.props.values&&this.props.values[r])return this.props.values[r];let a=this.values.get(r);return a===void 0&&s!==void 0&&(a=Gu(s,{owner:this}),this.addValue(r,a)),a}readValue(r){var s;return this.latestValues[r]!==void 0||!this.current?this.latestValues[r]:(s=this.getBaseTargetFromProps(this.props,r))!==null&&s!==void 0?s:this.readValueFromInstance(this.current,r,this.options)}setBaseTarget(r,s){this.baseTarget[r]=s}getBaseTarget(r){var s;const{initial:a}=this.props,n=typeof a=="string"||typeof a=="object"?(s=_N(this.props,a))===null||s===void 0?void 0:s[r]:void 0;if(a&&n!==void 0)return n;const i=this.getBaseTargetFromProps(this.props,r);return i!==void 0&&!Qa(i)?i:this.initialValues[r]!==void 0&&n===void 0?void 0:this.baseTarget[r]}on(r,s){return this.events[r]||(this.events[r]=new UN),this.events[r].add(s)}notify(r,...s){this.events[r]&&this.events[r].notify(...s)}}class xO extends _Y{sortInstanceNodePosition(r,s){return r.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(r,s){return r.style?r.style[s]:void 0}removeValueFromRenderState(r,{vars:s,style:a}){delete s[r],delete a[r]}makeTargetAnimatableFromInstance({transition:r,transitionEnd:s,...a},{transformValues:n},i){let l=Yq(a,r||{},this);if(n&&(s&&(s=n(s)),a&&(a=n(a)),l&&(l=n(l))),i){qq(this,a,l);const o=PY(this,a,l,s);s=o.transitionEnd,a=o.target}return{transition:r,transitionEnd:s,...a}}}function OY(e){return window.getComputedStyle(e)}class DY extends xO{constructor(){super(...arguments),this.type="html"}readValueFromInstance(r,s){if(Cd.has(s)){const a=FN(s);return a&&a.default||0}else{const a=OY(r),n=(t_(s)?a.getPropertyValue(s):a[s])||0;return typeof n=="string"?n.trim():n}}measureInstanceViewportBox(r,{transformPagePoint:s}){return tO(r,s)}build(r,s,a,n){PN(r,s,a,n.transformTemplate)}scrapeMotionValuesFromProps(r,s){return IN(r,s)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:r}=this.props;Qa(r)&&(this.childSubscription=r.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}renderInstance(r,s,a,n){l_(r,s,a,n)}}class MY extends xO{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(r,s){return r[s]}readValueFromInstance(r,s){if(Cd.has(s)){const a=FN(s);return a&&a.default||0}return s=o_.has(s)?s:wN(s),r.getAttribute(s)}measureInstanceViewportBox(){return js()}scrapeMotionValuesFromProps(r,s){return d_(r,s)}build(r,s,a,n){TN(r,s,a,this.isSVGTag,n.transformTemplate)}renderInstance(r,s,a,n){c_(r,s,a,n)}mount(r){this.isSVGTag=EN(r.tagName),super.mount(r)}}const LY=(e,r)=>CN(e)?new MY(r,{enableHardwareAcceleration:!1}):new DY(r,{enableHardwareAcceleration:!0}),FY={layout:{ProjectionNode:dO,MeasureLayout:sO}},RY={...dK,...EG,...pY,...FY},E=BW((e,r)=>gG(e,r,RY,LY));function pO(){const e=g.useRef(!1);return jN(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function BY(){const e=pO(),[r,s]=g.useState(0),a=g.useCallback(()=>{e.current&&s(r+1)},[r]);return[g.useCallback(()=>Ar.postRender(a),[a]),r]}class $Y extends g.Component{getSnapshotBeforeUpdate(r){const s=this.props.childRef.current;if(s&&r.isPresent&&!this.props.isPresent){const a=this.props.sizeRef.current;a.height=s.offsetHeight||0,a.width=s.offsetWidth||0,a.top=s.offsetTop,a.left=s.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function zY({children:e,isPresent:r}){const s=g.useId(),a=g.useRef(null),n=g.useRef({width:0,height:0,top:0,left:0});return g.useInsertionEffect(()=>{const{width:i,height:l,top:o,left:c}=n.current;if(r||!a.current||!i||!l)return;a.current.dataset.motionPopId=s;const d=document.createElement("style");return document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${l}px !important;
            top: ${o}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[r]),g.createElement($Y,{isPresent:r,childRef:a,sizeRef:n},g.cloneElement(e,{ref:a}))}const qv=({children:e,initial:r,isPresent:s,onExitComplete:a,custom:n,presenceAffectsLayout:i,mode:l})=>{const o=u_(UY),c=g.useId(),d=g.useMemo(()=>({id:c,initial:r,isPresent:s,custom:n,onExitComplete:u=>{o.set(u,!0);for(const m of o.values())if(!m)return;a&&a()},register:u=>(o.set(u,!1),()=>o.delete(u))}),i?void 0:[s]);return g.useMemo(()=>{o.forEach((u,m)=>o.set(m,!1))},[s]),g.useEffect(()=>{!s&&!o.size&&a&&a()},[s]),l==="popLayout"&&(e=g.createElement(zY,{isPresent:s},e)),g.createElement(ky.Provider,{value:d},e)};function UY(){return new Map}function HY(e){return g.useEffect(()=>()=>e(),[])}const Nc=e=>e.key||"";function VY(e,r){e.forEach(s=>{const a=Nc(s);r.set(a,s)})}function WY(e){const r=[];return g.Children.forEach(e,s=>{g.isValidElement(s)&&r.push(s)}),r}const wl=({children:e,custom:r,initial:s=!0,onExitComplete:a,exitBeforeEnter:n,presenceAffectsLayout:i=!0,mode:l="sync"})=>{const o=g.useContext(kN).forceRender||BY()[0],c=pO(),d=WY(e);let u=d;const m=g.useRef(new Map).current,x=g.useRef(u),h=g.useRef(new Map).current,p=g.useRef(!0);if(jN(()=>{p.current=!1,VY(d,h),x.current=u}),HY(()=>{p.current=!0,h.clear(),m.clear()}),p.current)return g.createElement(g.Fragment,null,u.map(w=>g.createElement(qv,{key:Nc(w),isPresent:!0,initial:s?void 0:!1,presenceAffectsLayout:i,mode:l},w)));u=[...u];const f=x.current.map(Nc),b=d.map(Nc),j=f.length;for(let w=0;w<j;w++){const y=f[w];b.indexOf(y)===-1&&!m.has(y)&&m.set(y,void 0)}return l==="wait"&&m.size&&(u=[]),m.forEach((w,y)=>{if(b.indexOf(y)!==-1)return;const v=h.get(y);if(!v)return;const N=f.indexOf(y);let S=w;if(!S){const k=()=>{m.delete(y);const C=Array.from(h.keys()).filter(P=>!b.includes(P));if(C.forEach(P=>h.delete(P)),x.current=d.filter(P=>{const _=Nc(P);return _===y||C.includes(_)}),!m.size){if(c.current===!1)return;o(),a&&a()}};S=g.createElement(qv,{key:Nc(v),isPresent:!1,onExitComplete:k,custom:r,presenceAffectsLayout:i,mode:l},v),m.set(y,S)}u.splice(N,0,S)}),u=u.map(w=>{const y=w.key;return m.has(y)?w:g.createElement(qv,{key:Nc(w),isPresent:!0,presenceAffectsLayout:i,mode:l},w)}),g.createElement(g.Fragment,null,m.size?u:u.map(w=>g.cloneElement(w)))};var fO={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},pC=_t.createContext&&_t.createContext(fO),GY=["attr","size","title"];function qY(e,r){if(e==null)return{};var s=KY(e,r),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function KY(e,r){if(e==null)return{};var s={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(r.indexOf(a)>=0)continue;s[a]=e[a]}return s}function Df(){return Df=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Df.apply(this,arguments)}function fC(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Mf(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?fC(Object(s),!0).forEach(function(a){YY(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):fC(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function YY(e,r,s){return r=XY(r),r in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function XY(e){var r=JY(e,"string");return typeof r=="symbol"?r:r+""}function JY(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function gO(e){return e&&e.map((r,s)=>_t.createElement(r.tag,Mf({key:s},r.attr),gO(r.child)))}function be(e){return r=>_t.createElement(QY,Df({attr:Mf({},e.attr)},r),gO(e.child))}function QY(e){var r=s=>{var{attr:a,size:n,title:i}=e,l=qY(e,GY),o=n||s.size||"1em",c;return s.className&&(c=s.className),e.className&&(c=(c?c+" ":"")+e.className),_t.createElement("svg",Df({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},s.attr,a,l,{className:c,style:Mf(Mf({color:e.color||s.color},s.style),e.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),i&&_t.createElement("title",null,i),e.children)};return pC!==void 0?_t.createElement(pC.Consumer,null,s=>r(s)):r(fO)}function ZY(e){return be({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(e)}function eX(e){return be({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(e)}function tX(e){return be({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(e)}function rX(e){return be({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(e)}function yr(e){return be({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(e)}function ij(e){return be({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(e)}function Rn(e){return be({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(e)}function go(e){return be({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M97.12 362.63c-8.69-8.69-4.16-6.24-25.12-11.85-9.51-2.55-17.87-7.45-25.43-13.32L1.2 448.7c-4.39 10.77 3.81 22.47 15.43 22.03l52.69-2.01L105.56 507c8 8.44 22.04 5.81 26.43-4.96l52.05-127.62c-10.84 6.04-22.87 9.58-35.31 9.58-19.5 0-37.82-7.59-51.61-21.37zM382.8 448.7l-45.37-111.24c-7.56 5.88-15.92 10.77-25.43 13.32-21.07 5.64-16.45 3.18-25.12 11.85-13.79 13.78-32.12 21.37-51.62 21.37-12.44 0-24.47-3.55-35.31-9.58L252 502.04c4.39 10.77 18.44 13.4 26.43 4.96l36.25-38.28 52.69 2.01c11.62.44 19.82-11.27 15.43-22.03zM263 340c15.28-15.55 17.03-14.21 38.79-20.14 13.89-3.79 24.75-14.84 28.47-28.98 7.48-28.4 5.54-24.97 25.95-45.75 10.17-10.35 14.14-25.44 10.42-39.58-7.47-28.38-7.48-24.42 0-52.83 3.72-14.14-.25-29.23-10.42-39.58-20.41-20.78-18.47-17.36-25.95-45.75-3.72-14.14-14.58-25.19-28.47-28.98-27.88-7.61-24.52-5.62-44.95-26.41-10.17-10.35-25-14.4-38.89-10.61-27.87 7.6-23.98 7.61-51.9 0-13.89-3.79-28.72.25-38.89 10.61-20.41 20.78-17.05 18.8-44.94 26.41-13.89 3.79-24.75 14.84-28.47 28.98-7.47 28.39-5.54 24.97-25.95 45.75-10.17 10.35-14.15 25.44-10.42 39.58 7.47 28.36 7.48 24.4 0 52.82-3.72 14.14.25 29.23 10.42 39.59 20.41 20.78 18.47 17.35 25.95 45.75 3.72 14.14 14.58 25.19 28.47 28.98C104.6 325.96 106.27 325 121 340c13.23 13.47 33.84 15.88 49.74 5.82a39.676 39.676 0 0 1 42.53 0c15.89 10.06 36.5 7.65 49.73-5.82zM97.66 175.96c0-53.03 42.24-96.02 94.34-96.02s94.34 42.99 94.34 96.02-42.24 96.02-94.34 96.02-94.34-42.99-94.34-96.02z"},child:[]}]})(e)}function sX(e){return be({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(e)}function aX(e){return be({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"},child:[]}]})(e)}function Nl(e){return be({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M296 160H180.6l42.6-129.8C227.2 15 215.7 0 200 0H56C44 0 33.8 8.9 32.2 20.8l-32 240C-1.7 275.2 9.5 288 24 288h118.7L96.6 482.5c-3.6 15.2 8 29.5 23.3 29.5 8.4 0 16.4-4.4 20.8-12l176-304c9.3-15.9-2.2-36-20.7-36z"},child:[]}]})(e)}function nX(e){return be({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M509.5 184.6L458.9 32.8C452.4 13.2 434.1 0 413.4 0H272v192h238.7c-.4-2.5-.4-5-1.2-7.4zM240 0H98.6c-20.7 0-39 13.2-45.5 32.8L2.5 184.6c-.8 2.4-.8 4.9-1.2 7.4H240V0zM0 224v240c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48V224H0z"},child:[]}]})(e)}function Ku(e){return be({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M256.47 216.77l86.73 109.18s-16.6 102.36-76.57 150.12C206.66 523.85 0 510.19 0 510.19s3.8-23.14 11-55.43l94.62-112.17c3.97-4.7-.87-11.62-6.65-9.5l-60.4 22.09c14.44-41.66 32.72-80.04 54.6-97.47 59.97-47.76 163.3-40.94 163.3-40.94zM636.53 31.03l-19.86-25c-5.49-6.9-15.52-8.05-22.41-2.56l-232.48 177.8-34.14-42.97c-5.09-6.41-15.14-5.21-18.59 2.21l-25.33 54.55 86.73 109.18 58.8-12.45c8-1.69 11.42-11.2 6.34-17.6l-34.09-42.92 232.48-177.8c6.89-5.48 8.04-15.53 2.55-22.44z"},child:[]}]})(e)}function Eo(e){return be({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 480h-20V24c0-13.255-10.745-24-24-24H56C42.745 0 32 10.745 32 24v456H12c-6.627 0-12 5.373-12 12v20h448v-20c0-6.627-5.373-12-12-12zM128 76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76zm0 96c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40zm52 148h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12zm76 160h-64v-84c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v84zm64-172c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40z"},child:[]}]})(e)}function iX(e){return be({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111.03 8 0 119.03 0 256s111.03 248 248 248 248-111.03 248-248S384.97 8 248 8zm0 432c-101.69 0-184-82.29-184-184 0-101.69 82.29-184 184-184 101.69 0 184 82.29 184 184 0 101.69-82.29 184-184 184zm0-312c-70.69 0-128 57.31-128 128s57.31 128 128 128 128-57.31 128-128-57.31-128-128-128zm0 192c-35.29 0-64-28.71-64-64s28.71-64 64-64 64 28.71 64 64-28.71 64-64 64z"},child:[]}]})(e)}function lX(e){return be({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(e)}function Qx(e){return be({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M12 192h424c6.6 0 12 5.4 12 12v260c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V204c0-6.6 5.4-12 12-12zm436-44v-36c0-26.5-21.5-48-48-48h-48V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H160V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H48C21.5 64 0 85.5 0 112v36c0 6.6 5.4 12 12 12h424c6.6 0 12-5.4 12-12z"},child:[]}]})(e)}function gC(e){return be({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z"},child:[]}]})(e)}function yO(e){return be({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"},child:[]}]})(e)}function $e(e){return be({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(e)}function oX(e){return be({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(e)}function bO(e){return be({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(e)}function yC(e){return be({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(e)}function cX(e){return be({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M616 192H480V24c0-13.26-10.74-24-24-24H312c-13.26 0-24 10.74-24 24v72h-64V16c0-8.84-7.16-16-16-16h-16c-8.84 0-16 7.16-16 16v80h-64V16c0-8.84-7.16-16-16-16H80c-8.84 0-16 7.16-16 16v80H24c-13.26 0-24 10.74-24 24v360c0 17.67 14.33 32 32 32h576c17.67 0 32-14.33 32-32V216c0-13.26-10.75-24-24-24zM128 404c0 6.63-5.37 12-12 12H76c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm0-96c0 6.63-5.37 12-12 12H76c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm0-96c0 6.63-5.37 12-12 12H76c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm128 192c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm0-96c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm0-96c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm160 96c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm0-96c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm0-96c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12V76c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm160 288c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm0-96c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40z"},child:[]}]})(e)}function ei(e){return be({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(e)}function dX(e){return be({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(e)}function _y(e){return be({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32zM128 272c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"},child:[]}]})(e)}function uX(e){return be({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M510.37 254.79l-12.08-76.26a132.493 132.493 0 0 0-37.16-72.95l-54.76-54.75c-19.73-19.72-45.18-32.7-72.71-37.05l-76.7-12.15c-27.51-4.36-55.69.11-80.52 12.76L107.32 49.6a132.25 132.25 0 0 0-57.79 57.8l-35.1 68.88a132.602 132.602 0 0 0-12.82 80.94l12.08 76.27a132.493 132.493 0 0 0 37.16 72.95l54.76 54.75a132.087 132.087 0 0 0 72.71 37.05l76.7 12.14c27.51 4.36 55.69-.11 80.52-12.75l69.12-35.21a132.302 132.302 0 0 0 57.79-57.8l35.1-68.87c12.71-24.96 17.2-53.3 12.82-80.96zM176 368c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm32-160c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm160 128c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"},child:[]}]})(e)}function Ti(e){return be({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M0 432c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V256H0v176zm192-68c0-6.6 5.4-12 12-12h136c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H204c-6.6 0-12-5.4-12-12v-40zm-128 0c0-6.6 5.4-12 12-12h72c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM576 80v48H0V80c0-26.5 21.5-48 48-48h480c26.5 0 48 21.5 48 48z"},child:[]}]})(e)}function mX(e){return be({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 73.143v45.714C448 159.143 347.667 192 224 192S0 159.143 0 118.857V73.143C0 32.857 100.333 0 224 0s224 32.857 224 73.143zM448 176v102.857C448 319.143 347.667 352 224 352S0 319.143 0 278.857V176c48.125 33.143 136.208 48.572 224 48.572S399.874 209.143 448 176zm0 160v102.857C448 479.143 347.667 512 224 512S0 479.143 0 438.857V336c48.125 33.143 136.208 48.572 224 48.572S399.874 369.143 448 336z"},child:[]}]})(e)}function hX(e){return be({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(e)}function vO(e){return be({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(e)}function nd(e){return be({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(e)}function lj(e){return be({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(e)}function H0(e){return be({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zM64 72c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8V72zm0 64c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8v-16zm192.81 248H304c8.84 0 16 7.16 16 16s-7.16 16-16 16h-47.19c-16.45 0-31.27-9.14-38.64-23.86-2.95-5.92-8.09-6.52-10.17-6.52s-7.22.59-10.02 6.19l-7.67 15.34a15.986 15.986 0 0 1-14.31 8.84c-.38 0-.75-.02-1.14-.05-6.45-.45-12-4.75-14.03-10.89L144 354.59l-10.61 31.88c-5.89 17.66-22.38 29.53-41 29.53H80c-8.84 0-16-7.16-16-16s7.16-16 16-16h12.39c4.83 0 9.11-3.08 10.64-7.66l18.19-54.64c3.3-9.81 12.44-16.41 22.78-16.41s19.48 6.59 22.77 16.41l13.88 41.64c19.77-16.19 54.05-9.7 66 14.16 2.02 4.06 5.96 6.5 10.16 6.5zM377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9z"},child:[]}]})(e)}function id(e){return be({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"},child:[]}]})(e)}function jO(e){return be({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504.971 199.362l-22.627-22.627c-9.373-9.373-24.569-9.373-33.941 0l-5.657 5.657L329.608 69.255l5.657-5.657c9.373-9.373 9.373-24.569 0-33.941L312.638 7.029c-9.373-9.373-24.569-9.373-33.941 0L154.246 131.48c-9.373 9.373-9.373 24.569 0 33.941l22.627 22.627c9.373 9.373 24.569 9.373 33.941 0l5.657-5.657 39.598 39.598-81.04 81.04-5.657-5.657c-12.497-12.497-32.758-12.497-45.255 0L9.373 412.118c-12.497 12.497-12.497 32.758 0 45.255l45.255 45.255c12.497 12.497 32.758 12.497 45.255 0l114.745-114.745c12.497-12.497 12.497-32.758 0-45.255l-5.657-5.657 81.04-81.04 39.598 39.598-5.657 5.657c-9.373 9.373-9.373 24.569 0 33.941l22.627 22.627c9.373 9.373 24.569 9.373 33.941 0l124.451-124.451c9.372-9.372 9.372-24.568 0-33.941z"},child:[]}]})(e)}function xX(e){return be({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.34 153.2L343.4 67.5c-15.2-4.67-31.6-4.67-46.79 0L17.66 153.2c-23.54 7.23-23.54 38.36 0 45.59l48.63 14.94c-10.67 13.19-17.23 29.28-17.88 46.9C38.78 266.15 32 276.11 32 288c0 10.78 5.68 19.85 13.86 25.65L20.33 428.53C18.11 438.52 25.71 448 35.94 448h56.11c10.24 0 17.84-9.48 15.62-19.47L82.14 313.65C90.32 307.85 96 298.78 96 288c0-11.57-6.47-21.25-15.66-26.87.76-15.02 8.44-28.3 20.69-36.72L296.6 284.5c9.06 2.78 26.44 6.25 46.79 0l278.95-85.7c23.55-7.24 23.55-38.36 0-45.6zM352.79 315.09c-28.53 8.76-52.84 3.92-65.59 0l-145.02-44.55L128 384c0 35.35 85.96 64 192 64s192-28.65 192-64l-14.18-113.47-145.03 44.56z"},child:[]}]})(e)}function Yu(e){return be({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M571.31 193.94l-22.63-22.63c-6.25-6.25-16.38-6.25-22.63 0l-11.31 11.31-28.9-28.9c5.63-21.31.36-44.9-16.35-61.61l-45.25-45.25c-62.48-62.48-163.79-62.48-226.28 0l90.51 45.25v18.75c0 16.97 6.74 33.25 18.75 45.25l49.14 49.14c16.71 16.71 40.3 21.98 61.61 16.35l28.9 28.9-11.31 11.31c-6.25 6.25-6.25 16.38 0 22.63l22.63 22.63c6.25 6.25 16.38 6.25 22.63 0l90.51-90.51c6.23-6.24 6.23-16.37-.02-22.62zm-286.72-15.2c-3.7-3.7-6.84-7.79-9.85-11.95L19.64 404.96c-25.57 23.88-26.26 64.19-1.53 88.93s65.05 24.05 88.93-1.53l238.13-255.07c-3.96-2.91-7.9-5.87-11.44-9.41l-49.14-49.14z"},child:[]}]})(e)}function pX(e){return be({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M434.7 64h-85.9c-8 0-15.7 3-21.6 8.4l-98.3 90c-.1.1-.2.3-.3.4-16.6 15.6-16.3 40.5-2.1 56 12.7 13.9 39.4 17.6 56.1 2.7.1-.1.3-.1.4-.2l79.9-73.2c6.5-5.9 16.7-5.5 22.6 1 6 6.5 5.5 16.6-1 22.6l-26.1 23.9L504 313.8c2.9 2.4 5.5 5 7.9 7.7V128l-54.6-54.6c-5.9-6-14.1-9.4-22.6-9.4zM544 128.2v223.9c0 17.7 14.3 32 32 32h64V128.2h-96zm48 223.9c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16-7.2 16-16 16zM0 384h64c17.7 0 32-14.3 32-32V128.2H0V384zm48-63.9c8.8 0 16 7.2 16 16s-7.2 16-16 16-16-7.2-16-16c0-8.9 7.2-16 16-16zm435.9 18.6L334.6 217.5l-30 27.5c-29.7 27.1-75.2 24.5-101.7-4.4-26.9-29.4-24.8-74.9 4.4-101.7L289.1 64h-83.8c-8.5 0-16.6 3.4-22.6 9.4L128 128v223.9h18.3l90.5 81.9c27.4 22.3 67.7 18.1 90-9.3l.2-.2 17.9 15.5c15.9 13 39.4 10.5 52.3-5.4l31.4-38.6 5.4 4.4c13.7 11.1 33.9 9.1 45-4.7l9.5-11.7c11.2-13.8 9.1-33.9-4.6-45.1z"},child:[]}]})(e)}function fX(e){return be({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M192 208c0-17.67-14.33-32-32-32h-16c-35.35 0-64 28.65-64 64v48c0 35.35 28.65 64 64 64h16c17.67 0 32-14.33 32-32V208zm176 144c35.35 0 64-28.65 64-64v-48c0-35.35-28.65-64-64-64h-16c-17.67 0-32 14.33-32 32v112c0 17.67 14.33 32 32 32h16zM256 0C113.18 0 4.58 118.83 0 256v16c0 8.84 7.16 16 16 16h16c8.84 0 16-7.16 16-16v-16c0-114.69 93.31-208 208-208s208 93.31 208 208h-.12c.08 2.43.12 165.72.12 165.72 0 23.35-18.93 42.28-42.28 42.28H320c0-26.51-21.49-48-48-48h-32c-26.51 0-48 21.49-48 48s21.49 48 48 48h181.72c49.86 0 90.28-40.42 90.28-90.28V256C507.42 118.83 398.82 0 256 0z"},child:[]}]})(e)}function Lf(e){return be({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(e)}function gX(e){return be({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M360 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24 0 90.965 51.016 167.734 120.842 192C75.016 280.266 24 357.035 24 448c-13.255 0-24 10.745-24 24v16c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24v-16c0-13.255-10.745-24-24-24 0-90.965-51.016-167.734-120.842-192C308.984 231.734 360 154.965 360 64c13.255 0 24-10.745 24-24V24c0-13.255-10.745-24-24-24zm-75.078 384H99.08c17.059-46.797 52.096-80 92.92-80 40.821 0 75.862 33.196 92.922 80zm.019-256H99.078C91.988 108.548 88 86.748 88 64h208c0 22.805-3.987 44.587-11.059 64z"},child:[]}]})(e)}function yX(e){return be({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528 32H48C21.5 32 0 53.5 0 80v16h576V80c0-26.5-21.5-48-48-48zM0 432c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V128H0v304zm352-232c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zm0 64c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zm0 64c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zM176 192c35.3 0 64 28.7 64 64s-28.7 64-64 64-64-28.7-64-64 28.7-64 64-64zM67.1 396.2C75.5 370.5 99.6 352 128 352h8.2c12.3 5.1 25.7 8 39.8 8s27.6-2.9 39.8-8h8.2c28.4 0 52.5 18.5 60.9 44.2 3.2 9.9-5.2 19.8-15.6 19.8H82.7c-10.4 0-18.8-10-15.6-19.8z"},child:[]}]})(e)}function Vp(e){return be({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},child:[]}]})(e)}function bX(e){return be({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M96.06 454.35c.01 6.29 1.87 12.45 5.36 17.69l17.09 25.69a31.99 31.99 0 0 0 26.64 14.28h61.71a31.99 31.99 0 0 0 26.64-14.28l17.09-25.69a31.989 31.989 0 0 0 5.36-17.69l.04-38.35H96.01l.05 38.35zM0 176c0 44.37 16.45 84.85 43.56 115.78 16.52 18.85 42.36 58.23 52.21 91.45.04.26.07.52.11.78h160.24c.04-.26.07-.51.11-.78 9.85-33.22 35.69-72.6 52.21-91.45C335.55 260.85 352 220.37 352 176 352 78.61 272.91-.3 175.45 0 73.44.31 0 82.97 0 176zm176-80c-44.11 0-80 35.89-80 80 0 8.84-7.16 16-16 16s-16-7.16-16-16c0-61.76 50.24-112 112-112 8.84 0 16 7.16 16 16s-7.16 16-16 16z"},child:[]}]})(e)}function vX(e){return be({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M444.52 3.52L28.74 195.42c-47.97 22.39-31.98 92.75 19.19 92.75h175.91v175.91c0 51.17 70.36 67.17 92.75 19.19l191.9-415.78c15.99-38.39-25.59-79.97-63.97-63.97z"},child:[]}]})(e)}function HN(e){return be({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(e)}function Fl(e){return be({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(e)}function jX(e){return be({attr:{viewBox:"0 0 288 512"},child:[{tag:"path",attr:{d:"M112 316.94v156.69l22.02 33.02c4.75 7.12 15.22 7.12 19.97 0L176 473.63V316.94c-10.39 1.92-21.06 3.06-32 3.06s-21.61-1.14-32-3.06zM144 0C64.47 0 0 64.47 0 144s64.47 144 144 144 144-64.47 144-144S223.53 0 144 0zm0 76c-37.5 0-68 30.5-68 68 0 6.62-5.38 12-12 12s-12-5.38-12-12c0-50.73 41.28-92 92-92 6.62 0 12 5.38 12 12s-5.38 12-12 12z"},child:[]}]})(e)}function Dn(e){return be({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function Oy(e){return be({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M272 0H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h224c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48zM160 480c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm112-108c0 6.6-5.4 12-12 12H60c-6.6 0-12-5.4-12-12V60c0-6.6 5.4-12 12-12h200c6.6 0 12 5.4 12 12v312z"},child:[]}]})(e)}function wX(e){return be({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M621.16 54.46C582.37 38.19 543.55 32 504.75 32c-123.17-.01-246.33 62.34-369.5 62.34-30.89 0-61.76-3.92-92.65-13.72-3.47-1.1-6.95-1.62-10.35-1.62C15.04 79 0 92.32 0 110.81v317.26c0 12.63 7.23 24.6 18.84 29.46C57.63 473.81 96.45 480 135.25 480c123.17 0 246.34-62.35 369.51-62.35 30.89 0 61.76 3.92 92.65 13.72 3.47 1.1 6.95 1.62 10.35 1.62 17.21 0 32.25-13.32 32.25-31.81V83.93c-.01-12.64-7.24-24.6-18.85-29.47zM48 132.22c20.12 5.04 41.12 7.57 62.72 8.93C104.84 170.54 79 192.69 48 192.69v-60.47zm0 285v-47.78c34.37 0 62.18 27.27 63.71 61.4-22.53-1.81-43.59-6.31-63.71-13.62zM320 352c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 27.78c-17.52-4.39-35.71-6.85-54.32-8.44 5.87-26.08 27.5-45.88 54.32-49.28v57.72zm0-236.11c-30.89-3.91-54.86-29.7-55.81-61.55 19.54 2.17 38.09 6.23 55.81 12.66v48.89z"},child:[]}]})(e)}function Xu(e){return be({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 128V32c0-17.67-14.33-32-32-32H32C14.33 0 0 14.33 0 32v96c0 17.67 14.33 32 32 32h352c17.67 0 32-14.33 32-32zm32-64v128c0 17.67-14.33 32-32 32H256c-35.35 0-64 28.65-64 64v32c-17.67 0-32 14.33-32 32v128c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32V352c0-17.67-14.33-32-32-32v-32h160c53.02 0 96-42.98 96-96v-64c0-35.35-28.65-64-64-64z"},child:[]}]})(e)}function NX(e){return be({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M109.25 173.25c24.99-24.99 24.99-65.52 0-90.51-24.99-24.99-65.52-24.99-90.51 0-24.99 24.99-24.99 65.52 0 90.51 25 25 65.52 25 90.51 0zm256 165.49c-24.99-24.99-65.52-24.99-90.51 0-24.99 24.99-24.99 65.52 0 90.51 24.99 24.99 65.52 24.99 90.51 0 25-24.99 25-65.51 0-90.51zm-1.94-231.43l-22.62-22.62c-12.5-12.5-32.76-12.5-45.25 0L20.69 359.44c-12.5 12.5-12.5 32.76 0 45.25l22.62 22.62c12.5 12.5 32.76 12.5 45.25 0l274.75-274.75c12.5-12.49 12.5-32.75 0-45.25z"},child:[]}]})(e)}function VN(e){return be({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(e)}function Dy(e){return be({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M320,32a32,32,0,0,0-64,0v96h64Zm48,128H16A16,16,0,0,0,0,176v32a16,16,0,0,0,16,16H32v32A160.07,160.07,0,0,0,160,412.8V512h64V412.8A160.07,160.07,0,0,0,352,256V224h16a16,16,0,0,0,16-16V176A16,16,0,0,0,368,160ZM128,32a32,32,0,0,0-64,0v96h64Z"},child:[]}]})(e)}function vs(e){return be({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function SX(e){return be({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M358.4 3.2L320 48 265.6 3.2a15.9 15.9 0 0 0-19.2 0L192 48 137.6 3.2a15.9 15.9 0 0 0-19.2 0L64 48 25.6 3.2C15-4.7 0 2.8 0 16v480c0 13.2 15 20.7 25.6 12.8L64 464l54.4 44.8a15.9 15.9 0 0 0 19.2 0L192 464l54.4 44.8a15.9 15.9 0 0 0 19.2 0L320 464l38.4 44.8c10.5 7.9 25.6.4 25.6-12.8V16c0-13.2-15-20.7-25.6-12.8zM320 360c0 4.4-3.6 8-8 8H72c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h240c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H72c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h240c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H72c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h240c4.4 0 8 3.6 8 8v16z"},child:[]}]})(e)}function kX(e){return be({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505.12019,19.09375c-1.18945-5.53125-6.65819-11-12.207-12.1875C460.716,0,435.507,0,410.40747,0,307.17523,0,245.26909,55.20312,199.05238,128H94.83772c-16.34763.01562-35.55658,11.875-42.88664,26.48438L2.51562,253.29688A28.4,28.4,0,0,0,0,264a24.00867,24.00867,0,0,0,24.00582,24H127.81618l-22.47457,22.46875c-11.36521,11.36133-12.99607,32.25781,0,45.25L156.24582,406.625c11.15623,11.1875,32.15619,13.15625,45.27726,0l22.47457-22.46875V488a24.00867,24.00867,0,0,0,24.00581,24,28.55934,28.55934,0,0,0,10.707-2.51562l98.72834-49.39063c14.62888-7.29687,26.50776-26.5,26.50776-42.85937V312.79688c72.59753-46.3125,128.03493-108.40626,128.03493-211.09376C512.07526,76.5,512.07526,51.29688,505.12019,19.09375ZM384.04033,168A40,40,0,1,1,424.05,128,40.02322,40.02322,0,0,1,384.04033,168Z"},child:[]}]})(e)}function Ad(e){return be({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M308 96c6.627 0 12-5.373 12-12V44c0-6.627-5.373-12-12-12H12C5.373 32 0 37.373 0 44v44.748c0 6.627 5.373 12 12 12h85.28c27.308 0 48.261 9.958 60.97 27.252H12c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h158.757c-6.217 36.086-32.961 58.632-74.757 58.632H12c-6.627 0-12 5.373-12 12v53.012c0 3.349 1.4 6.546 3.861 8.818l165.052 152.356a12.001 12.001 0 0 0 8.139 3.182h82.562c10.924 0 16.166-13.408 8.139-20.818L116.871 319.906c76.499-2.34 131.144-53.395 138.318-127.906H308c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12h-58.69c-3.486-11.541-8.28-22.246-14.252-32H308z"},child:[]}]})(e)}function CX(e){return be({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M352 320c-22.608 0-43.387 7.819-59.79 20.895l-102.486-64.054a96.551 96.551 0 0 0 0-41.683l102.486-64.054C308.613 184.181 329.392 192 352 192c53.019 0 96-42.981 96-96S405.019 0 352 0s-96 42.981-96 96c0 7.158.79 14.13 2.276 20.841L155.79 180.895C139.387 167.819 118.608 160 96 160c-53.019 0-96 42.981-96 96s42.981 96 96 96c22.608 0 43.387-7.819 59.79-20.895l102.486 64.054A96.301 96.301 0 0 0 256 416c0 53.019 42.981 96 96 96s96-42.981 96-96-42.981-96-96-96z"},child:[]}]})(e)}function Qo(e){return be({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.5 83.7l-192-80a48.15 48.15 0 0 0-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zM256.1 446.3l-.1-381 175.9 73.3c-3.3 151.4-82.1 261.1-175.8 307.7z"},child:[]}]})(e)}function Li(e){return be({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"},child:[]}]})(e)}function bC(e){return be({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(e)}function Ju(e){return be({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M440.3 345.2l-33.8-19.5 26-7c8.2-2.2 13.1-10.7 10.9-18.9l-4-14.9c-2.2-8.2-10.7-13.1-18.9-10.9l-70.8 19-63.9-37 63.8-36.9 70.8 19c8.2 2.2 16.7-2.7 18.9-10.9l4-14.9c2.2-8.2-2.7-16.7-10.9-18.9l-26-7 33.8-19.5c7.4-4.3 9.9-13.7 5.7-21.1L430.4 119c-4.3-7.4-13.7-9.9-21.1-5.7l-33.8 19.5 7-26c2.2-8.2-2.7-16.7-10.9-18.9l-14.9-4c-8.2-2.2-16.7 2.7-18.9 10.9l-19 70.8-62.8 36.2v-77.5l53.7-53.7c6.2-6.2 6.2-16.4 0-22.6l-11.3-11.3c-6.2-6.2-16.4-6.2-22.6 0L256 56.4V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v40.4l-19.7-19.7c-6.2-6.2-16.4-6.2-22.6 0L138.3 48c-6.3 6.2-6.3 16.4 0 22.6l53.7 53.7v77.5l-62.8-36.2-19-70.8c-2.2-8.2-10.7-13.1-18.9-10.9l-14.9 4c-8.2 2.2-13.1 10.7-10.9 18.9l7 26-33.8-19.5c-7.4-4.3-16.8-1.7-21.1 5.7L2.1 145.7c-4.3 7.4-1.7 16.8 5.7 21.1l33.8 19.5-26 7c-8.3 2.2-13.2 10.7-11 19l4 14.9c2.2 8.2 10.7 13.1 18.9 10.9l70.8-19 63.8 36.9-63.8 36.9-70.8-19c-8.2-2.2-16.7 2.7-18.9 10.9l-4 14.9c-2.2 8.2 2.7 16.7 10.9 18.9l26 7-33.8 19.6c-7.4 4.3-9.9 13.7-5.7 21.1l15.5 26.8c4.3 7.4 13.7 9.9 21.1 5.7l33.8-19.5-7 26c-2.2 8.2 2.7 16.7 10.9 18.9l14.9 4c8.2 2.2 16.7-2.7 18.9-10.9l19-70.8 62.8-36.2v77.5l-53.7 53.7c-6.3 6.2-6.3 16.4 0 22.6l11.3 11.3c6.2 6.2 16.4 6.2 22.6 0l19.7-19.7V496c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-40.4l19.7 19.7c6.2 6.2 16.4 6.2 22.6 0l11.3-11.3c6.2-6.2 6.2-16.4 0-22.6L256 387.7v-77.5l62.8 36.2 19 70.8c2.2 8.2 10.7 13.1 18.9 10.9l14.9-4c8.2-2.2 13.1-10.7 10.9-18.9l-7-26 33.8 19.5c7.4 4.3 16.8 1.7 21.1-5.7l15.5-26.8c4.3-7.3 1.8-16.8-5.6-21z"},child:[]}]})(e)}function ts(e){return be({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(e)}function fc(e){return be({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(e)}function PX(e){return be({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M370.72 133.28C339.458 104.008 298.888 87.962 255.848 88c-77.458.068-144.328 53.178-162.791 126.85-1.344 5.363-6.122 9.15-11.651 9.15H24.103c-7.498 0-13.194-6.807-11.807-14.176C33.933 94.924 134.813 8 256 8c66.448 0 126.791 26.136 171.315 68.685L463.03 40.97C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.749zM32 296h134.059c21.382 0 32.09 25.851 16.971 40.971l-41.75 41.75c31.262 29.273 71.835 45.319 114.876 45.28 77.418-.07 144.315-53.144 162.787-126.849 1.344-5.363 6.122-9.15 11.651-9.15h57.304c7.498 0 13.194 6.807 11.807 14.176C478.067 417.076 377.187 504 256 504c-66.448 0-126.791-26.136-171.315-68.685L48.97 471.03C33.851 486.149 8 475.441 8 454.059V320c0-13.255 10.745-24 24-24z"},child:[]}]})(e)}function vC(e){return be({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M288 32C128.94 32 0 160.94 0 320c0 52.8 14.25 102.26 39.06 144.8 5.61 9.62 16.3 15.2 27.44 15.2h443c11.14 0 21.83-5.58 27.44-15.2C561.75 422.26 576 372.8 576 320c0-159.06-128.94-288-288-288zm0 64c14.71 0 26.58 10.13 30.32 23.65-1.11 2.26-2.64 4.23-3.45 6.67l-9.22 27.67c-5.13 3.49-10.97 6.01-17.64 6.01-17.67 0-32-14.33-32-32S270.33 96 288 96zM96 384c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm48-160c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm246.77-72.41l-61.33 184C343.13 347.33 352 364.54 352 384c0 11.72-3.38 22.55-8.88 32H232.88c-5.5-9.45-8.88-20.28-8.88-32 0-33.94 26.5-61.43 59.9-63.59l61.34-184.01c4.17-12.56 17.73-19.45 30.36-15.17 12.57 4.19 19.35 17.79 15.17 30.36zm14.66 57.2l15.52-46.55c3.47-1.29 7.13-2.23 11.05-2.23 17.67 0 32 14.33 32 32s-14.33 32-32 32c-11.38-.01-20.89-6.28-26.57-15.22zM480 384c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"},child:[]}]})(e)}function Gt(e){return be({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"},child:[]}]})(e)}function Rl(e){return be({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}function Qu(e){return be({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M205.22 22.09c-7.94-28.78-49.44-30.12-58.44 0C100.01 179.85 0 222.72 0 333.91 0 432.35 78.72 512 176 512s176-79.65 176-178.09c0-111.75-99.79-153.34-146.78-311.82zM176 448c-61.75 0-112-50.25-112-112 0-8.84 7.16-16 16-16s16 7.16 16 16c0 44.11 35.89 80 80 80 8.84 0 16 7.16 16 16s-7.16 16-16 16z"},child:[]}]})(e)}function AX(e){return be({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M384 64H192C85.961 64 0 149.961 0 256s85.961 192 192 192h192c106.039 0 192-85.961 192-192S490.039 64 384 64zM64 256c0-70.741 57.249-128 128-128 70.741 0 128 57.249 128 128 0 70.741-57.249 128-128 128-70.741 0-128-57.249-128-128zm320 128h-48.905c65.217-72.858 65.236-183.12 0-256H384c70.741 0 128 57.249 128 128 0 70.74-57.249 128-128 128z"},child:[]}]})(e)}function TX(e){return be({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M384 64H192C86 64 0 150 0 256s86 192 192 192h192c106 0 192-86 192-192S490 64 384 64zm0 320c-70.8 0-128-57.3-128-128 0-70.8 57.3-128 128-128 70.8 0 128 57.3 128 128 0 70.8-57.3 128-128 128z"},child:[]}]})(e)}function EX(e){return be({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.63 214.63l-45.25-45.25c-6-6-14.14-9.37-22.63-9.37H384V80c0-26.51-21.49-48-48-48H176c-26.51 0-48 21.49-48 48v80H77.25c-8.49 0-16.62 3.37-22.63 9.37L9.37 214.63c-6 6-9.37 14.14-9.37 22.63V320h128v-16c0-8.84 7.16-16 16-16h32c8.84 0 16 7.16 16 16v16h128v-16c0-8.84 7.16-16 16-16h32c8.84 0 16 7.16 16 16v16h128v-82.75c0-8.48-3.37-16.62-9.37-22.62zM320 160H192V96h128v64zm64 208c0 8.84-7.16 16-16 16h-32c-8.84 0-16-7.16-16-16v-16H192v16c0 8.84-7.16 16-16 16h-32c-8.84 0-16-7.16-16-16v-16H0v96c0 17.67 14.33 32 32 32h448c17.67 0 32-14.33 32-32v-96H384v16z"},child:[]}]})(e)}function fa(e){return be({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M501.1 395.7L384 278.6c-23.1-23.1-57.6-27.6-85.4-13.9L192 158.1V96L64 0 0 64l96 128h62.1l106.6 106.6c-13.6 27.8-9.2 62.3 13.9 85.4l117.1 117.1c14.6 14.6 38.2 14.6 52.7 0l52.7-52.7c14.5-14.6 14.5-38.2 0-52.7zM331.7 225c28.3 0 54.9 11 74.9 31l19.4 19.4c15.8-6.9 30.8-16.5 43.8-29.5 37.1-37.1 49.7-89.3 37.9-136.7-2.2-9-13.5-12.1-20.1-5.5l-74.4 74.4-67.9-11.3L334 98.9l74.4-74.4c6.6-6.6 3.4-17.9-5.7-20.2-47.4-11.7-99.6.9-136.6 37.9-28.5 28.5-41.9 66.1-41.2 103.6l82.1 82.1c8.1-1.9 16.5-2.9 24.7-2.9zm-103.9 82l-56.7-56.7L18.7 402.8c-25 25-25 65.5 0 90.5s65.5 25 90.5 0l123.6-123.6c-7.6-19.9-9.9-41.6-5-62.7zM64 472c-13.2 0-24-10.8-24-24 0-13.3 10.7-24 24-24s24 10.7 24 24c0 13.2-10.7 24-24 24z"},child:[]}]})(e)}function IX(e){return be({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}function Kv(e){return be({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(e)}function Ua(e){return be({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4zm323-128.4l-27.8-28.1c-4.6-4.7-12.1-4.7-16.8-.1l-104.8 104-45.5-45.8c-4.6-4.7-12.1-4.7-16.8-.1l-28.1 27.9c-4.7 4.6-4.7 12.1-.1 16.8l81.7 82.3c4.6 4.7 12.1 4.7 16.8.1l141.3-140.2c4.6-4.7 4.7-12.2.1-16.8z"},child:[]}]})(e)}function wO(e){return be({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.3 271.1l-115.2-45c-4.1-1.6-12.6-3.7-22.2 0l-115.2 45c-10.7 4.2-17.7 14-17.7 24.9 0 111.6 68.7 188.8 132.9 213.9 9.6 3.7 18 1.6 22.2 0C558.4 489.9 640 420.5 640 296c0-10.9-7-20.7-17.7-24.9zM496 462.4V273.3l95.5 37.3c-5.6 87.1-60.9 135.4-95.5 151.8zM224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm96 40c0-2.5.8-4.8 1.1-7.2-2.5-.1-4.9-.8-7.5-.8h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c6.8 0 13.3-1.5 19.2-4-54-42.9-99.2-116.7-99.2-212z"},child:[]}]})(e)}function Oc(e){return be({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}function jC(e){return be({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(e)}function Zu(e){return be({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M461.2 128H80c-8.84 0-16-7.16-16-16s7.16-16 16-16h384c8.84 0 16-7.16 16-16 0-26.51-21.49-48-48-48H64C28.65 32 0 60.65 0 96v320c0 35.35 28.65 64 64 64h397.2c28.02 0 50.8-21.53 50.8-48V176c0-26.47-22.78-48-50.8-48zM416 336c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"},child:[]}]})(e)}function V0(e){return be({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M507.73 109.1c-2.24-9.03-13.54-12.09-20.12-5.51l-74.36 74.36-67.88-11.31-11.31-67.88 74.36-74.36c6.62-6.62 3.43-17.9-5.66-20.16-47.38-11.74-99.55.91-136.58 37.93-39.64 39.64-50.55 97.1-34.05 147.2L18.74 402.76c-24.99 24.99-24.99 65.51 0 90.5 24.99 24.99 65.51 24.99 90.5 0l213.21-213.21c50.12 16.71 107.47 5.68 147.37-34.22 37.07-37.07 49.7-89.32 37.91-136.73zM64 472c-13.25 0-24-10.75-24-24 0-13.26 10.75-24 24-24s24 10.74 24 24c0 13.25-10.75 24-24 24z"},child:[]}]})(e)}const _X=({isOpen:e,onClose:r})=>(g.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]),g.useEffect(()=>{if(!e)return;const s=a=>{a.key==="Escape"&&e&&(a.preventDefault(),a.stopPropagation(),r&&r())};return document.addEventListener("keydown",s,!0),()=>{document.removeEventListener("keydown",s,!0)}},[e,r]),t.jsx(wl,{children:e&&t.jsxs(t.Fragment,{children:[t.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},onClick:s=>{s.preventDefault(),s.stopPropagation(),r&&r()},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[10000] cursor-pointer"}),t.jsx("div",{className:"fixed inset-0 z-[10001] flex items-center justify-center p-4 pointer-events-none",children:t.jsxs(E.div,{initial:{opacity:0,scale:.8,y:50},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:50},transition:{type:"spring",stiffness:300,damping:30},onClick:s=>s.stopPropagation(),onMouseDown:s=>s.stopPropagation(),className:"bg-white rounded-3xl shadow-2xl max-w-md w-full pointer-events-auto relative overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#25D366] via-[#20BA5A] to-[#128C7E] opacity-10"}),[...Array(6)].map((s,a)=>t.jsx(E.div,{className:"absolute rounded-full bg-[#25D366]/20 pointer-events-none",style:{width:`${20+a*10}px`,height:`${20+a*10}px`,left:`${10+a*15}%`,top:`${10+a*12}%`},animate:{y:[0,-30,0],x:[0,20,0],scale:[1,1.2,1],opacity:[.2,.4,.2]},transition:{duration:3+a*.5,repeat:1/0,ease:"easeInOut",delay:a*.3}},a)),t.jsx("button",{type:"button",onClick:s=>{s.preventDefault(),s.stopPropagation(),r&&r()},onMouseDown:s=>{s.preventDefault(),s.stopPropagation()},className:"absolute top-4 right-4 z-[100] w-10 h-10 rounded-full bg-white hover:bg-gray-50 shadow-lg flex items-center justify-center transition-all duration-200 hover:scale-110 active:scale-95 group cursor-pointer border border-gray-200","aria-label":"Close dialog",title:"Close",style:{pointerEvents:"auto"},children:t.jsx(Rl,{className:"w-5 h-5 text-gray-700 group-hover:text-gray-900 transition-colors"})}),t.jsxs("div",{className:"relative z-10 p-8 sm:p-10",children:[t.jsx(E.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,damping:15,delay:.2},className:"w-24 h-24 mx-auto mb-6 rounded-full bg-gradient-to-br from-[#25D366] to-[#128C7E] flex items-center justify-center shadow-xl",children:t.jsx(E.div,{animate:{rotate:[0,10,-10,0],scale:[1,1.1,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:t.jsx(kX,{className:"w-12 h-12 text-white"})})}),t.jsx(E.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-3xl sm:text-4xl font-bold text-center mb-3 bg-gradient-to-r from-[#25D366] to-[#128C7E] bg-clip-text text-transparent",children:"Coming Soon!"}),t.jsx(E.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"text-gray-600 text-center mb-6 text-lg",children:"WhatsApp integration is under development"}),t.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-gradient-to-br from-[#25D366]/10 to-[#128C7E]/10 rounded-2xl p-6 mb-6 border border-[#25D366]/20",children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"flex-shrink-0 w-12 h-12 rounded-full bg-[#25D366]/20 flex items-center justify-center",children:t.jsx(ei,{className:"w-6 h-6 text-[#128C7E]"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"We're working on it!"}),t.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:"Our team is building an amazing WhatsApp experience for you. Stay tuned for updates and be the first to know when it's ready!"})]})]})}),t.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"space-y-3 mb-6",children:[t.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[t.jsx("div",{className:"w-2 h-2 rounded-full bg-[#25D366] flex-shrink-0"}),t.jsx("span",{className:"text-sm",children:"Instant booking via WhatsApp"})]}),t.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[t.jsx("div",{className:"w-2 h-2 rounded-full bg-[#25D366] flex-shrink-0"}),t.jsx("span",{className:"text-sm",children:"Real-time service updates"})]}),t.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[t.jsx("div",{className:"w-2 h-2 rounded-full bg-[#25D366] flex-shrink-0"}),t.jsx("span",{className:"text-sm",children:"24/7 customer support"})]})]}),t.jsxs(E.button,{type:"button",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},onClick:s=>{s.preventDefault(),s.stopPropagation(),r&&r()},className:"w-full bg-gradient-to-r from-[#25D366] to-[#128C7E] text-white py-4 rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all duration-300 flex items-center justify-center gap-2 hover:scale-105 active:scale-95 cursor-pointer",children:[t.jsx(aX,{className:"w-5 h-5"}),t.jsx("span",{children:"I'll be notified"})]}),t.jsx(E.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},className:"text-center text-xs text-gray-500 mt-4",children:"For now, please contact us through other channels"})]})]})})]})})),NO=g.createContext(),WN=()=>{const e=g.useContext(NO);if(!e)throw new Error("useComingSoon must be used within ComingSoonProvider");return e},OX=({children:e})=>{const[r,s]=g.useState(!1),a=()=>s(!0),n=()=>s(!1);return t.jsxs(NO.Provider,{value:{openDialog:a,closeDialog:n},children:[e,t.jsx(_X,{isOpen:r,onClose:n})]})},DX=()=>{const{pathname:e,hash:r}=Br();return g.useEffect(()=>{if(r){const s=document.getElementById(r.substring(1));if(s){setTimeout(()=>{s.scrollIntoView({behavior:"smooth",block:"start"})},100);return}}window.scrollTo({top:0,left:0,behavior:"smooth"})},[e,r]),null},En=({title:e="Nexo - Connect. Work. Grow. | Home Services on WhatsApp",description:r="Fast, reliable and affordable home services from verified experts. Book AC, electrical, plumbing, cleaning, and 200+ services on WhatsApp. Response under 2 minutes.",keywords:s="home services, AC service, electrical work, plumbing, cleaning services, WhatsApp booking, verified technicians, home maintenance",image:a="/logo.png",url:n="",type:i="website"})=>{const l=e.includes("Nexo")?e:`${e} | Nexo`,o="https://nexo.works",c=n?`${o}${n}`:o,d=a.startsWith("http")?a:`${o}${a}`;return t.jsxs(kV,{children:[t.jsx("title",{children:l}),t.jsx("meta",{name:"title",content:l}),t.jsx("meta",{name:"description",content:r}),t.jsx("meta",{name:"keywords",content:s}),t.jsx("meta",{name:"author",content:"Nexo"}),t.jsx("meta",{name:"robots",content:"index, follow"}),t.jsx("meta",{name:"language",content:"English"}),t.jsx("meta",{name:"revisit-after",content:"7 days"}),t.jsx("meta",{property:"og:type",content:i}),t.jsx("meta",{property:"og:url",content:c}),t.jsx("meta",{property:"og:title",content:l}),t.jsx("meta",{property:"og:description",content:r}),t.jsx("meta",{property:"og:image",content:d}),t.jsx("meta",{property:"og:image:width",content:"1200"}),t.jsx("meta",{property:"og:image:height",content:"630"}),t.jsx("meta",{property:"og:image:type",content:"image/png"}),t.jsx("meta",{property:"og:site_name",content:"Nexo"}),t.jsx("meta",{property:"og:locale",content:"en_IN"}),t.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),t.jsx("meta",{name:"twitter:url",content:c}),t.jsx("meta",{name:"twitter:title",content:l}),t.jsx("meta",{name:"twitter:description",content:r}),t.jsx("meta",{name:"twitter:image",content:d}),t.jsx("meta",{name:"twitter:site",content:"@nexo"}),t.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),t.jsx("meta",{name:"theme-color",content:"#214A73"}),t.jsx("link",{rel:"canonical",href:c}),t.jsx("script",{type:"application/ld+json",children:JSON.stringify({"@context":"https://schema.org","@type":"Service",name:"Nexo Home Services",description:r,url:c,logo:`${o}/logo.png`,contactPoint:{"@type":"ContactPoint",telephone:"+91-9590926068",contactType:"Customer Service",availableLanguage:["English","Hindi"]},areaServed:{"@type":"Country",name:"India"},serviceType:"Home Services",provider:{"@type":"Organization",name:"Nexo",url:o}})})]})};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MX=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),LX=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,s,a)=>a?a.toUpperCase():s.toLowerCase()),wC=e=>{const r=LX(e);return r.charAt(0).toUpperCase()+r.slice(1)},SO=(...e)=>e.filter((r,s,a)=>!!r&&r.trim()!==""&&a.indexOf(r)===s).join(" ").trim(),FX=e=>{for(const r in e)if(r.startsWith("aria-")||r==="role"||r==="title")return!0};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var RX={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BX=g.forwardRef(({color:e="currentColor",size:r=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:n="",children:i,iconNode:l,...o},c)=>g.createElement("svg",{ref:c,...RX,width:r,height:r,stroke:e,strokeWidth:a?Number(s)*24/Number(r):s,className:SO("lucide",n),...!i&&!FX(o)&&{"aria-hidden":"true"},...o},[...l.map(([d,u])=>g.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GN=(e,r)=>{const s=g.forwardRef(({className:a,...n},i)=>g.createElement(BX,{ref:i,iconNode:r,className:SO(`lucide-${MX(wC(e))}`,`lucide-${e}`,a),...n}));return s.displayName=wC(e),s};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $X=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],zX=GN("check",$X);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UX=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],NC=GN("map-pin",UX);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HX=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],VX=GN("x",HX);function kO(e,r){return function(){return e.apply(r,arguments)}}const{toString:WX}=Object.prototype,{getPrototypeOf:qN}=Object,{iterator:My,toStringTag:CO}=Symbol,Ly=(e=>r=>{const s=WX.call(r);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),Ei=e=>(e=e.toLowerCase(),r=>Ly(r)===e),Fy=e=>r=>typeof r===e,{isArray:pm}=Array,em=Fy("undefined");function W0(e){return e!==null&&!em(e)&&e.constructor!==null&&!em(e.constructor)&&Ka(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const PO=Ei("ArrayBuffer");function GX(e){let r;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?r=ArrayBuffer.isView(e):r=e&&e.buffer&&PO(e.buffer),r}const qX=Fy("string"),Ka=Fy("function"),AO=Fy("number"),G0=e=>e!==null&&typeof e=="object",KX=e=>e===!0||e===!1,Wp=e=>{if(Ly(e)!=="object")return!1;const r=qN(e);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(CO in e)&&!(My in e)},YX=e=>{if(!G0(e)||W0(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},XX=Ei("Date"),JX=Ei("File"),QX=Ei("Blob"),ZX=Ei("FileList"),eJ=e=>G0(e)&&Ka(e.pipe),tJ=e=>{let r;return e&&(typeof FormData=="function"&&e instanceof FormData||Ka(e.append)&&((r=Ly(e))==="formdata"||r==="object"&&Ka(e.toString)&&e.toString()==="[object FormData]"))},rJ=Ei("URLSearchParams"),[sJ,aJ,nJ,iJ]=["ReadableStream","Request","Response","Headers"].map(Ei),lJ=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function q0(e,r,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let a,n;if(typeof e!="object"&&(e=[e]),pm(e))for(a=0,n=e.length;a<n;a++)r.call(null,e[a],a,e);else{if(W0(e))return;const i=s?Object.getOwnPropertyNames(e):Object.keys(e),l=i.length;let o;for(a=0;a<l;a++)o=i[a],r.call(null,e[o],o,e)}}function TO(e,r){if(W0(e))return null;r=r.toLowerCase();const s=Object.keys(e);let a=s.length,n;for(;a-- >0;)if(n=s[a],r===n.toLowerCase())return n;return null}const Dc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,EO=e=>!em(e)&&e!==Dc;function oj(){const{caseless:e,skipUndefined:r}=EO(this)&&this||{},s={},a=(n,i)=>{const l=e&&TO(s,i)||i;Wp(s[l])&&Wp(n)?s[l]=oj(s[l],n):Wp(n)?s[l]=oj({},n):pm(n)?s[l]=n.slice():(!r||!em(n))&&(s[l]=n)};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&q0(arguments[n],a);return s}const oJ=(e,r,s,{allOwnKeys:a}={})=>(q0(r,(n,i)=>{s&&Ka(n)?e[i]=kO(n,s):e[i]=n},{allOwnKeys:a}),e),cJ=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),dJ=(e,r,s,a)=>{e.prototype=Object.create(r.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:r.prototype}),s&&Object.assign(e.prototype,s)},uJ=(e,r,s,a)=>{let n,i,l;const o={};if(r=r||{},e==null)return r;do{for(n=Object.getOwnPropertyNames(e),i=n.length;i-- >0;)l=n[i],(!a||a(l,e,r))&&!o[l]&&(r[l]=e[l],o[l]=!0);e=s!==!1&&qN(e)}while(e&&(!s||s(e,r))&&e!==Object.prototype);return r},mJ=(e,r,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=r.length;const a=e.indexOf(r,s);return a!==-1&&a===s},hJ=e=>{if(!e)return null;if(pm(e))return e;let r=e.length;if(!AO(r))return null;const s=new Array(r);for(;r-- >0;)s[r]=e[r];return s},xJ=(e=>r=>e&&r instanceof e)(typeof Uint8Array<"u"&&qN(Uint8Array)),pJ=(e,r)=>{const a=(e&&e[My]).call(e);let n;for(;(n=a.next())&&!n.done;){const i=n.value;r.call(e,i[0],i[1])}},fJ=(e,r)=>{let s;const a=[];for(;(s=e.exec(r))!==null;)a.push(s);return a},gJ=Ei("HTMLFormElement"),yJ=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,a,n){return a.toUpperCase()+n}),SC=(({hasOwnProperty:e})=>(r,s)=>e.call(r,s))(Object.prototype),bJ=Ei("RegExp"),IO=(e,r)=>{const s=Object.getOwnPropertyDescriptors(e),a={};q0(s,(n,i)=>{let l;(l=r(n,i,e))!==!1&&(a[i]=l||n)}),Object.defineProperties(e,a)},vJ=e=>{IO(e,(r,s)=>{if(Ka(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const a=e[s];if(Ka(a)){if(r.enumerable=!1,"writable"in r){r.writable=!1;return}r.set||(r.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},jJ=(e,r)=>{const s={},a=n=>{n.forEach(i=>{s[i]=!0})};return pm(e)?a(e):a(String(e).split(r)),s},wJ=()=>{},NJ=(e,r)=>e!=null&&Number.isFinite(e=+e)?e:r;function SJ(e){return!!(e&&Ka(e.append)&&e[CO]==="FormData"&&e[My])}const kJ=e=>{const r=new Array(10),s=(a,n)=>{if(G0(a)){if(r.indexOf(a)>=0)return;if(W0(a))return a;if(!("toJSON"in a)){r[n]=a;const i=pm(a)?[]:{};return q0(a,(l,o)=>{const c=s(l,n+1);!em(c)&&(i[o]=c)}),r[n]=void 0,i}}return a};return s(e,0)},CJ=Ei("AsyncFunction"),PJ=e=>e&&(G0(e)||Ka(e))&&Ka(e.then)&&Ka(e.catch),_O=((e,r)=>e?setImmediate:r?((s,a)=>(Dc.addEventListener("message",({source:n,data:i})=>{n===Dc&&i===s&&a.length&&a.shift()()},!1),n=>{a.push(n),Dc.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",Ka(Dc.postMessage)),AJ=typeof queueMicrotask<"u"?queueMicrotask.bind(Dc):typeof process<"u"&&process.nextTick||_O,TJ=e=>e!=null&&Ka(e[My]),Te={isArray:pm,isArrayBuffer:PO,isBuffer:W0,isFormData:tJ,isArrayBufferView:GX,isString:qX,isNumber:AO,isBoolean:KX,isObject:G0,isPlainObject:Wp,isEmptyObject:YX,isReadableStream:sJ,isRequest:aJ,isResponse:nJ,isHeaders:iJ,isUndefined:em,isDate:XX,isFile:JX,isBlob:QX,isRegExp:bJ,isFunction:Ka,isStream:eJ,isURLSearchParams:rJ,isTypedArray:xJ,isFileList:ZX,forEach:q0,merge:oj,extend:oJ,trim:lJ,stripBOM:cJ,inherits:dJ,toFlatObject:uJ,kindOf:Ly,kindOfTest:Ei,endsWith:mJ,toArray:hJ,forEachEntry:pJ,matchAll:fJ,isHTMLForm:gJ,hasOwnProperty:SC,hasOwnProp:SC,reduceDescriptors:IO,freezeMethods:vJ,toObjectSet:jJ,toCamelCase:yJ,noop:wJ,toFiniteNumber:NJ,findKey:TO,global:Dc,isContextDefined:EO,isSpecCompliantForm:SJ,toJSONObject:kJ,isAsyncFn:CJ,isThenable:PJ,setImmediate:_O,asap:AJ,isIterable:TJ};function $t(e,r,s,a,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",r&&(this.code=r),s&&(this.config=s),a&&(this.request=a),n&&(this.response=n,this.status=n.status?n.status:null)}Te.inherits($t,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Te.toJSONObject(this.config),code:this.code,status:this.status}}});const OO=$t.prototype,DO={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{DO[e]={value:e}});Object.defineProperties($t,DO);Object.defineProperty(OO,"isAxiosError",{value:!0});$t.from=(e,r,s,a,n,i)=>{const l=Object.create(OO);Te.toFlatObject(e,l,function(u){return u!==Error.prototype},d=>d!=="isAxiosError");const o=e&&e.message?e.message:"Error",c=r==null&&e?e.code:r;return $t.call(l,o,c,s,a,n),e&&l.cause==null&&Object.defineProperty(l,"cause",{value:e,configurable:!0}),l.name=e&&e.name||"Error",i&&Object.assign(l,i),l};const EJ=null;function cj(e){return Te.isPlainObject(e)||Te.isArray(e)}function MO(e){return Te.endsWith(e,"[]")?e.slice(0,-2):e}function kC(e,r,s){return e?e.concat(r).map(function(n,i){return n=MO(n),!s&&i?"["+n+"]":n}).join(s?".":""):r}function IJ(e){return Te.isArray(e)&&!e.some(cj)}const _J=Te.toFlatObject(Te,{},null,function(r){return/^is[A-Z]/.test(r)});function Ry(e,r,s){if(!Te.isObject(e))throw new TypeError("target must be an object");r=r||new FormData,s=Te.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(f,b){return!Te.isUndefined(b[f])});const a=s.metaTokens,n=s.visitor||u,i=s.dots,l=s.indexes,c=(s.Blob||typeof Blob<"u"&&Blob)&&Te.isSpecCompliantForm(r);if(!Te.isFunction(n))throw new TypeError("visitor must be a function");function d(p){if(p===null)return"";if(Te.isDate(p))return p.toISOString();if(Te.isBoolean(p))return p.toString();if(!c&&Te.isBlob(p))throw new $t("Blob is not supported. Use a Buffer instead.");return Te.isArrayBuffer(p)||Te.isTypedArray(p)?c&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function u(p,f,b){let j=p;if(p&&!b&&typeof p=="object"){if(Te.endsWith(f,"{}"))f=a?f:f.slice(0,-2),p=JSON.stringify(p);else if(Te.isArray(p)&&IJ(p)||(Te.isFileList(p)||Te.endsWith(f,"[]"))&&(j=Te.toArray(p)))return f=MO(f),j.forEach(function(y,v){!(Te.isUndefined(y)||y===null)&&r.append(l===!0?kC([f],v,i):l===null?f:f+"[]",d(y))}),!1}return cj(p)?!0:(r.append(kC(b,f,i),d(p)),!1)}const m=[],x=Object.assign(_J,{defaultVisitor:u,convertValue:d,isVisitable:cj});function h(p,f){if(!Te.isUndefined(p)){if(m.indexOf(p)!==-1)throw Error("Circular reference detected in "+f.join("."));m.push(p),Te.forEach(p,function(j,w){(!(Te.isUndefined(j)||j===null)&&n.call(r,j,Te.isString(w)?w.trim():w,f,x))===!0&&h(j,f?f.concat(w):[w])}),m.pop()}}if(!Te.isObject(e))throw new TypeError("data must be an object");return h(e),r}function CC(e){const r={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(a){return r[a]})}function KN(e,r){this._pairs=[],e&&Ry(e,this,r)}const LO=KN.prototype;LO.append=function(r,s){this._pairs.push([r,s])};LO.toString=function(r){const s=r?function(a){return r.call(this,a,CC)}:CC;return this._pairs.map(function(n){return s(n[0])+"="+s(n[1])},"").join("&")};function OJ(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function FO(e,r,s){if(!r)return e;const a=s&&s.encode||OJ;Te.isFunction(s)&&(s={serialize:s});const n=s&&s.serialize;let i;if(n?i=n(r,s):i=Te.isURLSearchParams(r)?r.toString():new KN(r,s).toString(a),i){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class PC{constructor(){this.handlers=[]}use(r,s,a){return this.handlers.push({fulfilled:r,rejected:s,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(r){this.handlers[r]&&(this.handlers[r]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(r){Te.forEach(this.handlers,function(a){a!==null&&r(a)})}}const RO={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},DJ=typeof URLSearchParams<"u"?URLSearchParams:KN,MJ=typeof FormData<"u"?FormData:null,LJ=typeof Blob<"u"?Blob:null,FJ={isBrowser:!0,classes:{URLSearchParams:DJ,FormData:MJ,Blob:LJ},protocols:["http","https","file","blob","url","data"]},YN=typeof window<"u"&&typeof document<"u",dj=typeof navigator=="object"&&navigator||void 0,RJ=YN&&(!dj||["ReactNative","NativeScript","NS"].indexOf(dj.product)<0),BJ=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",$J=YN&&window.location.href||"http://localhost",zJ=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:YN,hasStandardBrowserEnv:RJ,hasStandardBrowserWebWorkerEnv:BJ,navigator:dj,origin:$J},Symbol.toStringTag,{value:"Module"})),pa={...zJ,...FJ};function UJ(e,r){return Ry(e,new pa.classes.URLSearchParams,{visitor:function(s,a,n,i){return pa.isNode&&Te.isBuffer(s)?(this.append(a,s.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...r})}function HJ(e){return Te.matchAll(/\w+|\[(\w*)]/g,e).map(r=>r[0]==="[]"?"":r[1]||r[0])}function VJ(e){const r={},s=Object.keys(e);let a;const n=s.length;let i;for(a=0;a<n;a++)i=s[a],r[i]=e[i];return r}function BO(e){function r(s,a,n,i){let l=s[i++];if(l==="__proto__")return!0;const o=Number.isFinite(+l),c=i>=s.length;return l=!l&&Te.isArray(n)?n.length:l,c?(Te.hasOwnProp(n,l)?n[l]=[n[l],a]:n[l]=a,!o):((!n[l]||!Te.isObject(n[l]))&&(n[l]=[]),r(s,a,n[l],i)&&Te.isArray(n[l])&&(n[l]=VJ(n[l])),!o)}if(Te.isFormData(e)&&Te.isFunction(e.entries)){const s={};return Te.forEachEntry(e,(a,n)=>{r(HJ(a),n,s,0)}),s}return null}function WJ(e,r,s){if(Te.isString(e))try{return(r||JSON.parse)(e),Te.trim(e)}catch(a){if(a.name!=="SyntaxError")throw a}return(s||JSON.stringify)(e)}const K0={transitional:RO,adapter:["xhr","http","fetch"],transformRequest:[function(r,s){const a=s.getContentType()||"",n=a.indexOf("application/json")>-1,i=Te.isObject(r);if(i&&Te.isHTMLForm(r)&&(r=new FormData(r)),Te.isFormData(r))return n?JSON.stringify(BO(r)):r;if(Te.isArrayBuffer(r)||Te.isBuffer(r)||Te.isStream(r)||Te.isFile(r)||Te.isBlob(r)||Te.isReadableStream(r))return r;if(Te.isArrayBufferView(r))return r.buffer;if(Te.isURLSearchParams(r))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),r.toString();let o;if(i){if(a.indexOf("application/x-www-form-urlencoded")>-1)return UJ(r,this.formSerializer).toString();if((o=Te.isFileList(r))||a.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Ry(o?{"files[]":r}:r,c&&new c,this.formSerializer)}}return i||n?(s.setContentType("application/json",!1),WJ(r)):r}],transformResponse:[function(r){const s=this.transitional||K0.transitional,a=s&&s.forcedJSONParsing,n=this.responseType==="json";if(Te.isResponse(r)||Te.isReadableStream(r))return r;if(r&&Te.isString(r)&&(a&&!this.responseType||n)){const l=!(s&&s.silentJSONParsing)&&n;try{return JSON.parse(r,this.parseReviver)}catch(o){if(l)throw o.name==="SyntaxError"?$t.from(o,$t.ERR_BAD_RESPONSE,this,null,this.response):o}}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:pa.classes.FormData,Blob:pa.classes.Blob},validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Te.forEach(["delete","get","head","post","put","patch"],e=>{K0.headers[e]={}});const GJ=Te.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),qJ=e=>{const r={};let s,a,n;return e&&e.split(`
`).forEach(function(l){n=l.indexOf(":"),s=l.substring(0,n).trim().toLowerCase(),a=l.substring(n+1).trim(),!(!s||r[s]&&GJ[s])&&(s==="set-cookie"?r[s]?r[s].push(a):r[s]=[a]:r[s]=r[s]?r[s]+", "+a:a)}),r},AC=Symbol("internals");function Km(e){return e&&String(e).trim().toLowerCase()}function Gp(e){return e===!1||e==null?e:Te.isArray(e)?e.map(Gp):String(e)}function KJ(e){const r=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=s.exec(e);)r[a[1]]=a[2];return r}const YJ=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Yv(e,r,s,a,n){if(Te.isFunction(a))return a.call(this,r,s);if(n&&(r=s),!!Te.isString(r)){if(Te.isString(a))return r.indexOf(a)!==-1;if(Te.isRegExp(a))return a.test(r)}}function XJ(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(r,s,a)=>s.toUpperCase()+a)}function JJ(e,r){const s=Te.toCamelCase(" "+r);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+s,{value:function(n,i,l){return this[a].call(this,r,n,i,l)},configurable:!0})})}let Ya=class{constructor(r){r&&this.set(r)}set(r,s,a){const n=this;function i(o,c,d){const u=Km(c);if(!u)throw new Error("header name must be a non-empty string");const m=Te.findKey(n,u);(!m||n[m]===void 0||d===!0||d===void 0&&n[m]!==!1)&&(n[m||c]=Gp(o))}const l=(o,c)=>Te.forEach(o,(d,u)=>i(d,u,c));if(Te.isPlainObject(r)||r instanceof this.constructor)l(r,s);else if(Te.isString(r)&&(r=r.trim())&&!YJ(r))l(qJ(r),s);else if(Te.isObject(r)&&Te.isIterable(r)){let o={},c,d;for(const u of r){if(!Te.isArray(u))throw TypeError("Object iterator must return a key-value pair");o[d=u[0]]=(c=o[d])?Te.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}l(o,s)}else r!=null&&i(s,r,a);return this}get(r,s){if(r=Km(r),r){const a=Te.findKey(this,r);if(a){const n=this[a];if(!s)return n;if(s===!0)return KJ(n);if(Te.isFunction(s))return s.call(this,n,a);if(Te.isRegExp(s))return s.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(r,s){if(r=Km(r),r){const a=Te.findKey(this,r);return!!(a&&this[a]!==void 0&&(!s||Yv(this,this[a],a,s)))}return!1}delete(r,s){const a=this;let n=!1;function i(l){if(l=Km(l),l){const o=Te.findKey(a,l);o&&(!s||Yv(a,a[o],o,s))&&(delete a[o],n=!0)}}return Te.isArray(r)?r.forEach(i):i(r),n}clear(r){const s=Object.keys(this);let a=s.length,n=!1;for(;a--;){const i=s[a];(!r||Yv(this,this[i],i,r,!0))&&(delete this[i],n=!0)}return n}normalize(r){const s=this,a={};return Te.forEach(this,(n,i)=>{const l=Te.findKey(a,i);if(l){s[l]=Gp(n),delete s[i];return}const o=r?XJ(i):String(i).trim();o!==i&&delete s[i],s[o]=Gp(n),a[o]=!0}),this}concat(...r){return this.constructor.concat(this,...r)}toJSON(r){const s=Object.create(null);return Te.forEach(this,(a,n)=>{a!=null&&a!==!1&&(s[n]=r&&Te.isArray(a)?a.join(", "):a)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([r,s])=>r+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(r){return r instanceof this?r:new this(r)}static concat(r,...s){const a=new this(r);return s.forEach(n=>a.set(n)),a}static accessor(r){const a=(this[AC]=this[AC]={accessors:{}}).accessors,n=this.prototype;function i(l){const o=Km(l);a[o]||(JJ(n,l),a[o]=!0)}return Te.isArray(r)?r.forEach(i):i(r),this}};Ya.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Te.reduceDescriptors(Ya.prototype,({value:e},r)=>{let s=r[0].toUpperCase()+r.slice(1);return{get:()=>e,set(a){this[s]=a}}});Te.freezeMethods(Ya);function Xv(e,r){const s=this||K0,a=r||s,n=Ya.from(a.headers);let i=a.data;return Te.forEach(e,function(o){i=o.call(s,i,n.normalize(),r?r.status:void 0)}),n.normalize(),i}function $O(e){return!!(e&&e.__CANCEL__)}function fm(e,r,s){$t.call(this,e??"canceled",$t.ERR_CANCELED,r,s),this.name="CanceledError"}Te.inherits(fm,$t,{__CANCEL__:!0});function zO(e,r,s){const a=s.config.validateStatus;!s.status||!a||a(s.status)?e(s):r(new $t("Request failed with status code "+s.status,[$t.ERR_BAD_REQUEST,$t.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function QJ(e){const r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return r&&r[1]||""}function ZJ(e,r){e=e||10;const s=new Array(e),a=new Array(e);let n=0,i=0,l;return r=r!==void 0?r:1e3,function(c){const d=Date.now(),u=a[i];l||(l=d),s[n]=c,a[n]=d;let m=i,x=0;for(;m!==n;)x+=s[m++],m=m%e;if(n=(n+1)%e,n===i&&(i=(i+1)%e),d-l<r)return;const h=u&&d-u;return h?Math.round(x*1e3/h):void 0}}function eQ(e,r){let s=0,a=1e3/r,n,i;const l=(d,u=Date.now())=>{s=u,n=null,i&&(clearTimeout(i),i=null),e(...d)};return[(...d)=>{const u=Date.now(),m=u-s;m>=a?l(d,u):(n=d,i||(i=setTimeout(()=>{i=null,l(n)},a-m)))},()=>n&&l(n)]}const Ff=(e,r,s=3)=>{let a=0;const n=ZJ(50,250);return eQ(i=>{const l=i.loaded,o=i.lengthComputable?i.total:void 0,c=l-a,d=n(c),u=l<=o;a=l;const m={loaded:l,total:o,progress:o?l/o:void 0,bytes:c,rate:d||void 0,estimated:d&&o&&u?(o-l)/d:void 0,event:i,lengthComputable:o!=null,[r?"download":"upload"]:!0};e(m)},s)},TC=(e,r)=>{const s=e!=null;return[a=>r[0]({lengthComputable:s,total:e,loaded:a}),r[1]]},EC=e=>(...r)=>Te.asap(()=>e(...r)),tQ=pa.hasStandardBrowserEnv?((e,r)=>s=>(s=new URL(s,pa.origin),e.protocol===s.protocol&&e.host===s.host&&(r||e.port===s.port)))(new URL(pa.origin),pa.navigator&&/(msie|trident)/i.test(pa.navigator.userAgent)):()=>!0,rQ=pa.hasStandardBrowserEnv?{write(e,r,s,a,n,i,l){if(typeof document>"u")return;const o=[`${e}=${encodeURIComponent(r)}`];Te.isNumber(s)&&o.push(`expires=${new Date(s).toUTCString()}`),Te.isString(a)&&o.push(`path=${a}`),Te.isString(n)&&o.push(`domain=${n}`),i===!0&&o.push("secure"),Te.isString(l)&&o.push(`SameSite=${l}`),document.cookie=o.join("; ")},read(e){if(typeof document>"u")return null;const r=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return r?decodeURIComponent(r[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function sQ(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function aQ(e,r){return r?e.replace(/\/?\/$/,"")+"/"+r.replace(/^\/+/,""):e}function UO(e,r,s){let a=!sQ(r);return e&&(a||s==!1)?aQ(e,r):r}const IC=e=>e instanceof Ya?{...e}:e;function ld(e,r){r=r||{};const s={};function a(d,u,m,x){return Te.isPlainObject(d)&&Te.isPlainObject(u)?Te.merge.call({caseless:x},d,u):Te.isPlainObject(u)?Te.merge({},u):Te.isArray(u)?u.slice():u}function n(d,u,m,x){if(Te.isUndefined(u)){if(!Te.isUndefined(d))return a(void 0,d,m,x)}else return a(d,u,m,x)}function i(d,u){if(!Te.isUndefined(u))return a(void 0,u)}function l(d,u){if(Te.isUndefined(u)){if(!Te.isUndefined(d))return a(void 0,d)}else return a(void 0,u)}function o(d,u,m){if(m in r)return a(d,u);if(m in e)return a(void 0,d)}const c={url:i,method:i,data:i,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:o,headers:(d,u,m)=>n(IC(d),IC(u),m,!0)};return Te.forEach(Object.keys({...e,...r}),function(u){const m=c[u]||n,x=m(e[u],r[u],u);Te.isUndefined(x)&&m!==o||(s[u]=x)}),s}const HO=e=>{const r=ld({},e);let{data:s,withXSRFToken:a,xsrfHeaderName:n,xsrfCookieName:i,headers:l,auth:o}=r;if(r.headers=l=Ya.from(l),r.url=FO(UO(r.baseURL,r.url,r.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&l.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),Te.isFormData(s)){if(pa.hasStandardBrowserEnv||pa.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(Te.isFunction(s.getHeaders)){const c=s.getHeaders(),d=["content-type","content-length"];Object.entries(c).forEach(([u,m])=>{d.includes(u.toLowerCase())&&l.set(u,m)})}}if(pa.hasStandardBrowserEnv&&(a&&Te.isFunction(a)&&(a=a(r)),a||a!==!1&&tQ(r.url))){const c=n&&i&&rQ.read(i);c&&l.set(n,c)}return r},nQ=typeof XMLHttpRequest<"u",iQ=nQ&&function(e){return new Promise(function(s,a){const n=HO(e);let i=n.data;const l=Ya.from(n.headers).normalize();let{responseType:o,onUploadProgress:c,onDownloadProgress:d}=n,u,m,x,h,p;function f(){h&&h(),p&&p(),n.cancelToken&&n.cancelToken.unsubscribe(u),n.signal&&n.signal.removeEventListener("abort",u)}let b=new XMLHttpRequest;b.open(n.method.toUpperCase(),n.url,!0),b.timeout=n.timeout;function j(){if(!b)return;const y=Ya.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),N={data:!o||o==="text"||o==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:y,config:e,request:b};zO(function(k){s(k),f()},function(k){a(k),f()},N),b=null}"onloadend"in b?b.onloadend=j:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(j)},b.onabort=function(){b&&(a(new $t("Request aborted",$t.ECONNABORTED,e,b)),b=null)},b.onerror=function(v){const N=v&&v.message?v.message:"Network Error",S=new $t(N,$t.ERR_NETWORK,e,b);S.event=v||null,a(S),b=null},b.ontimeout=function(){let v=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const N=n.transitional||RO;n.timeoutErrorMessage&&(v=n.timeoutErrorMessage),a(new $t(v,N.clarifyTimeoutError?$t.ETIMEDOUT:$t.ECONNABORTED,e,b)),b=null},i===void 0&&l.setContentType(null),"setRequestHeader"in b&&Te.forEach(l.toJSON(),function(v,N){b.setRequestHeader(N,v)}),Te.isUndefined(n.withCredentials)||(b.withCredentials=!!n.withCredentials),o&&o!=="json"&&(b.responseType=n.responseType),d&&([x,p]=Ff(d,!0),b.addEventListener("progress",x)),c&&b.upload&&([m,h]=Ff(c),b.upload.addEventListener("progress",m),b.upload.addEventListener("loadend",h)),(n.cancelToken||n.signal)&&(u=y=>{b&&(a(!y||y.type?new fm(null,e,b):y),b.abort(),b=null)},n.cancelToken&&n.cancelToken.subscribe(u),n.signal&&(n.signal.aborted?u():n.signal.addEventListener("abort",u)));const w=QJ(n.url);if(w&&pa.protocols.indexOf(w)===-1){a(new $t("Unsupported protocol "+w+":",$t.ERR_BAD_REQUEST,e));return}b.send(i||null)})},lQ=(e,r)=>{const{length:s}=e=e?e.filter(Boolean):[];if(r||s){let a=new AbortController,n;const i=function(d){if(!n){n=!0,o();const u=d instanceof Error?d:this.reason;a.abort(u instanceof $t?u:new fm(u instanceof Error?u.message:u))}};let l=r&&setTimeout(()=>{l=null,i(new $t(`timeout ${r} of ms exceeded`,$t.ETIMEDOUT))},r);const o=()=>{e&&(l&&clearTimeout(l),l=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(i):d.removeEventListener("abort",i)}),e=null)};e.forEach(d=>d.addEventListener("abort",i));const{signal:c}=a;return c.unsubscribe=()=>Te.asap(o),c}},oQ=function*(e,r){let s=e.byteLength;if(s<r){yield e;return}let a=0,n;for(;a<s;)n=a+r,yield e.slice(a,n),a=n},cQ=async function*(e,r){for await(const s of dQ(e))yield*oQ(s,r)},dQ=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const r=e.getReader();try{for(;;){const{done:s,value:a}=await r.read();if(s)break;yield a}}finally{await r.cancel()}},_C=(e,r,s,a)=>{const n=cQ(e,r);let i=0,l,o=c=>{l||(l=!0,a&&a(c))};return new ReadableStream({async pull(c){try{const{done:d,value:u}=await n.next();if(d){o(),c.close();return}let m=u.byteLength;if(s){let x=i+=m;s(x)}c.enqueue(new Uint8Array(u))}catch(d){throw o(d),d}},cancel(c){return o(c),n.return()}},{highWaterMark:2})},OC=64*1024,{isFunction:Zx}=Te,uQ=(({Request:e,Response:r})=>({Request:e,Response:r}))(Te.global),{ReadableStream:DC,TextEncoder:MC}=Te.global,LC=(e,...r)=>{try{return!!e(...r)}catch{return!1}},mQ=e=>{e=Te.merge.call({skipUndefined:!0},uQ,e);const{fetch:r,Request:s,Response:a}=e,n=r?Zx(r):typeof fetch=="function",i=Zx(s),l=Zx(a);if(!n)return!1;const o=n&&Zx(DC),c=n&&(typeof MC=="function"?(p=>f=>p.encode(f))(new MC):async p=>new Uint8Array(await new s(p).arrayBuffer())),d=i&&o&&LC(()=>{let p=!1;const f=new s(pa.origin,{body:new DC,method:"POST",get duplex(){return p=!0,"half"}}).headers.has("Content-Type");return p&&!f}),u=l&&o&&LC(()=>Te.isReadableStream(new a("").body)),m={stream:u&&(p=>p.body)};n&&["text","arrayBuffer","blob","formData","stream"].forEach(p=>{!m[p]&&(m[p]=(f,b)=>{let j=f&&f[p];if(j)return j.call(f);throw new $t(`Response type '${p}' is not supported`,$t.ERR_NOT_SUPPORT,b)})});const x=async p=>{if(p==null)return 0;if(Te.isBlob(p))return p.size;if(Te.isSpecCompliantForm(p))return(await new s(pa.origin,{method:"POST",body:p}).arrayBuffer()).byteLength;if(Te.isArrayBufferView(p)||Te.isArrayBuffer(p))return p.byteLength;if(Te.isURLSearchParams(p)&&(p=p+""),Te.isString(p))return(await c(p)).byteLength},h=async(p,f)=>{const b=Te.toFiniteNumber(p.getContentLength());return b??x(f)};return async p=>{let{url:f,method:b,data:j,signal:w,cancelToken:y,timeout:v,onDownloadProgress:N,onUploadProgress:S,responseType:k,headers:C,withCredentials:P="same-origin",fetchOptions:_}=HO(p),A=r||fetch;k=k?(k+"").toLowerCase():"text";let D=lQ([w,y&&y.toAbortSignal()],v),F=null;const X=D&&D.unsubscribe&&(()=>{D.unsubscribe()});let ce;try{if(S&&d&&b!=="get"&&b!=="head"&&(ce=await h(C,j))!==0){let T=new s(f,{method:"POST",body:j,duplex:"half"}),O;if(Te.isFormData(j)&&(O=T.headers.get("content-type"))&&C.setContentType(O),T.body){const[K,U]=TC(ce,Ff(EC(S)));j=_C(T.body,OC,K,U)}}Te.isString(P)||(P=P?"include":"omit");const he=i&&"credentials"in s.prototype,L={..._,signal:D,method:b.toUpperCase(),headers:C.normalize().toJSON(),body:j,duplex:"half",credentials:he?P:void 0};F=i&&new s(f,L);let q=await(i?A(F,_):A(f,L));const se=u&&(k==="stream"||k==="response");if(u&&(N||se&&X)){const T={};["status","statusText","headers"].forEach(ee=>{T[ee]=q[ee]});const O=Te.toFiniteNumber(q.headers.get("content-length")),[K,U]=N&&TC(O,Ff(EC(N),!0))||[];q=new a(_C(q.body,OC,K,()=>{U&&U(),X&&X()}),T)}k=k||"text";let R=await m[Te.findKey(m,k)||"text"](q,p);return!se&&X&&X(),await new Promise((T,O)=>{zO(T,O,{data:R,headers:Ya.from(q.headers),status:q.status,statusText:q.statusText,config:p,request:F})})}catch(he){throw X&&X(),he&&he.name==="TypeError"&&/Load failed|fetch/i.test(he.message)?Object.assign(new $t("Network Error",$t.ERR_NETWORK,p,F),{cause:he.cause||he}):$t.from(he,he&&he.code,p,F)}}},hQ=new Map,VO=e=>{let r=e&&e.env||{};const{fetch:s,Request:a,Response:n}=r,i=[a,n,s];let l=i.length,o=l,c,d,u=hQ;for(;o--;)c=i[o],d=u.get(c),d===void 0&&u.set(c,d=o?new Map:mQ(r)),u=d;return d};VO();const XN={http:EJ,xhr:iQ,fetch:{get:VO}};Te.forEach(XN,(e,r)=>{if(e){try{Object.defineProperty(e,"name",{value:r})}catch{}Object.defineProperty(e,"adapterName",{value:r})}});const FC=e=>`- ${e}`,xQ=e=>Te.isFunction(e)||e===null||e===!1;function pQ(e,r){e=Te.isArray(e)?e:[e];const{length:s}=e;let a,n;const i={};for(let l=0;l<s;l++){a=e[l];let o;if(n=a,!xQ(a)&&(n=XN[(o=String(a)).toLowerCase()],n===void 0))throw new $t(`Unknown adapter '${o}'`);if(n&&(Te.isFunction(n)||(n=n.get(r))))break;i[o||"#"+l]=n}if(!n){const l=Object.entries(i).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let o=s?l.length>1?`since :
`+l.map(FC).join(`
`):" "+FC(l[0]):"as no adapter specified";throw new $t("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n}const WO={getAdapter:pQ,adapters:XN};function Jv(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new fm(null,e)}function RC(e){return Jv(e),e.headers=Ya.from(e.headers),e.data=Xv.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),WO.getAdapter(e.adapter||K0.adapter,e)(e).then(function(a){return Jv(e),a.data=Xv.call(e,e.transformResponse,a),a.headers=Ya.from(a.headers),a},function(a){return $O(a)||(Jv(e),a&&a.response&&(a.response.data=Xv.call(e,e.transformResponse,a.response),a.response.headers=Ya.from(a.response.headers))),Promise.reject(a)})}const GO="1.13.2",By={};["object","boolean","number","function","string","symbol"].forEach((e,r)=>{By[e]=function(a){return typeof a===e||"a"+(r<1?"n ":" ")+e}});const BC={};By.transitional=function(r,s,a){function n(i,l){return"[Axios v"+GO+"] Transitional option '"+i+"'"+l+(a?". "+a:"")}return(i,l,o)=>{if(r===!1)throw new $t(n(l," has been removed"+(s?" in "+s:"")),$t.ERR_DEPRECATED);return s&&!BC[l]&&(BC[l]=!0,console.warn(n(l," has been deprecated since v"+s+" and will be removed in the near future"))),r?r(i,l,o):!0}};By.spelling=function(r){return(s,a)=>(console.warn(`${a} is likely a misspelling of ${r}`),!0)};function fQ(e,r,s){if(typeof e!="object")throw new $t("options must be an object",$t.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let n=a.length;for(;n-- >0;){const i=a[n],l=r[i];if(l){const o=e[i],c=o===void 0||l(o,i,e);if(c!==!0)throw new $t("option "+i+" must be "+c,$t.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new $t("Unknown option "+i,$t.ERR_BAD_OPTION)}}const qp={assertOptions:fQ,validators:By},Mi=qp.validators;let Hc=class{constructor(r){this.defaults=r||{},this.interceptors={request:new PC,response:new PC}}async request(r,s){try{return await this._request(r,s)}catch(a){if(a instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const i=n.stack?n.stack.replace(/^.+\n/,""):"";try{a.stack?i&&!String(a.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+i):a.stack=i}catch{}}throw a}}_request(r,s){typeof r=="string"?(s=s||{},s.url=r):s=r||{},s=ld(this.defaults,s);const{transitional:a,paramsSerializer:n,headers:i}=s;a!==void 0&&qp.assertOptions(a,{silentJSONParsing:Mi.transitional(Mi.boolean),forcedJSONParsing:Mi.transitional(Mi.boolean),clarifyTimeoutError:Mi.transitional(Mi.boolean)},!1),n!=null&&(Te.isFunction(n)?s.paramsSerializer={serialize:n}:qp.assertOptions(n,{encode:Mi.function,serialize:Mi.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),qp.assertOptions(s,{baseUrl:Mi.spelling("baseURL"),withXsrfToken:Mi.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let l=i&&Te.merge(i.common,i[s.method]);i&&Te.forEach(["delete","get","head","post","put","patch","common"],p=>{delete i[p]}),s.headers=Ya.concat(l,i);const o=[];let c=!0;this.interceptors.request.forEach(function(f){typeof f.runWhen=="function"&&f.runWhen(s)===!1||(c=c&&f.synchronous,o.unshift(f.fulfilled,f.rejected))});const d=[];this.interceptors.response.forEach(function(f){d.push(f.fulfilled,f.rejected)});let u,m=0,x;if(!c){const p=[RC.bind(this),void 0];for(p.unshift(...o),p.push(...d),x=p.length,u=Promise.resolve(s);m<x;)u=u.then(p[m++],p[m++]);return u}x=o.length;let h=s;for(;m<x;){const p=o[m++],f=o[m++];try{h=p(h)}catch(b){f.call(this,b);break}}try{u=RC.call(this,h)}catch(p){return Promise.reject(p)}for(m=0,x=d.length;m<x;)u=u.then(d[m++],d[m++]);return u}getUri(r){r=ld(this.defaults,r);const s=UO(r.baseURL,r.url,r.allowAbsoluteUrls);return FO(s,r.params,r.paramsSerializer)}};Te.forEach(["delete","get","head","options"],function(r){Hc.prototype[r]=function(s,a){return this.request(ld(a||{},{method:r,url:s,data:(a||{}).data}))}});Te.forEach(["post","put","patch"],function(r){function s(a){return function(i,l,o){return this.request(ld(o||{},{method:r,headers:a?{"Content-Type":"multipart/form-data"}:{},url:i,data:l}))}}Hc.prototype[r]=s(),Hc.prototype[r+"Form"]=s(!0)});let gQ=class qO{constructor(r){if(typeof r!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(i){s=i});const a=this;this.promise.then(n=>{if(!a._listeners)return;let i=a._listeners.length;for(;i-- >0;)a._listeners[i](n);a._listeners=null}),this.promise.then=n=>{let i;const l=new Promise(o=>{a.subscribe(o),i=o}).then(n);return l.cancel=function(){a.unsubscribe(i)},l},r(function(i,l,o){a.reason||(a.reason=new fm(i,l,o),s(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]}unsubscribe(r){if(!this._listeners)return;const s=this._listeners.indexOf(r);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const r=new AbortController,s=a=>{r.abort(a)};return this.subscribe(s),r.signal.unsubscribe=()=>this.unsubscribe(s),r.signal}static source(){let r;return{token:new qO(function(n){r=n}),cancel:r}}};function yQ(e){return function(s){return e.apply(null,s)}}function bQ(e){return Te.isObject(e)&&e.isAxiosError===!0}const uj={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(uj).forEach(([e,r])=>{uj[r]=e});function KO(e){const r=new Hc(e),s=kO(Hc.prototype.request,r);return Te.extend(s,Hc.prototype,r,{allOwnKeys:!0}),Te.extend(s,r,null,{allOwnKeys:!0}),s.create=function(n){return KO(ld(e,n))},s}const Pt=KO(K0);Pt.Axios=Hc;Pt.CanceledError=fm;Pt.CancelToken=gQ;Pt.isCancel=$O;Pt.VERSION=GO;Pt.toFormData=Ry;Pt.AxiosError=$t;Pt.Cancel=Pt.CanceledError;Pt.all=function(r){return Promise.all(r)};Pt.spread=yQ;Pt.isAxiosError=bQ;Pt.mergeConfig=ld;Pt.AxiosHeaders=Ya;Pt.formToJSON=e=>BO(Te.isHTMLForm(e)?new FormData(e):e);Pt.getAdapter=WO.getAdapter;Pt.HttpStatusCode=uj;Pt.default=Pt;const{Axios:TSe,AxiosError:ESe,CanceledError:ISe,isCancel:_Se,CancelToken:OSe,VERSION:DSe,all:MSe,Cancel:LSe,isAxiosError:FSe,spread:RSe,toFormData:BSe,AxiosHeaders:$Se,HttpStatusCode:zSe,formToJSON:USe,getAdapter:HSe,mergeConfig:VSe}=Pt,vQ="https://nexo.works";class jQ{constructor(){this.cache={data:null,timestamp:null,expiry:5*60*1e3},this.pendingRequest=null}isCacheValid(){return this.cache.data&&this.cache.timestamp&&Date.now()-this.cache.timestamp<this.cache.expiry}async getEnabledCities(r=!1){if(!r&&this.isCacheValid())return console.log(" Returning cached cities data"),this.cache.data;if(this.pendingRequest)return console.log(" Waiting for pending cities request"),await this.pendingRequest;console.log(" Fetching fresh cities data"),this.pendingRequest=this.fetchCitiesFromAPI();try{const s=await this.pendingRequest;return this.cache={data:s,timestamp:Date.now(),expiry:5*60*1e3},s}finally{this.pendingRequest=null}}async fetchCitiesFromAPI(){try{const r=await Pt.get(`${vQ}/api/cities/enabled`,{timeout:1e4});if(r.data&&r.data.success)return r.data.data||[];throw new Error("Invalid response format")}catch(r){throw console.error("Error fetching cities:",r),r}}async findCityById(r,s=!1){return(await this.getEnabledCities(s)).find(n=>n._id===r)}async verifyCityStatus(r){try{const s=await this.findCityById(r);return s&&s.isEnabled}catch(s){return console.error("Error verifying city status:",s),!1}}clearCache(){this.cache={data:null,timestamp:null,expiry:5*60*1e3},console.log(" Cities cache cleared")}async refreshCache(){return await this.getEnabledCities(!0)}}const Pu=new jQ,$C="https://nexo.works",wQ=e=>e?e.startsWith("http://")||e.startsWith("https://")?e:e.startsWith("/uploads")?`${$C}${e}`:`${$C}/uploads/${e}`:null,NQ=({isOpen:e,onClose:r,onCitySelect:s})=>{const[a,n]=g.useState([]),[i,l]=g.useState(!0),[o,c]=g.useState(null),[d,u]=g.useState(null);g.useEffect(()=>{if(e){m();const h=localStorage.getItem("selectedCity");if(h)try{c(JSON.parse(h))}catch(p){console.error("Error parsing saved city:",p)}}},[e]);const m=async()=>{try{l(!0),u(null);const h=await Pu.getEnabledCities();n(h)}catch(h){console.error("Error fetching cities:",h),u(h.message||"Failed to load cities"),n([])}finally{l(!1)}},x=h=>{if(!h.isEnabled){alert("Service will be available soon in "+h.name+"!");return}c(h),localStorage.setItem("selectedCity",JSON.stringify(h)),s&&s(h),setTimeout(()=>{r()},300)};return e?t.jsx("div",{className:"fixed inset-0 bg-black/50 z-[9999] flex items-center justify-center p-4",onClick:r,children:t.jsxs("div",{className:"relative w-full",style:{maxWidth:"30%",minWidth:"320px"},children:[t.jsx("button",{onClick:r,className:"absolute -top-12 right-0 w-10 h-10 bg-white hover:bg-gray-100 rounded-full flex items-center justify-center transition-all shadow-lg z-20",children:t.jsx(VX,{className:"w-5 h-5 text-gray-700"})}),t.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full",onClick:h=>h.stopPropagation(),children:t.jsxs("div",{className:"p-6 md:p-8",children:[t.jsx("div",{className:"text-center mb-6",children:t.jsx("h2",{className:"text-1xl md:text-1xl  text-gray-900",children:"Select City"})}),t.jsx("div",{className:"max-h-[60vh] overflow-y-auto pr-2",children:i?t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 md:gap-6",children:[...Array(4)].map((h,p)=>t.jsx("div",{className:"h-32 md:h-40 bg-gray-200 rounded-2xl animate-pulse"},p))}):d?t.jsxs("div",{className:"text-center py-12",children:[t.jsx(NC,{className:"w-12 h-12 text-red-300 mx-auto mb-3"}),t.jsx("p",{className:"text-red-500 font-medium mb-2",children:"Error loading cities"}),t.jsx("p",{className:"text-gray-500 text-sm",children:d}),t.jsx("button",{onClick:m,className:"mt-4 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Retry"})]}):a.length===0?t.jsxs("div",{className:"text-center py-12",children:[t.jsx(NC,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),t.jsx("p",{className:"text-gray-500",children:"No cities available"})]}):t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 md:gap-6",children:a.map(h=>{const p=(o==null?void 0:o._id)===h._id,f=!h.isEnabled,b=h.image&&h.image.trim()!=="",j=b?wQ(h.image):null;return t.jsxs("button",{onClick:()=>x(h),disabled:f,className:`group relative rounded-2xl overflow-hidden transition-all h-32 md:h-40 ${f?"opacity-60 cursor-not-allowed":"cursor-pointer hover:shadow-xl"} ${p?"ring-4 ring-purple-600 shadow-2xl":"shadow-lg"}`,style:{backgroundColor:b?"transparent":"#667eea"},children:[b?t.jsx("img",{src:j,alt:h.name,className:"absolute inset-0 w-full h-full object-cover",onError:w=>{w.target.style.display="none",w.target.parentElement.style.background="linear-gradient(135deg, #667eea 0%, #764ba2 100%)"}}):t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-600 via-purple-500 to-purple-700"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent"}),p&&!f&&t.jsx("div",{className:"absolute top-3 right-3 w-8 h-8 bg-white rounded-full flex items-center justify-center shadow-xl z-30",children:t.jsx(zX,{className:"w-5 h-5 text-purple-600 stroke-[3]"})}),f&&t.jsx("div",{className:"absolute top-2 right-2 bg-white/90 text-orange-600 text-xs font-semibold px-2 py-1 rounded-full shadow-md",children:"Soon"}),t.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 z-20",children:t.jsx("h3",{className:"text-white font-bold text-lg md:text-xl drop-shadow-lg truncate",children:h.name})}),!f&&t.jsx("div",{className:"absolute inset-0 bg-purple-600/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]},h._id)})})})]})})]})}):null},Zl=()=>{const{openDialog:e}=WN();return s=>{var a;(a=s==null?void 0:s.preventDefault)==null||a.call(s),e()}},YO=g.createContext(),an=()=>{const e=g.useContext(YO);if(!e)throw new Error("useUserAuth must be used within UserAuthProvider");return e},SQ=({children:e})=>{const[r,s]=g.useState(null),[a,n]=g.useState(!0),[i,l]=g.useState(!1);g.useEffect(()=>{o()},[]);const o=async()=>{var x;try{const h=localStorage.getItem("userToken");if(h){console.log("Checking auth with token...");const p=await Pt.get("https://nexo.works/api/user/profile",{headers:{Authorization:`Bearer ${h}`}});console.log("Auth check response:",p.data),s(p.data.user),l(!0),(x=p.data.user)!=null&&x._id&&localStorage.setItem("userId",p.data.user._id)}else s(null),l(!1)}catch(h){console.error("Auth check failed:",h),localStorage.removeItem("userToken"),localStorage.removeItem("userId"),s(null),l(!1)}finally{n(!1)}},m={user:r,loading:a,isAuthenticated:i,login:async x=>{var h,p;try{const f=await Pt.post("https://nexo.works/api/user/login/otp/verify",x);return localStorage.setItem("userToken",f.data.token),await o(),{success:!0}}catch(f){return{success:!1,error:((p=(h=f.response)==null?void 0:h.data)==null?void 0:p.message)||"Login failed"}}},logout:()=>{localStorage.removeItem("userToken"),localStorage.removeItem("userId"),s(null),l(!1)},updateUser:x=>{s(x)},checkAuth:o};return t.jsx(YO.Provider,{value:m,children:e})},kQ={FaSnowflake:Ju,FaBolt:Nl,FaTint:Qu,FaBroom:Ku,FaPaintRoller:Xu,FaTools:fa,FaHammer:Yu,FaFilter:id,FaPlug:Dy,FaWrench:V0,FaCheckCircle:$e,FaRupeeSign:Ad,FaCreditCard:Ti,FaMobileAlt:Oy,FaUserCheck:Ua,FaCommentDots:_y},CQ=e=>kQ[e]||fa,PQ="https://nexo.works",AQ=()=>{const e=Zl();Qt();const{isAuthenticated:r,user:s}=an(),[a,n]=g.useState([]),[i,l]=g.useState(!0),[o,c]=g.useState(!1),[d,u]=g.useState(null);g.useEffect(()=>{const y=localStorage.getItem("selectedCity");if(y){const v=JSON.parse(y);(async()=>{try{const S=await Pu.findCityById(v._id);!S||!S.isEnabled?(console.log("Selected city is no longer available, clearing selection"),localStorage.removeItem("selectedCity"),u(null),c(!0)):u(S)}catch(S){console.error("Error verifying city status:",S),u(v)}})()}else setTimeout(()=>c(!0),1e3)},[]);const m=y=>{u(y),c(!1)};g.useEffect(()=>{if(!d)return;const v=setInterval(async()=>{try{await Pu.verifyCityStatus(d._id)||(console.log("Selected city has been disabled, clearing selection"),localStorage.removeItem("selectedCity"),u(null),alert("The selected city is no longer available. Please select another city."),c(!0))}catch(N){console.error("Error checking city status:",N)}},5*60*1e3);return()=>clearInterval(v)},[d]),g.useEffect(()=>{(async()=>{try{l(!0);const N=await(await fetch(`${PQ}/api/user/popular`)).json();if(N.success&&N.data){const S=N.data.map(k=>({...k,icon:CQ(k.icon)}));n(S)}else n([{name:"AC Service",slug:"ac-service",icon:Ju},{name:"Electrical Work",slug:"electrical-work",icon:Nl},{name:"Plumbing",slug:"plumbing",icon:Qu},{name:"Deep Cleaning",slug:"deep-cleaning",icon:Ku},{name:"Painting",slug:"painting",icon:Xu},{name:"Appliance Repair",slug:"appliance-repair",icon:fa},{name:"Carpentry",slug:"carpentry",icon:Yu},{name:"Water Purifier Service",slug:"water-purifier-service",icon:id}])}catch(v){console.error("Error fetching popular services:",v),n([{name:"AC Service",slug:"ac-service",icon:Ju},{name:"Electrical Work",slug:"electrical-work",icon:Nl},{name:"Plumbing",slug:"plumbing",icon:Qu},{name:"Deep Cleaning",slug:"deep-cleaning",icon:Ku},{name:"Painting",slug:"painting",icon:Xu},{name:"Appliance Repair",slug:"appliance-repair",icon:fa},{name:"Carpentry",slug:"carpentry",icon:Yu},{name:"Water Purifier Service",slug:"water-purifier-service",icon:id}])}finally{l(!1)}})()},[]);const x=[{icon:Nl,text:"Response under 2 minutes",color:"text-yellow-500"},{icon:$e,text:"Verified technicians",color:"text-green-500"},{icon:Ad,text:"Fixed pricing",color:"text-blue-500"},{icon:Ti,text:"Pay after service",color:"text-purple-500"},{icon:Oy,text:"24x7 WhatsApp support",color:"text-green-600"},{icon:V0,text:"Free rework within 72 hours",color:"text-orange-500"}],h=[{step:"1",title:"Tell us your requirement on WhatsApp",description:"Just message your problem. Our AI assistant handles the rest.",icon:_y},{step:"2",title:"Get the right technician",description:"We assign a verified, background-checked expert near you.",icon:Ua},{step:"3",title:"Service done. Pay after work.",description:"Simple, transparent, and satisfaction guaranteed.",icon:Ti}],[p,f]=g.useState([{text:"Fast service and clean work.",author:"Rajesh K.",rating:5},{text:"Great response time. Loved it.",author:"Priya M.",rating:5},{text:"Technician was polite and professional.",author:"Amit S.",rating:5}]);g.useEffect(()=>{(async()=>{try{const S=await(await fetch("https://nexo.works/api/public/featured-reviews")).json();if(S.success&&S.data&&Array.isArray(S.data)&&S.data.length>0){const k=S.data.map(C=>({text:C.text,author:C.author,rating:C.rating||5}));f(k)}}catch(v){console.error("Error fetching featured reviews:",v)}})()},[]);const b={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.3,delayChildren:.2}}},j={hidden:{y:30,opacity:0},visible:{y:0,opacity:1,transition:{duration:.8,ease:"easeOut"}}},w={animate:{y:[0,-30,0],x:[0,15,0],scale:[1,1.1,1],transition:{duration:4,repeat:1/0,ease:"easeInOut"}}};return t.jsxs(t.Fragment,{children:[t.jsx(En,{title:"Nexo - Home Services on WhatsApp | AC, Electrical, Plumbing & More",description:"Fast, reliable and affordable home services from verified experts. Book AC service, electrical work, plumbing, cleaning, and 200+ services on WhatsApp. Response under 2 minutes. Verified technicians. Pay after service.",keywords:"home services, AC service, electrical work, plumbing, cleaning services, WhatsApp booking, verified technicians, home maintenance, appliance repair, carpentry, painting services",url:"/"}),t.jsx(NQ,{isOpen:o,onClose:()=>c(!1),onCitySelect:m}),t.jsxs("div",{className:"overflow-x-hidden w-full max-w-full",children:[t.jsxs("section",{className:"relative min-h-screen flex items-center justify-center bg-gradient-to-br from-primary via-primary-dark to-primary overflow-hidden w-full max-w-full",children:[t.jsx("div",{className:"absolute inset-0 opacity-10",children:t.jsx(E.div,{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`,backgroundRepeat:"repeat"},animate:{backgroundPosition:["0% 0%","100% 100%"]},transition:{duration:20,repeat:1/0,repeatType:"reverse"}})}),t.jsx(E.div,{className:"absolute top-20 left-10 w-40 h-40 sm:w-60 sm:h-60 bg-gradient-to-br from-white/20 to-white/5 rounded-full blur-3xl",variants:w,animate:"animate"}),t.jsx(E.div,{className:"absolute bottom-20 right-10 w-48 h-48 sm:w-72 sm:h-72 bg-gradient-to-br from-yellow-300/20 to-yellow-300/5 rounded-full blur-3xl",variants:w,animate:"animate",transition:{delay:1,duration:5}}),t.jsx(E.div,{className:"absolute top-1/2 right-20 w-32 h-32 sm:w-40 sm:h-40 bg-gradient-to-br from-white/10 to-transparent rounded-full blur-2xl",variants:w,animate:"animate",transition:{delay:2,duration:6}}),t.jsx(E.div,{className:"absolute bottom-1/3 left-1/4 w-24 h-24 sm:w-32 sm:h-32 bg-gradient-to-br from-blue-300/15 to-transparent rounded-full blur-xl",variants:w,animate:"animate",transition:{delay:.5,duration:4.5}}),[...Array(20)].map((y,v)=>t.jsx(E.div,{className:"absolute bg-white/30 rounded-full",style:{width:`${6+v%4*3}px`,height:`${6+v%4*3}px`,left:`${3+v*5%94}%`,top:`${8+v*4%85}%`},animate:{y:[0,-150,0],x:[0,v%2===0?50:-50,0],opacity:[.2,.6,.2],scale:[1,1.5,1]},transition:{duration:8+v%4,repeat:1/0,ease:"easeInOut",delay:v*.2}},`small-${v}`)),[...Array(12)].map((y,v)=>t.jsx(E.div,{className:"absolute bg-white/20 rounded-full blur-sm",style:{width:`${14+v%3*4}px`,height:`${14+v%3*4}px`,left:`${5+v*8%90}%`,top:`${10+v*6%80}%`},animate:{y:[0,-120,0],x:[0,v%2===0?60:-60,0],opacity:[.15,.4,.15],scale:[1,1.4,1]},transition:{duration:9+v%3*2,repeat:1/0,ease:"easeInOut",delay:v*.4}},`medium-${v}`)),[...Array(8)].map((y,v)=>t.jsx(E.div,{className:"absolute bg-white/10 rounded-full blur-2xl",style:{width:`${100+v%3*30}px`,height:`${100+v%3*30}px`,left:`${8+v*12%85}%`,top:`${12+v*10%75}%`},animate:{y:[0,-80,0],x:[0,v%2===0?60:-60,0],scale:[1,1.3,1],opacity:[.1,.3,.1]},transition:{duration:10+v%3*2,repeat:1/0,ease:"easeInOut",delay:v*.8}},`large-${v}`)),t.jsx(E.div,{className:"absolute bottom-0 left-0 w-full h-64 opacity-20",style:{background:"linear-gradient(to top, rgba(255,255,255,0.1) 0%, transparent 100%)"},animate:{y:[0,-20,0]},transition:{duration:3,repeat:1/0,ease:"easeInOut"}}),t.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:t.jsxs(E.div,{variants:b,initial:"hidden",animate:"visible",children:[t.jsxs(E.h1,{variants:j,className:"text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-bold text-white mb-4 sm:mb-6 leading-tight",children:["Your home services.",t.jsx("br",{}),t.jsx(E.span,{className:"text-yellow-300 inline-block",variants:j,animate:{scale:[1,1.05,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:"Now on WhatsApp."})]}),t.jsx(E.p,{variants:j,className:"text-lg sm:text-xl md:text-2xl text-white/90 mb-6 sm:mb-8 max-w-3xl mx-auto px-4",children:"Fast, reliable and affordable service from verified experts."}),t.jsxs(E.div,{variants:j,className:"flex flex-col sm:flex-row gap-4 justify-center items-center px-4",children:[t.jsxs(E.button,{onClick:e,whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"bg-[#25D366] text-white px-6 sm:px-8 py-3 sm:py-4 rounded-full text-base sm:text-lg font-semibold shadow-2xl hover:shadow-[#25D366]/50 transition-all duration-300 flex items-center gap-2 w-full sm:w-auto justify-center",children:[t.jsx(yr,{className:"w-5 h-5 sm:w-6 sm:h-6"}),"Book on WhatsApp"]}),t.jsx(E.a,{href:"/partner/onboard",whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"bg-white text-primary px-6 sm:px-8 py-3 sm:py-4 rounded-full text-base sm:text-lg font-semibold shadow-2xl hover:shadow-white/50 transition-all duration-300 w-full sm:w-auto text-center",children:"Become a Partner"})]}),t.jsx(E.p,{variants:j,className:"text-white/80 mt-6 sm:mt-8 text-sm sm:text-lg px-4",children:"Support for AC, electrical, plumbing, cleaning, appliances and 200+ services."}),t.jsx(E.div,{variants:j,className:"mt-8 sm:mt-10 px-4 flex justify-center",children:t.jsxs(E.button,{onClick:()=>c(!0),whileHover:{scale:1.05,y:-3},whileTap:{scale:.95},className:"group relative bg-white/95 backdrop-blur-md text-gray-900 px-8 py-4 rounded-2xl text-base sm:text-lg font-semibold hover:bg-white transition-all duration-300 flex items-center gap-3 shadow-2xl hover:shadow-white/30 border border-white/50 overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),t.jsx(E.div,{animate:{rotate:[0,-10,10,-10,0]},transition:{duration:2,repeat:1/0,repeatDelay:3},className:"relative z-10",children:t.jsx(Fl,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary"})}),t.jsxs("div",{className:"relative z-10 flex flex-col items-start",children:[t.jsx("span",{className:"text-xs text-gray-500 font-normal",children:"Service Location"}),t.jsx("span",{className:"text-base sm:text-lg font-bold text-gray-900 group-hover:text-primary transition-colors",children:d?d.name:"Select Your City"})]}),t.jsx(E.div,{animate:{x:[0,5,0]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"},className:"relative z-10 ml-2",children:t.jsx("svg",{className:"w-4 h-4 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),t.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-500",children:t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent transform -skew-x-12 translate-x-[-200%] group-hover:translate-x-[200%] transition-transform duration-1000"})})]})})]})}),t.jsx(E.div,{className:"absolute bottom-0 left-0 w-full h-20 sm:h-24 bg-white pointer-events-none",initial:{clipPath:"inset(100% 0 0 0)"},animate:{clipPath:"inset(0% 0 0 0)"},transition:{duration:1,delay:.5,ease:"easeOut"},style:{marginBottom:0}})]}),t.jsxs("section",{className:"py-12 sm:py-16 lg:py-20 bg-white relative overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 opacity-5",children:t.jsx(E.div,{className:"absolute inset-0",style:{backgroundImage:`radial-gradient(circle at 20% 50%, rgba(33, 74, 115, 0.1) 0%, transparent 50%),
                                  radial-gradient(circle at 80% 80%, rgba(33, 74, 115, 0.1) 0%, transparent 50%)`},animate:{backgroundPosition:["0% 0%","100% 100%"]},transition:{duration:15,repeat:1/0,repeatType:"reverse"}})}),t.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.6},className:"text-center mb-12 sm:mb-16",children:[t.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-primary mb-3 sm:mb-4",children:"How It Works"}),t.jsx("p",{className:"text-lg sm:text-xl text-gray-600",children:"Simple steps to get your service done"})]}),t.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8",children:h.map((y,v)=>{const N=y.icon;return t.jsxs(E.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-50px"},transition:{duration:.6,delay:v*.2},whileHover:{y:-5,scale:1.02},className:"bg-gradient-to-br from-primary/5 to-primary/10 p-6 sm:p-8 rounded-2xl border border-primary/20 hover:shadow-xl transition-all duration-300 relative",children:[t.jsx("div",{className:"absolute -top-4 -left-4 w-10 h-10 sm:w-12 sm:h-12 bg-primary text-white rounded-full flex items-center justify-center text-lg sm:text-xl font-bold shadow-lg",children:y.step}),t.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-primary/10 rounded-full flex items-center justify-center mb-4 sm:mb-6 mx-auto",children:t.jsx(N,{className:"w-8 h-8 sm:w-10 sm:h-10 text-primary"})}),t.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-primary mb-3 sm:mb-4 text-center",children:y.title}),t.jsx("p",{className:"text-gray-600 text-base sm:text-lg text-center",children:y.description})]},v)})}),t.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.6},className:"text-center mt-8 sm:mt-12",children:t.jsx("div",{className:"flex justify-center",children:t.jsxs(E.button,{onClick:e,whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"bg-primary text-white px-6 sm:px-8 py-3 sm:py-4 rounded-full text-base sm:text-lg font-semibold hover:bg-primary-dark transition-all duration-300 shadow-lg hover:shadow-xl flex items-center gap-2",children:[t.jsx(yr,{className:"w-5 h-5"}),"Start on WhatsApp"]})})})]})]}),t.jsxs("section",{id:"services",className:"py-12 sm:py-16 lg:py-20 bg-gray-50 relative overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 opacity-5",children:t.jsx(E.div,{className:"absolute inset-0",style:{background:"linear-gradient(45deg, transparent 30%, rgba(33, 74, 115, 0.05) 50%, transparent 70%)"},animate:{x:["-100%","100%"]},transition:{duration:20,repeat:1/0,ease:"linear"}})}),t.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.6},className:"text-center mb-12 sm:mb-16",children:[t.jsxs(E.div,{initial:{scale:.9},whileInView:{scale:1},viewport:{once:!0},transition:{duration:.5,delay:.2},children:[t.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-bold bg-gradient-to-r from-primary via-primary-dark to-primary bg-clip-text text-transparent mb-3 sm:mb-4",children:"Popular Services"}),t.jsx("div",{className:"w-24 h-1 bg-gradient-to-r from-primary to-primary-dark mx-auto mb-4 rounded-full"})]}),t.jsx("p",{className:"text-lg sm:text-xl text-gray-600",children:"Choose from our wide range of professional services"})]}),i?t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4 sm:gap-6",children:[...Array(10)].map((y,v)=>t.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-lg border border-gray-100 animate-pulse",children:[t.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-2xl mx-auto mb-4"}),t.jsx("div",{className:"h-4 bg-gray-200 rounded mb-3"}),t.jsx("div",{className:"h-3 bg-gray-200 rounded w-3/4 mx-auto mb-4"}),t.jsx("div",{className:"h-8 bg-gray-200 rounded-full"})]},v))}):t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4 sm:gap-6",children:a.map((y,v)=>{const N=y.icon;return t.jsx(Ut,{to:`/service/${y.slug}`,children:t.jsxs(E.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-50px"},transition:{duration:.5,delay:v*.1},whileHover:{y:-8,scale:1.03,rotateY:5,transition:{duration:.3,ease:"easeOut"}},className:"group relative bg-gradient-to-br from-white via-white to-gray-50/30 rounded-3xl p-6 shadow-xl hover:shadow-2xl transition-all duration-500 border border-gray-200/50 hover:border-primary/60 cursor-pointer overflow-hidden h-full transform-gpu",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/3 via-transparent to-primary/5 opacity-100 group-hover:from-primary/8 group-hover:to-primary/12 transition-all duration-500"}),t.jsx(E.div,{className:"absolute top-4 right-4 w-8 h-8 bg-gradient-to-br from-primary/10 to-primary/5 rounded-full opacity-60",whileHover:{scale:[1,1.2,1],rotate:[0,180,360],opacity:[.6,.9,.6]},transition:{duration:1,ease:"easeInOut"}}),t.jsx(E.div,{className:"absolute bottom-4 left-4 w-6 h-6 bg-gradient-to-br from-yellow-400/20 to-orange-500/20 rounded-full opacity-40",whileHover:{scale:[1,1.3,1],x:[0,5,0],y:[0,-5,0]},transition:{duration:.8,ease:"easeInOut"}}),t.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-500",children:[...Array(8)].map((S,k)=>t.jsx(E.div,{className:"absolute w-1 h-1 bg-primary/40 rounded-full",style:{left:`${15+k*10}%`,top:`${20+k*8}%`},animate:{y:[0,-30,0],x:[0,k%2===0?10:-10,0],opacity:[.2,.8,.2],scale:[1,1.5,1]},transition:{duration:2+k*.2,repeat:1/0,ease:"easeInOut",delay:k*.1}},k))}),t.jsx("div",{className:"absolute inset-0 rounded-3xl opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:t.jsx("div",{className:"absolute inset-0 rounded-3xl border-2 border-primary/30 animate-pulse"})}),t.jsxs("div",{className:"relative z-10 flex flex-col items-center text-center h-full",children:[t.jsxs(E.div,{className:"relative w-20 h-20 bg-gradient-to-br from-primary/15 via-primary/10 to-primary/5 rounded-2xl flex items-center justify-center mb-4 shadow-lg border border-primary/10 group-hover:shadow-2xl group-hover:shadow-primary/20",whileHover:{scale:1.1,rotate:[0,-5,5,0],transition:{duration:.5}},children:[t.jsx("div",{className:"absolute inset-0 bg-primary/10 rounded-2xl blur-lg group-hover:bg-primary/25 group-hover:blur-xl transition-all duration-500"}),t.jsx(E.div,{className:"absolute inset-0 rounded-2xl border-2 border-primary/20 opacity-0 group-hover:opacity-100",animate:{rotate:360},transition:{duration:3,repeat:1/0,ease:"linear"}}),t.jsx(E.div,{whileHover:{scale:1.2,rotate:[0,10,-10,0],transition:{duration:.4}},children:t.jsx(N,{className:"w-10 h-10 text-primary relative z-10 group-hover:text-primary-dark transition-colors duration-300"})}),t.jsx(E.div,{className:"absolute -top-1 -right-1 w-3 h-3 bg-yellow-400 rounded-full opacity-0 group-hover:opacity-100",animate:{scale:[0,1,0],rotate:[0,180,360]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"}})]}),t.jsx(E.h3,{className:"text-base sm:text-lg font-bold text-gray-800 group-hover:text-primary transition-all duration-300 line-clamp-2 mb-3 leading-tight",whileHover:{scale:1.05},children:y.name}),t.jsx(E.p,{className:"text-xs sm:text-sm text-gray-500 group-hover:text-gray-700 mb-4 leading-relaxed transition-all duration-300",whileHover:{y:-2},children:"Professional & Reliable Service"}),t.jsx(E.div,{className:"w-full mt-auto",whileHover:{scale:1.02},children:t.jsxs(E.div,{className:"w-full bg-gradient-to-r from-gray-100 to-gray-200 group-hover:from-primary/10 group-hover:to-primary/20 text-gray-700 group-hover:text-primary text-sm font-semibold py-2.5 px-4 rounded-xl flex items-center justify-center gap-2 transition-all duration-300 shadow-sm hover:shadow-lg border border-gray-300 group-hover:border-primary/40",whileHover:{y:-2,boxShadow:"0 10px 25px rgba(0,0,0,0.1)"},children:[t.jsxs(E.svg,{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",whileHover:{scale:1.2,rotate:15},transition:{duration:.2},children:[t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),t.jsx("span",{children:"View Details"}),t.jsx(E.div,{className:"w-1 h-1 bg-primary rounded-full opacity-0 group-hover:opacity-100",animate:{scale:[1,1.5,1],opacity:[.5,1,.5]},transition:{duration:1,repeat:1/0,ease:"easeInOut"}})]})})]}),t.jsx(E.div,{className:"absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-primary/30 via-primary/60 to-primary/30 group-hover:h-2 group-hover:from-primary/50 group-hover:via-primary group-hover:to-primary/50 transition-all duration-500",whileHover:{scaleX:[1,1.05,1],transition:{duration:.5}}}),t.jsxs("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-700",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/15 to-transparent transform -skew-x-12 translate-x-[-200%] group-hover:translate-x-[200%] transition-transform duration-1200"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 via-transparent to-yellow-400/5 transform translate-x-[-100%] translate-y-[-100%] group-hover:translate-x-[100%] group-hover:translate-y-[100%] transition-transform duration-1500"})]}),t.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-primary/0 via-primary/10 to-primary/0 rounded-3xl opacity-0 group-hover:opacity-100 transition-opacity duration-500 blur-sm -z-10"})]})},y.slug||y._id||v)})}),t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.3},className:"text-center mt-12 sm:mt-16",children:[t.jsxs(E.button,{onClick:e,whileHover:{scale:1.05,y:-3},whileTap:{scale:.95},className:"group relative bg-gradient-to-r from-primary to-primary-dark text-white px-8 sm:px-12 py-4 sm:py-5 rounded-2xl text-base sm:text-lg font-bold hover:from-primary-dark hover:to-primary transition-all duration-300 shadow-xl hover:shadow-2xl flex items-center gap-3 mx-auto overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),t.jsx(E.div,{animate:{rotate:[0,360]},transition:{duration:2,repeat:1/0,ease:"linear"},className:"relative z-10",children:t.jsx(yr,{className:"w-6 h-6"})}),t.jsx("span",{className:"relative z-10",children:"Explore All Services on WhatsApp"}),t.jsx(E.div,{animate:{x:[0,5,0]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"},className:"relative z-10",children:t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})})}),t.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-500",children:t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent transform -skew-x-12 translate-x-[-200%] group-hover:translate-x-[200%] transition-transform duration-1000"})})]}),t.jsx("p",{className:"text-gray-500 mt-4 text-sm sm:text-base",children:"200+ services available  Response under 2 minutes"})]})]})]}),t.jsxs("section",{className:"py-12 sm:py-16 lg:py-20 bg-white relative overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 opacity-5",children:t.jsx(E.div,{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(circle at 50% 50%, rgba(33, 74, 115, 0.1) 0%, transparent 70%)"},animate:{scale:[1,1.2,1],opacity:[.3,.6,.3]},transition:{duration:8,repeat:1/0,ease:"easeInOut"}})}),t.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.6},className:"text-center mb-12 sm:mb-16",children:t.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-primary mb-3 sm:mb-4",children:"Why Choose Us"})}),t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:x.map((y,v)=>{const N=y.icon;return t.jsxs(E.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0,margin:"-50px"},transition:{duration:.5,delay:v*.1},whileHover:{scale:1.05,x:5},className:"flex items-center gap-3 sm:gap-4 bg-gray-50 p-4 sm:p-6 rounded-xl hover:bg-primary/5 transition-all duration-300",children:[t.jsx(N,{className:`w-6 h-6 sm:w-8 sm:h-8 ${y.color} flex-shrink-0`}),t.jsx("span",{className:"text-base sm:text-lg font-semibold text-gray-800",children:y.text})]},v)})}),t.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mt-8 sm:mt-12",children:t.jsx("div",{className:"flex justify-center",children:t.jsxs(E.button,{onClick:e,whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"bg-primary text-white px-6 sm:px-8 py-3 sm:py-4 rounded-full text-base sm:text-lg font-semibold hover:bg-primary-dark transition-all duration-300 shadow-lg hover:shadow-xl flex items-center gap-2",children:[t.jsx(yr,{className:"w-5 h-5"}),"Book Your Service"]})})})]})]}),t.jsx("section",{className:"py-12 sm:py-16 lg:py-20 bg-white relative overflow-hidden",children:t.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.6},className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"bg-gradient-to-r from-primary to-primary-dark rounded-2xl sm:rounded-3xl p-8 sm:p-12 text-white text-center relative overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 opacity-10",children:t.jsx(E.div,{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='40' height='40' viewBox='0 0 40 40' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%23ffffff' fill-opacity='0.1'%3E%3Cpath d='M20 20.5V18H0v-2h20v-2H0v-2h20v-2H0V8h20V6H0V4h20V2H0V0h22v20h2V0h2v20h2V0h2v20h2V0h2v20h2V0h2v20h2v2H0v-2h22zm0 0v2H0v-2h22z'/%3E%3C/g%3E%3C/svg%3E")`},animate:{backgroundPosition:["0% 0%","100% 100%"]},transition:{duration:20,repeat:1/0,repeatType:"reverse"}})}),t.jsxs("div",{className:"relative z-10",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold mb-3 sm:mb-4",children:"AMC for PGs, Clinics, Shops & Apartments"}),t.jsx("p",{className:"text-lg sm:text-xl mb-4 sm:mb-6 text-white/90",children:"Electrical + Plumbing + AC Maintenance + Repairs"}),t.jsx("p",{className:"text-2xl sm:text-3xl font-bold mb-6 sm:mb-8",children:"Starting 2,500/month"}),t.jsx("div",{className:"flex justify-center",children:t.jsxs(E.button,{onClick:e,whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"bg-white text-primary px-6 sm:px-8 py-3 sm:py-4 rounded-full text-base sm:text-lg font-semibold hover:bg-gray-100 transition-all duration-300 shadow-lg flex items-center gap-2",children:[t.jsx(yr,{className:"w-5 h-5"}),"Get AMC Quote on WhatsApp"]})})]})]})})}),t.jsxs("section",{className:"py-12 sm:py-16 lg:py-20 bg-gray-50 relative overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 opacity-5",children:t.jsx(E.div,{className:"absolute inset-0",style:{background:"radial-gradient(circle at 30% 30%, rgba(33, 74, 115, 0.1) 0%, transparent 50%), radial-gradient(circle at 70% 70%, rgba(33, 74, 115, 0.1) 0%, transparent 50%)"},animate:{scale:[1,1.1,1]},transition:{duration:10,repeat:1/0,ease:"easeInOut"}})}),t.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.6},className:"text-center mb-12 sm:mb-16",children:t.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-primary mb-3 sm:mb-4",children:"Customer Reviews"})}),t.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8",children:p.map((y,v)=>t.jsxs(E.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0,margin:"-50px"},transition:{duration:.5,delay:v*.2},whileHover:{y:-5},className:"bg-white p-6 sm:p-8 rounded-2xl shadow-lg border-l-4 border-primary",children:[t.jsx("div",{className:"flex gap-1 mb-4",children:[...Array(y.rating)].map((N,S)=>t.jsx("span",{className:"text-yellow-400 text-lg sm:text-xl",children:""},S))}),t.jsxs("p",{className:"text-gray-700 text-base sm:text-lg mb-4 italic",children:['"',y.text,'"']}),t.jsxs("p",{className:"text-primary font-semibold",children:[" ",y.author]})]},v))})]})]})]})]})},TQ={FaSnowflake:Ju,FaBolt:Nl,FaTint:Qu,FaBroom:Ku,FaPaintRoller:Xu,FaTools:fa,FaHammer:Yu,FaFilter:id,FaPlug:Dy,FaWrench:V0,FaCheckCircle:$e,FaCreditCard:Ti,FaMobileAlt:Oy,FaCommentDots:_y},Mn=e=>TQ[e]||fa,zC="https://nexo.works",EQ=()=>{const{serviceName:e}=xm(),r=Qt(),s=Zl(),{isAuthenticated:a,loading:n,user:i}=an(),[l,o]=g.useState(null),[c,d]=g.useState([]),[u,m]=g.useState(!0),[x,h]=g.useState(null),[p,f]=g.useState({}),[b,j]=g.useState({}),[w,y]=g.useState({}),[v,N]=g.useState(null),[S,k]=g.useState(!1),[C,P]=g.useState(null),[_,A]=g.useState(!1);g.useEffect(()=>{const z=localStorage.getItem("selectedCity");if(z)try{P(JSON.parse(z))}catch(xe){console.error("Error parsing selected city:",xe)}},[]);const D=()=>!C||!(l!=null&&l.cities)||l.cities.length===0?!0:l.cities.some(z=>(typeof z=="string"?z:z._id)===C._id),F=()=>`nexo_cart_${e||"default"}`,X=()=>{if(e)try{const z=F(),xe=localStorage.getItem(z);if(xe){const re=JSON.parse(xe);f(re.selectedSubServices||{}),j(re.selectedAddOns||{}),y(re.selectedAddOnSubServices||{})}}catch(z){console.error("Error loading cart from localStorage:",z)}},ce=(z,xe,re)=>{if(e)try{const ge=F(),pe={selectedSubServices:z||p,selectedAddOns:xe||b,selectedAddOnSubServices:re||w};localStorage.setItem(ge,JSON.stringify(pe))}catch(ge){console.error("Error saving cart to localStorage:",ge)}},[he,L]=g.useState([]),[q,se]=g.useState(0);g.useEffect(()=>{e&&(async()=>{m(!0),h(null);try{const re=await(await fetch(`${zC}/api/user/service-by-slug/${e}`)).json();if(re.success&&re.data){const ge={...re.data,icon:Mn(re.data.icon),subServices:re.data.subServices||[],addOns:(re.data.addOns||[]).map(ve=>({...ve,basePrice:Math.max(0,parseFloat(ve.basePrice)||0),discount:Math.max(0,Math.min(100,parseFloat(ve.discount)||0)),cgst:Math.max(0,parseFloat(ve.cgst)||0),sgst:Math.max(0,parseFloat(ve.sgst)||0),serviceCharge:Math.max(0,parseFloat(ve.serviceCharge)||0)}))};re.data.addOns&&re.data.addOns.forEach((ve,ke)=>{ve.discount&&(isNaN(ve.discount)||ve.discount>100)&&console.warn(`Malformed discount in addon ${ke}:`,ve.discount,"for service:",e)});const pe=[];ge.addOns&&ge.addOns.length>0&&ge.addOns.forEach((ve,ke)=>{ve.subServices&&ve.subServices.length>0&&ve.subServices.forEach((Qe,ft)=>{pe.push({...Qe,addonIndex:ke,subServiceIndex:ft,addonName:ve.name})})}),L(pe),o(ge),X()}else h("Service not found")}catch(xe){console.error("Error fetching service:",xe),h("Failed to load service. Please try again later.")}finally{m(!1)}})()},[e]),g.useEffect(()=>{console.log("ServiceDetail Auth Status:",{isAuthenticated:a,authLoading:n,hasUser:!!i,hasToken:!!localStorage.getItem("userToken")})},[a,n,i]),g.useEffect(()=>{if(he&&he.length>1){const z=setInterval(()=>{se(xe=>(xe+1)%he.length)},4e3);return()=>clearInterval(z)}},[he]),g.useEffect(()=>{if(e&&l){const z=F(),xe={selectedSubServices:p,selectedAddOns:b,selectedAddOnSubServices:w};try{localStorage.setItem(z,JSON.stringify(xe))}catch(re){console.error("Error saving cart to localStorage:",re)}}},[p,b,w,e,l]),g.useEffect(()=>{(async()=>{try{const re=await(await fetch(`${zC}/api/user/popular`)).json();if(re.success&&re.data){const ge=re.data.filter(pe=>pe.slug!==e).slice(0,6).map(pe=>({...pe,icon:Mn(pe.icon)}));d(ge)}}catch(xe){console.error("Error fetching popular services:",xe)}})()},[e]);const T=l||{name:"Service",price:"0",description:"Professional service for all your needs.",trusted:"Trusted by thousands of homes",icon:fa,included:[],excluded:[],addOns:[],reviews:[],averageRating:null,totalReviews:0},O=T.icon||fa,K=()=>!T.subServices||T.subServices.length===0?0:T.subServices.reduce((z,xe)=>{const re=p[xe._id]||0,ge=xe.finalPrice||xe.basePrice||xe.price||0;return z+ge*re},0),U=z=>{z.discount&&(isNaN(z.discount)||z.discount>100||z.discount<0)&&console.warn("Invalid discount value detected:",z.discount,"for addon:",z.name);const xe=Math.max(0,parseFloat(z.basePrice)||0),re=Math.max(0,Math.min(100,parseFloat(z.discount)||0)),ge=Math.max(0,parseFloat(z.cgst)||0),pe=Math.max(0,parseFloat(z.sgst)||0),ve=Math.max(0,parseFloat(z.serviceCharge)||0),ke=xe+ve,Qe=ke*((ge+pe)/100),ft=ke+Qe,je=xe*(re/100),Fe=xe-je,Tt=Fe+ve,Lt=Tt*((ge+pe)/100),ye=Tt+Lt;return{basePrice:xe,discount:re,discountAmount:je,subtotalAfterDiscount:Fe,serviceCharge:ve,subtotalWithCharge:Tt,cgst:ge,sgst:pe,gstAmount:Lt,finalPrice:ye,originalTotalPrice:ft}},ee=()=>!T.addOns||T.addOns.length===0?0:T.addOns.reduce((z,xe,re)=>{const ge=b[re]||0;if(ge>0){const pe=U(xe);return z+pe.finalPrice*ge}return z},0),M=()=>{if(!T.addOns||T.addOns.length===0)return 0;let z=0;return T.addOns.forEach((xe,re)=>{xe.subServices&&xe.subServices.length>0&&xe.subServices.forEach((ge,pe)=>{const ve=`${re}-${pe}`,ke=w[ve]||0;if(ke>0){const Qe=ge.price||"0",ft=parseFloat(Qe.replace(/[,\s]/g,""))||0;z+=ft*ke}})}),z},H=()=>K()+ee()+M(),B=()=>{const z=Object.values(p).reduce((ge,pe)=>ge+pe,0),xe=Object.values(b).reduce((ge,pe)=>ge+pe,0),re=Object.values(w).reduce((ge,pe)=>ge+pe,0);return z+xe+re},Y=z=>{f(xe=>{const re={...xe,[z]:(xe[z]||0)+1};return ce(re,b,w),re})},ie=z=>{f(xe=>{const re={...xe};return re[z]>1?re[z]=re[z]-1:delete re[z],ce(re,b,w),re})},me=(z,xe)=>{const re=`${z}-${xe}`;y(ge=>{const pe={...ge,[re]:(ge[re]||0)+1};return ce(p,b,pe),pe})},de=(z,xe)=>{const re=`${z}-${xe}`;y(ge=>{const pe={...ge};return pe[re]>1?pe[re]=pe[re]-1:delete pe[re],ce(p,b,pe),pe})},Ge=z=>{j(xe=>{const re={...xe,[z]:(xe[z]||0)+1};return ce(p,re,w),re})},Me=z=>{j(xe=>{const re={...xe};return re[z]>1?re[z]=re[z]-1:delete re[z],ce(p,re,w),re})},it=z=>{j(xe=>{const re={...xe};return delete re[z],ce(p,re,w),re})},Ye=()=>{if(!D()){alert(`This service is not available in ${(C==null?void 0:C.name)||"your city"}. Please select a different city or service.`);return}if(B()===0){alert("Please add at least one service to your cart");return}if(console.log("Auth Status:",{isAuthenticated:a,authLoading:n,user:i,token:localStorage.getItem("userToken")}),!a||!i){console.log("User not authenticated, redirecting to login"),r("/user/login",{state:{from:`/service/${e}`}});return}console.log("User authenticated, proceeding to checkout");const z=[];T.subServices&&T.subServices.forEach(ge=>{const pe=p[ge._id];if(pe>0){const ve=ge.finalPrice||ge.basePrice||ge.price||0;z.push({type:"subservice",id:ge._id,name:ge.name,quantity:pe,price:ve,total:ve*pe})}}),T.addOns&&T.addOns.forEach((ge,pe)=>{const ve=b[pe];if(ve>0){const ke=U(ge);z.push({type:"addon",id:ge._id||pe,name:ge.name,quantity:ve,price:ke.finalPrice,total:ke.finalPrice*ve})}}),T.addOns&&T.addOns.forEach((ge,pe)=>{ge.subServices&&ge.subServices.forEach((ve,ke)=>{const Qe=`${pe}-${ke}`,ft=w[Qe];if(ft>0){const je=ve.price||"0",Fe=parseFloat(je.replace(/[,\s]/g,""))||0;z.push({type:"addon-subservice",id:ve._id||Qe,name:`${ve.name} (${ge.name})`,quantity:ft,price:Fe,total:Fe*ft})}})});const xe={items:z,total:H()},re={_id:T._id,name:T.name,description:T.description,slug:T.slug,price:T.price,averageRating:T.averageRating,totalReviews:T.totalReviews};Le(xe,re)},Le=(z,xe)=>{r(`/service/${e}/checkout`,{state:{cartData:z,serviceData:xe}})};return u?t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:t.jsxs(E.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center",children:[t.jsx(ts,{className:"w-12 h-12 text-primary animate-spin mx-auto mb-4"}),t.jsx("p",{className:"text-xl text-gray-600",children:"Loading service details..."})]})}):x||!l?t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:t.jsxs("div",{className:"text-center max-w-md mx-auto px-4",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Service Not Found"}),t.jsx("p",{className:"text-gray-600 mb-6",children:x||"The service you are looking for does not exist."}),t.jsx(Ut,{to:"/",className:"inline-block bg-primary text-white px-6 py-3 rounded-full font-semibold hover:bg-primary-dark transition",children:"Go to Home"})]})}):t.jsxs(t.Fragment,{children:[t.jsx(En,{title:`${T.name} | Nexo`,description:`${T.description} ${T.trusted}. Book ${T.name} on WhatsApp with verified technicians.`,keywords:`${T.name}, home services, ${T.name.toLowerCase()} near me, WhatsApp booking, verified technicians`,url:`/service/${e}`}),t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsxs("section",{className:"relative bg-gradient-to-br from-primary to-primary-dark text-white py-6 sm:py-8 lg:py-10 overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 opacity-5",children:t.jsx(E.div,{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`,backgroundRepeat:"repeat"}})}),t.jsx(E.div,{className:"absolute top-10 left-10 w-32 h-32 sm:w-40 sm:h-40 bg-gradient-to-br from-white/15 to-white/5 rounded-full blur-2xl",animate:{y:[0,-20,0],x:[0,10,0],scale:[1,1.05,1]},transition:{duration:4,repeat:1/0,ease:"easeInOut"}}),t.jsx(E.div,{className:"absolute bottom-10 right-10 w-36 h-36 sm:w-48 sm:h-48 bg-gradient-to-br from-yellow-300/15 to-yellow-300/5 rounded-full blur-2xl",animate:{y:[0,-20,0],x:[0,-10,0],scale:[1,1.05,1]},transition:{duration:5,repeat:1/0,ease:"easeInOut",delay:1}}),[...Array(8)].map((z,xe)=>t.jsx(E.div,{className:"absolute bg-white/20 rounded-full",style:{width:`${4+xe%3*2}px`,height:`${4+xe%3*2}px`,left:`${5+xe*12%90}%`,top:`${10+xe*8%80}%`},animate:{y:[0,-80,0],opacity:[.2,.4,.2]},transition:{duration:6+xe%3,repeat:1/0,ease:"easeInOut",delay:xe*.3}},`particle-${xe}`)),t.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-6",children:t.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},className:"text-center",children:[t.jsx(E.div,{initial:{scale:.8},animate:{scale:1},transition:{duration:.5},className:"inline-block mb-3 sm:mb-4",children:t.jsx(O,{className:"w-12 h-12 sm:w-14 sm:h-14 text-yellow-300"})}),t.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-extrabold mb-3 sm:mb-4 leading-tight",children:T.name}),t.jsxs("div",{className:"flex flex-wrap justify-center gap-2 sm:gap-3 mb-4 sm:mb-5",children:[T.averageRating&&t.jsxs(E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3,delay:.2},className:"flex items-center gap-1.5 bg-white/10 backdrop-blur-sm px-3 py-1.5 rounded-full border border-white/20",children:[t.jsx(fc,{className:"text-yellow-300 text-sm"}),t.jsx("span",{className:"text-xs sm:text-sm font-semibold",children:T.averageRating}),t.jsxs("span",{className:"text-xs text-white/70",children:["(",T.totalReviews," reviews)"]})]}),t.jsxs(E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3,delay:.25},className:"flex items-center gap-1.5 bg-white/10 backdrop-blur-sm px-3 py-1.5 rounded-full border border-white/20",children:[t.jsx(Qo,{className:"text-green-300 text-sm"}),t.jsx("span",{className:"text-xs sm:text-sm font-semibold",children:"Verified"})]}),t.jsxs(E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3,delay:.3},className:"flex items-center gap-1.5 bg-white/10 backdrop-blur-sm px-3 py-1.5 rounded-full border border-white/20",children:[t.jsx(ei,{className:"text-blue-300 text-sm"}),t.jsx("span",{className:"text-xs sm:text-sm font-semibold",children:"Quick Service"})]})]}),T.trusted&&t.jsx("p",{className:"text-sm sm:text-base text-white/90 mb-4 sm:mb-5 font-medium",children:T.trusted}),!D()&&C&&t.jsx(E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-yellow-500/20 border border-yellow-400/50 backdrop-blur-sm px-4 py-2 rounded-lg mb-3",children:t.jsxs("p",{className:"text-sm text-white font-semibold text-center",children:[" This service is not available in ",C.name]})}),t.jsxs("div",{className:"flex flex-col sm:flex-row justify-center items-center gap-2 sm:gap-3",children:[D()?t.jsxs(E.button,{onClick:Ye,whileHover:{scale:1.02},whileTap:{scale:.98},className:"bg-gradient-to-r from-primary to-primary-dark text-white px-6 sm:px-8 py-3 rounded-full text-base font-bold shadow-lg hover:shadow-xl transition-all duration-300 flex items-center gap-2 w-full sm:w-auto justify-center min-h-[44px]","aria-label":"Book service now",children:[t.jsx(Li,{className:"w-5 h-5"}),t.jsx("span",{children:"Book Now"})]}):t.jsxs(E.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-gray-400 text-white px-6 sm:px-8 py-3 rounded-full text-base font-bold shadow-lg flex items-center gap-2 w-full sm:w-auto justify-center min-h-[44px] cursor-not-allowed",children:[t.jsx(Gt,{className:"w-5 h-5"}),t.jsxs("span",{children:["Not Available in ",(C==null?void 0:C.name)||"Your City"]})]}),t.jsxs(E.button,{onClick:s,whileHover:{scale:1.02},whileTap:{scale:.98},className:"bg-[#25D366] text-white px-6 sm:px-8 py-3 rounded-full text-base font-bold shadow-lg hover:shadow-xl transition-all duration-300 flex items-center gap-2 w-full sm:w-auto justify-center min-h-[44px]","aria-label":"Book service on WhatsApp",children:[t.jsx(yr,{className:"w-5 h-5"}),t.jsx("span",{children:"WhatsApp"})]}),T.subServices&&T.subServices.length>0&&t.jsxs(E.button,{onClick:()=>{const z=document.querySelector("[data-packages-section]");z==null||z.scrollIntoView({behavior:"smooth",block:"start"})},whileHover:{scale:1.02},whileTap:{scale:.98},className:"bg-white/20 text-white px-5 sm:px-6 py-3 rounded-full text-sm font-semibold border border-white/40 hover:bg-white/30 transition-all duration-300 w-full sm:w-auto min-h-[44px] flex items-center justify-center gap-2","aria-label":"View available packages",children:[t.jsx(go,{className:"w-4 h-4"}),t.jsx("span",{children:"View Packages"})]})]})]})}),t.jsx("div",{className:"absolute bottom-0 left-0 w-full h-6 sm:h-8 bg-gray-50 pointer-events-none rounded-t-3xl"})]}),t.jsx("section",{className:"pt-6 pb-5 sm:pt-8 sm:pb-8 lg:pb-12 bg-gradient-to-b from-gray-50 via-white to-gray-50",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"grid lg:grid-cols-12 gap-4 sm:gap-6 lg:gap-8",children:[t.jsxs("div",{className:"lg:col-span-8 space-y-4 sm:space-y-6",children:[t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"bg-white rounded-xl sm:rounded-2xl border border-gray-200 shadow-lg p-4 sm:p-6 lg:p-8",children:[t.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-3 sm:mb-4",children:[t.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-br from-primary/10 to-primary/20 rounded-lg sm:rounded-xl flex items-center justify-center flex-shrink-0",children:t.jsx(O,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 truncate",children:T.name}),T.averageRating&&t.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 text-xs sm:text-sm mt-1",children:[t.jsx(fc,{className:"text-yellow-500 fill-yellow-500 text-xs sm:text-sm"}),t.jsx("span",{className:"font-bold text-gray-900",children:T.averageRating}),t.jsxs("span",{className:"text-gray-600 text-xs",children:["(",(T.totalReviews||0).toLocaleString("en-IN")," reviews)"]})]})]})]}),T.description&&t.jsx("p",{className:"text-xs sm:text-sm text-gray-700 mb-3 sm:mb-4 leading-relaxed",children:T.description}),t.jsx("div",{className:"p-3 sm:p-4 bg-gradient-to-br from-emerald-50 to-emerald-100/50 border-2 border-emerald-200 rounded-lg sm:rounded-xl cursor-pointer hover:bg-gradient-to-br hover:from-emerald-100 hover:to-emerald-200/50 hover:border-emerald-300 hover:shadow-md transition-all duration-300 group",children:t.jsxs("div",{className:"flex items-center justify-between gap-2",children:[t.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 flex-1 min-w-0",children:[t.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-emerald-500 rounded-lg flex items-center justify-center shadow-sm flex-shrink-0",children:t.jsx($e,{className:"text-white text-sm sm:text-lg"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("div",{className:"text-xs sm:text-sm font-bold text-gray-900",children:"Nexo COVER"}),t.jsx("div",{className:"text-xs text-gray-700 font-medium",children:"Upto 30 days warranty on repairs"})]})]}),t.jsx(yC,{className:"text-emerald-600 group-hover:text-emerald-700 group-hover:translate-x-1 transition-all flex-shrink-0"})]})})]}),T.addOns&&T.addOns.length>0?t.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:t.jsxs("div",{className:"bg-white rounded-xl sm:rounded-2xl border border-gray-200 shadow-lg hover:shadow-xl transition-shadow duration-300 overflow-hidden",children:[t.jsxs("div",{className:"bg-gradient-to-r from-primary via-primary-dark to-primary px-4 sm:px-6 py-4 sm:py-5 relative overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 bg-black/5"}),t.jsxs("div",{className:"relative flex items-center gap-2 sm:gap-3",children:[t.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-white/20 backdrop-blur-sm rounded-lg sm:rounded-xl flex items-center justify-center shadow-lg flex-shrink-0",children:t.jsx(go,{className:"text-white text-lg sm:text-xl"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h2",{className:"text-lg sm:text-xl font-bold text-white truncate",children:"Add-On Services"}),t.jsx("p",{className:"text-white/90 text-xs font-medium",children:"Enhance your service"})]})]})]}),t.jsx("div",{className:"p-4 sm:p-6 space-y-3 sm:space-y-4 max-h-[600px] overflow-y-auto custom-scrollbar",children:T.addOns.map((z,xe)=>{const re=b[xe]||0,ge=re>0,pe=U(z),ve=Mn(z.icon||"FaTools");return t.jsxs(E.div,{initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.3,delay:xe*.1},whileHover:{scale:1.02,y:-4},onClick:()=>N({index:xe,addon:z}),className:`bg-gradient-to-br ${ge?"from-primary/5 to-primary/10 border-2 border-primary shadow-lg":"from-white to-gray-50/50 border border-gray-200 hover:border-primary/40 hover:shadow-md"} p-3 sm:p-4 lg:p-5 rounded-lg sm:rounded-xl transition-all duration-300 cursor-pointer`,children:[t.jsxs("div",{className:"flex items-start gap-3 sm:gap-4 mb-3 sm:mb-4",children:[t.jsx("div",{className:`w-12 h-12 sm:w-14 sm:h-14 rounded-lg sm:rounded-xl flex items-center justify-center flex-shrink-0 shadow-sm ${ge?"bg-gradient-to-br from-primary to-primary-dark":"bg-gradient-to-br from-primary/10 to-primary/20"}`,children:t.jsx(ve,{className:`w-6 h-6 sm:w-7 sm:h-7 ${ge?"text-white":"text-primary"}`})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h3",{className:"text-sm sm:text-base font-bold text-gray-900 mb-1.5 sm:mb-2 line-clamp-1",children:z.name}),z.description&&t.jsx("p",{className:"text-xs text-gray-600 mb-2 sm:mb-3 line-clamp-2 leading-relaxed",children:z.description}),t.jsxs("div",{className:"flex items-baseline gap-1.5 sm:gap-2 mb-2 sm:mb-3 flex-wrap",children:[t.jsxs("span",{className:"text-xl sm:text-2xl font-black text-primary",children:["",Math.round(pe.finalPrice).toLocaleString("en-IN")]}),pe.originalTotalPrice>0&&pe.originalTotalPrice!==pe.finalPrice&&t.jsxs("span",{className:"text-xs sm:text-sm text-gray-500 line-through",children:["",Math.round(pe.originalTotalPrice).toLocaleString("en-IN")]}),pe.discount>0&&pe.originalTotalPrice>0&&pe.originalTotalPrice!==pe.finalPrice&&t.jsxs("span",{className:"text-xs font-bold text-white bg-gradient-to-r from-green-500 to-green-600 px-2 sm:px-2.5 py-0.5 sm:py-1 rounded-full shadow-sm",children:[Math.round(pe.discount),"% OFF"]})]}),ge&&t.jsxs("span",{className:"inline-flex items-center gap-1 text-xs font-bold text-white bg-gradient-to-r from-primary to-primary-dark px-2 sm:px-3 py-1 sm:py-1.5 rounded-full shadow-md",children:[t.jsx(Li,{className:"text-xs"}),re," in cart"]})]})]}),ge?t.jsxs("div",{className:"flex flex-wrap items-center gap-1.5 sm:gap-2",onClick:ke=>ke.stopPropagation(),children:[t.jsx("button",{onClick:ke=>{ke.stopPropagation(),N({index:xe,addon:z})},className:"bg-gray-100 text-gray-700 px-3 sm:px-4 py-2.5 sm:py-3 rounded-lg sm:rounded-xl font-bold hover:bg-gray-200 transition-all text-xs sm:text-sm flex items-center justify-center min-h-[44px] sm:min-h-[48px] shadow-sm hover:shadow flex-1 sm:flex-none",children:"Details"}),t.jsx("button",{onClick:ke=>{ke.stopPropagation(),Me(xe)},className:"bg-gray-100 text-gray-700 px-3 sm:px-4 py-2.5 sm:py-3 rounded-lg sm:rounded-xl font-bold hover:bg-gray-200 transition-all text-xs sm:text-sm flex items-center justify-center min-h-[44px] sm:min-h-[48px] min-w-[44px] sm:min-w-[48px] shadow-sm hover:shadow","aria-label":"Decrease quantity",children:t.jsx(Dn,{className:"text-xs sm:text-sm"})}),t.jsx("div",{className:"bg-gradient-to-r from-primary to-primary-dark text-white px-4 sm:px-5 py-2.5 sm:py-3 rounded-lg sm:rounded-xl font-bold text-sm sm:text-base min-w-[3rem] sm:min-w-[3.5rem] text-center min-h-[44px] sm:min-h-[48px] flex items-center justify-center shadow-md",children:re}),t.jsx("button",{onClick:ke=>{ke.stopPropagation(),Ge(xe)},className:"bg-gradient-to-r from-primary to-primary-dark text-white px-3 sm:px-4 py-2.5 sm:py-3 rounded-lg sm:rounded-xl font-bold hover:from-primary-dark hover:to-primary transition-all text-xs sm:text-sm flex items-center justify-center min-h-[44px] sm:min-h-[48px] min-w-[44px] sm:min-w-[48px] shadow-md hover:shadow-lg","aria-label":"Increase quantity",children:t.jsx(vs,{className:"text-xs sm:text-sm"})}),t.jsx("button",{onClick:ke=>{ke.stopPropagation(),it(xe)},className:"bg-red-50 text-red-600 px-3 sm:px-4 py-2.5 sm:py-3 rounded-lg sm:rounded-xl font-bold hover:bg-red-100 transition-all text-xs sm:text-sm min-h-[44px] sm:min-h-[48px] min-w-[44px] sm:min-w-[48px] flex items-center justify-center shadow-sm hover:shadow","aria-label":`Remove ${z.name} from cart`,title:"Remove",children:t.jsx(Gt,{className:"text-xs sm:text-sm"})})]}):t.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",onClick:ke=>ke.stopPropagation(),children:[t.jsx("button",{onClick:ke=>{ke.stopPropagation(),N({index:xe,addon:z})},className:"flex-1 bg-gray-100 text-gray-700 px-3 sm:px-4 py-2.5 sm:py-3 rounded-lg sm:rounded-xl font-bold hover:bg-gray-200 transition-all text-xs sm:text-sm flex items-center justify-center min-h-[44px] sm:min-h-[48px] shadow-sm hover:shadow",children:"View Details"}),t.jsxs("button",{onClick:ke=>{ke.stopPropagation(),Ge(xe)},className:"flex-1 bg-gradient-to-r from-primary to-primary-dark text-white px-4 sm:px-5 py-2.5 sm:py-3.5 rounded-lg sm:rounded-xl font-bold hover:from-primary-dark hover:to-primary transition-all text-xs sm:text-sm flex items-center justify-center gap-1.5 sm:gap-2 min-h-[44px] sm:min-h-[48px] shadow-md hover:shadow-lg","aria-label":`Add ${z.name} to cart`,children:[t.jsx(vs,{className:"text-xs sm:text-sm"}),t.jsx("span",{children:"Add"})]})]})]},xe)})})]})}):t.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6 text-center",children:t.jsx("p",{className:"text-gray-500",children:"No add-on services available"})})]}),t.jsxs("div",{className:"lg:col-span-4",children:[t.jsxs(E.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6},className:"bg-white rounded-xl sm:rounded-2xl border border-gray-200 shadow-xl hover:shadow-2xl transition-shadow duration-300 p-4 sm:p-6 lg:p-8 lg:sticky lg:top-24 max-h-[calc(100vh-8rem)] overflow-y-auto custom-scrollbar",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6 pb-3 sm:pb-4 border-b-2 border-gray-100",children:[t.jsxs("button",{onClick:()=>k(!0),className:"flex items-center gap-2 sm:gap-3 hover:opacity-80 transition-opacity cursor-pointer flex-1 min-w-0",children:[t.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-primary/10 to-primary/20 rounded-lg sm:rounded-xl flex items-center justify-center flex-shrink-0",children:t.jsx(Li,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"})}),t.jsx("h2",{className:"text-base sm:text-xl font-bold text-gray-900 truncate",children:"Shopping Cart"})]}),B()>0&&t.jsxs("button",{onClick:()=>k(!0),className:"bg-gradient-to-r from-primary to-primary-dark text-white text-xs font-bold px-2 sm:px-3 py-1 sm:py-1.5 rounded-full shadow-md hover:shadow-lg transition-all flex-shrink-0 ml-2",children:[B()," items"]})]}),T.subServices&&T.subServices.length>0&&t.jsx("div",{className:"mb-4",children:t.jsxs("button",{onClick:()=>{T.subServices[0]&&Y(T.subServices[0]._id)},className:"w-full bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white py-3 rounded-lg font-bold transition-all flex items-center justify-center gap-2 shadow-md hover:shadow-lg",children:[t.jsx(vs,{className:"text-sm"}),t.jsx("span",{children:"Quick Add Main Service"})]})}),B()===0?t.jsxs("div",{className:"text-center py-8 sm:py-12",children:[t.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-gradient-to-br from-gray-100 to-gray-200 rounded-full flex items-center justify-center mx-auto mb-3 sm:mb-4",children:t.jsx(Li,{className:"w-8 h-8 sm:w-10 sm:h-10 text-gray-400"})}),t.jsx("p",{className:"text-sm sm:text-base font-semibold text-gray-700 mb-1",children:"Your cart is empty"}),t.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"Add services to get started"})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"space-y-3 mb-6 max-h-[400px] overflow-y-auto custom-scrollbar pr-2",children:[T.subServices&&T.subServices.filter(z=>p[z._id]>0).map(z=>{const xe=p[z._id],re=z.finalPrice||z.basePrice||z.price||0,ge=z.originalPrice||z.price||0,pe=ge>re;return t.jsx("div",{className:"bg-gradient-to-br from-gray-50 to-white border border-gray-200 rounded-lg sm:rounded-xl p-3 sm:p-4 hover:shadow-md transition-all",children:t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-2 sm:gap-3",children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-xs sm:text-sm font-bold text-gray-900 mb-2 sm:mb-3 line-clamp-1",children:z.name}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsxs("div",{className:"flex items-center gap-1 bg-white border-2 border-gray-200 rounded-lg shadow-sm",children:[t.jsx("button",{onClick:()=>ie(z._id),className:"w-7 h-7 sm:w-8 sm:h-8 flex items-center justify-center text-gray-600 hover:bg-gray-100 hover:text-primary transition rounded-l-lg",children:t.jsx(Dn,{className:"text-xs"})}),t.jsx("span",{className:"w-8 sm:w-10 text-center font-bold text-xs sm:text-sm text-gray-900",children:xe}),t.jsx("button",{onClick:()=>Y(z._id),className:"w-7 h-7 sm:w-8 sm:h-8 flex items-center justify-center text-gray-600 hover:bg-gray-100 hover:text-primary transition rounded-r-lg",children:t.jsx(vs,{className:"text-xs"})})]})})]}),t.jsxs("div",{className:"text-left sm:text-right flex-shrink-0",children:[t.jsxs("p",{className:"text-sm sm:text-base font-bold text-primary",children:["",Math.round(re*xe).toLocaleString("en-IN")]}),pe&&t.jsxs("p",{className:"text-xs text-gray-400 line-through",children:["",Math.round(ge*xe).toLocaleString("en-IN")]})]})]})},`sub-${z._id}`)}),T.addOns&&T.addOns.map((z,xe)=>{const re=b[xe]||0;if(re===0)return null;const ge=U(z);return t.jsx("div",{className:"bg-gradient-to-br from-primary/5 to-primary/10 border border-primary/20 rounded-lg sm:rounded-xl p-3 sm:p-4 hover:shadow-md transition-all",children:t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-2 sm:gap-3",children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-xs sm:text-sm font-bold text-gray-900 mb-2 sm:mb-3 line-clamp-1",children:z.name}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsxs("div",{className:"flex items-center gap-1 bg-white border-2 border-primary/30 rounded-lg shadow-sm",children:[t.jsx("button",{onClick:()=>Me(xe),className:"w-7 h-7 sm:w-8 sm:h-8 flex items-center justify-center text-gray-600 hover:bg-primary/10 hover:text-primary transition rounded-l-lg",children:t.jsx(Dn,{className:"text-xs"})}),t.jsx("span",{className:"w-8 sm:w-10 text-center font-bold text-xs sm:text-sm text-primary",children:re}),t.jsx("button",{onClick:()=>Ge(xe),className:"w-7 h-7 sm:w-8 sm:h-8 flex items-center justify-center text-gray-600 hover:bg-primary/10 hover:text-primary transition rounded-r-lg",children:t.jsx(vs,{className:"text-xs"})})]})})]}),t.jsxs("div",{className:"text-left sm:text-right flex-shrink-0",children:[t.jsxs("p",{className:"text-sm sm:text-base font-bold text-primary",children:["",Math.round(ge.finalPrice*re).toLocaleString("en-IN")]}),ge.originalTotalPrice>0&&ge.originalTotalPrice!==ge.finalPrice&&t.jsxs("p",{className:"text-xs text-gray-400 line-through",children:["",Math.round(ge.originalTotalPrice*re).toLocaleString("en-IN")]})]})]})},`addon-${xe}`)}).filter(z=>z!==null),T.addOns&&T.addOns.map((z,xe)=>{var ge;const re=((ge=z.subServices)==null?void 0:ge.filter((pe,ve)=>{const ke=`${xe}-${ve}`;return w[ke]>0}))||[];return re.length===0?null:t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"text-xs font-semibold text-primary/70 uppercase tracking-wide mb-1 px-2",children:[z.name," - Sub Services"]}),re.map((pe,ve)=>{const ke=`${xe}-${ve}`,Qe=w[ke]||0;if(Qe===0)return null;const ft=pe.price||"0",je=parseFloat(ft.replace(/[,\s]/g,""))||0,Fe=Mn(pe.icon||"FaTools");return t.jsx("div",{className:"bg-gradient-to-br from-primary/5 to-white border border-primary/10 rounded-lg p-3 ml-3",children:t.jsxs("div",{className:"flex items-start justify-between gap-2",children:[t.jsxs("div",{className:"flex items-start gap-2 flex-1 min-w-0",children:[t.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-lg flex items-center justify-center flex-shrink-0 mt-0.5",children:t.jsx(Fe,{className:"w-4 h-4 text-primary"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-xs font-bold text-gray-900 mb-1",children:pe.name}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("button",{onClick:()=>de(xe,ve),className:"w-6 h-6 flex items-center justify-center bg-gray-100 hover:bg-gray-200 rounded transition",children:t.jsx(Dn,{className:"text-xs text-gray-700"})}),t.jsx("span",{className:"w-8 text-center font-bold text-xs text-gray-900",children:Qe}),t.jsx("button",{onClick:()=>me(xe,ve),className:"w-6 h-6 flex items-center justify-center bg-primary/10 hover:bg-primary/20 rounded transition",children:t.jsx(vs,{className:"text-xs text-primary"})})]})]})]}),t.jsx("div",{className:"text-right flex-shrink-0",children:t.jsxs("p",{className:"text-sm font-bold text-primary",children:["",Math.round(je*Qe).toLocaleString("en-IN")]})})]})},ke)})]},`addon-subservices-${xe}`)})]}),T.subServices&&T.subServices.length>0&&t.jsxs("div",{className:"mb-4",children:[t.jsxs("button",{onClick:()=>A(!_),className:"w-full flex items-center justify-between p-3 bg-gradient-to-r from-blue-50 to-blue-100 hover:from-blue-100 hover:to-blue-200 rounded-lg transition-all border border-blue-200",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(vs,{className:"text-blue-600 text-sm"}),t.jsx("span",{className:"text-sm font-bold text-blue-900",children:"Add More Services"})]}),t.jsx(E.div,{animate:{rotate:_?180:0},transition:{duration:.3},children:t.jsx(bO,{className:"text-blue-600 text-sm"})})]}),_&&t.jsx(E.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"mt-2 space-y-2 max-h-64 overflow-y-auto custom-scrollbar",children:T.subServices.map(z=>{const xe=p[z._id]||0,re=z.finalPrice||z.basePrice||z.price||0,ge=Mn(z.icon||"FaTools");return t.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-3 hover:border-primary/50 transition-all",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center flex-shrink-0",children:t.jsx(ge,{className:"w-5 h-5 text-primary"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h4",{className:"text-sm font-bold text-gray-900 mb-1",children:z.name}),z.shortDescription&&t.jsx("p",{className:"text-xs text-gray-600 mb-2",children:z.shortDescription}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("p",{className:"text-sm font-bold text-primary",children:["",Math.round(re).toLocaleString("en-IN")]}),xe===0?t.jsxs("button",{onClick:()=>Y(z._id),className:"px-3 py-1.5 bg-primary text-white rounded-lg text-xs font-semibold hover:bg-primary-dark transition-all flex items-center gap-1",children:[t.jsx(vs,{className:"text-xs"}),"Add"]}):t.jsxs("div",{className:"flex items-center gap-1 bg-white border-2 border-primary/30 rounded-lg shadow-sm",children:[t.jsx("button",{onClick:()=>ie(z._id),className:"w-7 h-7 flex items-center justify-center text-gray-600 hover:bg-primary/10 hover:text-primary transition rounded-l-lg",children:t.jsx(Dn,{className:"text-xs"})}),t.jsx("span",{className:"w-8 text-center font-bold text-xs text-primary",children:xe}),t.jsx("button",{onClick:()=>Y(z._id),className:"w-7 h-7 flex items-center justify-center text-gray-600 hover:bg-primary/10 hover:text-primary transition rounded-r-lg",children:t.jsx(vs,{className:"text-xs"})})]})]})]})]})},`available-${z._id}`)})})]}),t.jsxs("div",{className:"pt-6 border-t-2 border-gray-200 mb-6",children:[t.jsxs("div",{className:"space-y-3 mb-4",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[t.jsx("div",{className:"h-0.5 w-8 bg-primary rounded-full"}),t.jsx("div",{className:"text-xs font-bold text-gray-700 uppercase tracking-wide",children:"Price Breakdown"})]}),T.subServices&&T.subServices.filter(z=>p[z._id]>0).map(z=>{const xe=p[z._id],re=z.finalPrice||z.basePrice||z.price||0;z.originalPrice||z.price;const ge=re*xe,pe=z.gst||0,ve=ge*pe/100;return t.jsxs("div",{className:"text-xs space-y-1 pb-2 border-b border-gray-100 last:border-b-0",children:[t.jsxs("div",{className:"font-semibold text-gray-700",children:[z.name," (Qty: ",xe,")"]}),t.jsxs("div",{className:"flex justify-between text-gray-600",children:[t.jsx("span",{children:"Subtotal"}),t.jsxs("span",{children:["",Math.round(ge).toLocaleString("en-IN")]})]}),pe>0&&t.jsxs("div",{className:"flex justify-between text-gray-600",children:[t.jsxs("span",{children:["GST (",pe,"%)"]}),t.jsxs("span",{children:["+",Math.round(ve).toLocaleString("en-IN")]})]}),t.jsxs("div",{className:"flex justify-between font-semibold text-gray-900 pt-1",children:[t.jsx("span",{children:"Total"}),t.jsxs("span",{children:["",Math.round(ge+ve).toLocaleString("en-IN")]})]})]},`breakdown-sub-${z._id}`)}),T.addOns&&T.addOns.map((z,xe)=>{const re=b[xe]||0;if(re===0)return null;const ge=U(z);return t.jsxs("div",{className:"text-xs space-y-1 pb-2 border-b border-gray-100 last:border-b-0",children:[t.jsxs("div",{className:"font-semibold text-gray-700",children:[z.name," (Qty: ",re,")"]}),t.jsxs("div",{className:"flex justify-between text-gray-600",children:[t.jsx("span",{children:"Base Price"}),t.jsxs("span",{children:["",Math.round(ge.basePrice*re).toLocaleString("en-IN")]})]}),ge.discount>0&&t.jsxs("div",{className:"flex justify-between text-green-600",children:[t.jsxs("span",{children:["Discount (",ge.discount,"%)"]}),t.jsxs("span",{children:["-",Math.round(ge.discountAmount*re).toLocaleString("en-IN")]})]}),ge.serviceCharge>0&&t.jsxs("div",{className:"flex justify-between text-gray-600",children:[t.jsx("span",{children:"Service Charge"}),t.jsxs("span",{children:["+",Math.round(ge.serviceCharge*re).toLocaleString("en-IN")]})]}),(ge.cgst>0||ge.sgst>0)&&t.jsxs("div",{className:"flex justify-between text-gray-600",children:[t.jsxs("span",{children:["GST (",ge.cgst+ge.sgst,"%)"]}),t.jsxs("span",{children:["+",Math.round(ge.gstAmount*re).toLocaleString("en-IN")]})]}),t.jsxs("div",{className:"flex justify-between font-semibold text-gray-900 pt-1",children:[t.jsx("span",{children:"Total"}),t.jsxs("span",{children:["",Math.round(ge.finalPrice*re).toLocaleString("en-IN")]})]})]},`breakdown-addon-${xe}`)}).filter(z=>z!==null),T.addOns&&T.addOns.map((z,xe)=>{var ge;const re=((ge=z.subServices)==null?void 0:ge.filter((pe,ve)=>{const ke=`${xe}-${ve}`;return w[ke]>0}))||[];return re.length===0?null:re.map((pe,ve)=>{const ke=`${xe}-${ve}`,Qe=w[ke]||0;if(Qe===0)return null;const ft=pe.price||"0",Fe=(parseFloat(ft.replace(/[,\s]/g,""))||0)*Qe;return t.jsxs("div",{className:"text-xs space-y-1 pb-2 border-b border-gray-100 last:border-b-0",children:[t.jsxs("div",{className:"font-semibold text-gray-700",children:[pe.name," (",z.name,") (Qty: ",Qe,")"]}),t.jsxs("div",{className:"flex justify-between text-gray-600",children:[t.jsx("span",{children:"Price"}),t.jsxs("span",{children:["",Math.round(Fe).toLocaleString("en-IN")]})]}),t.jsxs("div",{className:"flex justify-between font-semibold text-gray-900 pt-1",children:[t.jsx("span",{children:"Total"}),t.jsxs("span",{children:["",Math.round(Fe).toLocaleString("en-IN")]})]})]},ke)})}).flat().filter(z=>z!==null)]}),t.jsxs("div",{className:"flex items-center justify-between pt-3 sm:pt-4 border-t-2 border-gray-300 bg-gradient-to-r from-primary/5 to-transparent -mx-2 px-3 sm:px-4 py-2.5 sm:py-3 rounded-lg",children:[t.jsx("span",{className:"text-base sm:text-lg font-bold text-gray-900",children:"Grand Total"}),t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:"text-xl sm:text-2xl font-black text-primary",children:["",Math.round(H()).toLocaleString("en-IN")]}),(()=>{let z=0;T.subServices&&T.subServices.filter(re=>p[re._id]>0).forEach(re=>{const ge=p[re._id],pe=re.originalPrice||re.price||0;z+=pe*ge}),T.addOns&&T.addOns.forEach((re,ge)=>{const pe=b[ge]||0;pe>0&&(z+=(re.basePrice||0)*pe)}),T.addOns&&T.addOns.forEach((re,ge)=>{re.subServices&&re.subServices.forEach((pe,ve)=>{const ke=`${ge}-${ve}`,Qe=w[ke]||0;if(Qe>0){const ft=pe.price||"0",je=parseFloat(ft.replace(/[,\s]/g,""))||0;z+=je*Qe}})});const xe=H();return z>xe?t.jsxs("p",{className:"text-xs text-gray-400 line-through",children:["",Math.round(z).toLocaleString("en-IN")]}):null})()]})]})]}),D()?t.jsx(t.Fragment,{children:t.jsxs("button",{onClick:Ye,className:"w-full bg-gradient-to-r from-primary to-primary-dark text-white py-3 sm:py-4 rounded-lg sm:rounded-xl font-bold hover:shadow-xl transition-all text-sm sm:text-base mb-3 flex items-center justify-center gap-2 min-h-[48px] sm:min-h-[52px] shadow-lg transform hover:-translate-y-0.5",children:[t.jsx(Li,{className:"w-5 h-5 sm:w-6 sm:h-6"}),t.jsx("span",{children:"Book Now"})]})}):t.jsxs("div",{className:"w-full bg-gray-400 text-white py-3 sm:py-4 rounded-lg sm:rounded-xl font-bold text-sm sm:text-base mb-4 flex items-center justify-center gap-2 min-h-[48px] sm:min-h-[52px] shadow-lg cursor-not-allowed",children:[t.jsx(Gt,{className:"w-5 h-5 sm:w-6 sm:h-6"}),t.jsxs("span",{children:["Service Not Available in ",(C==null?void 0:C.name)||"Your City"]})]})]})]}),t.jsxs(E.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6},className:"bg-white rounded-xl sm:rounded-2xl border border-gray-200 shadow-xl transition-shadow duration-300 p-3 sm:p-6 lg:p-8 mt-2",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4 pb-2 sm:pb-3 border-b border-gray-200",children:[t.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[t.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-primary/10 to-primary/20 rounded-lg flex items-center justify-center flex-shrink-0",children:t.jsx(go,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"})}),t.jsx("h2",{className:"text-sm sm:text-lg font-bold text-gray-900 truncate",children:"Add-On Sub-Services"})]}),he&&he.length>0&&t.jsx("span",{className:"bg-primary text-white text-xs font-bold px-2 py-1 rounded-full flex-shrink-0 ml-2",children:he.length})]}),he&&he.length>0?t.jsxs("div",{className:"relative w-full",children:[t.jsx("div",{className:"overflow-hidden rounded-lg",children:t.jsx("div",{className:"flex transition-transform duration-500 ease-out",style:{transform:`translateX(-${q*100}%)`},children:he.map((z,xe)=>{const re=Mn(z.icon||"FaTools"),ge=z.price||"0",pe=parseFloat(ge.replace(/[,\s]/g,""))||0,ve=`${z.addonIndex}-${z.subServiceIndex}`,ke=w[ve]||0,Qe=ke>0;return t.jsx("div",{className:"w-full flex-shrink-0 box-border",children:t.jsxs("div",{className:`${Qe?"bg-primary/5 border-primary":"bg-gray-50 border-gray-200"} border-2 rounded-lg p-2.5 sm:p-4`,children:[t.jsxs("div",{className:"flex gap-1.5 sm:gap-2 mb-1.5 sm:mb-2",children:[t.jsx("div",{className:`w-9 h-9 sm:w-12 sm:h-12 rounded-lg flex items-center justify-center flex-shrink-0 ${Qe?"bg-primary":"bg-primary/10"}`,children:t.jsx(re,{className:`w-4 h-4 sm:w-6 sm:h-6 ${Qe?"text-white":"text-primary"}`})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h3",{className:"text-xs sm:text-sm font-bold text-gray-900 mb-0.5 sm:mb-1 line-clamp-2 leading-tight",children:z.name}),t.jsxs("div",{className:"flex items-center gap-1.5 flex-wrap",children:[t.jsxs("span",{className:"text-sm sm:text-lg font-black text-primary",children:["",Math.round(pe).toLocaleString("en-IN")]}),Qe&&t.jsxs("span",{className:"text-xs font-bold text-white bg-primary px-1.5 py-0.5 rounded-full",children:[ke,"x"]})]})]})]}),z.description&&t.jsx("p",{className:"text-xs text-gray-600 mb-1.5 sm:mb-2 line-clamp-2 leading-snug",children:z.description}),z.includes&&z.includes.length>0&&t.jsx("div",{className:"mb-1.5 sm:mb-2 pb-1.5 sm:pb-2 border-t border-gray-200 pt-1.5 sm:pt-2",children:t.jsxs("ul",{className:"space-y-0.5",children:[z.includes.slice(0,2).map((ft,je)=>t.jsxs("li",{className:"text-xs text-gray-700 flex items-start gap-1",children:[t.jsx($e,{className:"text-green-500 text-xs mt-0.5 flex-shrink-0"}),t.jsx("span",{className:"line-clamp-1 leading-tight",children:ft})]},je)),z.includes.length>2&&t.jsxs("li",{className:"text-xs text-primary font-semibold ml-3.5",children:["+",z.includes.length-2," more"]})]})}),t.jsx("div",{className:"flex items-center justify-end gap-1 sm:gap-1.5 pt-1.5 sm:pt-2 border-t border-gray-200",children:Qe?t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:()=>de(z.addonIndex,z.subServiceIndex),className:"bg-gray-200 text-gray-700 w-6 h-6 sm:w-7 sm:h-7 rounded flex items-center justify-center hover:bg-gray-300",children:t.jsx(Dn,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3"})}),t.jsx("span",{className:"text-xs sm:text-sm font-bold text-primary w-5 sm:w-6 text-center",children:ke}),t.jsx("button",{onClick:()=>me(z.addonIndex,z.subServiceIndex),className:"bg-primary text-white w-6 h-6 sm:w-7 sm:h-7 rounded flex items-center justify-center hover:bg-primary-dark",children:t.jsx(vs,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3"})})]}):t.jsxs("button",{onClick:()=>{z.addonIndex!==void 0&&z.subServiceIndex!==void 0&&me(z.addonIndex,z.subServiceIndex)},className:"bg-primary text-white px-2.5 sm:px-3 py-1.5 rounded-lg font-semibold hover:bg-primary-dark flex items-center gap-1 text-xs",children:[t.jsx(vs,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3"}),"Add"]})})]})},`addon-sub-${xe}`)})})}),he.length>1&&t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:()=>se(z=>(z-1+he.length)%he.length),className:"absolute left-0 top-1/2 -translate-y-1/2 -translate-x-2 w-8 h-8 bg-white rounded-full shadow-lg flex items-center justify-center text-gray-700 hover:text-primary z-10 border border-gray-200",children:t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),t.jsx("button",{onClick:()=>se(z=>(z+1)%he.length),className:"absolute right-0 top-1/2 -translate-y-1/2 translate-x-2 w-8 h-8 bg-white rounded-full shadow-lg flex items-center justify-center text-gray-700 hover:text-primary z-10 border border-gray-200",children:t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),he.length>1&&t.jsx("div",{className:"flex justify-center gap-1.5 mt-3",children:he.map((z,xe)=>t.jsx("button",{onClick:()=>se(xe),className:`transition-all rounded-full ${xe===q?"w-6 h-1.5 bg-primary":"w-1.5 h-1.5 bg-gray-300"}`},`indicator-${xe}`))})]}):t.jsxs("div",{className:"text-center py-8",children:[t.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-3",children:t.jsx(go,{className:"w-8 h-8 text-gray-400"})}),t.jsx("p",{className:"text-sm text-gray-500",children:"No add-on sub-services available"})]})]})]})]})})}),T.subServices&&T.subServices.length>0&&t.jsx("section",{className:"py-8 sm:py-12 bg-gradient-to-b from-gray-50 to-white",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"mb-6",children:t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary/10 to-primary/20 rounded-xl flex items-center justify-center",children:t.jsx(go,{className:"w-5 h-5 text-primary"})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Available Service Packages"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Choose from our curated service packages"})]})]})}),t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"flex gap-4 overflow-x-auto pb-4 snap-x snap-mandatory scrollbar-hide",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:T.subServices.map((z,xe)=>{var Tt,Lt;const re=p[z._id]||0,ge=re>0,pe=z.finalPrice||z.basePrice||z.price||0,ve=z.originalPrice||z.price||0,ke=ve>pe;Mn(z.icon||"FaTools");const Qe=Array.isArray(z.icon)&&z.icon.length>0?z.icon[0]:z.icon||"",ft=z.name.match(/(\d+)\s*(AC|unit|item)/i),je=ft?parseInt(ft[1]):1,Fe=pe/je;return t.jsx(E.div,{initial:{opacity:0,x:-100},whileInView:{opacity:1,x:0},viewport:{once:!0,margin:"-50px"},transition:{duration:.6,delay:xe*.15,ease:"easeOut"},className:"flex-shrink-0 w-80 sm:w-96 snap-start",children:t.jsxs("div",{className:`bg-white rounded-2xl border-2 ${ge?"border-primary shadow-xl":"border-gray-200 hover:border-primary/50"} shadow-lg hover:shadow-xl transition-all h-full flex flex-col`,children:[ft&&t.jsx("div",{className:"absolute top-0 left-0 z-10",children:t.jsxs("span",{className:"text-xs font-bold text-white bg-gray-900 px-3 py-1.5 rounded-br-lg",children:[ft[1]," ",((Tt=ft[2])==null?void 0:Tt.toUpperCase())||"UNIT"," PACK"]})}),Qe&&t.jsx("div",{className:"w-full h-48 overflow-hidden rounded-t-2xl",children:t.jsx("img",{src:Qe,alt:z.name,className:"w-full h-full object-cover",onError:ye=>{ye.target.style.display="none"}})}),t.jsxs("div",{className:"p-5 flex-1 flex flex-col",children:[t.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:z.name}),z.description&&t.jsx("p",{className:"text-xs text-gray-600 mb-3 line-clamp-2",children:z.description}),t.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[t.jsx(fc,{className:"text-yellow-400 text-sm"}),t.jsx("span",{className:"text-sm font-semibold",children:z.rating>0?z.rating.toFixed(2):"4.77"}),t.jsxs("span",{className:"text-xs text-gray-500",children:["(",((Lt=z.reviews)==null?void 0:Lt.length)||0," reviews)"]})]}),t.jsxs("div",{className:"mb-3",children:[t.jsxs("div",{className:"flex items-baseline gap-2 mb-1",children:[t.jsxs("span",{className:"text-2xl font-black text-gray-900",children:["",Math.round(pe).toLocaleString("en-IN")]}),ke&&t.jsxs("span",{className:"text-sm text-gray-500 line-through",children:["",Math.round(ve).toLocaleString("en-IN")]})]}),je>1&&t.jsxs("p",{className:"text-xs text-emerald-600 font-semibold",children:["",Math.round(Fe)," per ",(ft==null?void 0:ft[2])||"unit"]})]}),z.duration&&t.jsxs("div",{className:"flex items-center gap-1 mb-3 text-xs text-gray-600",children:[t.jsx(ei,{className:"text-xs"}),t.jsx("span",{children:z.duration})]}),z.includes&&z.includes.length>0&&t.jsxs("div",{className:"mb-4 flex-1",children:[t.jsx("p",{className:"text-xs font-bold text-gray-700 mb-2",children:"What's Included:"}),t.jsxs("ul",{className:"space-y-1",children:[z.includes.slice(0,3).map((ye,I)=>t.jsxs("li",{className:"text-xs text-gray-700 flex items-start gap-2",children:[t.jsx($e,{className:"text-green-500 text-xs mt-0.5 flex-shrink-0"}),t.jsx("span",{className:"line-clamp-1",children:ye})]},I)),z.includes.length>3&&t.jsxs("li",{className:"text-xs text-gray-500 italic",children:["+",z.includes.length-3," more"]})]})]}),t.jsx("div",{className:"mt-auto",children:ge?t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-center gap-3 bg-primary/10 rounded-xl p-2",children:[t.jsx("button",{onClick:()=>ie(z._id),className:"w-10 h-10 bg-white hover:bg-gray-100 text-gray-700 rounded-lg font-bold transition-all flex items-center justify-center shadow-sm",children:t.jsx(Dn,{})}),t.jsx("span",{className:"text-xl font-black text-primary min-w-[40px] text-center",children:re}),t.jsx("button",{onClick:()=>Y(z._id),className:"w-10 h-10 bg-primary hover:bg-primary-dark text-white rounded-lg font-bold transition-all flex items-center justify-center shadow-sm",children:t.jsx(vs,{})})]}),t.jsxs("p",{className:"text-xs text-center text-gray-600",children:["Total: ",Math.round(pe*re).toLocaleString("en-IN")]})]}):t.jsxs("button",{onClick:()=>Y(z._id),className:"w-full bg-gradient-to-r from-primary to-primary-dark text-white py-3 rounded-xl font-bold hover:shadow-lg transition-all flex items-center justify-center gap-2",children:[t.jsx(vs,{className:"w-4 h-4"}),"Add to Cart"]})})]})]})},z._id)})}),t.jsx("div",{className:"text-center mt-4",children:t.jsxs("p",{className:"text-xs text-gray-500 flex items-center justify-center gap-2",children:[t.jsx(yC,{className:"animate-pulse"}),"Scroll to see more packages"]})})]})]})}),(T.included&&T.included.length>0||T.excluded&&T.excluded.length>0)&&t.jsx("section",{className:"py-12 sm:py-16 bg-white",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[T.included&&T.included.length>0&&t.jsxs(E.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.6},className:"bg-white rounded-2xl shadow-md border border-gray-200 overflow-hidden",children:[t.jsx("div",{className:"bg-emerald-500 px-6 py-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"bg-white/20 rounded-lg p-2",children:t.jsx($e,{className:"text-white text-lg"})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold text-white",children:"What's Included"}),t.jsx("p",{className:"text-white/80 text-xs",children:"Everything you get"})]})]})}),t.jsx("div",{className:"p-6 space-y-2.5",children:T.included.map((z,xe)=>t.jsxs(E.div,{initial:{opacity:0,x:-10},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.3,delay:xe*.05},className:"flex items-center gap-3 bg-emerald-50 p-3.5 rounded-lg border border-emerald-200 hover:bg-emerald-100 transition-all group",children:[t.jsx("div",{className:"bg-emerald-500 rounded-full p-1.5 flex-shrink-0",children:t.jsx($e,{className:"text-white text-xs"})}),t.jsx("span",{className:"text-gray-800 font-medium text-sm flex-1 leading-relaxed",children:z})]},xe))})]}),T.excluded&&T.excluded.length>0&&t.jsxs(E.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.6,delay:.2},className:"bg-white rounded-2xl shadow-md border border-gray-200 overflow-hidden",children:[t.jsx("div",{className:"bg-rose-500 px-6 py-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"bg-white/20 rounded-lg p-2",children:t.jsx(Gt,{className:"text-white text-lg"})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold text-white",children:"What's Not Included"}),t.jsx("p",{className:"text-white/80 text-xs",children:"Items not covered"})]})]})}),t.jsx("div",{className:"p-6 space-y-2.5",children:T.excluded.map((z,xe)=>t.jsxs(E.div,{initial:{opacity:0,x:-10},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.3,delay:xe*.05},className:"flex items-center gap-3 bg-rose-50 p-3.5 rounded-lg border border-rose-200 hover:bg-rose-100 transition-all group",children:[t.jsx("div",{className:"bg-rose-500 rounded-full p-1.5 flex-shrink-0",children:t.jsx(Gt,{className:"text-white text-xs"})}),t.jsx("span",{className:"text-gray-800 font-medium text-sm flex-1 leading-relaxed",children:z})]},xe))})]})]})})}),T.subServices&&T.subServices.length>0&&t.jsx("section",{"data-packages-section":!0,className:"py-8 sm:py-12 bg-gradient-to-b from-white via-gray-50/30 to-white",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"grid lg:grid-cols-12 gap-6",children:[t.jsx("div",{className:"lg:col-span-8",children:t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Service Packages"}),t.jsx("p",{className:"text-gray-600",children:"Choose from our curated service packages"})]}),t.jsx("div",{className:"space-y-6",children:T.subServices.map(z=>{var Lt,ye;const xe=p[z._id]||0,re=xe>0,ge=z.finalPrice||z.basePrice||z.price||0,pe=z.originalPrice||z.price||0,ve=pe>ge,ke=Array.isArray(z.icon)&&z.icon.length>0?z.icon[0]:z.icon||"",Qe=z.name.match(/(\d+)\s*(AC|unit|item)/i),ft=Qe?parseInt(Qe[1]):1,je=ge/ft,Fe=((Lt=z.reviews)==null?void 0:Lt.length)||0,Tt=Fe>=1e6?`${(Fe/1e6).toFixed(1)}M`:Fe>=1e3?`${(Fe/1e3).toFixed(1)}K`:Fe.toString();return t.jsxs(E.div,{initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.3},className:`bg-white rounded-xl border-2 ${re?"border-primary shadow-lg":"border-gray-200 hover:border-primary/30"} overflow-hidden transition-all relative`,children:[Qe&&t.jsx("div",{className:"absolute top-0 left-0 z-10",children:t.jsxs("span",{className:"text-xs font-bold text-white bg-gray-900 px-3 py-1.5 rounded-br-lg",children:[Qe[1]," ",((ye=Qe[2])==null?void 0:ye.toUpperCase())||"UNIT"," PACK"]})}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 p-4 sm:p-5",children:[t.jsxs("div",{className:"flex-1 min-w-0 order-1",children:[t.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-2",children:z.name}),z.description&&t.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-2 sm:mb-3 line-clamp-2",children:z.description}),t.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 mb-2 sm:mb-3",children:[t.jsx(fc,{className:"text-yellow-400 text-xs sm:text-sm"}),t.jsx("span",{className:"text-xs sm:text-sm font-semibold",children:z.rating>0?z.rating.toFixed(2):"4.77"}),t.jsxs("span",{className:"text-xs text-gray-500",children:["(",Tt," reviews)"]})]}),t.jsxs("div",{className:"mb-2 sm:mb-3",children:[t.jsxs("div",{className:"flex items-baseline gap-1.5 sm:gap-2 mb-1 flex-wrap",children:[t.jsxs("span",{className:"text-xl sm:text-2xl font-black text-gray-900",children:["",Math.round(ge).toLocaleString("en-IN")]}),ve&&t.jsxs("span",{className:"text-sm sm:text-base text-gray-500 line-through",children:["",Math.round(pe).toLocaleString("en-IN")]})]}),ft>1&&t.jsxs("p",{className:"text-xs sm:text-sm text-emerald-600 font-semibold",children:["",Math.round(je)," per ",(Qe==null?void 0:Qe[2])||"unit"]})]}),z.duration&&t.jsxs("div",{className:"flex items-center gap-1 mb-2 sm:mb-3 text-xs sm:text-sm text-gray-600",children:[t.jsx(ei,{className:"text-xs"}),t.jsx("span",{children:z.duration})]}),z.includes&&z.includes.length>0&&t.jsx("ul",{className:"space-y-1 mb-2 sm:mb-3",children:z.includes.slice(0,2).map((I,ae)=>t.jsxs("li",{className:"text-xs text-gray-700 flex items-start gap-1.5 sm:gap-2",children:[t.jsx("span",{className:"text-gray-400 mt-0.5 sm:mt-1",children:""}),t.jsx("span",{className:"line-clamp-1",children:I})]},ae))}),t.jsx("button",{className:"text-xs text-primary hover:text-primary-dark font-semibold",children:"View details "})]}),ke&&t.jsx("div",{className:"flex-shrink-0 w-full sm:w-40 h-32 sm:h-40 lg:h-48 order-2 sm:order-2",children:t.jsx("img",{src:ke,alt:z.name,className:"w-full h-full object-cover rounded-lg border border-gray-200",onError:I=>{I.target.style.display="none"}})}),t.jsx("div",{className:"flex-shrink-0 flex flex-row sm:flex-col items-center justify-between sm:justify-center gap-2 order-3 sm:order-3",children:re?t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>ie(z._id),className:"w-8 h-8 sm:w-9 sm:h-9 flex items-center justify-center text-gray-700 hover:bg-gray-100 rounded-lg border border-gray-200 transition",children:t.jsx(Dn,{className:"text-xs sm:text-sm"})}),t.jsx("span",{className:"w-10 sm:w-12 text-center font-bold text-gray-900 text-base sm:text-lg",children:xe}),t.jsx("button",{onClick:()=>Y(z._id),className:"w-8 h-8 sm:w-9 sm:h-9 flex items-center justify-center text-gray-700 hover:bg-gray-100 rounded-lg border border-gray-200 transition",children:t.jsx(vs,{className:"text-xs sm:text-sm"})})]}):t.jsx("button",{onClick:()=>Y(z._id),className:"flex-1 sm:flex-none bg-primary text-white px-4 sm:px-6 py-2.5 sm:py-3 rounded-lg font-semibold hover:bg-primary-dark transition-all text-xs sm:text-sm whitespace-nowrap",children:"Add to Cart"})})]})]},z._id)})})]})}),t.jsx("div",{className:"lg:col-span-4",children:t.jsx(E.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6},className:"space-y-4 sm:space-y-6",children:t.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-md p-4 sm:p-5 lg:sticky lg:top-24",children:[t.jsxs("div",{className:"flex items-start justify-between mb-3 sm:mb-4 gap-2",children:[t.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[t.jsx(O,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary flex-shrink-0"}),t.jsx("h3",{className:"text-base sm:text-lg font-bold text-gray-900 truncate",children:T.name})]}),t.jsxs("div",{className:"flex flex-col items-end flex-shrink-0",children:[t.jsx("div",{className:"bg-green-500 text-white text-xs font-bold px-2 py-1 rounded-full",children:"Instant"}),t.jsx("span",{className:"text-xs text-gray-500 mt-0.5",children:"In 33 mins"})]})]}),T.averageRating&&t.jsxs("div",{className:"flex items-center gap-1 text-xs sm:text-sm mb-3 sm:mb-4 p-2 bg-yellow-50 rounded-lg border border-yellow-100",children:[t.jsx(fc,{className:"text-yellow-500 fill-yellow-500 text-xs sm:text-sm"}),t.jsx("span",{className:"font-bold text-gray-900",children:T.averageRating}),t.jsxs("span",{className:"text-gray-600 text-xs",children:["(",(T.totalReviews||0).toLocaleString("en-IN")," reviews)"]})]}),t.jsxs("div",{className:"pt-3 sm:pt-4 border-t border-gray-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2 sm:mb-3",children:[t.jsx("h3",{className:"text-xs sm:text-sm font-bold text-gray-900",children:"Nexo Promise"}),t.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-primary/10 rounded-full flex items-center justify-center border-2 border-primary/20 flex-shrink-0",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-xs font-bold text-primary leading-tight",children:"QUALITY"}),t.jsx("div",{className:"text-xs font-bold text-primary leading-tight",children:"ASSURED"})]})})]}),t.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[t.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[t.jsx($e,{className:"text-green-500 text-xs flex-shrink-0"}),t.jsx("span",{className:"text-xs text-gray-700",children:"Verified Professionals"})]}),t.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[t.jsx($e,{className:"text-green-500 text-xs flex-shrink-0"}),t.jsx("span",{className:"text-xs text-gray-700",children:"Hassle Free Booking"})]}),t.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[t.jsx($e,{className:"text-green-500 text-xs flex-shrink-0"}),t.jsx("span",{className:"text-xs text-gray-700",children:"Transparent Pricing"})]})]})]})]})})})]})})}),T.reviews&&T.reviews.length>0&&t.jsx("section",{className:"py-12 sm:py-16 bg-gray-50",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.6},children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-3",children:"What Our Customers Say"}),T.averageRating&&t.jsxs("div",{className:"flex items-center justify-center gap-4 mb-4",children:[t.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((z,xe)=>t.jsx(fc,{className:`w-6 h-6 sm:w-7 sm:h-7 ${xe<Math.floor(T.averageRating)?"text-yellow-400":xe<T.averageRating?"text-yellow-300":"text-gray-300"}`},xe))}),t.jsxs("div",{className:"text-left",children:[t.jsx("p",{className:"text-3xl sm:text-4xl font-black text-gray-900",children:T.averageRating}),t.jsxs("p",{className:"text-sm text-gray-600",children:["Based on ",T.totalReviews," reviews"]})]})]})]}),t.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-4",children:T.reviews.slice(0,6).map((z,xe)=>{var re,ge;return t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-50px"},transition:{duration:.5,delay:xe*.1},whileHover:{y:-4,scale:1.02},className:"bg-white p-4 rounded-xl shadow-md border border-gray-100 hover:shadow-lg transition-all group",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[t.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((pe,ve)=>t.jsx(fc,{className:`w-4 h-4 ${ve<z.rating?"text-yellow-400":"text-gray-300"}`},ve))}),t.jsxs("span",{className:"text-xs font-bold text-gray-600 ml-1",children:[z.rating,"/5"]})]}),t.jsx("p",{className:"text-gray-700 mb-3 text-sm leading-relaxed line-clamp-3",children:z.comment}),t.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-100",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-primary to-primary-dark rounded-full flex items-center justify-center text-white font-bold text-xs",children:(((re=z.user)==null?void 0:re.name)||"A")[0].toUpperCase()}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs font-bold text-gray-900",children:((ge=z.user)==null?void 0:ge.name)||"Anonymous"}),t.jsx("p",{className:"text-xs text-gray-500",children:"Verified Customer"})]})]}),t.jsx("span",{className:"text-xs text-gray-400",children:new Date(z.createdAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]})]},z._id||xe)})})]})})}),Object.keys(p).length>0&&t.jsx("section",{id:"price-breakdown",className:"py-12 sm:py-16 bg-white",children:t.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.6},children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-3",children:"Price Breakdown"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Transparent pricing for selected packages"})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 mb-6 overflow-hidden",children:t.jsx("div",{className:"divide-y divide-gray-100",children:T.subServices.filter(z=>p[z._id]>0).map(z=>{const xe=p[z._id],re=z.finalPrice||z.basePrice||z.price||0,ge=z.originalPrice||z.price||0,pe=ge*xe,ve=re*xe,ke=(ge-re)*xe,Qe=z.gst||0,ft=ve*Qe/100;return t.jsxs("div",{className:"px-6 py-4 space-y-2 border-b border-gray-100 last:border-b-0",children:[t.jsxs("div",{className:"font-semibold text-gray-900 mb-2",children:[z.name," (Qty: ",xe,")"]}),t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-600",children:"Base Price"}),t.jsxs("span",{className:"text-gray-900",children:["",Math.round(pe)]})]}),ke>0&&t.jsxs("div",{className:"flex items-center justify-between text-sm text-green-600",children:[t.jsxs("span",{children:["Discount (",z.discount||0,"%)"]}),t.jsxs("span",{children:["-",Math.round(ke)]})]}),t.jsxs("div",{className:"flex items-center justify-between text-sm font-medium pt-1 border-t border-gray-100",children:[t.jsx("span",{className:"text-gray-700",children:"Subtotal"}),t.jsxs("span",{className:"text-gray-900",children:["",Math.round(ve)]})]}),Qe>0&&t.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[t.jsxs("span",{children:["GST (",Qe,"%)"]}),t.jsxs("span",{children:["+",Math.round(ft)]})]}),t.jsxs("div",{className:"flex items-center justify-between text-base font-bold pt-2 border-t-2 border-gray-200",children:[t.jsx("span",{className:"text-gray-900",children:"Total"}),t.jsxs("span",{className:"text-primary",children:["",Math.round(ve+ft)]})]})]},z._id)})})}),t.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 mb-8",children:t.jsx("div",{className:"px-6 py-5",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-1",children:"Total Amount Payable"}),t.jsx("p",{className:"text-xs text-gray-500",children:"Inclusive of all taxes & charges"})]}),t.jsx("div",{className:"text-right",children:t.jsxs("div",{className:"flex items-baseline gap-1",children:[t.jsx("span",{className:"text-base font-semibold text-gray-600",children:""}),t.jsx("span",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:(()=>{let z=0;return T.subServices.filter(xe=>p[xe._id]>0).forEach(xe=>{const re=p[xe._id],pe=(xe.finalPrice||xe.basePrice||xe.price||0)*re,ve=xe.gst||0;z+=pe+pe*ve/100}),Math.round(z).toLocaleString("en-IN")})()})]})})]})})}),t.jsxs("div",{className:"text-center mt-8",children:[t.jsxs("button",{onClick:s,className:"bg-[#25D366] text-white px-10 py-4 rounded-lg text-base font-bold shadow-md hover:shadow-lg transition-all duration-300 flex items-center gap-2 mx-auto w-full sm:w-auto justify-center min-h-[48px]","aria-label":"Book this service on WhatsApp",children:[t.jsx(yr,{className:"w-5 h-5"}),t.jsx("span",{children:"Book Selected Packages"})]}),t.jsx("p",{className:"text-xs text-gray-500 mt-3",children:"Click to book via WhatsApp"})]})]})})}),c.length>0&&t.jsx("section",{className:"py-12 sm:py-16 bg-gray-50",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.6},children:[t.jsxs("div",{className:"text-center mb-10",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-3",children:"Explore Other Popular Services"}),t.jsx("p",{className:"text-base text-gray-600",children:"Discover more services we offer"})]}),t.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map((z,xe)=>{const re=z.icon||fa;return t.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:xe*.1},whileHover:{y:-4,scale:1.02},onClick:()=>r(`/service/${z.slug}`),className:"bg-white p-5 rounded-xl border-2 border-gray-100 cursor-pointer hover:border-primary/40 hover:shadow-lg transition-all group",children:t.jsxs("div",{className:"text-center",children:[t.jsx(E.div,{whileHover:{rotate:360,scale:1.1},transition:{duration:.6},className:"inline-block mb-4",children:t.jsx("div",{className:"bg-gradient-to-br from-primary/10 to-primary/20 rounded-xl p-4 group-hover:from-primary/20 group-hover:to-primary/30 transition-all",children:t.jsx(re,{className:"w-10 h-10 sm:w-12 sm:h-12 text-primary"})})}),t.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2 group-hover:text-primary transition-colors",children:z.name}),z.description&&t.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2 min-h-[2.5rem]",children:z.description}),t.jsxs(E.div,{whileHover:{x:5},className:"mt-4 inline-flex items-center gap-2 bg-primary/10 text-primary font-bold px-4 py-2 rounded-full group-hover:bg-primary group-hover:text-white transition-all text-sm",children:["View Details",t.jsx("span",{className:"text-base",children:""})]})]})},z._id||xe)})})]})})}),t.jsxs("section",{className:"py-12 sm:py-16 bg-gradient-to-br from-primary via-primary-dark to-primary text-white relative overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 opacity-10",children:t.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.1'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`,backgroundRepeat:"repeat"}})}),t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.6},children:[t.jsxs("div",{className:"text-center mb-6",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold mb-2",children:"Why Book on WhatsApp"}),t.jsx("p",{className:"text-base text-white/90",children:"Experience the easiest way to book services"})]}),t.jsxs("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.1},className:"bg-white/10 backdrop-blur-md p-4 rounded-xl border border-white/20 hover:bg-white/20 transition-all text-center",children:[t.jsx("div",{className:"bg-yellow-400/20 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-3",children:t.jsx(Nl,{className:"text-xl text-yellow-300"})}),t.jsx("h3",{className:"text-base font-bold mb-1",children:"Instant Response"}),t.jsx("p",{className:"text-xs text-white/80",children:"Get immediate confirmation"})]}),t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.2},className:"bg-white/10 backdrop-blur-md p-4 rounded-xl border border-white/20 hover:bg-white/20 transition-all text-center",children:[t.jsx("div",{className:"bg-green-400/20 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-3",children:t.jsx(Ua,{className:"text-xl text-green-300"})}),t.jsx("h3",{className:"text-base font-bold mb-1",children:"Verified Experts"}),t.jsx("p",{className:"text-xs text-white/80",children:"Background-checked professionals"})]}),t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.3},className:"bg-white/10 backdrop-blur-md p-4 rounded-xl border border-white/20 hover:bg-white/20 transition-all text-center",children:[t.jsx("div",{className:"bg-blue-400/20 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-3",children:t.jsx(Qo,{className:"text-xl text-blue-300"})}),t.jsx("h3",{className:"text-base font-bold mb-1",children:"Pay After Service"}),t.jsx("p",{className:"text-xs text-white/80",children:"No upfront payment required"})]}),t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.4},className:"bg-white/10 backdrop-blur-md p-4 rounded-xl border border-white/20 hover:bg-white/20 transition-all text-center",children:[t.jsx("div",{className:"bg-purple-400/20 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-3",children:t.jsx(go,{className:"text-xl text-purple-300"})}),t.jsx("h3",{className:"text-base font-bold mb-1",children:"Full Transparency"}),t.jsx("p",{className:"text-xs text-white/80",children:"Clear pricing & terms"})]})]}),t.jsx("div",{className:"text-center",children:t.jsxs(E.button,{onClick:s,whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"bg-[#25D366] text-white px-8 py-4 rounded-full text-base font-bold hover:bg-[#20BA5A] transition-all duration-300 shadow-xl hover:shadow-[#25D366]/50 flex items-center gap-2 mx-auto",children:[t.jsx(yr,{className:"w-5 h-5"}),"Book Now on WhatsApp"]})})]})})]}),t.jsx("section",{className:"py-8 bg-white",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:t.jsx(Ut,{to:"/#services",className:"inline-flex items-center text-primary hover:text-primary-dark font-semibold text-base sm:text-lg transition-colors",children:" Back to All Services"})})})]}),v&&t.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"modal-overlay addon-modal",style:{zIndex:9100},onClick:()=>N(null),children:t.jsxs("div",{className:"relative max-w-3xl w-full",children:[t.jsx("button",{onClick:z=>{z.stopPropagation(),N(null)},className:"absolute -top-12 right-0 w-10 h-10 flex items-center justify-center bg-white hover:bg-gray-100 rounded-full transition-all text-gray-600 hover:text-gray-900 shadow-lg z-[9998]","aria-label":"Close modal",children:t.jsx(Gt,{className:"text-xl"})}),t.jsxs(E.div,{initial:{scale:.95,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:20},transition:{type:"spring",damping:25,stiffness:300},onClick:z=>z.stopPropagation(),className:"bg-white rounded-2xl shadow-2xl w-full max-h-[85vh] overflow-hidden flex flex-col",children:[t.jsx("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-4 py-4 z-20",children:t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"flex justify-center mb-3",children:t.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-primary to-primary-dark rounded-xl flex items-center justify-center shadow-md",children:_t.createElement(Mn(v.addon.icon||"FaTools"),{className:"text-white text-xl"})})}),t.jsx("h2",{className:"text-xl font-bold text-gray-900 text-center mb-2",children:v.addon.name}),v.addon.description&&t.jsx("p",{className:"text-sm text-gray-600 text-center leading-relaxed mb-4",children:v.addon.description}),(()=>{const z=b[v.index]||0,xe=z>0;return t.jsx("button",{onClick:()=>{xe||Ge(v.index),N(null)},className:`w-full px-3 py-2 rounded-lg font-medium transition-all text-sm flex items-center justify-center gap-2 ${xe?"bg-green-500 text-white hover:bg-green-600 cursor-default":"bg-primary text-white hover:bg-primary-dark"}`,children:xe?t.jsxs(t.Fragment,{children:[t.jsx($e,{className:"text-sm"}),t.jsxs("span",{children:["Already in Cart (",z,")"]})]}):t.jsxs(t.Fragment,{children:[t.jsx(Li,{className:"text-sm"}),t.jsx("span",{children:"Add to Cart"})]})})})()]})}),t.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-4 space-y-4",children:[v.addon.subServices&&v.addon.subServices.length>0&&t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-3 pb-2 border-b border-gray-200",children:[t.jsx(go,{className:"text-primary text-base"}),t.jsx("h3",{className:"text-base font-semibold text-gray-900",children:"Sub-Services"}),t.jsxs("span",{className:"text-xs text-gray-500 ml-auto",children:["(",v.addon.subServices.length,")"]})]}),t.jsx("div",{className:"grid sm:grid-cols-2 gap-3 max-h-[280px] overflow-y-auto custom-scrollbar",children:v.addon.subServices.map((z,xe)=>{const re=Mn(z.icon||"FaTools"),ge=`${v.index}-${xe}`,pe=w[ge]||0,ve=pe>0;return t.jsxs("div",{className:`bg-white p-3 rounded-lg border transition-all ${ve?"border-primary bg-primary/5":"border-gray-200 hover:border-primary/30"}`,children:[t.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[t.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center flex-shrink-0 ${ve?"bg-primary text-white":"bg-primary/10 text-primary"}`,children:t.jsx(re,{className:"w-4 h-4"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-1 line-clamp-1",children:z.name}),t.jsx("p",{className:"text-sm font-bold text-primary",children:z.price}),ve&&t.jsxs("span",{className:"text-xs text-primary font-medium",children:["(",pe," in cart)"]})]})]}),ve?t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx("button",{onClick:ke=>{ke.stopPropagation(),de(v.index,xe)},className:"bg-gray-100 text-gray-700 px-2 py-1 rounded-md hover:bg-gray-200 transition-all text-xs flex items-center justify-center min-w-[28px]","aria-label":"Decrease",children:t.jsx(Dn,{className:"text-xs"})}),t.jsx("div",{className:"bg-primary text-white px-3 py-1 rounded-md font-semibold text-sm min-w-[2rem] text-center",children:pe}),t.jsx("button",{onClick:ke=>{ke.stopPropagation(),me(v.index,xe)},className:"bg-primary text-white px-2 py-1 rounded-md hover:bg-primary-dark transition-all text-xs flex items-center justify-center min-w-[28px]","aria-label":"Increase",children:t.jsx(vs,{className:"text-xs"})})]}):t.jsxs("button",{onClick:ke=>{ke.stopPropagation(),me(v.index,xe)},className:"w-full bg-primary text-white px-3 py-1.5 rounded-md font-medium text-xs hover:bg-primary-dark transition-all flex items-center justify-center gap-1",children:[t.jsx(vs,{className:"text-xs"}),t.jsx("span",{children:"Add"})]})]},xe)})})]}),(()=>{const z=U(v.addon),xe=b[v.index]||0;return t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("h3",{className:"text-base font-semibold text-gray-900 flex items-center gap-2",children:[t.jsx(Ad,{className:"text-primary"}),t.jsx("span",{children:"Price Breakdown"})]}),xe>0&&t.jsxs("span",{className:"bg-primary text-white text-xs font-semibold px-2 py-1 rounded-full",children:[xe," in cart"]})]}),t.jsxs("div",{className:"space-y-2 bg-white rounded-lg p-3 border border-gray-100 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"Base Price:"}),t.jsxs("span",{className:"font-semibold text-gray-900",children:["",Math.round(z.basePrice).toLocaleString("en-IN")]})]}),z.discount>0&&t.jsxs("div",{className:"flex justify-between bg-green-50 rounded px-2 py-1",children:[t.jsxs("span",{className:"text-green-700 font-medium flex items-center gap-1",children:[t.jsx(NX,{className:"text-xs"}),"Discount (",z.discount,"%):"]}),t.jsxs("span",{className:"font-semibold text-green-700",children:["-",Math.round(z.discountAmount).toLocaleString("en-IN")]})]}),z.serviceCharge>0&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"Service Charge:"}),t.jsxs("span",{className:"font-semibold text-gray-900",children:["+",Math.round(z.serviceCharge).toLocaleString("en-IN")]})]}),(z.cgst>0||z.sgst>0)&&t.jsxs("div",{className:"flex justify-between",children:[t.jsxs("span",{className:"text-gray-600",children:["GST (",z.cgst+z.sgst,"%):"]}),t.jsxs("span",{className:"font-semibold text-gray-900",children:["+",Math.round(z.gstAmount).toLocaleString("en-IN")]})]}),t.jsxs("div",{className:"flex justify-between pt-2 mt-2 border-t border-gray-200",children:[t.jsx("span",{className:"font-bold text-gray-900",children:"Total:"}),t.jsxs("span",{className:"text-xl font-black text-primary",children:["",Math.round(z.finalPrice).toLocaleString("en-IN")]})]})]})]})})(),v.addon.included&&v.addon.included.length>0||v.addon.excluded&&v.addon.excluded.length>0?t.jsxs("div",{className:"grid md:grid-cols-2 gap-3",children:[v.addon.included&&v.addon.included.length>0&&t.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[t.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[t.jsx($e,{className:"text-green-500 text-sm"}),t.jsx("span",{children:"Included"})]}),t.jsx("ul",{className:"space-y-1.5",children:v.addon.included.map((z,xe)=>t.jsxs("li",{className:"flex items-start gap-2 text-xs text-gray-700",children:[t.jsx($e,{className:"text-green-500 text-xs mt-0.5 flex-shrink-0"}),t.jsx("span",{className:"flex-1",children:z})]},xe))})]}),v.addon.excluded&&v.addon.excluded.length>0&&t.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[t.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[t.jsx(Gt,{className:"text-red-500 text-sm"}),t.jsx("span",{children:"Not Included"})]}),t.jsx("ul",{className:"space-y-1.5",children:v.addon.excluded.map((z,xe)=>t.jsxs("li",{className:"flex items-start gap-2 text-xs text-gray-700",children:[t.jsx(Gt,{className:"text-red-500 text-xs mt-0.5 flex-shrink-0"}),t.jsx("span",{className:"flex-1",children:z})]},xe))})]})]}):null]})]})]})}),S&&t.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"modal-overlay cart-modal",style:{zIndex:9200},onClick:()=>k(!1),children:t.jsxs(E.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:z=>z.stopPropagation(),className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[t.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-primary via-primary-dark to-primary px-6 py-5 flex items-center justify-between z-20",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center",children:t.jsx(Li,{className:"text-white text-xl"})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-white",children:"Shopping Cart"}),t.jsxs("p",{className:"text-white/90 text-sm",children:[B()," items"]})]})]}),t.jsx("button",{onClick:()=>k(!1),className:"w-10 h-10 flex items-center justify-center bg-white/20 hover:bg-white/30 rounded-lg transition text-white",children:t.jsx(Gt,{className:"text-xl"})})]}),t.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:B()===0?t.jsxs("div",{className:"text-center py-16",children:[t.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-gray-100 to-gray-200 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(Li,{className:"w-12 h-12 text-gray-400"})}),t.jsx("p",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Your cart is empty"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Add services to get started"})]}):t.jsxs(t.Fragment,{children:[T.subServices&&T.subServices.filter(z=>p[z._id]>0).map(z=>{const xe=p[z._id],re=z.finalPrice||z.basePrice||z.price||0,ge=z.originalPrice||z.price||0,pe=ge>re,ve=Mn(z.icon||"FaTools");return t.jsx(E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-gray-50 to-white border-2 border-gray-200 rounded-xl p-4 hover:shadow-lg transition-all",children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-xl flex items-center justify-center flex-shrink-0",children:t.jsx(ve,{className:"w-6 h-6 text-primary"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h4",{className:"text-base font-bold text-gray-900 mb-1",children:z.name}),z.description&&t.jsx("p",{className:"text-xs text-gray-600 mb-2 line-clamp-2",children:z.description}),t.jsxs("div",{className:"flex items-center justify-between mt-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>ie(z._id),className:"w-8 h-8 flex items-center justify-center bg-gray-100 hover:bg-gray-200 rounded-lg transition",children:t.jsx(Dn,{className:"text-xs text-gray-700"})}),t.jsx("span",{className:"w-12 text-center font-bold text-sm text-gray-900",children:xe}),t.jsx("button",{onClick:()=>Y(z._id),className:"w-8 h-8 flex items-center justify-center bg-primary/10 hover:bg-primary/20 rounded-lg transition",children:t.jsx(vs,{className:"text-xs text-primary"})})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:"text-lg font-black text-primary",children:["",Math.round(re*xe).toLocaleString("en-IN")]}),pe&&t.jsxs("p",{className:"text-xs text-gray-400 line-through",children:["",Math.round(ge*xe).toLocaleString("en-IN")]})]})]})]})]})},`sub-${z._id}`)}),T.addOns&&T.addOns.map((z,xe)=>{const re=b[xe]||0;if(re===0)return null;const ge=U(z),pe=Mn(z.icon||"FaTools");return t.jsx(E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-primary/5 to-primary/10 border-2 border-primary/20 rounded-xl p-4 hover:shadow-lg transition-all",children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary to-primary-dark rounded-xl flex items-center justify-center flex-shrink-0 shadow-md",children:t.jsx(pe,{className:"w-6 h-6 text-white"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h4",{className:"text-base font-bold text-gray-900 mb-1",children:z.name}),z.description&&t.jsx("p",{className:"text-xs text-gray-600 mb-2 line-clamp-2",children:z.description}),t.jsxs("div",{className:"flex items-center justify-between mt-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>Me(xe),className:"w-8 h-8 flex items-center justify-center bg-white hover:bg-gray-100 rounded-lg transition border border-primary/20",children:t.jsx(Dn,{className:"text-xs text-gray-700"})}),t.jsx("span",{className:"w-12 text-center font-bold text-sm text-primary",children:re}),t.jsx("button",{onClick:()=>Ge(xe),className:"w-8 h-8 flex items-center justify-center bg-primary hover:bg-primary-dark rounded-lg transition text-white",children:t.jsx(vs,{className:"text-xs"})})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:"text-lg font-black text-primary",children:["",Math.round(ge.finalPrice*re).toLocaleString("en-IN")]}),ge.originalTotalPrice>0&&ge.originalTotalPrice!==ge.finalPrice&&t.jsxs("p",{className:"text-xs text-gray-400 line-through",children:["",Math.round(ge.originalTotalPrice*re).toLocaleString("en-IN")]})]})]})]})]})},`addon-${xe}`)}).filter(z=>z!==null),T.addOns&&T.addOns.map((z,xe)=>{var ge;const re=((ge=z.subServices)==null?void 0:ge.filter((pe,ve)=>{const ke=`${xe}-${ve}`;return w[ke]>0}))||[];return re.length===0?null:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx("div",{className:"h-px flex-1 bg-gradient-to-r from-transparent via-primary/30 to-transparent"}),t.jsxs("span",{className:"text-xs font-bold text-primary uppercase tracking-wide px-3",children:[z.name," - Sub Services"]}),t.jsx("div",{className:"h-px flex-1 bg-gradient-to-r from-transparent via-primary/30 to-transparent"})]}),re.map((pe,ve)=>{const ke=`${xe}-${ve}`,Qe=w[ke]||0;if(Qe===0)return null;const ft=pe.price||"0",je=parseFloat(ft.replace(/[,\s]/g,""))||0,Fe=Mn(pe.icon||"FaTools");return t.jsx(E.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"bg-gradient-to-br from-primary/5 to-white border-2 border-primary/10 rounded-xl p-4 hover:shadow-md transition-all ml-4",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center flex-shrink-0",children:t.jsx(Fe,{className:"w-5 h-5 text-primary"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h5",{className:"text-sm font-bold text-gray-900 mb-1",children:pe.name}),pe.shortDescription&&t.jsx("p",{className:"text-xs text-gray-600 mb-2",children:pe.shortDescription}),t.jsxs("div",{className:"flex items-center justify-between mt-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>de(xe,ve),className:"w-7 h-7 flex items-center justify-center bg-gray-100 hover:bg-gray-200 rounded-lg transition",children:t.jsx(Dn,{className:"text-xs text-gray-700"})}),t.jsx("span",{className:"w-10 text-center font-bold text-xs text-gray-900",children:Qe}),t.jsx("button",{onClick:()=>me(xe,ve),className:"w-7 h-7 flex items-center justify-center bg-primary/10 hover:bg-primary/20 rounded-lg transition",children:t.jsx(vs,{className:"text-xs text-primary"})})]}),t.jsxs("p",{className:"text-base font-black text-primary",children:["",Math.round(je*Qe).toLocaleString("en-IN")]})]})]})]})},ke)})]},`addon-subservices-${xe}`)})]})}),B()>0&&t.jsxs("div",{className:"border-t-2 border-gray-200 bg-gradient-to-br from-gray-50 to-white p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("span",{className:"text-lg font-bold text-gray-900",children:"Grand Total"}),t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:"text-3xl font-black text-primary",children:["",Math.round(H()).toLocaleString("en-IN")]}),t.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[B()," items"]})]})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:()=>k(!1),className:"flex-1 px-6 py-3.5 bg-gray-100 text-gray-700 rounded-xl font-bold hover:bg-gray-200 transition-all",children:"Continue Shopping"}),D()?t.jsxs("button",{onClick:()=>{k(!1),Ye()},className:"flex-1 bg-gradient-to-r from-primary to-primary-dark text-white px-6 py-3.5 rounded-xl font-bold hover:shadow-xl transition-all flex items-center justify-center gap-2 shadow-lg",children:[t.jsx(Li,{className:"w-5 h-5"}),t.jsx("span",{children:"Book Now"})]}):t.jsxs("div",{className:"flex-1 bg-gray-400 text-white px-6 py-3.5 rounded-xl font-bold flex items-center justify-center gap-2 shadow-lg cursor-not-allowed",children:[t.jsx(Gt,{className:"w-5 h-5"}),t.jsxs("span",{children:["Not Available in ",(C==null?void 0:C.name)||"Your City"]})]})]})]})]})})]})},mj=({isOpen:e,onClose:r,type:s="info",title:a,message:n,confirmText:i="OK",onConfirm:l,showCancel:o=!1,cancelText:c="Cancel"})=>{const d={success:t.jsx($e,{className:"w-12 h-12 text-green-500"}),error:t.jsx(Gt,{className:"w-12 h-12 text-red-500"}),warning:t.jsx(nd,{className:"w-12 h-12 text-yellow-500"}),info:t.jsx(Vp,{className:"w-12 h-12 text-blue-500"})},u={success:"from-green-500 to-green-600",error:"from-red-500 to-red-600",warning:"from-yellow-500 to-yellow-600",info:"from-primary to-primary-dark"},m=()=>{l&&l(),r()};return t.jsx(wl,{children:e&&t.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 custom-alert",onClick:r,children:t.jsxs(E.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},transition:{type:"spring",duration:.5},className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-hidden flex flex-col",onClick:x=>x.stopPropagation(),children:[t.jsxs("div",{className:`bg-gradient-to-r ${u[s]} p-6 relative`,children:[t.jsx("button",{onClick:r,className:"absolute top-4 right-4 text-white/80 hover:text-white transition",children:t.jsx(Rl,{className:"w-5 h-5"})}),t.jsxs("div",{className:"flex flex-col items-center text-white",children:[t.jsx(E.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"mb-3",children:d[s]}),a&&t.jsx("h3",{className:"text-xl font-bold text-center",children:a})]})]}),t.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:t.jsx("div",{className:"text-gray-700 leading-relaxed",children:typeof n=="string"?t.jsx("p",{className:"text-center",children:n}):n})}),t.jsx("div",{className:"flex-shrink-0 px-6 pb-6 border-t border-gray-100",children:o?t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:r,className:"flex-1 bg-slate-200 text-slate-700 py-3 rounded-xl font-bold hover:bg-slate-300 transition transform hover:scale-105",children:c}),t.jsx("button",{onClick:m,className:`flex-1 bg-gradient-to-r ${u[s]} text-white py-3 rounded-xl font-bold hover:shadow-lg transition transform hover:scale-105`,children:i})]}):t.jsx("button",{onClick:m,className:`w-full bg-gradient-to-r ${u[s]} text-white py-3 rounded-xl font-bold hover:shadow-lg transition transform hover:scale-105`,children:i})})]})})})},mo="https://nexo.works",IQ=()=>{var Fe,Tt,Lt;const e=Qt(),r=Br(),{serviceName:s}=xm(),{user:a,isAuthenticated:n}=an(),i=()=>{var ae;const ye=(ae=r.state)==null?void 0:ae.cartData;if(ye)return sessionStorage.setItem("checkoutCartData",JSON.stringify(ye)),ye;const I=sessionStorage.getItem("checkoutCartData");return I?JSON.parse(I):{}},l=()=>{var ae;const ye=(ae=r.state)==null?void 0:ae.serviceData;if(ye)return sessionStorage.setItem("checkoutServiceData",JSON.stringify(ye)),ye;const I=sessionStorage.getItem("checkoutServiceData");return I?JSON.parse(I):{}},[o]=g.useState(i()),[c]=g.useState(l()),[d,u]=g.useState(!1),[m,x]=g.useState([]),[h,p]=g.useState(null),[f,b]=g.useState(!1),[j,w]=g.useState(!1),[y,v]=g.useState({isOpen:!1,type:"info",title:"",message:""}),[N,S]=g.useState(0),[k,C]=g.useState(!1),[P,_]=g.useState(0),[A,D]=g.useState(""),[F,X]=g.useState(!1),[ce,he]=g.useState(!1),[L,q]=g.useState([]),[se,R]=g.useState(null),[T,O]=g.useState(!1),[K,U]=g.useState({isOpen:!1,plan:null,addressData:null}),ee=()=>{const ye=sessionStorage.getItem("checkoutFormData");return ye?JSON.parse(ye):{name:(a==null?void 0:a.name)||"",email:(a==null?void 0:a.email)||"",phone:(a==null?void 0:a.phone)||"",bookingDate:"",bookingTime:"",address:"",landmark:"",pincode:"",specialInstructions:""}},[M,H]=g.useState(ee());g.useEffect(()=>{n&&a&&(B(),Y(),ie())},[n,a]),g.useEffect(()=>{a&&!M.name&&!M.email&&!M.phone&&H(ye=>{const I={...ye,name:ye.name||a.name||"",email:ye.email||a.email||"",phone:ye.phone||a.phone||""};return sessionStorage.setItem("checkoutFormData",JSON.stringify(I)),I})},[a]),g.useEffect(()=>()=>{performance.navigation.type!==1&&(sessionStorage.removeItem("checkoutCartData"),sessionStorage.removeItem("checkoutServiceData"),sessionStorage.removeItem("checkoutFormData"))},[]);const B=async()=>{try{const ye=localStorage.getItem("userToken"),I=await Pt.get(`${mo}/api/user/addresses`,{headers:{Authorization:`Bearer ${ye}`}});if(I.data.success){x(I.data.data||[]);const ae=sessionStorage.getItem("checkoutFormData"),Ce=ae&&JSON.parse(ae).address;if(I.data.data&&I.data.data.length>0&&!Ce){const We=I.data.data[0];p(We),H(At=>{const pt={...At,address:We.address||"",landmark:We.landmark||"",pincode:We.pincode||""};return sessionStorage.setItem("checkoutFormData",JSON.stringify(pt)),pt})}}}catch(ye){console.error("Error fetching addresses:",ye)}},Y=async()=>{var ye;try{const I=localStorage.getItem("userToken");console.log(" Fetching wallet balance for user:",a._id),console.log(" API URL:",`${mo}/api/user/wallet/${a._id}`);const ae=await Pt.get(`${mo}/api/user/wallet/${a._id}`,{headers:{Authorization:`Bearer ${I}`}});if(console.log(" Wallet response:",ae.data),ae.data.success){const Ce=ae.data.data.balance||0;console.log(" Wallet balance:",Ce),S(Ce)}else console.warn(" Wallet fetch unsuccessful:",ae.data),S(0)}catch(I){console.error(" Error fetching wallet balance:",I),console.error(" Error details:",(ye=I.response)==null?void 0:ye.data),S(0)}},ie=async()=>{try{O(!0);const I=await(await fetch(`${mo}/api/amc-plans`)).json();if(I.success&&I.data){const ae=me(I.data);q(ae)}}catch(ye){console.error("Error fetching AMC plans:",ye)}finally{O(!1)}},me=ye=>{if(!a)return ye.slice(0,2);const I=a.userType||"home";return ye.filter(Ce=>I==="company"?Ce.planType==="business"||Ce.planType==="corporate":I==="pg"?Ce.planType==="business"||Ce.planType==="individual":Ce.planType==="individual"||Ce.planType==="business").slice(0,3)},de=()=>{var ae,Ce;const ye=pe();if(ye<500||(ae=a==null?void 0:a.amcSubscription)!=null&&ae.isActive)return!1;if((a==null?void 0:a.userType)==="company"||ye>1e3)return!0;const I=((Ce=c==null?void 0:c.name)==null?void 0:Ce.toLowerCase())||"";return I.includes("ac")||I.includes("electrical")||I.includes("plumbing"),!0},Ge=ye=>{const I=pe();if(!I||I===0)return 0;const Ce=I*4-ye.price;return Math.max(0,Ce)},Me=ye=>{R(ye)},it=async ye=>{var At,pt,dt,fe,V,oe,Ue,Je;console.log(" Form Data:",M),console.log(" Selected Address:",h);const I=[],ae=((At=M.pincode)==null?void 0:At.trim())||((pt=h==null?void 0:h.pincode)==null?void 0:pt.trim())||"",Ce=((dt=M.address)==null?void 0:dt.trim())||((fe=h==null?void 0:h.address)==null?void 0:fe.trim())||"",We=((V=M.landmark)==null?void 0:V.trim())||((oe=h==null?void 0:h.landmark)==null?void 0:oe.trim())||"";if((Ue=M.name)!=null&&Ue.trim()||I.push("Name"),(Je=M.phone)!=null&&Je.trim()||I.push("Phone Number"),Ce||I.push("Service Address"),ae||I.push("Pincode"),I.length>0){re("warning","Missing Information",`Please fill in the following fields before subscribing to AMC plan: ${I.join(", ")}`);return}if(!h&&!M.address){re("warning","Address Required","Please select or add a complete service address before subscribing to AMC plan");return}if(!n||!a){re("error","Authentication Required","Please login to subscribe to AMC plans");return}U({isOpen:!0,plan:ye,addressData:{address:Ce,landmark:We,pincode:ae,customerName:M.name,customerPhone:M.phone,customerEmail:M.email}})},Ye=async()=>{var ae,Ce,We,At,pt;const{plan:ye,addressData:I}=K;U({isOpen:!1,plan:null,addressData:null}),u(!0);try{const dt=localStorage.getItem("userToken"),fe={userId:a._id,serviceName:"AMC Subscription",serviceData:{name:`${ye.name} - AMC Plan`,description:ye.description||"Annual Maintenance Contract",price:ye.price},cartData:{items:[{type:"amc-plan",id:ye._id,name:ye.name,quantity:1,price:ye.price,total:ye.price}],total:ye.price},customerDetails:{name:I.customerName,email:I.customerEmail,phone:I.customerPhone},address:{address:I.address,landmark:I.landmark,pincode:I.pincode},scheduledDate:new Date().toISOString().split("T")[0],scheduledTime:"10:00 AM",specialInstructions:`AMC Plan Subscription: ${ye.name}. Address: ${I.address}, ${I.landmark}, ${I.pincode}. Plan Features: ${((ae=ye.features)==null?void 0:ae.join(", "))||"Standard AMC benefits"}`,amount:ye.price,useWallet:!1,walletAmount:0,isAMCSubscription:!0,amcPlanDetails:{planId:ye._id,planName:ye.name,planType:ye.planType,duration:ye.duration||12,features:ye.features||[],includedServices:ye.includedServices||[]}},V=await Pt.post(`${mo}/api/user/service-booking/create`,fe,{headers:{Authorization:`Bearer ${dt}`}});if(V.data.success){console.log(" AMC subscription order created, initiating PayU payment..."),console.log("PayU Data:",V.data.payuData);const oe=V.data.payuData;if(!oe||!oe.action||!oe.params){console.error(" Invalid PayU data received:",oe),re("error","Payment Error","Invalid payment data received. Please try again."),u(!1);return}R(ye),re("success","AMC Subscription Processing!",`${ye.name} subscription initiated. Redirecting to payment...`),setTimeout(()=>{const Ue=document.createElement("form");Ue.method="POST",Ue.action=oe.action,console.log("PayU Action URL:",oe.action),console.log("PayU Params:",oe.params),Object.keys(oe.params).forEach(Je=>{const Ve=document.createElement("input");Ve.type="hidden",Ve.name=Je,Ve.value=oe.params[Je],Ue.appendChild(Ve),console.log(`  ${Je}: ${oe.params[Je]}`)}),document.body.appendChild(Ue),console.log(" Submitting PayU form for AMC subscription..."),Ue.submit()},1500)}else console.error(" AMC subscription order creation failed:",V.data),re("error","Subscription Failed",V.data.message||"Failed to create AMC subscription order"),u(!1)}catch(dt){console.error("AMC subscription error:",dt),((Ce=dt.response)==null?void 0:Ce.status)===404?re("error","Service Unavailable","AMC subscription service is currently unavailable. Please try again later or contact support."):((We=dt.response)==null?void 0:We.status)===401?re("error","Authentication Error","Please login again to subscribe to AMC plans."):re("error","Subscription Failed",((pt=(At=dt.response)==null?void 0:At.data)==null?void 0:pt.message)||"Failed to process AMC subscription. Please try again."),u(!1)}},Le=ye=>{const{name:I,value:ae}=ye.target;H(Ce=>{const We={...Ce,[I]:ae};return sessionStorage.setItem("checkoutFormData",JSON.stringify(We)),We})},z=ye=>{p(ye),H(I=>{const ae={...I,address:ye.address||"",landmark:ye.landmark||"",pincode:ye.pincode||""};return sessionStorage.setItem("checkoutFormData",JSON.stringify(ae)),ae}),b(!1)},xe=async()=>{var ye,I;if(!M.address||!M.pincode){re("warning","Missing Information","Please fill in address and pincode");return}he(!0);try{const ae=localStorage.getItem("userToken"),Ce={address:M.address,landmark:M.landmark,pincode:M.pincode};(await Pt.post(`${mo}/api/user/addresses`,Ce,{headers:{Authorization:`Bearer ${ae}`}})).data.success&&(re("success","Address Saved!","Your address has been saved successfully"),await B(),b(!1))}catch(ae){console.error("Error saving address:",ae),re("error","Save Failed",((I=(ye=ae.response)==null?void 0:ye.data)==null?void 0:I.message)||"Failed to save address")}finally{he(!1)}},re=(ye,I,ae)=>{v({isOpen:!0,type:ye,title:I,message:ae})},ge=()=>{if(!navigator.geolocation){re("error","Not Supported","Geolocation is not supported by your browser");return}w(!0),navigator.geolocation.getCurrentPosition(async ye=>{var Ce,We,At;const{latitude:I,longitude:ae}=ye.coords;try{const dt=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${I}&lon=${ae}&addressdetails=1`)).json();if(dt&&dt.display_name){const fe=dt.display_name,V=((Ce=dt.address)==null?void 0:Ce.postcode)||"",oe=((We=dt.address)==null?void 0:We.suburb)||((At=dt.address)==null?void 0:At.neighbourhood)||"";H(Ue=>{const Je={...Ue,address:fe,landmark:oe,pincode:V};return sessionStorage.setItem("checkoutFormData",JSON.stringify(Je)),Je}),p(null),b(!0),re("success","Location Detected!","Please verify and update the address if needed.")}else re("warning","Address Not Found","Could not get address from your location. Please enter manually.")}catch(pt){console.error("Error getting address:",pt),re("error","Location Error","Failed to get address from location. Please enter manually.")}finally{w(!1)}},ye=>{switch(console.error("Geolocation error:",ye),w(!1),ye.code){case ye.PERMISSION_DENIED:re("error","Permission Denied","Please enable location access in your browser settings.");break;case ye.POSITION_UNAVAILABLE:re("error","Location Unavailable","Location information is unavailable.");break;case ye.TIMEOUT:re("error","Request Timeout","Location request timed out.");break;default:re("error","Location Error","An error occurred while getting your location.")}},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})},pe=()=>o.total||0,ve=()=>{const ye=pe(),I=Math.round(ye*.18),ae=ye+I;return k&&P>0?Math.max(0,ae-P):ae},ke=()=>{const ye=!k;if(C(ye),ye){const I=Math.round(pe()*1.18),ae=Math.min(N,I);_(ae),D(""),X(!1)}else _(0),D(""),X(!1)},Qe=ye=>{const I=parseFloat(ye)||0,ae=Math.round(pe()*1.18),Ce=Math.min(N,ae);I>Ce?(D(Ce.toString()),_(Ce)):I<0?(D("0"),_(0)):(D(ye),_(I))},ft=async ye=>{var ae,Ce;if(ye.preventDefault(),!M.name||!M.phone||!M.bookingDate||!M.bookingTime||!M.address){re("warning","Missing Information","Please fill all required fields");return}const I=ve();if(k&&I===0){re("info","Wallet Payment","Full payment will be deducted from wallet"),await je();return}u(!0);try{const We=localStorage.getItem("userToken"),At={userId:a._id,serviceName:s,serviceData:c,cartData:o,customerDetails:{name:M.name,email:M.email,phone:M.phone},address:{address:M.address,landmark:M.landmark,pincode:M.pincode},scheduledDate:M.bookingDate,scheduledTime:M.bookingTime,specialInstructions:M.specialInstructions,amount:pe(),useWallet:k,walletAmount:P},pt=await Pt.post(`${mo}/api/user/service-booking/create`,At,{headers:{Authorization:`Bearer ${We}`}});if(pt.data.success){console.log(" Booking created, initiating PayU payment..."),console.log("PayU Data:",pt.data.payuData);const dt=pt.data.payuData;if(!dt||!dt.action||!dt.params){console.error(" Invalid PayU data received:",dt),re("error","Payment Error","Invalid payment data received. Please try again."),u(!1);return}const fe=document.createElement("form");fe.method="POST",fe.action=dt.action,console.log("PayU Action URL:",dt.action),console.log("PayU Params:",dt.params),Object.keys(dt.params).forEach(V=>{const oe=document.createElement("input");oe.type="hidden",oe.name=V,oe.value=dt.params[V],fe.appendChild(oe),console.log(`  ${V}: ${dt.params[V]}`)}),document.body.appendChild(fe),console.log(" Submitting PayU form..."),fe.submit()}else console.error(" Booking creation failed:",pt.data),re("error","Booking Failed",pt.data.message||"Failed to create booking"),u(!1)}catch(We){console.error("Booking error:",We),re("error","Booking Failed",((Ce=(ae=We.response)==null?void 0:ae.data)==null?void 0:Ce.message)||"Failed to create booking. Please try again."),u(!1)}},je=async()=>{var ye,I;u(!0);try{const ae=localStorage.getItem("userToken"),Ce={userId:a._id,serviceName:s,serviceData:c,cartData:o,customerDetails:{name:M.name,email:M.email,phone:M.phone},address:{address:M.address,landmark:M.landmark,pincode:M.pincode},scheduledDate:M.bookingDate,scheduledTime:M.bookingTime,specialInstructions:M.specialInstructions,amount:pe(),useWallet:!0,walletAmount:P,paymentMode:"wallet"};(await Pt.post(`${mo}/api/user/service-booking/create-wallet-payment`,Ce,{headers:{Authorization:`Bearer ${ae}`}})).data.success&&(sessionStorage.removeItem("checkoutCartData"),sessionStorage.removeItem("checkoutServiceData"),sessionStorage.removeItem("checkoutFormData"),re("success","Booking Confirmed!","Your booking has been confirmed and payment deducted from wallet."),setTimeout(()=>{e("/user/dashboard/bookings")},2e3))}catch(ae){console.error("Wallet payment error:",ae),re("error","Payment Failed",((I=(ye=ae.response)==null?void 0:ye.data)==null?void 0:I.message)||"Failed to process wallet payment."),u(!1)}};return n?!o.items||o.items.length===0?(e(`/service/${s}`),null):t.jsxs("div",{className:"min-h-screen bg-gray-50 py-8",children:[t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"mb-6",children:[t.jsxs("button",{onClick:()=>e(-1),className:"flex items-center gap-2 text-primary hover:text-primary-dark transition mb-4",children:[t.jsx(ij,{}),t.jsx("span",{children:"Back to Service"})]}),t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Checkout"}),t.jsx("p",{className:"text-gray-600 mt-2",children:"Complete your booking details"})]}),t.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[t.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-md p-6",children:[t.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[t.jsx(Oc,{className:"text-primary"}),"Customer Details"]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),t.jsx("input",{type:"text",name:"name",value:M.name,onChange:Le,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number *"}),t.jsx("input",{type:"tel",name:"phone",value:M.phone,onChange:Le,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",required:!0})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),t.jsx("input",{type:"email",name:"email",value:M.email,onChange:Le,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]})]})]}),t.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl shadow-md p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[t.jsx(Fl,{className:"text-primary"}),"Service Address"]}),t.jsx("button",{onClick:ge,disabled:j,className:"flex items-center gap-2 px-4 py-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:j?t.jsxs(t.Fragment,{children:[t.jsx(ts,{className:"animate-spin"}),t.jsx("span",{children:"Getting Location..."})]}):t.jsxs(t.Fragment,{children:[t.jsx(vX,{}),t.jsx("span",{children:"Use Current Location"})]})})]}),m.length>0&&!f&&t.jsxs("div",{className:"mb-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("p",{className:"text-sm font-semibold text-gray-700",children:["Saved Addresses (",m.length,")"]}),t.jsxs("button",{onClick:()=>b(!0),className:"text-primary hover:text-primary-dark font-medium text-sm flex items-center gap-1",children:[t.jsx("span",{className:"text-lg",children:"+"}),t.jsx("span",{children:"Add New"})]})]}),t.jsx("div",{className:"space-y-3 max-h-80 overflow-y-auto pr-2",children:m.map((ye,I)=>t.jsxs("div",{onClick:()=>z(ye),className:`relative p-4 border-2 rounded-lg cursor-pointer transition-all duration-200 ${(h==null?void 0:h._id)===ye._id?"border-primary bg-primary/5 shadow-md":"border-gray-200 hover:border-primary/50 hover:shadow-sm"}`,children:[t.jsxs("div",{className:"flex items-start justify-between mb-2",children:[t.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${ye.addressType==="Home"?"bg-blue-100 text-blue-800":ye.addressType==="Work"?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800"}`,children:ye.addressType||"Other"}),(h==null?void 0:h._id)===ye._id&&t.jsx($e,{className:"text-primary text-lg"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("p",{className:"font-medium text-gray-900 leading-snug",children:ye.address}),t.jsxs("div",{className:"flex flex-wrap gap-3 mt-2",children:[ye.landmark&&t.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[t.jsx(Fl,{className:"text-xs text-gray-400"}),t.jsx("span",{children:ye.landmark})]}),ye.pincode&&t.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[t.jsx("span",{className:"font-medium",children:"PIN:"}),t.jsx("span",{children:ye.pincode})]})]})]}),(h==null?void 0:h._id)===ye._id&&t.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-primary rounded-b-lg"})]},ye._id))})]}),(f||m.length===0)&&t.jsxs("div",{className:"space-y-4",children:[m.length>0&&t.jsxs("div",{className:"flex items-center justify-between pb-3 border-b border-gray-200",children:[t.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Add New Address"}),t.jsx("button",{type:"button",onClick:()=>b(!1),className:"text-gray-400 hover:text-gray-600",children:""})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Complete Address *"}),t.jsx("textarea",{name:"address",value:M.address,onChange:Le,rows:"3",placeholder:"House/Flat No., Building Name, Street, Area, City",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent resize-none",required:!0})]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Landmark (Optional)"}),t.jsx("input",{type:"text",name:"landmark",value:M.landmark,onChange:Le,placeholder:"e.g., Near City Mall",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pincode *"}),t.jsx("input",{type:"text",name:"pincode",value:M.pincode,onChange:Le,placeholder:"e.g., 123456",maxLength:"6",pattern:"[0-9]{6}",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",required:!0})]})]}),t.jsxs("div",{className:"flex items-center gap-3 pt-3 border-t border-gray-100",children:[t.jsx("button",{type:"button",onClick:xe,disabled:ce||!M.address||!M.pincode,className:"flex items-center gap-2 px-5 py-2.5 bg-primary text-white rounded-lg hover:bg-primary-dark transition font-medium disabled:opacity-50 disabled:cursor-not-allowed shadow-sm hover:shadow-md",children:ce?t.jsxs(t.Fragment,{children:[t.jsx(ts,{className:"animate-spin"}),t.jsx("span",{children:"Saving..."})]}):t.jsxs(t.Fragment,{children:[t.jsx($e,{}),t.jsx("span",{children:"Save Address"})]})}),m.length>0&&t.jsx("button",{type:"button",onClick:()=>b(!1),className:"px-5 py-2.5 border border-gray-300 text-gray-700 hover:bg-gray-50 rounded-lg font-medium transition",children:"Cancel"}),m.length===0&&t.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 ml-2",children:[t.jsx(Vp,{className:"text-blue-500"}),t.jsx("span",{children:"Save this address for faster checkout next time"})]})]})]})]}),t.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl shadow-md p-6",children:[t.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[t.jsx(lX,{className:"text-primary"}),"Schedule Service"]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Booking Date *"}),t.jsx("input",{type:"date",name:"bookingDate",value:M.bookingDate,onChange:Le,min:new Date().toISOString().split("T")[0],className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Select Time Slot *"}),t.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-2",children:["9:00 AM","9:30 AM","10:00 AM","10:30 AM","11:00 AM","11:30 AM","12:00 PM","12:30 PM","1:00 PM","1:30 PM","2:00 PM","2:30 PM","3:00 PM","3:30 PM","4:00 PM","4:30 PM","5:00 PM","5:30 PM","6:00 PM","6:30 PM","7:00 PM"].map(ye=>{const I=(()=>{if(!M.bookingDate)return!1;const ae=new Date(M.bookingDate),Ce=new Date;if(Ce.setHours(0,0,0,0),ae.setHours(0,0,0,0),ae.getTime()!==Ce.getTime())return!1;const[We,At]=ye.split(" ");let[pt,dt]=We.split(":").map(Number);At==="PM"&&pt!==12&&(pt+=12),At==="AM"&&pt===12&&(pt=0);const fe=new Date;fe.setHours(pt,dt,0,0);const V=new Date,oe=new Date(V.getTime()+60*60*1e3);return fe<=oe})();return t.jsx("button",{type:"button",onClick:()=>!I&&H(ae=>{const Ce={...ae,bookingTime:ye};return sessionStorage.setItem("checkoutFormData",JSON.stringify(Ce)),Ce}),disabled:I,className:`px-3 py-2 rounded-lg text-sm font-medium transition ${I?"bg-gray-200 text-gray-400 cursor-not-allowed":M.bookingTime===ye?"bg-primary text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:ye},ye)})}),M.bookingTime&&t.jsxs("p",{className:"mt-2 text-sm text-green-600 flex items-center gap-1",children:[t.jsx($e,{}),"Selected: ",M.bookingTime]}),M.bookingDate&&new Date(M.bookingDate).toDateString()===new Date().toDateString()&&t.jsxs("p",{className:"mt-2 text-sm text-amber-600",children:[" Time slots before ",new Date(new Date().getTime()+60*60*1e3).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})," are disabled"]})]})]}),t.jsxs("div",{className:"mt-4",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Special Instructions (Optional)"}),t.jsx("textarea",{name:"specialInstructions",value:M.specialInstructions,onChange:Le,rows:"3",placeholder:"Any specific requirements or instructions...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]})]})]}),t.jsx("div",{className:"lg:col-span-1",children:t.jsxs(E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white rounded-xl shadow-md p-6 sticky top-24",children:[t.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[t.jsx(Li,{className:"text-primary"}),"Order Summary"]}),t.jsx("div",{className:"space-y-3 mb-4 max-h-64 overflow-y-auto",children:(Fe=o.items)==null?void 0:Fe.map((ye,I)=>t.jsxs("div",{className:"flex justify-between items-start text-sm border-b border-gray-100 pb-2",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"font-medium text-gray-900",children:ye.name}),t.jsxs("p",{className:"text-gray-500 text-xs",children:["Qty: ",ye.quantity]})]}),t.jsxs("p",{className:"font-semibold text-gray-900",children:["",ye.total]})]},I))}),de()&&L.length>0&&t.jsxs("div",{className:"border-t border-gray-200 pt-4 mb-4",children:[t.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg p-3 mb-4 border border-green-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Qo,{className:"text-green-600 text-lg"}),t.jsx("h3",{className:"text-sm font-bold text-gray-900",children:" Save with AMC Plans"})]}),t.jsx("span",{className:"text-xs text-green-700 font-medium",children:"Available Plans"})]}),t.jsx("p",{className:"text-xs text-green-700",children:"Subscribe to annual maintenance contracts with your service address"})]}),t.jsx("div",{className:"space-y-3",children:L.slice(0,2).map((ye,I)=>{var At,pt,dt,fe;const ae=Ge(ye),Ce=ae>0?Math.round(ae/(pe()*4)*100):0,We=(se==null?void 0:se._id)===ye._id;return t.jsxs("div",{onClick:()=>Me(ye),className:`relative p-4 rounded-xl border-2 cursor-pointer transition-all duration-300 ${We?"border-primary bg-primary/5 shadow-lg transform scale-[1.02]":"border-gray-200 hover:border-primary/50 hover:shadow-md"}`,children:[ye.highlight&&t.jsx("div",{className:"absolute -top-2 -right-2 bg-gradient-to-r from-orange-400 to-red-500 text-white text-xs font-bold px-2 py-1 rounded-full",children:" POPULAR"}),t.jsxs("div",{className:"flex items-start justify-between mb-3",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx("h4",{className:"text-sm font-bold text-gray-900",children:ye.name}),t.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full font-medium ${ye.planType==="corporate"?"bg-purple-100 text-purple-700":ye.planType==="business"?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:((At=ye.planType)==null?void 0:At.charAt(0).toUpperCase())+((pt=ye.planType)==null?void 0:pt.slice(1))||"Standard"})]}),t.jsx("p",{className:"text-xs text-gray-600 mb-2",children:ye.description})]}),t.jsxs("div",{className:"text-right ml-3",children:[t.jsxs("p",{className:"text-lg font-bold text-primary",children:["",ye.price.toLocaleString("en-IN")]}),t.jsx("p",{className:"text-xs text-gray-500",children:"/year"}),ae>0&&t.jsxs("div",{className:"mt-1",children:[t.jsxs("p",{className:"text-xs text-green-600 font-bold",children:["Save ",ae.toLocaleString("en-IN")]}),t.jsxs("p",{className:"text-xs text-green-600",children:["(",Ce,"% off)"]})]})]})]}),t.jsx("div",{className:"mb-3",children:t.jsxs("div",{className:"grid grid-cols-1 gap-1",children:[(dt=ye.features)==null?void 0:dt.slice(0,3).map((V,oe)=>t.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600",children:[t.jsx($e,{className:"text-green-500 text-xs flex-shrink-0"}),t.jsx("span",{className:"truncate",children:V})]},oe)),((fe=ye.features)==null?void 0:fe.length)>3&&t.jsxs("div",{className:"text-xs text-gray-500 ml-4",children:["+",ye.features.length-3," more benefits"]})]})}),t.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-gray-100",children:[We?t.jsxs("div",{className:"flex items-center gap-2 text-sm text-primary font-bold",children:[t.jsx($e,{className:"text-green-500"}),t.jsx("span",{children:"Selected for Subscription"})]}):t.jsx("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:t.jsx("span",{children:"Click to select this plan"})}),t.jsx("button",{onClick:V=>{V.stopPropagation(),it(ye)},className:"text-xs bg-primary text-white px-3 py-1.5 rounded-lg hover:bg-primary-dark transition font-medium",children:"Subscribe Now"})]})]},ye._id||I)})}),se&&t.jsx("div",{className:"mt-4 p-4 bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl border-2 border-green-200",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-green-500 rounded-full flex items-center justify-center flex-shrink-0",children:t.jsx($e,{className:"text-white text-lg"})}),t.jsxs("div",{children:[t.jsxs("h4",{className:"text-sm font-bold text-green-800 mb-1",children:[se.name," Selected"]}),t.jsx("p",{className:"text-xs text-green-700 mb-2",children:"Annual maintenance contract with service address registration"}),t.jsxs("div",{className:"flex items-center gap-4 text-xs text-green-700",children:[t.jsxs("span",{children:[" Save ",Ge(se).toLocaleString("en-IN")," annually"]}),t.jsx("span",{children:" Address included"})]})]})]}),t.jsx("button",{onClick:()=>it(se),className:"bg-green-600 text-white px-4 py-2 rounded-lg text-xs font-bold hover:bg-green-700 transition shadow-md",children:"Subscribe Now"})]})}),t.jsx("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg border border-gray-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600",children:[t.jsx(Vp,{className:"text-blue-500"}),t.jsx("span",{children:"AMC subscription includes your service address for future maintenance"})]}),t.jsx("span",{className:"text-xs text-primary font-medium",children:"Select plan above to subscribe"})]})})]}),t.jsxs("div",{className:"border-t border-gray-200 pt-4 space-y-2",children:[t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-gray-600",children:"Subtotal"}),t.jsxs("span",{className:"font-medium",children:["",pe()]})]}),t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-gray-600",children:"GST (18%)"}),t.jsxs("span",{className:"font-medium",children:["",Math.round(pe()*.18)]})]}),n&&t.jsxs("div",{className:"pt-3 border-t border-gray-200 mt-3",children:[t.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg p-3 mb-3",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Zu,{className:"text-green-600 text-lg"}),t.jsx("span",{className:"text-sm font-semibold text-gray-800",children:"Wallet Balance"})]}),t.jsxs("span",{className:`text-base font-bold ${N>0?"text-green-600":"text-gray-500"}`,children:["",N.toFixed(2)]})]}),N>0?t.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[t.jsx("input",{type:"checkbox",id:"useWallet",checked:k,onChange:ke,className:"w-4 h-4 text-primary focus:ring-primary border-gray-300 rounded cursor-pointer"}),t.jsx("label",{htmlFor:"useWallet",className:"text-sm font-medium text-gray-700 cursor-pointer flex-1",children:"Apply wallet balance to this order"})]}):t.jsxs("div",{className:"mt-2",children:[t.jsx("p",{className:"text-xs text-gray-600 mb-2",children:"No balance available. Add money to your wallet!"}),t.jsx("button",{type:"button",onClick:()=>e("/user/dashboard/wallet"),className:"text-xs text-primary hover:text-primary-dark font-medium underline",children:"Add Money to Wallet"})]})]}),k&&t.jsxs("div",{className:"space-y-2 animate-fade-in",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Amount to use:"}),t.jsx("button",{onClick:()=>X(!F),className:"text-xs text-primary hover:text-primary-dark font-medium",children:F?"Use Maximum":"Use Custom Amount"})]}),F?t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm text-gray-600",children:""}),t.jsx("input",{type:"number",value:A,onChange:ye=>Qe(ye.target.value),placeholder:"Enter amount",min:"0",max:Math.min(N,Math.round(pe()*1.18)),className:"flex-1 px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}):t.jsxs("div",{className:"flex justify-between items-center bg-green-50 rounded-lg px-3 py-2",children:[t.jsx("span",{className:"text-sm font-medium text-green-700",children:"Wallet Deduction"}),t.jsxs("span",{className:"text-base font-bold text-green-600",children:["-",P.toFixed(2)]})]}),P>=Math.round(pe()*1.18)&&t.jsxs("div",{className:"flex items-start gap-2 bg-blue-50 rounded-lg p-2",children:[t.jsx(Vp,{className:"text-blue-500 mt-0.5 flex-shrink-0"}),t.jsx("p",{className:"text-xs text-blue-700",children:"Your wallet balance covers the full amount. No additional payment needed!"})]})]})]}),t.jsxs("div",{className:"flex justify-between text-lg font-bold text-gray-900 pt-2 border-t border-gray-200",children:[t.jsx("span",{children:"Amount to Pay"}),t.jsxs("span",{className:"text-primary",children:["",ve().toFixed(2)]})]})]}),t.jsx("button",{onClick:ft,disabled:d,className:`w-full mt-6 text-white py-3 rounded-lg font-bold hover:shadow-lg transition flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed ${ve()===0?"bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700":"bg-gradient-to-r from-primary to-primary-dark"}`,children:d?t.jsxs(t.Fragment,{children:[t.jsx(ts,{className:"animate-spin"}),"Processing..."]}):ve()===0?t.jsxs(t.Fragment,{children:[t.jsx(Zu,{}),"Confirm Booking (Pay via Wallet)"]}):k&&P>0?t.jsxs(t.Fragment,{children:[t.jsx(Ti,{}),"Pay ",ve().toFixed(2)," (Wallet Applied)"]}):t.jsxs(t.Fragment,{children:[t.jsx(Ti,{}),"Proceed to Payment"]})}),t.jsxs("div",{className:"mt-4 flex items-center justify-center gap-2 text-xs text-gray-500",children:[t.jsx($e,{className:"text-green-500"}),t.jsx("span",{children:ve()===0?"100% payment via Wallet":k&&P>0?`${P.toFixed(2)} from wallet + ${ve().toFixed(2)} via PayU`:"Secure payment via PayU"})]})]})})]})]}),t.jsx("div",{className:"fixed inset-0 z-[10000] pointer-events-none",children:t.jsx("div",{className:`${y.isOpen?"pointer-events-auto":"pointer-events-none"}`,children:t.jsx(mj,{isOpen:y.isOpen,onClose:()=>v({...y,isOpen:!1}),type:y.type,title:y.title,message:y.message})})}),K.isOpen&&t.jsx("div",{className:"fixed inset-0 confirmation-dialog",children:t.jsx(mj,{isOpen:K.isOpen,onClose:()=>U({isOpen:!1,plan:null,addressData:null}),type:"info",title:"Confirm AMC Subscription",message:K.plan&&K.addressData?t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"bg-primary/10 rounded-lg p-4 border border-primary/30",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[t.jsx("div",{className:"w-8 h-8 bg-primary rounded-full flex items-center justify-center",children:t.jsx("span",{className:"text-white text-sm font-bold",children:""})}),t.jsx("h4",{className:"font-bold text-primary",children:"Subscription Details"})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"Plan:"}),t.jsx("p",{className:"font-semibold text-primary",children:K.plan.name})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"Price:"}),t.jsxs("p",{className:"font-semibold text-primary",children:["",K.plan.price.toLocaleString("en-IN"),"/year"]})]}),t.jsxs("div",{className:"sm:col-span-2",children:[t.jsx("span",{className:"text-gray-600",children:"Type:"}),t.jsx("p",{className:"font-semibold text-primary",children:((Tt=K.plan.planType)==null?void 0:Tt.charAt(0).toUpperCase())+((Lt=K.plan.planType)==null?void 0:Lt.slice(1))||"Standard"})]})]})]}),t.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[t.jsx("div",{className:"w-8 h-8 bg-green-600 rounded-full flex items-center justify-center",children:t.jsx("span",{className:"text-white text-sm font-bold",children:""})}),t.jsx("h4",{className:"font-bold text-green-700",children:"Service Address"})]}),t.jsxs("div",{className:"text-sm space-y-2",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"Address:"}),t.jsx("p",{className:"font-medium text-green-800",children:K.addressData.address})]}),K.addressData.landmark&&t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"Landmark:"}),t.jsx("p",{className:"font-medium text-green-800",children:K.addressData.landmark})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"Pincode:"}),t.jsx("p",{className:"font-medium text-green-800",children:K.addressData.pincode})]})]})]}),t.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 border border-slate-200",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[t.jsx("div",{className:"w-8 h-8 bg-slate-600 rounded-full flex items-center justify-center",children:t.jsx("span",{className:"text-white text-sm font-bold",children:""})}),t.jsx("h4",{className:"font-bold text-slate-700",children:"Customer Details"})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"Name:"}),t.jsx("p",{className:"font-medium text-slate-800",children:K.addressData.customerName})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"Phone:"}),t.jsx("p",{className:"font-medium text-slate-800",children:K.addressData.customerPhone})]}),K.addressData.customerEmail&&t.jsxs("div",{className:"sm:col-span-2",children:[t.jsx("span",{className:"text-gray-600",children:"Email:"}),t.jsx("p",{className:"font-medium text-slate-800",children:K.addressData.customerEmail})]})]})]}),t.jsx("div",{className:"bg-amber-50 rounded-lg p-4 border border-amber-200",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"w-8 h-8 bg-amber-500 rounded-full flex items-center justify-center flex-shrink-0",children:t.jsx("span",{className:"text-white text-sm font-bold",children:""})}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold text-amber-800 mb-1",children:"Payment Gateway Redirect"}),t.jsx("p",{className:"text-amber-700 text-sm",children:"You will be redirected to our secure payment gateway to complete the subscription payment."})]})]})})]}):"Loading subscription details...",confirmText:"Subscribe Now",cancelText:"Cancel",showCancel:!0,onConfirm:Ye})})]}):(e("/user/login",{state:{from:r.pathname}}),null)},_Q=()=>{const e=Qt();R0();const[r,s]=g.useState(!0);g.useEffect(()=>{const i=setTimeout(()=>{s(!1)},2e3);return()=>clearTimeout(i)},[]);const a=()=>{e("/user/dashboard/bookings")},n=()=>{e("/")};return r?t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:t.jsxs(E.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center",children:[t.jsx(ts,{className:"w-16 h-16 text-primary animate-spin mx-auto mb-4"}),t.jsx("p",{className:"text-xl text-gray-600",children:"Processing your payment..."})]})}):t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:t.jsxs(E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl shadow-xl p-8 max-w-md w-full text-center",children:[t.jsx(E.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:t.jsx($e,{className:"w-12 h-12 text-green-500"})}),t.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Payment Successful!"}),t.jsx("p",{className:"text-gray-600 mb-8",children:"Your booking has been confirmed. We'll send you a confirmation shortly."}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("button",{onClick:a,className:"w-full bg-gradient-to-r from-primary to-primary-dark text-white py-3 rounded-lg font-bold hover:shadow-lg transition",children:"View My Bookings"}),t.jsx("button",{onClick:n,className:"w-full bg-gray-100 text-gray-700 py-3 rounded-lg font-semibold hover:bg-gray-200 transition",children:"Back to Home"})]})]})})},OQ=()=>{const e=Qt(),r=()=>{e(-1)},s=()=>{e("/")};return t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:t.jsxs(E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl shadow-xl p-8 max-w-md w-full text-center",children:[t.jsx(E.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:t.jsx(Gt,{className:"w-12 h-12 text-red-500"})}),t.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Payment Failed"}),t.jsx("p",{className:"text-gray-600 mb-8",children:"We couldn't process your payment. Please try again or contact support if the issue persists."}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("button",{onClick:r,className:"w-full bg-gradient-to-r from-primary to-primary-dark text-white py-3 rounded-lg font-bold hover:shadow-lg transition",children:"Try Again"}),t.jsx("button",{onClick:s,className:"w-full bg-gray-100 text-gray-700 py-3 rounded-lg font-semibold hover:bg-gray-200 transition",children:"Back to Home"})]})]})})},DQ=()=>{var w;const[e,r]=g.useState("ac-technician"),[s,a]=g.useState("individual"),[n,i]=g.useState(0),[l,o]=g.useState([]),[c,d]=g.useState(!1),u={"ac-technician":{name:"AC Technician",earnings:"45,00075,000"},electrician:{name:"Electrician",earnings:"35,00060,000"},plumber:{name:"Plumber",earnings:"30,00055,000"},carpenter:{name:"Carpenter",earnings:"40,00070,000"},painter:{name:"Painter",earnings:"35,00065,000"},cleaner:{name:"Deep Cleaner",earnings:"25,00050,000"}},[m,x]=g.useState([]);g.useEffect(()=>{(async()=>{try{const N=await fetch("https://nexo.works/api/partner/mg-plans/public",{method:"GET",headers:{"Content-Type":"application/json"}});if(N.ok){const S=await N.json();if(S.success&&S.data&&Array.isArray(S.data)){const k=S.data.map(C=>{const _=(C.name||"").toLowerCase();let A=C.icon||"";C.icon||(_.includes("silver")?A="":_.includes("gold")?A="":_.includes("platinum")||_.includes("diamond")?A="":_.includes("bronze")&&(A=""));const D=C.features&&Array.isArray(C.features)&&C.features.length>0?C.features.filter(F=>!F.toLowerCase().includes("leads")&&!F.toLowerCase().includes("commission")):["Priority Support","24/7 Customer Support","Training & Onboarding"];return{_id:C._id,name:C.name,price:C.price||0,leads:C.leads||0,commission:C.commission||0,icon:A,features:D,partnerType:C.partnerType||"both"}});x(k)}}}catch(v){console.error("Failed to fetch MG plans:",v),x([])}})()},[]);const h=[{step:"1",title:"Complete Registration Form",description:"Fill your details and choose trade",icon:lj,details:["Enter your full name and contact information","Select your service category (AC Technician, Electrician, etc.)","Provide your work experience details","Choose your preferred working areas","Set your availability schedule"]},{step:"2",title:"Upload KYC Documents",description:"Submit identity and bank documents",icon:yX,details:["Upload clear photo of Aadhaar Card (front & back)","Provide PAN Card copy","Submit bank account details and passbook copy","Upload professional certificates (if any)","Provide address proof document"]},{step:"3",title:"Complete Payment",description:"Pay registration fee via WhatsApp Pay",icon:Ti,details:["Choose your preferred MG Plan","Make payment via WhatsApp Pay or UPI","Registration fee varies by plan (500 - 2000)","Get instant payment confirmation","Receive digital receipt via WhatsApp"]},{step:"4",title:"Get Verified & Start Earning",description:"Approval and job access",icon:Ua,details:["Our team verifies your documents (24-48 hours)","Receive verification confirmation via SMS/WhatsApp","Get access to partner dashboard","Start receiving job leads immediately","Begin earning from day one"]}];g.useEffect(()=>{if(c)if(n<h.length-1){const y=setTimeout(()=>{o(v=>[...v,n]),i(v=>v+1)},2500);return()=>clearTimeout(y)}else{const y=setTimeout(()=>{o(v=>[...v,n]),setTimeout(()=>{i(0),o([])},3e3)},2500);return()=>clearTimeout(y)}},[n,c,h.length]),g.useEffect(()=>{const y=setTimeout(()=>{d(!0)},1500);return()=>clearTimeout(y)},[]);const p=[{icon:yO,text:"High daily job volume",color:"text-[#224a73]",bgColor:"from-[#224a73]/5 to-[#224a73]/10",borderColor:"border-[#224a73]/20",hoverColor:"hover:border-[#224a73]/40"},{icon:wX,text:"Weekly payouts",color:"text-green-600",bgColor:"from-green-50 to-green-100",borderColor:"border-green-200",hoverColor:"hover:border-green-300"},{icon:$e,text:"Verified partner badge",color:"text-[#224a73]",bgColor:"from-[#224a73]/5 to-[#224a73]/10",borderColor:"border-[#224a73]/20",hoverColor:"hover:border-[#224a73]/40"},{icon:iX,text:"Priority support",color:"text-orange-600",bgColor:"from-orange-50 to-orange-100",borderColor:"border-orange-200",hoverColor:"hover:border-orange-300"},{icon:xX,text:"Free training",color:"text-[#224a73]",bgColor:"from-[#224a73]/5 to-[#224a73]/10",borderColor:"border-[#224a73]/20",hoverColor:"hover:border-[#224a73]/40"},{icon:Nl,text:"Early payouts (Premium)",color:"text-amber-600",bgColor:"from-amber-50 to-amber-100",borderColor:"border-amber-200",hoverColor:"hover:border-amber-300"}],f={animate:{y:[0,-30,0],x:[0,15,0],scale:[1,1.1,1],transition:{duration:4,repeat:1/0,ease:"easeInOut"}}},j=m.filter(y=>{const v=y.partnerType||"both";return s==="individual"?v==="individual"||v==="both":s==="franchise"?v==="franchise"||v==="both":!0});return t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsxs("section",{className:"relative bg-gradient-to-br from-[#224a73] to-[#1a3a5c] text-white py-12 sm:py-16 lg:py-20 overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 opacity-10",children:t.jsx(E.div,{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`,backgroundRepeat:"repeat"},animate:{backgroundPosition:["0% 0%","100% 100%"]},transition:{duration:20,repeat:1/0,repeatType:"reverse"}})}),t.jsx(E.div,{className:"absolute top-20 left-10 w-40 h-40 sm:w-60 sm:h-60 bg-gradient-to-br from-white/20 to-white/5 rounded-full blur-3xl",variants:f,animate:"animate"}),t.jsx(E.div,{className:"absolute bottom-20 right-10 w-48 h-48 sm:w-72 sm:h-72 bg-gradient-to-br from-yellow-300/20 to-yellow-300/5 rounded-full blur-3xl",variants:f,animate:"animate",transition:{delay:1,duration:5}}),t.jsx(E.div,{className:"absolute top-32 right-20 w-24 h-24 sm:w-32 sm:h-32 bg-gradient-to-br from-[#224a73]/30 to-blue-500/20 rounded-full blur-2xl",animate:{y:[0,-40,0],x:[0,20,0],scale:[1,1.2,1],rotate:[0,180,360]},transition:{duration:6,repeat:1/0,ease:"easeInOut",delay:.5}}),t.jsx(E.div,{className:"absolute bottom-32 left-20 w-20 h-20 sm:w-28 sm:h-28 bg-gradient-to-br from-emerald-400/25 to-green-500/15 rounded-full blur-2xl",animate:{y:[0,35,0],x:[0,-25,0],scale:[1,.8,1],rotate:[360,180,0]},transition:{duration:7,repeat:1/0,ease:"easeInOut",delay:1.2}}),t.jsx(E.div,{className:"absolute top-40 left-1/3 w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-br from-yellow-400/40 to-orange-400/25 rounded-full blur-xl",animate:{y:[0,-60,0],x:[0,30,0],scale:[1,1.3,1]},transition:{duration:4,repeat:1/0,ease:"easeInOut",delay:2}}),t.jsx(E.div,{className:"absolute bottom-40 right-1/3 w-14 h-14 sm:w-18 sm:h-18 bg-gradient-to-br from-purple-400/35 to-pink-400/20 rounded-full blur-xl",animate:{y:[0,45,0],x:[0,-20,0],scale:[1,.9,1]},transition:{duration:5,repeat:1/0,ease:"easeInOut",delay:1.8}}),[...Array(8)].map((y,v)=>t.jsx(E.div,{className:`absolute w-3 h-3 sm:w-4 sm:h-4 rounded-full blur-sm ${v%4===0?"bg-white/30":v%4===1?"bg-yellow-300/40":v%4===2?"bg-[#224a73]/35":"bg-emerald-400/30"}`,style:{left:`${10+v*11%80}%`,top:`${15+v*13%70}%`},animate:{y:[0,-100-v*10,0],x:[0,(v%2===0?1:-1)*(20+v*5),0],opacity:[.3,.7,.3],scale:[1,1.2,1]},transition:{duration:8+v%3,repeat:1/0,ease:"easeInOut",delay:v*.4}},`particle-${v}`)),t.jsx(E.div,{className:"absolute top-1/2 left-1/2 w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-cyan-400/50 to-blue-500/30 rounded-full blur-lg",animate:{rotate:[0,360]},transition:{duration:15,repeat:1/0,ease:"linear"},style:{transformOrigin:"-150px 0px"}}),t.jsx(E.div,{className:"absolute top-1/2 left-1/2 w-6 h-6 sm:w-8 sm:h-8 bg-gradient-to-br from-rose-400/45 to-red-500/25 rounded-full blur-lg",animate:{rotate:[360,0]},transition:{duration:12,repeat:1/0,ease:"linear"},style:{transformOrigin:"200px 100px"}}),t.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs(E.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center",children:[t.jsx(E.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{duration:.8,type:"spring"},className:"inline-block mb-4 sm:mb-6",children:t.jsx(Ua,{className:"w-16 h-16 sm:w-20 sm:h-20 text-yellow-300"})}),t.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold mb-3 sm:mb-4",children:"Become a Service Partner"}),t.jsx("p",{className:"text-xl sm:text-2xl md:text-3xl mb-6 sm:mb-8 text-yellow-300",children:"Earn 25,000 to 70,000 per month"}),t.jsx("div",{className:"flex justify-center",children:t.jsxs(E.a,{href:"/partner/onboard",whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"bg-gradient-to-r from-[#224a73] to-[#1a3a5c] text-white px-8 sm:px-10 py-4 sm:py-5 rounded-full text-lg sm:text-xl font-semibold shadow-2xl hover:shadow-[#224a73]/50 hover:from-[#1a3a5c] hover:to-[#224a73] transition-all duration-300 flex items-center gap-3",children:[t.jsx(Ua,{className:"w-6 h-6 sm:w-7 sm:h-7"}),"Register Now"]})})]})})]}),t.jsx("section",{className:"py-12 sm:py-16 lg:py-20 bg-white",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-12 sm:mb-16",children:t.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-[#224a73] mb-3 sm:mb-4",children:"What You Get"})}),t.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:p.map((y,v)=>{const N=y.icon;return t.jsxs(E.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{duration:.5,delay:v*.1},whileHover:{y:-5,scale:1.05},className:`bg-gradient-to-br ${y.bgColor} p-5 sm:p-6 rounded-xl border ${y.borderColor} ${y.hoverColor} text-center transition-all duration-300 hover:shadow-lg`,children:[t.jsx(N,{className:`w-10 h-10 sm:w-12 sm:h-12 ${y.color} mx-auto mb-3 sm:mb-4`}),t.jsx("p",{className:"text-sm sm:text-base lg:text-lg font-semibold text-gray-800",children:y.text})]},v)})})]})}),t.jsx("section",{className:"py-12 sm:py-16 lg:py-20 bg-gray-50",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-8 sm:mb-12",children:[t.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-[#224a73] mb-3 sm:mb-4",children:"Partner Earnings Calculator"}),t.jsx("p",{className:"text-lg sm:text-xl text-gray-600",children:"Select your category to see potential earnings"})]}),t.jsx("div",{className:"max-w-3xl mx-auto",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 p-6 sm:p-8",children:[t.jsx("label",{className:"block text-base sm:text-lg font-semibold text-gray-800 mb-3 sm:mb-4",children:"Select your category:"}),t.jsx("select",{value:e,onChange:y=>r(y.target.value),className:"w-full p-3 sm:p-4 border-2 border-[#224a73] rounded-xl text-base sm:text-lg focus:outline-none focus:ring-2 focus:ring-[#224a73] focus:border-[#224a73] mb-6 sm:mb-8 transition-all duration-300",children:Object.entries(u).map(([y,v])=>t.jsx("option",{value:y,children:v.name},y))}),t.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-gradient-to-r from-[#224a73] to-[#1a3a5c] text-white p-5 sm:p-6 rounded-xl text-center shadow-lg",children:[t.jsx("p",{className:"text-base sm:text-lg mb-2",children:"Approx earnings:"}),t.jsx("p",{className:"text-3xl sm:text-4xl font-bold",children:u[e].earnings}),t.jsx("p",{className:"text-base sm:text-lg mt-2",children:"per month"})]},e),t.jsx("div",{className:"mt-6 sm:mt-8 text-center",children:t.jsxs(E.a,{href:"/partner/onboard",whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"bg-gradient-to-r from-[#224a73] to-[#1a3a5c] text-white px-6 sm:px-8 py-3 sm:py-4 rounded-full text-base sm:text-lg font-semibold hover:from-[#1a3a5c] hover:to-[#224a73] transition-all duration-300 shadow-lg hover:shadow-xl inline-flex items-center gap-2",children:[t.jsx(Ua,{className:"w-5 h-5"}),"Start Registration"]})})]})})]})}),t.jsx("section",{className:"py-12 sm:py-16 lg:py-20 bg-white",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-8 sm:mb-12",children:[t.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-[#224a73] mb-3 sm:mb-4",children:"MG Plans"}),t.jsxs("div",{className:"flex justify-center gap-2 sm:gap-3 mt-6",children:[t.jsx(E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>a("individual"),className:`px-4 sm:px-6 py-2 sm:py-2.5 rounded-full text-sm sm:text-base font-semibold transition-all ${s==="individual"?"bg-gradient-to-r from-[#224a73] to-[#1a3a5c] text-white shadow-lg":"bg-white text-gray-700 border-2 border-gray-200 hover:border-[#224a73]"}`,children:" Individual"}),t.jsx(E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>a("franchise"),className:`px-4 sm:px-6 py-2 sm:py-2.5 rounded-full text-sm sm:text-base font-semibold transition-all ${s==="franchise"?"bg-gradient-to-r from-[#224a73] to-[#1a3a5c] text-white shadow-lg":"bg-white text-gray-700 border-2 border-gray-200 hover:border-[#224a73]"}`,children:" Franchise"})]})]}),j.length===0?t.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-12 bg-white rounded-2xl shadow-lg border-2 border-dashed border-gray-300",children:[t.jsx("p",{className:"text-gray-600 text-lg font-medium mb-2",children:"No plans available"}),t.jsxs("p",{className:"text-gray-500 text-sm",children:["No plans found for ",s==="individual"?"Individual":"Franchise"," partners."]}),t.jsxs("p",{className:"text-gray-400 text-xs mt-2",children:["Contact admin to add ",s==="individual"?"Individual":"Franchise"," plans."]})]}):t.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8",children:j.map((y,v)=>{var N;return t.jsxs(E.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:v*.2},whileHover:{y:-10,scale:1.02},className:`bg-white p-6 sm:p-8 rounded-2xl shadow-xl border-2 transition-all duration-300 ${y.name.toLowerCase().includes("platinum")?"border-[#224a73] scale-105 lg:scale-105 sm:scale-100 shadow-2xl shadow-[#224a73]/20":"border-gray-200 hover:border-[#224a73]/30 hover:shadow-2xl"}`,children:[t.jsxs("div",{className:"flex items-start justify-between mb-3",children:[t.jsx("div",{className:"text-4xl",children:y.icon}),y.partnerType&&t.jsx("span",{className:`text-xs px-2.5 py-1 rounded-full font-semibold flex-shrink-0 ml-2 ${y.partnerType==="individual"||y.partnerType==="franchise","bg-[#224a73]/10 text-[#224a73]"}`,children:y.partnerType==="individual"?" Individual":y.partnerType==="franchise"?" Franchise":" All Partners"})]}),t.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-[#224a73] mb-2",children:y.name}),t.jsxs("div",{className:"mb-4 sm:mb-6",children:[t.jsxs("span",{className:"text-3xl sm:text-4xl font-bold text-[#224a73]",children:["",y.price.toLocaleString("en-IN")]}),t.jsx("span",{className:"text-gray-600",children:"/month"})]}),t.jsxs("ul",{className:"space-y-2 sm:space-y-3 mb-6 sm:mb-8",children:[t.jsxs("li",{className:"flex items-center gap-2 text-sm sm:text-base text-gray-700",children:[t.jsx($e,{className:"text-green-500 flex-shrink-0"}),t.jsxs("span",{children:[y.leads," Guaranteed Leads/month"]})]}),t.jsxs("li",{className:"flex items-center gap-2 text-sm sm:text-base text-gray-700",children:[t.jsx($e,{className:"text-green-500 flex-shrink-0"}),t.jsxs("span",{children:[y.commission,"% Commission Rate"]})]}),(N=y.features)==null?void 0:N.map((S,k)=>t.jsxs("li",{className:"flex items-center gap-2 text-sm sm:text-base text-gray-700",children:[t.jsx($e,{className:"text-green-500 flex-shrink-0"}),t.jsx("span",{children:S})]},k))]}),t.jsxs(E.a,{href:"/partner/onboard",whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},className:`block w-full text-center py-3 rounded-full font-semibold transition-all duration-300 text-sm sm:text-base flex items-center justify-center gap-2 ${y.name.toLowerCase().includes("platinum")?"bg-gradient-to-r from-[#224a73] to-[#1a3a5c] text-white hover:from-[#1a3a5c] hover:to-[#224a73] shadow-lg":"bg-gradient-to-r from-gray-100 to-gray-200 text-[#224a73] hover:from-gray-200 hover:to-gray-300"}`,children:[t.jsx(Ua,{className:"w-4 h-4"}),"Choose ",y.name," Plan"]})]},y._id||y.name||v)})})]})}),t.jsx("section",{className:"py-12 sm:py-16 lg:py-20 bg-gradient-to-br from-gray-50 to-blue-50",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-12 sm:mb-16",children:[t.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-[#224a73] mb-3 sm:mb-4",children:"How to Join"}),t.jsx("p",{className:"text-lg sm:text-xl text-gray-600 max-w-2xl mx-auto mb-6",children:"Follow these simple steps to become a Nexo partner and start earning"})]}),t.jsx("div",{className:"max-w-5xl mx-auto mb-8 sm:mb-12 px-4 sm:px-4",children:t.jsxs("div",{className:"relative min-h-[200px] sm:min-h-[120px]",children:[t.jsx("div",{className:"hidden sm:block absolute top-8 left-8 right-8 h-2 bg-gray-200 rounded-full shadow-inner",children:t.jsx(E.div,{className:"h-full bg-gradient-to-r from-[#224a73] via-blue-500 to-green-500 rounded-full relative overflow-hidden",initial:{width:"0%"},animate:{width:`${l.length/h.length*100}%`},transition:{duration:.8,ease:"easeInOut"},children:t.jsx(E.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent",animate:{x:["-100%","100%"]},transition:{duration:2,repeat:1/0,ease:"linear"}})})}),t.jsxs("div",{className:"sm:hidden absolute inset-0",children:[t.jsx("div",{className:"absolute top-6 left-1/4 right-1/4 h-1 bg-gray-200 rounded-full",children:t.jsx(E.div,{className:"h-full bg-gradient-to-r from-[#224a73] to-blue-500 rounded-full",initial:{width:"0%"},animate:{width:`${l.includes(0)?"100%":n>0?"50%":"0%"}`},transition:{duration:.8,ease:"easeInOut"}})}),t.jsx("div",{className:"absolute top-1/4 bottom-1/4 left-1/2 w-1 bg-gray-200 rounded-full transform -translate-x-1/2",children:t.jsx(E.div,{className:"w-full bg-gradient-to-b from-blue-500 to-green-500 rounded-full",initial:{height:"0%"},animate:{height:`${l.includes(1)?"100%":n>1?"50%":"0%"}`},transition:{duration:.8,ease:"easeInOut"}})}),t.jsx("div",{className:"absolute bottom-6 left-1/4 right-1/4 h-1 bg-gray-200 rounded-full",children:t.jsx(E.div,{className:"h-full bg-gradient-to-r from-green-500 to-green-600 rounded-full",initial:{width:"0%"},animate:{width:`${l.includes(2)?"100%":n>2?"50%":"0%"}`},transition:{duration:.8,ease:"easeInOut"}})})]}),t.jsx("div",{className:"relative grid grid-cols-2 sm:flex sm:justify-between gap-6 sm:gap-2",children:h.map((y,v)=>{const N=y.icon,S=l.includes(v),k=n===v;return t.jsxs(E.div,{className:"flex flex-col items-center",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5,delay:v*.1},children:[t.jsxs(E.div,{className:`relative w-12 h-12 sm:w-16 sm:h-16 rounded-full flex items-center justify-center shadow-lg transition-all duration-300 ${S?"bg-gradient-to-br from-green-500 to-green-600":k?"bg-gradient-to-br from-[#224a73] to-[#1a3a5c] ring-2 sm:ring-4 ring-[#224a73]/20":"bg-gray-300"}`,children:[S?t.jsx(E.div,{initial:{scale:0},animate:{scale:1},transition:{duration:.3},children:t.jsx($e,{className:"w-6 h-6 sm:w-8 sm:h-8 text-white"})}):t.jsx(N,{className:`w-6 h-6 sm:w-8 sm:h-8 ${k?"text-white":"text-gray-600"}`}),k&&t.jsx(E.div,{className:"absolute inset-0 rounded-full bg-[#224a73]/30",animate:{scale:[1,1.2,1],opacity:[.5,0,.5]},transition:{duration:2,repeat:1/0}})]}),t.jsxs("div",{className:"mt-2 sm:mt-4 text-center max-w-24 sm:max-w-32",children:[t.jsx("h3",{className:`text-xs sm:text-sm font-bold mb-1 leading-tight ${S||k?"text-[#224a73]":"text-gray-500"}`,children:y.title.split(" ").slice(0,2).join(" ")}),t.jsx("p",{className:"text-xs text-gray-500 leading-tight hidden sm:block",children:y.description}),t.jsx(E.div,{className:`inline-block mt-1 sm:mt-2 px-1.5 sm:px-2 py-0.5 sm:py-1 rounded-full text-xs font-medium ${S?"bg-green-100 text-green-700":k?"bg-[#224a73]/10 text-[#224a73]":"bg-gray-100 text-gray-500"}`,initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:v*.1+.3},children:S?"":k?"":""})]})]},v)})})]})}),t.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center px-4",children:t.jsxs("div",{className:"bg-white rounded-xl sm:rounded-2xl shadow-lg border border-gray-200 p-4 sm:p-6 max-w-2xl mx-auto",children:[t.jsxs("h3",{className:"text-lg sm:text-xl font-bold text-[#224a73] mb-3 sm:mb-4",children:["Progress: ",l.length,"/",h.length," Steps"]}),l.length===h.length?t.jsxs(E.div,{initial:{scale:0},animate:{scale:1},transition:{duration:.5},className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-gradient-to-br from-green-500 to-green-600 rounded-full flex items-center justify-center mx-auto mb-3 sm:mb-4",children:t.jsx($e,{className:"w-8 h-8 sm:w-10 sm:h-10 text-white"})}),t.jsx("h4",{className:"text-xl sm:text-2xl font-bold text-green-600 mb-2",children:" All Steps Completed!"}),t.jsx("p",{className:"text-sm sm:text-base text-gray-600 mb-4 sm:mb-6",children:"Ready to start your Nexo partner journey"})]}):t.jsx("div",{children:t.jsxs("p",{className:"text-sm sm:text-base text-gray-600 mb-3 sm:mb-4",children:["Current: ",t.jsx("span",{className:"font-semibold text-[#224a73]",children:(w=h[n])==null?void 0:w.title})]})})]})})]})})]})},hj="https://nexo.works",Et=e=>e.startsWith("/api/")?`${hj}${e}`:`${hj}/api/partner${e}`,Ft=e=>{const r={"Content-Type":"application/json"};return e&&(r.Authorization=`Bearer ${e}`),r},It=async e=>{const r=e.headers.get("content-type"),a=r&&r.includes("application/json")?await e.json():await e.text();if(!e.ok){const n=new Error((a==null?void 0:a.message)||(a==null?void 0:a.error)||"Request failed");throw n.status=e.status,n.data=a,n}return a},jt={async sendOTP(e){const r=await fetch(Et("/auth/send-otp"),{method:"POST",headers:Ft(),body:JSON.stringify({phone:e})});return It(r)},async verifyOTP(e,r){const s=await fetch(Et("/auth/verify-otp"),{method:"POST",headers:Ft(),body:JSON.stringify({phone:e,otp:r})});return It(s)},async resendOTP(e){const r=await fetch(Et("/auth/resend-otp"),{method:"POST",headers:Ft(),body:JSON.stringify({phone:e})});return It(r)},async completeProfile(e,r){const s=new FormData;Object.keys(r).forEach(n=>{n!=="profilePicture"&&r[n]!==null&&r[n]!==void 0&&(typeof r[n]=="object"?s.append(n,JSON.stringify(r[n])):s.append(n,r[n]))}),r.profilePicture&&s.append("profilePicture",r.profilePicture);const a=await fetch(Et("/profile/complete"),{method:"POST",headers:{Authorization:`Bearer ${e}`},body:s});return It(a)},async completeKYC(e,r){const s=new FormData;r.panCard&&s.append("panCard",r.panCard),r.aadhaar&&s.append("aadhaar",r.aadhaar),r.aadhaarback&&s.append("aadhaarback",r.aadhaarback),r.chequeImage&&s.append("chequeImage",r.chequeImage),r.drivingLicence&&s.append("drivingLicence",r.drivingLicence),r.bill&&s.append("bill",r.bill),r.accountNumber&&s.append("accountNumber",r.accountNumber),r.ifscCode&&s.append("ifscCode",r.ifscCode),r.accountHolderName&&s.append("accountHolderName",r.accountHolderName),r.bankName&&s.append("bankName",r.bankName);const a=await fetch(Et("/kyc/complete"),{method:"POST",headers:{Authorization:`Bearer ${e}`},body:s});return It(a)},async completePayment(e,r){const s=await fetch(Et("/regigiste-fee"),{method:"PUT",headers:Ft(e),body:JSON.stringify(r)});return It(s)},async getProfile(e){const r=await fetch(Et("/profile"),{headers:Ft(e)});return It(r)},async updateOnboardingStep(e,r){const s=await fetch(Et("/profile/onboarding-step"),{method:"PUT",headers:Ft(e),body:JSON.stringify(r)});return It(s)},async updateProfile(e,r){if(r instanceof FormData){const s=await fetch(Et("/profile/update"),{method:"PUT",headers:{Authorization:`Bearer ${e}`},body:r});return It(s)}else{const s=await fetch(Et("/profile/update"),{method:"PUT",headers:Ft(e),body:JSON.stringify(r)});return It(s)}},async getCategories(e){const r=e?Ft(e):Ft(),s=await fetch(Et("/dropdown/categories"),{headers:r});return It(s)},async selectCategoryAndService(e,r,s){const a=await fetch(Et("/select-category-and-service"),{method:"POST",headers:Ft(e),body:JSON.stringify({category:r,services:s})});return It(a)},async getMGPlans(e,r=null){const s=Et(r?`/mg-plans?partnerType=${r}`:"/mg-plans"),a=await fetch(s,{headers:Ft(e)});return It(a)},async getCurrentPlan(e){const r=await fetch(Et("/mg-plans/current"),{headers:Ft(e)});return It(r)},async subscribeToPlan(e,r){const s=await fetch(Et("/mg-plans/subscribe"),{method:"POST",headers:Ft(e),body:JSON.stringify({planId:r})});return It(s)},async renewPlan(e){const r=await fetch(Et("/mg-plans/renew"),{method:"POST",headers:Ft(e)});return It(r)},async getPricingSettings(){const e=await fetch(`${hj}/api/registerFee/fees`,{headers:Ft()});return It(e)},async getAvailableServiceHubs(e){const r=await fetch(Et("/service-hubs/available"),{headers:Ft(e)});return It(r)},async createServiceHub(e,r){const s=await fetch(Et("/service-hubs"),{method:"POST",headers:Ft(e),body:JSON.stringify(r)});return It(s)},async assignHub(e,r){const s=await fetch(Et("/hubs/assign"),{method:"POST",headers:Ft(e),body:JSON.stringify({hubId:r})});return It(s)},async unassignHub(e,r){const s=await fetch(Et("/hubs/unassign"),{method:"POST",headers:Ft(e),body:JSON.stringify({hubId:r})});return It(s)},async getWallet(e){const r=await fetch(Et("/getWalletbypartner"),{headers:Ft(e)});return It(r)},async getTransactions(e){const r=await fetch(Et("/getAllwalletTransaction"),{headers:Ft(e)});return It(r)},async topUpWallet(e,r,s,a){const n=await fetch(Et("/wallet/topup"),{method:"POST",headers:Ft(e),body:JSON.stringify({amount:r,type:"credit",description:s||"Topup",reference:a||`TOPUP-${Date.now()}`})});return It(n)},async getBookings(e){const r=await fetch(Et("/bookings"),{headers:Ft(e)});return It(r)},async getPendingBookings(e){const r=await fetch(Et("/bookings/pending"),{headers:Ft(e)});return It(r)},async getAcceptedBookings(e){const r=await fetch(Et("/bookings/accepted/:partnerId"),{headers:Ft(e)});return It(r)},async getCompletedBookings(e){const r=await fetch(Et("/bookings/completed"),{headers:Ft(e)});return It(r)},async getProductsByCategory(e,r){const s=await fetch(Et(`/products/${r}`),{headers:Ft(e)});return It(s)},async addToCart(e,r){const s=await fetch(Et("/products/add"),{method:"POST",headers:Ft(e),body:JSON.stringify(r)});return It(s)},async getAvailableHubs(e){const r=await fetch(Et("/service-hubs/available"),{headers:Ft(e)});return It(r)},async updateKYC(e,r){const s=new FormData;r.panCard&&s.append("panCard",r.panCard),r.aadhaar&&s.append("aadhaar",r.aadhaar),r.aadhaarback&&s.append("aadhaarback",r.aadhaarback),r.chequeImage&&s.append("chequeImage",r.chequeImage),r.drivingLicence&&s.append("drivingLicence",r.drivingLicence),r.bill&&s.append("bill",r.bill),r.accountNumber&&s.append("accountNumber",r.accountNumber),r.ifscCode&&s.append("ifscCode",r.ifscCode),r.accountHolderName&&s.append("accountHolderName",r.accountHolderName),r.bankName&&s.append("bankName",r.bankName);const a=await fetch(Et("/kyc/complete"),{method:"POST",headers:{Authorization:`Bearer ${e}`},body:s});return It(a)},async selectCategoryAndService(e,r){const s=await fetch(Et("/select-category-and-service"),{method:"POST",headers:Ft(e),body:JSON.stringify(r)});return It(s)},async getTeamMembers(e){const r=await fetch(Et("/team-members"),{headers:Ft(e)});return It(r)},async addTeamMember(e,r){const s=new FormData;if(Object.keys(r).forEach(n=>{n!=="profilePicture"&&n!=="kyc"&&n!=="kycData"&&r[n]!==null&&r[n]!==void 0&&(Array.isArray(r[n])?r[n].forEach((i,l)=>{s.append(`${n}[${l}]`,i)}):s.append(n,r[n]))}),r.profilePicture&&s.append("profilePicture",r.profilePicture),r.kycData){const n=r.kycData;n.panCard&&s.append("panCard",n.panCard),n.aadhaar&&s.append("aadhaar",n.aadhaar),n.aadhaarback&&s.append("aadhaarback",n.aadhaarback),n.chequeImage&&s.append("chequeImage",n.chequeImage),n.drivingLicence&&s.append("drivingLicence",n.drivingLicence),n.bill&&s.append("bill",n.bill)}const a=await fetch(Et("/team-members"),{method:"POST",headers:{Authorization:`Bearer ${e}`},body:s});return It(a)},async updateTeamMember(e,r,s){const a=new FormData;if(Object.keys(s).forEach(i=>{i!=="profilePicture"&&i!=="kyc"&&i!=="kycData"&&s[i]!==null&&s[i]!==void 0&&(typeof s[i]=="object"&&!Array.isArray(s[i])?a.append(i,JSON.stringify(s[i])):Array.isArray(s[i])?s[i].forEach((l,o)=>{a.append(`${i}[${o}]`,l)}):a.append(i,s[i]))}),s.profilePicture&&a.append("profilePicture",s.profilePicture),s.kycData){const i=s.kycData;i.panCard&&a.append("panCard",i.panCard),i.aadhaar&&a.append("aadhaar",i.aadhaar),i.aadhaarback&&a.append("aadhaarback",i.aadhaarback),i.chequeImage&&a.append("chequeImage",i.chequeImage),i.drivingLicence&&a.append("drivingLicence",i.drivingLicence),i.bill&&a.append("bill",i.bill)}const n=await fetch(Et(`/team-members/${r}`),{method:"PUT",headers:{Authorization:`Bearer ${e}`},body:a});return It(n)},async deleteTeamMember(e,r){const s=await fetch(Et(`/team-members/${r}`),{method:"DELETE",headers:Ft(e)});return It(s)},async getTeamMemberActivities(e,r){const s=await fetch(Et(`/team-members/${r}/activities`),{headers:Ft(e)});return It(s)},async assignBookingToTeamMember(e,r,s){const a=await fetch(Et("/team-members/assign-booking"),{method:"POST",headers:Ft(e),body:JSON.stringify({bookingId:r,teamMemberId:s})});return It(a)},async verifyPartner(e){const r=await fetch(Et(`/verify/${e}`));return It(r)},async updateFCMToken(e,r){const s=await fetch(Et("/updateTokenFmc"),{method:"PUT",headers:Ft(e),body:JSON.stringify({token:r})});return It(s)},async getNotifications(e){const r=await fetch(Et("/notifications"),{headers:Ft(e)});return It(r)},async markNotificationsAsRead(e){const r=await fetch(Et("/notifications/mark-read"),{method:"PUT",headers:Ft(e)});return It(r)},async markNotificationAsRead(e,r){const s=await fetch(Et(`/notifications/${r}/mark-read`),{method:"PUT",headers:Ft(e)});return It(s)},async completeJob(e,r,s){const a=await fetch(Et(`/bookings/${r}/complete`),{method:"POST",headers:{Authorization:`Bearer ${e}`},body:s});return It(a)},async pauseJob(e,r,s){const a=await fetch(Et(`/bookings/${r}/pause`),{method:"POST",headers:Ft(e),body:JSON.stringify(s)});return It(a)},async resumeJob(e,r){const s=await fetch(Et(`/bookings/${r}/resume`),{method:"POST",headers:Ft(e)});return It(s)},async createQuotation(e,r,s){const a=await fetch(Et(`/bookings/${r}/quotation`),{method:"POST",headers:Ft(e),body:JSON.stringify(s)});return It(a)},async getQuotationsByBooking(e,r){const s=await fetch(Et(`/bookings/${r}/quotations`),{headers:Ft(e)});return It(s)},async getPartnerQuotations(e){const r=await fetch(Et("/quotations"),{headers:Ft(e)});return It(r)},async getQuotationById(e,r){const s=await fetch(Et(`/quotations/${r}`),{headers:Ft(e)});return It(s)}},MQ=()=>{const e=Qt();Zl();const[r,s]=g.useState(!1),[a,n]=g.useState([]),[i,l]=g.useState([]),[o,c]=g.useState([]),[d,u]=g.useState(!1),[m,x]=g.useState(!1),[h,p]=g.useState({name:"",phone:"",email:"",category:"",service:"",subService:"",city:"",address:"",landmark:"",pincode:"",description:"",estimatedBudget:""});g.useEffect(()=>{(async()=>{var N;u(!0);try{const C=await(await fetch("https://nexo.works/api/public/service-hierarchy")).json();if(console.log("Service hierarchy response:",C),C!=null&&C.success&&((N=C==null?void 0:C.data)!=null&&N.categories)){const P=C.data.categories.filter(_=>_.isActive!==!1).map(_=>({_id:_._id,name:_.name,services:_.services||[]}));n(P),console.log("Categories loaded:",P.length)}else C!=null&&C.data&&Array.isArray(C.data)?n(C.data):(console.warn("Unexpected data format:",C),n([]))}catch(S){console.error("Error fetching categories:",S),n([])}finally{u(!1)}})()},[]);const f=v=>{if(p(N=>({...N,category:v,service:"",subService:""})),l([]),c([]),v){const N=a.find(S=>S._id===v);N!=null&&N.services&&l(N.services||[])}},b=v=>{if(p(N=>({...N,service:v,subService:""})),c([]),v){const N=i.find(S=>S._id===v);N!=null&&N.subServices&&c(N.subServices||[])}},j=async v=>{if(v.preventDefault(),!h.name||!h.phone||!h.category||!h.city){alert("Please fill all required fields");return}x(!0);try{const k=await(await fetch("https://nexo.works/api/public/submit-service-enquiry",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)})).json();console.log("Enquiry submission response:",k),k.success?(alert("Service enquiry submitted successfully! We will contact you soon."),s(!1),p({name:"",phone:"",email:"",category:"",service:"",subService:"",city:"",address:"",landmark:"",pincode:"",description:"",estimatedBudget:""}),l([]),c([])):alert(k.message||"Failed to submit enquiry. Please try again.")}catch(N){console.error("Error submitting enquiry:",N),alert("Failed to submit enquiry. Please try again.")}finally{x(!1)}},w=[{name:"Painting",icon:""},{name:"Carpentry",icon:""},{name:"Renovation",icon:""},{name:"AC Installation",icon:""},{name:"Electrical Wiring",icon:""},{name:"Plumbing Projects",icon:""},{name:"Waterproofing",icon:""}],y=[{step:"1",title:"Customer messages on WhatsApp",description:"Verified customer sends requirement"},{step:"2",title:"We verify the requirement",description:"Quality check and validation"},{step:"3",title:"Lead is shared with max 3 partners",description:"Fair distribution to qualified partners"},{step:"4",title:"You pay per lead",description:"Only pay for genuine, verified leads"}];return t.jsxs(t.Fragment,{children:[t.jsx(En,{title:"Get Verified Leads for Your Business | Lead Marketplace | Nexo",description:"Buy verified leads for your business. Pay only for genuine leads. Categories: Painting, Carpentry, Renovation, AC Installation, Electrical Wiring, Plumbing Projects, Waterproofing.",keywords:"business leads, verified leads, service leads, contractor leads, lead generation, buy leads, qualified leads",url:"/leads"}),t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsxs("section",{className:"relative bg-gradient-to-br from-primary to-primary-dark text-white py-12 sm:py-16 lg:py-20 overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 opacity-10",children:t.jsx(E.div,{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`,backgroundRepeat:"repeat"},animate:{backgroundPosition:["0% 0%","100% 100%"]},transition:{duration:20,repeat:1/0,repeatType:"reverse"}})}),t.jsx(E.div,{className:"absolute top-20 left-10 w-40 h-40 sm:w-60 sm:h-60 bg-gradient-to-br from-white/20 to-white/5 rounded-full blur-3xl",animate:{y:[0,-30,0],x:[0,15,0],scale:[1,1.1,1]},transition:{duration:4,repeat:1/0,ease:"easeInOut"}}),t.jsx(E.div,{className:"absolute bottom-20 right-10 w-48 h-48 sm:w-72 sm:h-72 bg-gradient-to-br from-yellow-300/20 to-yellow-300/5 rounded-full blur-3xl",animate:{y:[0,-30,0],x:[0,-15,0],scale:[1,1.1,1]},transition:{duration:5,repeat:1/0,ease:"easeInOut",delay:1}}),[...Array(20)].map((v,N)=>t.jsx(E.div,{className:"absolute rounded-full z-0",style:{width:`${6+N%4*3}px`,height:`${6+N%4*3}px`,left:`${3+N*5%94}%`,top:`${8+N*4%85}%`,backgroundColor:"rgba(255, 255, 255, 0.4)"},animate:{y:[0,-150,0],x:[0,N%2===0?50:-50,0],opacity:[.4,.8,.4],scale:[1,1.5,1]},transition:{duration:8+N%4,repeat:1/0,ease:"easeInOut",delay:N*.2}},`small-${N}`)),[...Array(12)].map((v,N)=>t.jsx(E.div,{className:"absolute rounded-full blur-sm z-0",style:{width:`${14+N%3*4}px`,height:`${14+N%3*4}px`,left:`${5+N*8%90}%`,top:`${10+N*6%80}%`,backgroundColor:"rgba(255, 255, 255, 0.3)"},animate:{y:[0,-120,0],x:[0,N%2===0?60:-60,0],opacity:[.3,.6,.3],scale:[1,1.4,1]},transition:{duration:9+N%3*2,repeat:1/0,ease:"easeInOut",delay:N*.4}},`medium-${N}`)),[...Array(8)].map((v,N)=>t.jsx(E.div,{className:"absolute rounded-full blur-2xl z-0",style:{width:`${100+N%3*30}px`,height:`${100+N%3*30}px`,left:`${8+N*12%85}%`,top:`${12+N*10%75}%`,backgroundColor:"rgba(255, 255, 255, 0.2)"},animate:{y:[0,-80,0],x:[0,N%2===0?60:-60,0],scale:[1,1.3,1],opacity:[.2,.4,.2]},transition:{duration:10+N%3*2,repeat:1/0,ease:"easeInOut",delay:N*.8}},`large-${N}`)),t.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs(E.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center",children:[t.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold mb-3 sm:mb-4",children:"Get Verified Leads for Your Business"}),t.jsx("p",{className:"text-lg sm:text-xl md:text-2xl mb-6 sm:mb-8 text-white/90",children:"Pay only for genuine leads"}),t.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[t.jsx(E.button,{onClick:()=>e("/partner/onboard?from=leads"),whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"bg-white text-primary px-6 sm:px-8 py-3 sm:py-4 rounded-full text-base sm:text-lg font-semibold shadow-2xl hover:shadow-white/50 transition-all duration-300 flex items-center justify-center gap-2",children:"I am Looking for Leads"}),t.jsxs(E.button,{onClick:()=>s(!0),whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"bg-[#25D366] text-white px-6 sm:px-8 py-3 sm:py-4 rounded-full text-base sm:text-lg font-semibold shadow-2xl hover:shadow-[#25D366]/50 transition-all duration-300 flex items-center justify-center gap-2",children:[t.jsx(yr,{className:"w-5 h-5 sm:w-6 sm:h-6"}),"I am Looking for Service"]})]})]})}),t.jsx(E.div,{className:"absolute bottom-0 left-0 w-full h-20 sm:h-24 bg-gray-50 pointer-events-none",initial:{clipPath:"inset(100% 0 0 0)"},animate:{clipPath:"inset(0% 0 0 0)"},transition:{duration:1,delay:.5,ease:"easeOut"},style:{marginBottom:0}})]}),t.jsx("section",{className:"py-20 bg-white",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-16",children:[t.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-primary mb-4",children:"Categories"}),t.jsx("p",{className:"text-xl text-gray-600",children:"Choose from various service categories"})]}),t.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-6",children:w.map((v,N)=>t.jsxs(E.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{duration:.4,delay:N*.1},whileHover:{y:-5,scale:1.05},className:"bg-gradient-to-br from-primary/5 to-primary/10 p-8 rounded-xl border border-primary/20 text-center cursor-pointer hover:shadow-xl transition-all duration-300",children:[t.jsx("span",{className:"text-5xl mb-4 block",children:v.icon}),t.jsx("h3",{className:"text-xl font-bold text-primary",children:v.name})]},v.name))})]})}),t.jsx("section",{className:"py-20 bg-white",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-16",children:t.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-primary mb-4",children:"How it Works"})}),t.jsx("div",{className:"grid md:grid-cols-4 gap-8",children:y.map((v,N)=>t.jsxs(E.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:N*.2},className:"text-center",children:[t.jsx("div",{className:"w-20 h-20 bg-primary rounded-full flex items-center justify-center text-white text-3xl font-bold mx-auto mb-4",children:v.step}),t.jsx("h3",{className:"text-xl font-bold text-primary mb-2",children:v.title}),t.jsx("p",{className:"text-gray-600",children:v.description})]},N))}),t.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.8},className:"text-center mt-12",children:t.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[t.jsx(E.button,{onClick:()=>e("/partner/onboard?from=leads"),whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"bg-primary text-white px-6 sm:px-8 py-3 sm:py-4 rounded-full text-base sm:text-lg font-semibold hover:bg-primary-dark transition-all duration-300 shadow-lg hover:shadow-xl",children:"I am Looking for Leads"}),t.jsxs(E.button,{onClick:()=>s(!0),whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"bg-[#25D366] text-white px-6 sm:px-8 py-3 sm:py-4 rounded-full text-base sm:text-lg font-semibold hover:bg-[#20ba5a] transition-all duration-300 shadow-lg hover:shadow-xl flex items-center justify-center gap-2",children:[t.jsx(yr,{className:"w-5 h-5"}),"Submit Service Enquiry"]})]})})]})}),t.jsx(wl,{children:r&&t.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[10000] p-4",onClick:()=>s(!1),children:t.jsxs(E.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:v=>v.stopPropagation(),className:"bg-white rounded-2xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between z-10",children:[t.jsxs("h2",{className:"text-xl font-bold text-slate-900 flex items-center gap-2",children:[t.jsx(lj,{className:"w-5 h-5"}),"Submit Service Enquiry"]}),t.jsx("button",{onClick:()=>s(!1),className:"p-2 hover:bg-slate-100 rounded-lg transition",children:t.jsx(Rl,{className:"w-5 h-5 text-slate-600"})})]}),t.jsxs("form",{onSubmit:j,className:"p-6 space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:[t.jsx(Oc,{className:"w-4 h-4 inline mr-1"}),"Name ",t.jsx("span",{className:"text-rose-500",children:"*"})]}),t.jsx("input",{type:"text",value:h.name,onChange:v=>p(N=>({...N,name:v.target.value})),required:!0,placeholder:"Enter your name",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:[t.jsx(VN,{className:"w-4 h-4 inline mr-1"}),"Phone ",t.jsx("span",{className:"text-rose-500",children:"*"})]}),t.jsx("input",{type:"tel",value:h.phone,onChange:v=>p(N=>({...N,phone:v.target.value})),required:!0,placeholder:"Enter your phone number",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:[t.jsx(vO,{className:"w-4 h-4 inline mr-1"}),"Email"]}),t.jsx("input",{type:"email",value:h.email,onChange:v=>p(N=>({...N,email:v.target.value})),placeholder:"Enter your email",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:[t.jsx(Fl,{className:"w-4 h-4 inline mr-1"}),"City ",t.jsx("span",{className:"text-rose-500",children:"*"})]}),t.jsx("input",{type:"text",value:h.city,onChange:v=>p(N=>({...N,city:v.target.value})),required:!0,placeholder:"Enter your city",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Category ",t.jsx("span",{className:"text-rose-500",children:"*"})]}),t.jsxs("select",{value:h.category,onChange:v=>f(v.target.value),required:!0,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",children:[t.jsx("option",{value:"",children:"Select Category"}),a.map(v=>t.jsx("option",{value:v._id,children:v.name},v._id))]})]}),i.length>0&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Service"}),t.jsxs("select",{value:h.service,onChange:v=>b(v.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",children:[t.jsx("option",{value:"",children:"Select Service"}),i.map(v=>t.jsx("option",{value:v._id,children:v.name},v._id))]})]}),o.length>0&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Sub Service"}),t.jsxs("select",{value:h.subService,onChange:v=>p(N=>({...N,subService:v.target.value})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",children:[t.jsx("option",{value:"",children:"Select Sub Service"}),o.map(v=>t.jsx("option",{value:v._id,children:v.name},v._id))]})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:[t.jsx(Fl,{className:"w-4 h-4 inline mr-1"}),"Address"]}),t.jsx("input",{type:"text",value:h.address,onChange:v=>p(N=>({...N,address:v.target.value})),placeholder:"Enter full address",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Landmark"}),t.jsx("input",{type:"text",value:h.landmark,onChange:v=>p(N=>({...N,landmark:v.target.value})),placeholder:"Enter landmark",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Pincode"}),t.jsx("input",{type:"text",value:h.pincode,onChange:v=>p(N=>({...N,pincode:v.target.value})),placeholder:"Enter pincode",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Estimated Budget ()"}),t.jsx("input",{type:"number",value:h.estimatedBudget,onChange:v=>p(N=>({...N,estimatedBudget:v.target.value})),placeholder:"Enter estimated budget",min:"0",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:[t.jsx(lj,{className:"w-4 h-4 inline mr-1"}),"Description"]}),t.jsx("textarea",{value:h.description,onChange:v=>p(N=>({...N,description:v.target.value})),placeholder:"Describe your service requirement in detail",rows:"4",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]})]}),t.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200",children:[t.jsx("button",{type:"button",onClick:()=>s(!1),className:"flex-1 px-4 py-2 border border-slate-300 rounded-lg text-slate-700 font-semibold hover:bg-slate-50 transition",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:m,className:"flex-1 px-4 py-2 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed inline-flex items-center justify-center gap-2",children:m?t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"animate-spin",children:""}),"Submitting..."]}):t.jsxs(t.Fragment,{children:[t.jsx(yr,{className:"w-4 h-4"}),"Submit Enquiry"]})})]})]})]})})})]})]})},LQ=()=>{const e=Zl(),[r,s]=g.useState([]),[a,n]=g.useState(!0);return g.useEffect(()=>{(async()=>{try{const c=await(await fetch("https://nexo.works/api/public/material-categories")).json();if(c!=null&&c.success&&(c!=null&&c.data)&&Array.isArray(c.data)){const d=c.data.map(u=>({name:u.name,icon:u.icon,items:u.items||[]}));s(d)}else s([{name:"Plumbing materials",icon:"",items:["Pipes","Fittings","Taps","Valves","Sealants"]},{name:"Switchboards and cables",icon:"",items:["MCB","Wires","Switches","Sockets","Cable trays"]},{name:"Painting supplies",icon:"",items:["Paints","Brushes","Primers","Thinners","Putty"]},{name:"AC gas",icon:"",items:["R22","R410A","R32","Compressors","Filters"]},{name:"Hardware items",icon:"",items:["Screws","Nails","Hinges","Locks","Handles"]}])}catch(l){console.error("Error fetching material categories:",l),s([{name:"Plumbing materials",icon:"",items:["Pipes","Fittings","Taps","Valves","Sealants"]},{name:"Switchboards and cables",icon:"",items:["MCB","Wires","Switches","Sockets","Cable trays"]},{name:"Painting supplies",icon:"",items:["Paints","Brushes","Primers","Thinners","Putty"]},{name:"AC gas",icon:"",items:["R22","R410A","R32","Compressors","Filters"]},{name:"Hardware items",icon:"",items:["Screws","Nails","Hinges","Locks","Handles"]}])}finally{n(!1)}})()},[]),t.jsxs(t.Fragment,{children:[t.jsx(En,{title:"Materials for Technicians | Order Materials on WhatsApp | Nexo",description:"Order materials instantly on WhatsApp. Plumbing materials, switchboards, cables, painting supplies, AC gas, hardware items. Best prices, instant delivery, quality assured.",keywords:"technician materials, plumbing materials, electrical supplies, painting supplies, AC gas, hardware items, material store",url:"/materials"}),t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsxs("section",{className:"relative bg-gradient-to-br from-primary to-primary-dark text-white py-12 sm:py-16 lg:py-20 overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 opacity-10",children:t.jsx(E.div,{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`,backgroundRepeat:"repeat"},animate:{backgroundPosition:["0% 0%","100% 100%"]},transition:{duration:20,repeat:1/0,repeatType:"reverse"}})}),t.jsx(E.div,{className:"absolute top-20 left-10 w-40 h-40 sm:w-60 sm:h-60 bg-gradient-to-br from-white/20 to-white/5 rounded-full blur-3xl",animate:{y:[0,-30,0],x:[0,15,0],scale:[1,1.1,1]},transition:{duration:4,repeat:1/0,ease:"easeInOut"}}),t.jsx(E.div,{className:"absolute bottom-20 right-10 w-48 h-48 sm:w-72 sm:h-72 bg-gradient-to-br from-yellow-300/20 to-yellow-300/5 rounded-full blur-3xl",animate:{y:[0,-30,0],x:[0,-15,0],scale:[1,1.1,1]},transition:{duration:5,repeat:1/0,ease:"easeInOut",delay:1}}),[...Array(20)].map((i,l)=>t.jsx(E.div,{className:"absolute bg-white/30 rounded-full",style:{width:`${6+l%4*3}px`,height:`${6+l%4*3}px`,left:`${3+l*5%94}%`,top:`${8+l*4%85}%`},animate:{y:[0,-150,0],x:[0,l%2===0?50:-50,0],opacity:[.2,.6,.2],scale:[1,1.5,1]},transition:{duration:8+l%4,repeat:1/0,ease:"easeInOut",delay:l*.2}},`small-${l}`)),[...Array(12)].map((i,l)=>t.jsx(E.div,{className:"absolute bg-white/20 rounded-full blur-sm",style:{width:`${14+l%3*4}px`,height:`${14+l%3*4}px`,left:`${5+l*8%90}%`,top:`${10+l*6%80}%`},animate:{y:[0,-120,0],x:[0,l%2===0?60:-60,0],opacity:[.15,.4,.15],scale:[1,1.4,1]},transition:{duration:9+l%3*2,repeat:1/0,ease:"easeInOut",delay:l*.4}},`medium-${l}`)),[...Array(8)].map((i,l)=>t.jsx(E.div,{className:"absolute bg-white/10 rounded-full blur-2xl",style:{width:`${100+l%3*30}px`,height:`${100+l%3*30}px`,left:`${8+l*12%85}%`,top:`${12+l*10%75}%`},animate:{y:[0,-80,0],x:[0,l%2===0?60:-60,0],scale:[1,1.3,1],opacity:[.1,.3,.1]},transition:{duration:10+l%3*2,repeat:1/0,ease:"easeInOut",delay:l*.8}},`large-${l}`)),t.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs(E.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center",children:[t.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold mb-3 sm:mb-4",children:"Materials for Technicians"}),t.jsx("p",{className:"text-lg sm:text-xl md:text-2xl mb-6 sm:mb-8 text-white/90",children:"Order materials instantly on WhatsApp"}),t.jsx("div",{className:"flex justify-center",children:t.jsxs(E.button,{onClick:e,whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"bg-[#25D366] text-white px-6 sm:px-8 py-3 sm:py-4 rounded-full text-base sm:text-lg font-semibold shadow-2xl hover:shadow-[#25D366]/50 transition-all duration-300 flex items-center gap-2",children:[t.jsx(yr,{className:"w-5 h-5 sm:w-6 sm:h-6"}),"Order Materials on WhatsApp"]})})]})}),t.jsx(E.div,{className:"absolute bottom-0 left-0 w-full h-24 sm:h-28 bg-gradient-to-b from-gray-50 to-white pointer-events-none",initial:{clipPath:"inset(100% 0 0 0)"},animate:{clipPath:"inset(0% 0 0 0)"},transition:{duration:1,delay:.5,ease:"easeOut"},style:{marginBottom:0},children:t.jsx("svg",{className:"absolute bottom-0 left-0 w-full h-full",viewBox:"0 0 1440 120",fill:"none",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none",children:t.jsx("path",{d:"M0,60 C240,100 480,20 720,60 C960,100 1200,20 1440,60 L1440,120 L0,120 Z",fill:"white",className:"animate-pulse"})})})]}),t.jsxs("section",{className:"py-20 bg-gradient-to-b from-white via-gray-50/50 to-white relative overflow-hidden",children:[t.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[t.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-primary/5 rounded-full blur-3xl"}),t.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-primary/5 rounded-full blur-3xl"})]}),t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-16",children:[t.jsx(E.div,{initial:{scale:.9},whileInView:{scale:1},viewport:{once:!0},transition:{duration:.5},className:"inline-block mb-4",children:t.jsx("span",{className:"text-6xl",children:""})}),t.jsx("h2",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-primary mb-4",children:"Available Materials"}),t.jsx("p",{className:"text-xl md:text-2xl text-gray-600 max-w-2xl mx-auto",children:"Everything you need for your service jobs - Quality materials at competitive prices"})]}),a?t.jsxs("div",{className:"text-center py-20",children:[t.jsx(E.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"inline-block w-16 h-16 border-4 border-primary border-t-transparent rounded-full"}),t.jsx("p",{className:"mt-6 text-lg text-gray-600 font-medium",children:"Loading materials..."})]}):r.length===0?t.jsx("div",{className:"text-center py-20",children:t.jsx("p",{className:"text-xl text-gray-500",children:"No materials available at the moment."})}):t.jsx("div",{className:"grid sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8",children:r.map((i,l)=>t.jsxs(E.div,{initial:{opacity:0,y:40,scale:.95},whileInView:{opacity:1,y:0,scale:1},viewport:{once:!0,margin:"-50px"},transition:{duration:.5,delay:l*.12,type:"spring",stiffness:100},whileHover:{y:-10,scale:1.02,transition:{duration:.3}},className:"group relative bg-white rounded-2xl border-2 border-gray-100 hover:border-primary/40 shadow-lg hover:shadow-2xl transition-all duration-300 overflow-hidden",children:[t.jsx(E.div,{className:"absolute inset-0 bg-gradient-to-br from-primary/0 to-primary/0 group-hover:from-primary/8 group-hover:to-transparent pointer-events-none",initial:!1,animate:{backgroundPosition:["0% 0%","100% 100%"]},transition:{duration:3,repeat:1/0,repeatType:"reverse"}}),t.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-primary via-primary-light to-primary overflow-hidden",children:t.jsx(E.div,{className:"h-full w-1/3 bg-gradient-to-r from-transparent via-white/60 to-transparent",animate:{x:["-100%","300%"]},transition:{duration:2,repeat:1/0,repeatDelay:3,ease:"easeInOut"}})}),t.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none",children:[...Array(4)].map((o,c)=>t.jsx(E.div,{className:"absolute w-1 h-1 bg-primary/40 rounded-full",style:{left:`${25+c*20}%`,top:`${40+c%2*20}%`},animate:{y:[0,-20,0],opacity:[.4,.8,.4],scale:[1,1.5,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut",delay:c*.3}},c))}),t.jsxs("div",{className:"relative p-6 lg:p-7",children:[t.jsxs(E.div,{whileHover:{scale:1.15,rotate:8},transition:{type:"spring",stiffness:300,damping:15},className:"relative w-20 h-20 mx-auto mb-5",children:[t.jsx(E.div,{className:"absolute inset-0 bg-primary/20 rounded-full blur-xl",animate:{scale:[1,1.2,1],opacity:[.3,.5,.3]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}}),t.jsx("div",{className:"relative w-full h-full bg-gradient-to-br from-primary/10 to-primary/5 group-hover:from-primary/20 group-hover:to-primary/10 rounded-2xl flex items-center justify-center shadow-sm transition-all duration-300",children:t.jsx("span",{className:"text-5xl",children:i.icon})})]}),t.jsxs("div",{className:"text-center mb-5",children:[t.jsx("h3",{className:"text-2xl font-bold text-gray-800 group-hover:text-primary transition-colors mb-2",children:i.name}),t.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 bg-primary/10 rounded-full text-xs font-semibold text-primary",children:[t.jsx("span",{className:"w-1.5 h-1.5 bg-primary rounded-full"}),i.items.length," Items Available"]})]}),t.jsx("div",{className:"mb-6 space-y-2 max-h-[260px] overflow-y-auto pr-1 scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-transparent",children:i.items.map((o,c)=>{const d=typeof o=="string"?o:o.name,u=typeof o=="object"&&(o.priceMin||o.priceMax);return t.jsxs(E.div,{initial:{opacity:0,x:-10},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{delay:c*.05},className:"flex items-center justify-between p-3 bg-gray-50 hover:bg-primary/5 rounded-lg border border-gray-100 hover:border-primary/20 transition-all duration-200 group/item",children:[t.jsxs("div",{className:"flex items-center gap-2.5 flex-1 min-w-0",children:[t.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-primary/10 group-hover/item:bg-primary rounded-full flex items-center justify-center transition-colors",children:t.jsx("span",{className:"text-[10px] font-bold text-primary group-hover/item:text-white",children:c+1})}),t.jsx("span",{className:"text-sm font-semibold text-gray-700 group-hover/item:text-primary transition-colors truncate",children:d})]}),u&&t.jsxs("div",{className:"flex-shrink-0 flex items-center gap-1 px-2.5 py-1 bg-emerald-50 border border-emerald-200 rounded-md ml-2",children:[t.jsxs("span",{className:"text-xs font-bold text-emerald-700",children:["",o.priceMin||"0"]}),t.jsx("span",{className:"text-xs text-emerald-600",children:"-"}),t.jsxs("span",{className:"text-xs font-bold text-emerald-700",children:["",o.priceMax||""]})]})]},`${d}-${c}`)})}),t.jsxs(E.button,{onClick:e,whileHover:{scale:1.03,y:-2},whileTap:{scale:.97},className:"w-full bg-gradient-to-r from-[#25D366] to-[#20BA5A] hover:from-[#20BA5A] hover:to-[#1DA851] text-white py-3.5 rounded-xl font-bold text-base flex items-center justify-center gap-2.5 shadow-lg hover:shadow-xl transition-all duration-300 relative overflow-hidden group/btn",children:[t.jsx(E.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent",animate:{x:["-100%","200%"]},transition:{duration:2,repeat:1/0,repeatDelay:2,ease:"easeInOut"}}),t.jsx(E.div,{className:"absolute inset-0 bg-white/10 rounded-xl",animate:{scale:[1,1.05,1],opacity:[0,.5,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}}),t.jsx(E.div,{animate:{rotate:[0,10,-10,0]},transition:{duration:.5,repeat:1/0,repeatDelay:3},children:t.jsx(yr,{className:"w-5 h-5 relative z-10"})}),t.jsx("span",{className:"relative z-10",children:"Order on WhatsApp"}),t.jsx(E.svg,{className:"w-4 h-4 relative z-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:3,animate:{x:[0,3,0]},transition:{duration:1,repeat:1/0,ease:"easeInOut"},children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})]}),t.jsx("div",{className:"absolute bottom-0 right-0 w-24 h-24 bg-primary/5 rounded-tl-full opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]},`${i.name}-${l}`))})]})]}),t.jsxs("section",{className:"py-24 md:py-32 bg-gradient-to-br from-primary via-primary-dark to-[#153a5a] text-white relative overflow-hidden",children:[t.jsx(E.div,{className:"absolute top-0 left-0 w-96 h-96 bg-white/10 rounded-full blur-3xl",animate:{x:[0,100,0],y:[0,50,0],scale:[1,1.2,1]},transition:{duration:20,repeat:1/0,ease:"easeInOut"}}),t.jsx(E.div,{className:"absolute bottom-0 right-0 w-96 h-96 bg-yellow-300/10 rounded-full blur-3xl",animate:{x:[0,-100,0],y:[0,-50,0],scale:[1,1.2,1]},transition:{duration:25,repeat:1/0,ease:"easeInOut",delay:2}}),t.jsx("div",{className:"absolute inset-0 opacity-5",children:t.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='1'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`,backgroundRepeat:"repeat"}})}),[...Array(15)].map((i,l)=>t.jsx(E.div,{className:"absolute bg-white/20 rounded-full",style:{width:`${4+l%3*2}px`,height:`${4+l%3*2}px`,left:`${l*7%100}%`,top:`${l*5%100}%`},animate:{y:[0,-100,0],x:[0,l%2===0?30:-30,0],opacity:[.2,.6,.2]},transition:{duration:8+l%4,repeat:1/0,ease:"easeInOut",delay:l*.3}},`particle-${l}`)),t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[t.jsxs(E.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"text-center mb-16 md:mb-20",children:[t.jsx(E.div,{initial:{scale:0,rotate:-180},whileInView:{scale:1,rotate:0},viewport:{once:!0},transition:{duration:.8,type:"spring",stiffness:200},className:"inline-flex items-center justify-center w-20 h-20 mb-6 bg-white/10 backdrop-blur-sm rounded-full border-2 border-white/20",children:t.jsx("span",{className:"text-4xl",children:""})}),t.jsxs(E.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8,delay:.2},className:"text-5xl md:text-6xl lg:text-7xl font-extrabold mb-6 leading-tight",children:[t.jsx("span",{className:"block bg-gradient-to-r from-white via-yellow-200 to-white bg-clip-text text-transparent animate-pulse",children:"Earn more."}),t.jsx("span",{className:"block bg-gradient-to-r from-yellow-200 via-white to-yellow-200 bg-clip-text text-transparent",children:"Work faster."})]}),t.jsx(E.p,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8,delay:.4},className:"text-xl md:text-2xl text-white/90 max-w-3xl mx-auto leading-relaxed",children:"Get everything you need to complete jobs efficiently and profitably"}),t.jsx(E.div,{initial:{width:0},whileInView:{width:"100px"},viewport:{once:!0},transition:{duration:.8,delay:.6},className:"mx-auto mt-8 h-1 bg-gradient-to-r from-transparent via-yellow-300 to-transparent"})]}),t.jsxs("div",{className:"grid sm:grid-cols-1 md:grid-cols-3 gap-6 lg:gap-8 max-w-6xl mx-auto",children:[t.jsxs(E.div,{initial:{opacity:0,y:50,rotateX:-15},whileInView:{opacity:1,y:0,rotateX:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.8,type:"spring",stiffness:100},whileHover:{y:-12,scale:1.03,rotateY:5,transition:{duration:.3}},className:"group relative bg-white/10 backdrop-blur-md border-2 border-white/20 p-8 lg:p-10 rounded-3xl text-center hover:bg-white/15 hover:border-white/30 transition-all duration-500 overflow-hidden shadow-2xl",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-yellow-400/0 to-yellow-400/0 group-hover:from-yellow-400/20 group-hover:to-yellow-400/10 transition-all duration-500 rounded-3xl"}),t.jsx("div",{className:"absolute inset-0 rounded-3xl opacity-0 group-hover:opacity-100 transition-opacity duration-500",children:t.jsx("div",{className:"absolute inset-0 rounded-3xl bg-gradient-to-r from-yellow-300/50 via-transparent to-yellow-300/50 animate-pulse"})}),t.jsxs(E.div,{animate:{rotate:[0,10,-10,0],scale:[1,1.1,1]},transition:{duration:3,repeat:1/0,repeatDelay:2,ease:"easeInOut"},className:"relative mb-8 flex items-center justify-center",children:[t.jsx("div",{className:"absolute inset-0 bg-yellow-400/20 rounded-full blur-2xl group-hover:blur-3xl transition-all duration-500"}),t.jsx("div",{className:"relative w-24 h-24 bg-gradient-to-br from-yellow-300/30 to-yellow-500/20 rounded-2xl flex items-center justify-center border-2 border-yellow-300/30 group-hover:border-yellow-300/50 transition-all duration-300",children:t.jsx("span",{className:"text-6xl",children:""})})]}),t.jsx("h3",{className:"text-3xl font-bold mb-4 relative z-10 group-hover:text-yellow-200 transition-colors duration-300",children:"Instant Delivery"}),t.jsx("p",{className:"text-white/80 leading-relaxed text-lg relative z-10",children:"Get materials delivered directly to your job site - no delays, no hassle"}),t.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-transparent via-yellow-300 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"})]}),t.jsxs(E.div,{initial:{opacity:0,y:50,rotateX:-15},whileInView:{opacity:1,y:0,rotateX:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.8,delay:.2,type:"spring",stiffness:100},whileHover:{y:-12,scale:1.03,rotateY:5,transition:{duration:.3}},className:"group relative bg-white/10 backdrop-blur-md border-2 border-white/20 p-8 lg:p-10 rounded-3xl text-center hover:bg-white/15 hover:border-white/30 transition-all duration-500 overflow-hidden shadow-2xl",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-400/0 to-emerald-400/0 group-hover:from-emerald-400/20 group-hover:to-emerald-400/10 transition-all duration-500 rounded-3xl"}),t.jsx("div",{className:"absolute inset-0 rounded-3xl opacity-0 group-hover:opacity-100 transition-opacity duration-500",children:t.jsx("div",{className:"absolute inset-0 rounded-3xl bg-gradient-to-r from-emerald-300/50 via-transparent to-emerald-300/50 animate-pulse"})}),t.jsxs(E.div,{animate:{scale:[1,1.15,1],rotate:[0,5,-5,0]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},className:"relative mb-8 flex items-center justify-center",children:[t.jsx("div",{className:"absolute inset-0 bg-emerald-400/20 rounded-full blur-2xl group-hover:blur-3xl transition-all duration-500"}),t.jsx("div",{className:"relative w-24 h-24 bg-gradient-to-br from-emerald-300/30 to-emerald-500/20 rounded-2xl flex items-center justify-center border-2 border-emerald-300/30 group-hover:border-emerald-300/50 transition-all duration-300",children:t.jsx("span",{className:"text-6xl",children:""})})]}),t.jsx("h3",{className:"text-3xl font-bold mb-4 relative z-10 group-hover:text-emerald-200 transition-colors duration-300",children:"Best Prices"}),t.jsx("p",{className:"text-white/80 leading-relaxed text-lg relative z-10",children:"Competitive pricing for all materials - maximize your profit margins"}),t.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-transparent via-emerald-300 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"})]}),t.jsxs(E.div,{initial:{opacity:0,y:50,rotateX:-15},whileInView:{opacity:1,y:0,rotateX:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.8,delay:.4,type:"spring",stiffness:100},whileHover:{y:-12,scale:1.03,rotateY:5,transition:{duration:.3}},className:"group relative bg-white/10 backdrop-blur-md border-2 border-white/20 p-8 lg:p-10 rounded-3xl text-center hover:bg-white/15 hover:border-white/30 transition-all duration-500 overflow-hidden shadow-2xl",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-400/0 to-blue-400/0 group-hover:from-blue-400/20 group-hover:to-blue-400/10 transition-all duration-500 rounded-3xl"}),t.jsx("div",{className:"absolute inset-0 rounded-3xl opacity-0 group-hover:opacity-100 transition-opacity duration-500",children:t.jsx("div",{className:"absolute inset-0 rounded-3xl bg-gradient-to-r from-blue-300/50 via-transparent to-blue-300/50 animate-pulse"})}),t.jsxs(E.div,{animate:{rotate:[0,-8,8,0],scale:[1,1.1,1]},transition:{duration:3,repeat:1/0,repeatDelay:1.5,ease:"easeInOut"},className:"relative mb-8 flex items-center justify-center",children:[t.jsx("div",{className:"absolute inset-0 bg-blue-400/20 rounded-full blur-2xl group-hover:blur-3xl transition-all duration-500"}),t.jsx("div",{className:"relative w-24 h-24 bg-gradient-to-br from-blue-300/30 to-blue-500/20 rounded-2xl flex items-center justify-center border-2 border-blue-300/30 group-hover:border-blue-300/50 transition-all duration-300",children:t.jsx("span",{className:"text-6xl",children:""})})]}),t.jsx("h3",{className:"text-3xl font-bold mb-4 relative z-10 group-hover:text-blue-200 transition-colors duration-300",children:"Quality Assured"}),t.jsx("p",{className:"text-white/80 leading-relaxed text-lg relative z-10",children:"Verified and tested materials only - quality you can trust"}),t.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-transparent via-blue-300 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"})]})]})]})]})]})]})},FQ=()=>{const e=Zl(),r=[{icon:"",text:"Service in 2040 minutes"},{icon:"",text:"Available 24/7"},{icon:"",text:"Verified emergency technicians"},{icon:"",text:"You keep 50% commission"}],s=[{name:"Electrical Emergency",icon:"",description:"Power outage, short circuit, electrical fire risk"},{name:"Plumbing Emergency",icon:"",description:"Burst pipe, severe leak, blocked drain"},{name:"AC Emergency",icon:"",description:"AC breakdown, gas leak, compressor failure"},{name:"Lockout Emergency",icon:"",description:"Locked out, broken lock, key stuck"}];return t.jsxs(t.Fragment,{children:[t.jsx(En,{title:"Emergency Service in 20-40 Minutes | 24/7 Available | Nexo",description:"Emergency home service available 24/7. Get help in 20-40 minutes for electrical, plumbing, AC, and lockout emergencies. Response under 2 minutes. Verified technicians.",keywords:"emergency service, 24/7 service, urgent repair, emergency plumber, emergency electrician, midnight service, emergency AC repair",url:"/emergency"}),t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsxs("section",{className:"relative bg-gradient-to-br from-red-600 to-red-800 text-white py-12 sm:py-16 lg:py-20 overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 opacity-10",children:t.jsx(E.div,{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`,backgroundRepeat:"repeat"},animate:{backgroundPosition:["0% 0%","100% 100%"]},transition:{duration:20,repeat:1/0,repeatType:"reverse"}})}),t.jsx(E.div,{className:"absolute top-20 left-10 w-40 h-40 sm:w-60 sm:h-60 bg-gradient-to-br from-white/20 to-white/5 rounded-full blur-3xl",animate:{y:[0,-30,0],x:[0,15,0],scale:[1,1.1,1]},transition:{duration:4,repeat:1/0,ease:"easeInOut"}}),t.jsx(E.div,{className:"absolute bottom-20 right-10 w-48 h-48 sm:w-72 sm:h-72 bg-gradient-to-br from-yellow-300/20 to-yellow-300/5 rounded-full blur-3xl",animate:{y:[0,-30,0],x:[0,-15,0],scale:[1,1.1,1]},transition:{duration:5,repeat:1/0,ease:"easeInOut",delay:1}}),[...Array(20)].map((a,n)=>t.jsx(E.div,{className:"absolute bg-white/30 rounded-full",style:{width:`${6+n%4*3}px`,height:`${6+n%4*3}px`,left:`${3+n*5%94}%`,top:`${8+n*4%85}%`},animate:{y:[0,-150,0],x:[0,n%2===0?50:-50,0],opacity:[.2,.6,.2],scale:[1,1.5,1]},transition:{duration:8+n%4,repeat:1/0,ease:"easeInOut",delay:n*.2}},`small-${n}`)),[...Array(12)].map((a,n)=>t.jsx(E.div,{className:"absolute bg-white/20 rounded-full blur-sm",style:{width:`${14+n%3*4}px`,height:`${14+n%3*4}px`,left:`${5+n*8%90}%`,top:`${10+n*6%80}%`},animate:{y:[0,-120,0],x:[0,n%2===0?60:-60,0],opacity:[.15,.4,.15],scale:[1,1.4,1]},transition:{duration:9+n%3*2,repeat:1/0,ease:"easeInOut",delay:n*.4}},`medium-${n}`)),[...Array(8)].map((a,n)=>t.jsx(E.div,{className:"absolute bg-white/10 rounded-full blur-2xl",style:{width:`${100+n%3*30}px`,height:`${100+n%3*30}px`,left:`${8+n*12%85}%`,top:`${12+n*10%75}%`},animate:{y:[0,-80,0],x:[0,n%2===0?60:-60,0],scale:[1,1.3,1],opacity:[.1,.3,.1]},transition:{duration:10+n%3*2,repeat:1/0,ease:"easeInOut",delay:n*.8}},`large-${n}`)),t.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs(E.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center",children:[t.jsx(E.div,{animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},className:"text-5xl sm:text-6xl mb-4",children:""}),t.jsx("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-bold mb-3 sm:mb-4",children:"Emergency Service"}),t.jsx("p",{className:"text-xl sm:text-2xl md:text-3xl mb-2",children:"in 2040 minutes"}),t.jsx("p",{className:"text-lg sm:text-xl mb-6 sm:mb-8 text-white/90",children:"For midnight or urgent needs"}),t.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-2xl p-5 sm:p-6 max-w-2xl mx-auto mb-6 sm:mb-8",children:[t.jsx("p",{className:"text-base sm:text-lg mb-2",children:"Emergency Charge: 199499"}),t.jsx("p",{className:"text-base sm:text-lg",children:"You keep 50 percent commission"})]}),t.jsx("div",{className:"flex justify-center",children:t.jsxs(E.button,{onClick:e,whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"bg-[#25D366] text-white px-6 sm:px-8 py-3 sm:py-4 rounded-full text-base sm:text-lg font-semibold shadow-2xl hover:shadow-[#25D366]/50 transition-all duration-300 flex items-center gap-2",children:[t.jsx(yr,{className:"w-5 h-5 sm:w-6 sm:h-6"}),"Request Emergency Service"]})})]})}),t.jsx(E.div,{className:"absolute bottom-0 left-0 w-full h-20 sm:h-24 bg-gray-50 pointer-events-none",initial:{clipPath:"inset(100% 0 0 0)"},animate:{clipPath:"inset(0% 0 0 0)"},transition:{duration:1,delay:.5,ease:"easeOut"},style:{marginBottom:0}})]}),t.jsx("section",{className:"py-20 bg-white",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-16",children:t.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-primary mb-4",children:"Why Choose Emergency Service"})}),t.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-6",children:r.map((a,n)=>t.jsxs(E.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{duration:.5,delay:n*.1},className:"bg-gradient-to-br from-red-50 to-red-100 p-6 rounded-xl border-2 border-red-200 text-center",children:[t.jsx("span",{className:"text-5xl mb-4 block",children:a.icon}),t.jsx("p",{className:"text-lg font-semibold text-gray-800",children:a.text})]},n))})]})}),t.jsx("section",{className:"py-20 bg-gray-50",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-16",children:[t.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-primary mb-4",children:"Emergency Types"}),t.jsx("p",{className:"text-xl text-gray-600",children:"We handle all types of emergencies"})]}),t.jsx("div",{className:"grid md:grid-cols-2 gap-8",children:s.map((a,n)=>t.jsxs(E.div,{initial:{opacity:0,x:n%2===0?-30:30},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6,delay:n*.1},whileHover:{scale:1.02},className:"bg-white p-8 rounded-2xl shadow-lg border-l-4 border-red-500",children:[t.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[t.jsx("span",{className:"text-5xl",children:a.icon}),t.jsx("h3",{className:"text-2xl font-bold text-primary",children:a.name})]}),t.jsx("p",{className:"text-gray-600 text-lg",children:a.description})]},a.name))})]})}),t.jsx("section",{className:"py-20 bg-gradient-to-br from-red-600 to-red-800 text-white",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:[t.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Need Help Right Now?"}),t.jsx("p",{className:"text-xl mb-8 text-white/90",children:"Our emergency team is ready 24/7"}),t.jsx("div",{className:"flex justify-center",children:t.jsxs(E.button,{onClick:e,whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"bg-white text-red-600 px-6 sm:px-8 py-3 sm:py-4 rounded-full text-base sm:text-lg font-semibold hover:bg-gray-100 transition-all duration-300 shadow-2xl hover:shadow-white/50 flex items-center gap-2",children:[t.jsx(yr,{className:"w-5 h-5"}),"Call Emergency Service"]})})]})})})]})]})},UC="https://nexo.works",JN=({amount:e,orderData:r,onSuccess:s,onFailure:a,onCancel:n,title:i="Complete Payment",description:l="Secure payment powered by PayU"})=>{const{user:o,isAuthenticated:c}=an(),[d,u]=g.useState(!1),[m,x]=g.useState("card"),[h,p]=g.useState(null),[f,b]=g.useState(!1);g.useRef(null);const j=async()=>{try{const y=localStorage.getItem("userToken");if(!y)throw new Error("User not authenticated");const v=(r==null?void 0:r.planId)||(r==null?void 0:r.planName),N=v?`${UC}/api/user/subscription/initiate-payment`:`${UC}/api/user-payment/initiate-payment`,S=v?{planId:r.planId,productinfo:(r==null?void 0:r.productinfo)||"Subscription Payment"}:{amount:e,phone:o.phone||"",name:o.name||"",email:o.email||"",productinfo:(r==null?void 0:r.productinfo)||"Service Payment",userId:o._id||o.userId};return(await Pt.post(N,S,{headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"}})).data}catch(y){throw console.error("Initiate payment error:",y),y}},w=async()=>{var y,v;if(!c||!o){p("Please login to continue with payment");return}u(!0),p(null);try{const N=await j();if(!N.success)throw new Error(N.message||"Failed to initiate payment");const{data:S}=N,k=document.createElement("form");k.method="POST",k.action=S.action,k.style.display="none";const C={key:S.key,txnid:S.txnid,amount:S.amount,productinfo:S.productinfo,firstname:S.firstname,email:S.email,phone:S.phone,surl:S.surl,furl:S.furl,hash:S.hash};Object.keys(C).forEach(P=>{const _=document.createElement("input");_.type="hidden",_.name=P,_.value=C[P],k.appendChild(_)}),document.body.appendChild(k),b(!0),k.submit(),document.body.removeChild(k)}catch(N){console.error("Payment initiation error:",N),p(((v=(y=N.response)==null?void 0:y.data)==null?void 0:v.message)||N.message||"Payment failed"),u(!1),a&&a(N)}};return g.useEffect(()=>{const y=()=>{const v=new URLSearchParams(window.location.search),N=v.get("status"),S=v.get("txnid"),k=v.get("payid");if(N==="success"&&S)s&&s({txnid:S,payid:k,status:"success"});else if(N==="failed"){const C=v.get("reason")||"Payment failed";a&&a({message:C})}};return y(),window.addEventListener("popstate",y),()=>{window.removeEventListener("popstate",y)}},[s,a]),t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-200 overflow-hidden relative",children:[n&&t.jsx("button",{onClick:n,className:"absolute top-4 right-4 z-10 w-10 h-10 flex items-center justify-center bg-gray-100 hover:bg-gray-200 rounded-full transition text-gray-700 shadow-lg",children:t.jsx(Rl,{})}),t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("p",{className:"text-gray-600 text-sm mb-2",children:"Amount to Pay"}),t.jsxs("div",{className:"flex items-center justify-center gap-1",children:[t.jsx(Ad,{className:"text-primary text-2xl"}),t.jsx("span",{className:"text-4xl font-bold text-gray-900",children:e.toLocaleString("en-IN")})]})]}),h&&t.jsxs(E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Rl,{className:"text-red-500"}),t.jsx("span",{className:"text-red-700 font-medium",children:"Payment Error"})]}),t.jsx("p",{className:"text-red-600 text-sm mt-1",children:h})]}),t.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(Qo,{className:"text-green-600"}),t.jsx("span",{className:"text-green-800 font-semibold text-sm",children:"Secure Payment"})]}),t.jsx("p",{className:"text-green-700 text-xs",children:"Your payment information is encrypted and secure. We use industry-standard security measures."})]}),t.jsx(E.button,{onClick:w,disabled:d||f,whileHover:{scale:d?1:1.02},whileTap:{scale:d?1:.98},className:`w-full py-4 rounded-xl font-bold text-lg transition-all flex items-center justify-center gap-3 ${d||f?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-primary to-primary-dark text-white hover:from-primary-dark hover:to-primary shadow-lg hover:shadow-xl"}`,children:d?t.jsxs(t.Fragment,{children:[t.jsx(ts,{className:"animate-spin"}),f?"Redirecting to PayU...":"Processing..."]}):t.jsxs(t.Fragment,{children:[t.jsx(HN,{}),"Pay ",e.toLocaleString("en-IN")]})}),t.jsx("div",{className:"mt-4 text-center",children:t.jsx("p",{className:"text-xs text-gray-500",children:"By proceeding, you agree to our Terms of Service and Privacy Policy"})})]})]})},RQ="https://nexo.works",BQ=()=>{const[e,r]=g.useState([]),[s,a]=g.useState([]),[n,i]=g.useState(!0),[l,o]=g.useState(null),[c,d]=g.useState(!1),[u,m]=g.useState("all"),x="919590926068",h=Qt(),{isAuthenticated:p,user:f}=an(),b=[{id:"all",label:"All Plans",icon:id,color:"bg-gray-100 text-gray-700"},{id:"individual",label:"Individual",icon:Lf,color:"bg-green-100 text-green-700"},{id:"business",label:"Business",icon:jC,color:"bg-blue-100 text-blue-700"},{id:"corporate",label:"Corporate",icon:Eo,color:"bg-purple-100 text-purple-700"}];g.useEffect(()=>{(async()=>{try{const A=await(await fetch(`${RQ}/api/amc-plans`)).json();A.success&&A.data&&(r(A.data),a(A.data))}catch(_){console.error("Error fetching AMC plans:",_)}finally{i(!1)}})()},[]),g.useEffect(()=>{if(u==="all")a(e);else{const P=e.filter(_=>{var A;return((A=_.planType)==null?void 0:A.toLowerCase())===u.toLowerCase()});a(P)}},[u,e]);const j=P=>{m(P)},w=P=>{if(!p){alert("Please login to proceed with payment"),h("/user-login");return}o(P),d(!0)},y=(P=null)=>{let _="Hi! I'm interested in Nexo's Corporate AMC services.";P?_+=` I would like to know more about the ${P.name} plan (${P.price.toLocaleString("en-IN")}).`:_+=" Could you please provide more details about your AMC packages?";const A=encodeURIComponent(_),D=`https://wa.me/${x}?text=${A}`;window.open(D,"_blank")},v=P=>{console.log("Payment successful:",P),d(!1),o(null),alert(`Payment successful! Your ${l==null?void 0:l.name} AMC plan is now active.`),h("/payment-result?status=success&txnid="+P.txnid)},N=P=>{console.error("Payment failed:",P),d(!1),alert("Payment failed. Please try again or contact support.")},S=()=>{d(!1),o(null)},k=[{icon:Qo,title:"Guaranteed Service",description:"24/7 priority support with guaranteed response times"},{icon:ei,title:"Scheduled Maintenance",description:"Regular preventive maintenance to avoid breakdowns"},{icon:fa,title:"Expert Technicians",description:"Certified professionals with years of experience"},{icon:fX,title:"Dedicated Support",description:"Dedicated account manager for your business needs"},{icon:go,title:"Quality Assurance",description:"100% satisfaction guarantee on all services"},{icon:yO,title:"Cost Savings",description:"Up to 40% savings compared to ad-hoc repairs"}],C=[{icon:dX,title:"AC Maintenance",description:"Complete AC servicing, cleaning, and repairs"},{icon:bX,title:"Electrical Services",description:"Electrical maintenance, wiring, and installations"},{icon:fa,title:"Plumbing Services",description:"Plumbing repairs, maintenance, and installations"},{icon:pX,title:"General Maintenance",description:"Carpentry, painting, and general facility maintenance"}];return t.jsxs(t.Fragment,{children:[t.jsx(En,{title:"Corporate AMC Plans | Nexo - Annual Maintenance Contracts for Businesses",description:"Comprehensive Annual Maintenance Contract (AMC) plans for businesses. Get priority support, scheduled maintenance, and cost-effective solutions for your company's facility management needs.",keywords:"corporate AMC, annual maintenance contract, business maintenance, facility management, corporate services, AMC plans",url:"/corporate-amc"}),t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[c&&l&&t.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:t.jsx(E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"max-w-md w-full",children:t.jsx(JN,{amount:l.price,orderData:{productinfo:`${l.name} AMC Plan`,userId:(f==null?void 0:f._id)||(f==null?void 0:f.userId)},onSuccess:v,onFailure:N,onCancel:S,title:`Pay for ${l.name}`,description:`Annual Maintenance Contract - ${l.name}`})})}),t.jsxs("section",{className:"relative bg-gradient-to-br from-primary to-primary-dark text-white py-16 lg:py-24 overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 opacity-10",children:t.jsx(E.div,{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`,backgroundRepeat:"repeat"}})}),t.jsx(E.div,{className:"absolute top-20 left-10 w-32 h-32 bg-white/10 rounded-full blur-2xl",animate:{y:[0,-20,0],x:[0,10,0],scale:[1,1.1,1]},transition:{duration:6,repeat:1/0,ease:"easeInOut"}}),t.jsx(E.div,{className:"absolute bottom-20 right-10 w-40 h-40 bg-yellow-300/10 rounded-full blur-2xl",animate:{y:[0,20,0],x:[0,-15,0],scale:[1,1.2,1]},transition:{duration:8,repeat:1/0,ease:"easeInOut",delay:1}}),t.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs(E.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center",children:[t.jsx(E.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{duration:.8,type:"spring"},className:"inline-block mb-6",children:t.jsx(Eo,{className:"w-16 h-16 text-yellow-300"})}),t.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:"Corporate AMC Plans"}),t.jsx("p",{className:"text-xl md:text-2xl mb-8 text-yellow-300 font-semibold",children:"Annual Maintenance Contracts for Your Business"}),t.jsx("p",{className:"text-lg mb-10 max-w-3xl mx-auto text-white/90",children:"Comprehensive facility maintenance solutions designed for businesses. Get priority support, scheduled maintenance, and significant cost savings with our AMC plans."}),t.jsxs("div",{className:"flex flex-col sm:flex-row justify-center items-center gap-4",children:[t.jsxs(E.button,{onClick:()=>y(),whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"bg-[#25D366] text-white px-8 py-4 rounded-full text-lg font-bold shadow-xl hover:shadow-2xl transition-all duration-300 flex items-center gap-3",children:[t.jsx(yr,{className:"w-6 h-6"}),"Get Quote on WhatsApp"]}),t.jsx(E.button,{onClick:()=>{const P=document.querySelector("#amc-plans");P==null||P.scrollIntoView({behavior:"smooth"})},whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"bg-white/20 text-white px-8 py-4 rounded-full text-lg font-semibold border border-white/40 hover:bg-white/30 transition-all duration-300",children:"View Plans"})]})]})})]}),t.jsx("section",{className:"py-16 lg:py-24 bg-white",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-16",children:[t.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Why Choose Nexo AMC?"}),t.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Our Annual Maintenance Contracts provide comprehensive coverage and peace of mind for your business operations"})]}),t.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:k.map((P,_)=>{const A=P.icon;return t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:_*.1},whileHover:{y:-5,scale:1.02},className:"bg-white p-8 rounded-2xl shadow-lg border border-gray-100 hover:shadow-xl transition-all duration-300",children:[t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-primary/10 to-primary/20 rounded-2xl flex items-center justify-center mb-6",children:t.jsx(A,{className:"w-8 h-8 text-primary"})}),t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:P.title}),t.jsx("p",{className:"text-gray-600 leading-relaxed",children:P.description})]},_)})})]})}),t.jsx("section",{className:"py-16 lg:py-24 bg-gray-50",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-16",children:[t.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Services Covered"}),t.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Comprehensive maintenance services for all your business facility needs"})]}),t.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:C.map((P,_)=>{const A=P.icon;return t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:_*.1},whileHover:{y:-5,scale:1.02},className:"bg-white p-6 rounded-xl shadow-md border border-gray-100 hover:shadow-lg transition-all duration-300 text-center",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary/10 to-primary/20 rounded-xl flex items-center justify-center mx-auto mb-4",children:t.jsx(A,{className:"w-6 h-6 text-primary"})}),t.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:P.title}),t.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:P.description})]},_)})})]})}),t.jsx("section",{id:"amc-plans",className:"py-16 lg:py-24 bg-white",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-16",children:[t.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Choose Your AMC Plan"}),t.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto mb-8",children:"Flexible plans designed to meet different business needs and budgets"}),t.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.2},className:"flex flex-wrap justify-center gap-3 mb-8",children:b.map(P=>{const _=P.icon,A=u===P.id;return t.jsxs(E.button,{onClick:()=>j(P.id),whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:`flex items-center gap-2 px-4 py-2 rounded-full font-semibold transition-all duration-300 ${A?"bg-primary text-white shadow-lg transform scale-105":`${P.color} hover:shadow-md`}`,children:[t.jsx(_,{className:"w-4 h-4"}),t.jsx("span",{children:P.label}),P.id!=="all"&&t.jsx("span",{className:`ml-1 px-2 py-0.5 rounded-full text-xs font-bold ${A?"bg-white/20 text-white":"bg-white/60 text-gray-700"}`,children:e.filter(D=>{var F;return((F=D.planType)==null?void 0:F.toLowerCase())===P.id.toLowerCase()}).length}),P.id==="all"&&t.jsx("span",{className:`ml-1 px-2 py-0.5 rounded-full text-xs font-bold ${A?"bg-white/20 text-white":"bg-white/60 text-gray-700"}`,children:e.length})]},P.id)})}),t.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},className:"text-sm text-gray-600 mb-4",children:u==="all"?t.jsxs("span",{children:["Showing all ",s.length," AMC plans"]}):t.jsxs("span",{children:["Showing ",s.length," ",u," plan",s.length!==1?"s":"",s.length===0&&t.jsx("span",{className:"text-amber-600 font-medium",children:" - No plans available for this category"})]})})]}),n?t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-primary"}),t.jsx("p",{className:"mt-4 text-gray-600",children:"Loading AMC plans..."})]}):s.length===0?t.jsxs("div",{className:"text-center py-12",children:[t.jsx(Eo,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),t.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:u==="all"?"No AMC Plans Available":`No ${u.charAt(0).toUpperCase()+u.slice(1)} Plans Available`}),t.jsx("p",{className:"text-gray-600 mb-6",children:u==="all"?"We're currently setting up our AMC plans. Please contact us for custom quotes.":`No ${u} plans are currently available. Try selecting a different category or contact us for custom quotes.`}),t.jsxs("div",{className:"flex flex-col sm:flex-row justify-center items-center gap-4",children:[u!=="all"&&t.jsx(E.button,{onClick:()=>j("all"),whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-gray-200 text-gray-700 px-6 py-3 rounded-full font-semibold hover:bg-gray-300 transition-all duration-300",children:"View All Plans"}),t.jsxs(E.button,{onClick:()=>y(),whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-primary text-white px-6 py-3 rounded-full font-semibold hover:bg-primary-dark transition-all duration-300 flex items-center gap-2",children:[t.jsx(yr,{className:"w-5 h-5"}),"Contact Us"]})]})]}):t.jsx(E.div,{layout:!0,className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:s.map((P,_)=>t.jsxs(E.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:_*.2},whileHover:{y:-10,scale:1.02},className:`bg-white rounded-2xl shadow-xl border-2 transition-all duration-300 overflow-hidden ${P.highlight?"border-primary scale-105 shadow-2xl shadow-primary/20":"border-gray-200 hover:border-primary/30 hover:shadow-2xl"}`,children:[P.highlight&&t.jsx("div",{className:"bg-gradient-to-r from-primary to-primary-dark text-white text-center py-2 px-4",children:t.jsx("span",{className:"text-sm font-bold",children:P.highlightText||"MOST POPULAR"})}),t.jsxs("div",{className:"p-8",children:[t.jsxs("div",{className:"text-center mb-6",children:[P.planType&&t.jsx("div",{className:"mb-3",children:t.jsxs("span",{className:`inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-semibold ${P.planType.toLowerCase()==="individual"?"bg-green-100 text-green-700":P.planType.toLowerCase()==="business"?"bg-blue-100 text-blue-700":P.planType.toLowerCase()==="corporate"?"bg-purple-100 text-purple-700":"bg-gray-100 text-gray-700"}`,children:[P.planType.toLowerCase()==="individual"&&t.jsx(Lf,{className:"w-3 h-3"}),P.planType.toLowerCase()==="business"&&t.jsx(jC,{className:"w-3 h-3"}),P.planType.toLowerCase()==="corporate"&&t.jsx(Eo,{className:"w-3 h-3"}),P.planType.charAt(0).toUpperCase()+P.planType.slice(1)," Plan"]})}),t.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:P.name}),t.jsxs("div",{className:"mb-4",children:[t.jsx("span",{className:"text-4xl font-bold text-primary",children:P.priceDisplay||`${P.price.toLocaleString("en-IN")}`}),t.jsx("span",{className:"text-gray-600",children:"/year"})]}),P.description&&t.jsx("p",{className:"text-gray-600 text-sm",children:P.description})]}),t.jsx("ul",{className:"space-y-3 mb-6",children:P.features.map((A,D)=>t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx($e,{className:"text-green-500 mt-0.5 flex-shrink-0"}),t.jsx("span",{className:"text-gray-700 text-sm",children:A})]},D))}),P.includedServices&&P.includedServices.length>0&&t.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-xl",children:[t.jsxs("h4",{className:"text-sm font-semibold text-gray-800 mb-3 flex items-center gap-2",children:[t.jsx(fa,{className:"text-primary"}),"Included Services (",P.includedServices.length,")"]}),t.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[P.includedServices.slice(0,4).map((A,D)=>t.jsxs("div",{className:"flex items-center justify-between text-xs",children:[t.jsx("span",{className:"text-gray-700 font-medium",children:typeof A=="object"?A.name:A}),P.serviceFrequency&&P.serviceFrequency[A._id||A]&&t.jsx("span",{className:"text-primary font-semibold",children:P.serviceFrequency[A._id||A]==="unlimited"?"Unlimited":`${P.serviceFrequency[A._id||A]}x/year`})]},D)),P.includedServices.length>4&&t.jsxs("div",{className:"text-xs text-gray-500 font-medium",children:["+",P.includedServices.length-4," more services"]})]})]}),P.duration&&t.jsx("div",{className:"mb-6 text-center",children:t.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold bg-blue-100 text-blue-800",children:[t.jsx(ei,{className:"mr-1"}),P.duration," ",P.durationUnit||"months"," plan"]})}),t.jsxs(E.button,{onClick:()=>w(P),whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},className:`w-full py-4 rounded-xl font-bold transition-all duration-300 flex items-center justify-center gap-2 ${P.highlight?"bg-gradient-to-r from-primary to-primary-dark text-white hover:from-primary-dark hover:to-primary shadow-lg":"bg-gradient-to-r from-gray-100 to-gray-200 text-primary hover:from-gray-200 hover:to-gray-300"}`,children:["Buy ",P.name," Plan"]})]})]},P._id||_))})]})}),t.jsx("section",{className:"py-16 lg:py-24 bg-gradient-to-br from-primary to-primary-dark text-white",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center",children:[t.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:"Ready to Get Started?"}),t.jsx("p",{className:"text-xl mb-10 max-w-3xl mx-auto text-white/90",children:"Contact our team to discuss your business requirements and get a customized AMC plan"}),t.jsxs("div",{className:"flex flex-col sm:flex-row justify-center items-center gap-6",children:[t.jsxs(E.button,{onClick:()=>y(),whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"bg-[#25D366] text-white px-8 py-4 rounded-full text-lg font-bold shadow-xl hover:shadow-2xl transition-all duration-300 flex items-center gap-3",children:[t.jsx(yr,{className:"w-6 h-6"}),"Chat on WhatsApp"]}),t.jsxs(E.a,{href:`tel:+91${x}`,whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"bg-white/20 text-white px-8 py-4 rounded-full text-lg font-semibold border border-white/40 hover:bg-white/30 transition-all duration-300 flex items-center gap-3",children:[t.jsx(VN,{className:"w-5 h-5"}),"Call Now"]})]})]})})})]})]})},$Q=()=>{const e=Zl(),r=[{name:"Brand Promotions",icon:"",description:"Showcase your brand to thousands of customers",benefits:["Featured listings","Brand visibility","Customer reach"]},{name:"Featured Listings",icon:"",description:"Get priority placement in service categories",benefits:["Top placement","Higher visibility","More leads"]},{name:"Sponsored Tool Partners",icon:"",description:"Partner with technicians and service providers",benefits:["Direct access","Loyalty programs","Bulk orders"]},{name:"Technician Loyalty Partnerships",icon:"",description:"Build long-term relationships with service partners",benefits:["Exclusive deals","Training programs","Co-marketing"]}],s=[{name:"Tools",icon:""},{name:"Appliances",icon:""},{name:"Paint",icon:""},{name:"Hardware",icon:""},{name:"Electrical",icon:""},{name:"Plumbing",icon:""}],a=[{icon:"",text:"Access to thousands of customers"},{icon:"",text:"Direct connection with technicians"},{icon:"",text:"Increased brand awareness"},{icon:"",text:"Higher sales volume"},{icon:"",text:"Targeted marketing"},{icon:"",text:"Long-term partnerships"}];return t.jsxs(t.Fragment,{children:[t.jsx(En,{title:"Partner with Us | Brand Partnerships | Nexo",description:"Showcase your tools, appliances, paint, or hardware brand to thousands of customers and technicians. Brand promotions, featured listings, sponsored tool partners, technician loyalty partnerships.",keywords:"brand partnership, brand collaboration, business partnership, brand promotion, featured listing, sponsored partners",url:"/brand-partnerships"}),t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsxs("section",{className:"relative bg-gradient-to-br from-primary to-primary-dark text-white py-12 sm:py-16 lg:py-20 overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 opacity-10",children:t.jsx(E.div,{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`,backgroundRepeat:"repeat"},animate:{backgroundPosition:["0% 0%","100% 100%"]},transition:{duration:20,repeat:1/0,repeatType:"reverse"}})}),t.jsx(E.div,{className:"absolute top-20 left-10 w-40 h-40 sm:w-60 sm:h-60 bg-gradient-to-br from-white/20 to-white/5 rounded-full blur-3xl",animate:{y:[0,-30,0],x:[0,15,0],scale:[1,1.1,1]},transition:{duration:4,repeat:1/0,ease:"easeInOut"}}),t.jsx(E.div,{className:"absolute bottom-20 right-10 w-48 h-48 sm:w-72 sm:h-72 bg-gradient-to-br from-yellow-300/20 to-yellow-300/5 rounded-full blur-3xl",animate:{y:[0,-30,0],x:[0,-15,0],scale:[1,1.1,1]},transition:{duration:5,repeat:1/0,ease:"easeInOut",delay:1}}),[...Array(20)].map((n,i)=>t.jsx(E.div,{className:"absolute bg-white/30 rounded-full",style:{width:`${6+i%4*3}px`,height:`${6+i%4*3}px`,left:`${3+i*5%94}%`,top:`${8+i*4%85}%`},animate:{y:[0,-150,0],x:[0,i%2===0?50:-50,0],opacity:[.2,.6,.2],scale:[1,1.5,1]},transition:{duration:8+i%4,repeat:1/0,ease:"easeInOut",delay:i*.2}},`small-${i}`)),[...Array(12)].map((n,i)=>t.jsx(E.div,{className:"absolute bg-white/20 rounded-full blur-sm",style:{width:`${14+i%3*4}px`,height:`${14+i%3*4}px`,left:`${5+i*8%90}%`,top:`${10+i*6%80}%`},animate:{y:[0,-120,0],x:[0,i%2===0?60:-60,0],opacity:[.15,.4,.15],scale:[1,1.4,1]},transition:{duration:9+i%3*2,repeat:1/0,ease:"easeInOut",delay:i*.4}},`medium-${i}`)),[...Array(8)].map((n,i)=>t.jsx(E.div,{className:"absolute bg-white/10 rounded-full blur-2xl",style:{width:`${100+i%3*30}px`,height:`${100+i%3*30}px`,left:`${8+i*12%85}%`,top:`${12+i*10%75}%`},animate:{y:[0,-80,0],x:[0,i%2===0?60:-60,0],scale:[1,1.3,1],opacity:[.1,.3,.1]},transition:{duration:10+i%3*2,repeat:1/0,ease:"easeInOut",delay:i*.8}},`large-${i}`)),t.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs(E.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center",children:[t.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold mb-3 sm:mb-4",children:"Partner with Us"}),t.jsx("p",{className:"text-lg sm:text-xl md:text-2xl mb-6 sm:mb-8 text-white/90",children:"Showcase your tools, appliances, paint, or hardware brand to thousands of customers and technicians"}),t.jsx("div",{className:"flex justify-center",children:t.jsxs(E.button,{onClick:e,whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"bg-[#25D366] text-white px-6 sm:px-8 py-3 sm:py-4 rounded-full text-base sm:text-lg font-semibold shadow-2xl hover:shadow-[#25D366]/50 transition-all duration-300 flex items-center gap-2",children:[t.jsx(yr,{className:"w-5 h-5 sm:w-6 sm:h-6"}),"Partner With Us"]})})]})}),t.jsx(E.div,{className:"absolute bottom-0 left-0 w-full h-20 sm:h-24 bg-gray-50 pointer-events-none",initial:{clipPath:"inset(100% 0 0 0)"},animate:{clipPath:"inset(0% 0 0 0)"},transition:{duration:1,delay:.5,ease:"easeOut"},style:{marginBottom:0}})]}),t.jsx("section",{className:"py-20 bg-white",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-16",children:t.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-primary mb-4",children:"Partnership Types"})}),t.jsx("div",{className:"grid md:grid-cols-2 gap-8",children:r.map((n,i)=>t.jsxs(E.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:i*.1},whileHover:{y:-5,scale:1.02},className:"bg-gradient-to-br from-primary/5 to-primary/10 p-8 rounded-2xl border border-primary/20 shadow-lg",children:[t.jsx("div",{className:"text-5xl mb-4",children:n.icon}),t.jsx("h3",{className:"text-2xl font-bold text-primary mb-3",children:n.name}),t.jsx("p",{className:"text-gray-700 mb-4 text-lg",children:n.description}),t.jsx("ul",{className:"space-y-2",children:n.benefits.map((l,o)=>t.jsxs("li",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx("span",{className:"text-primary",children:""}),l]},o))})]},n.name))})]})}),t.jsx("section",{className:"py-20 bg-gray-50",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-16",children:[t.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-primary mb-4",children:"Brand Categories"}),t.jsx("p",{className:"text-xl text-gray-600",children:"We partner with brands across all categories"})]}),t.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map((n,i)=>t.jsxs(E.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{duration:.5,delay:i*.1},className:"bg-white p-8 rounded-xl shadow-lg border border-gray-200 text-center hover:shadow-xl transition-all duration-300",children:[t.jsx("span",{className:"text-5xl mb-4 block",children:n.icon}),t.jsx("h3",{className:"text-xl font-bold text-primary",children:n.name})]},n.name))})]})}),t.jsx("section",{className:"py-20 bg-white",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-16",children:t.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-primary mb-4",children:"Why Partner With Us"})}),t.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map((n,i)=>t.jsxs(E.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.5,delay:i*.1},className:"flex items-center gap-4 bg-gray-50 p-6 rounded-xl",children:[t.jsx("span",{className:"text-4xl",children:n.icon}),t.jsx("span",{className:"text-lg font-semibold text-gray-800",children:n.text})]},i))})]})}),t.jsx("section",{className:"py-20 bg-gradient-to-br from-primary to-primary-dark text-white",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:[t.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Ready to Grow Together?"}),t.jsx("p",{className:"text-xl mb-8 text-white/90",children:"Join us and reach thousands of customers and technicians"}),t.jsx("div",{className:"flex justify-center",children:t.jsxs(E.button,{onClick:e,whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"bg-white text-primary px-6 sm:px-8 py-3 sm:py-4 rounded-full text-base sm:text-lg font-semibold hover:bg-gray-100 transition-all duration-300 shadow-2xl hover:shadow-white/50 flex items-center gap-2",children:[t.jsx(yr,{className:"w-5 h-5"}),"Start Partnership Discussion"]})})]})})})]})]})},zQ=({paymentData:e,onSuccess:r,onFailure:s})=>{const a=g.useRef(null);return g.useEffect(()=>{e&&a.current&&a.current.submit()},[e]),e?t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-md w-full mx-4",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-primary mx-auto mb-4"}),t.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Redirecting to Payment Gateway"}),t.jsx("p",{className:"text-gray-600 text-sm",children:"Please wait while we redirect you to secure payment page..."})]}),t.jsxs("form",{ref:a,action:e.action,method:"post",style:{display:"none"},children:[t.jsx("input",{type:"hidden",name:"key",value:e.key}),t.jsx("input",{type:"hidden",name:"txnid",value:e.txnid}),t.jsx("input",{type:"hidden",name:"amount",value:e.amount}),t.jsx("input",{type:"hidden",name:"productinfo",value:e.productinfo}),t.jsx("input",{type:"hidden",name:"firstname",value:e.firstname}),t.jsx("input",{type:"hidden",name:"email",value:e.email}),t.jsx("input",{type:"hidden",name:"phone",value:e.phone}),t.jsx("input",{type:"hidden",name:"surl",value:e.surl}),t.jsx("input",{type:"hidden",name:"furl",value:e.furl}),t.jsx("input",{type:"hidden",name:"hash",value:e.hash})]})]})}):null},HC=[{id:"ac-service",name:"AC Service",icon:""},{id:"plumbing",name:"Plumbing",icon:""},{id:"electrical",name:"Electrical",icon:""},{id:"cleaning",name:"Cleaning",icon:""}],UQ=[{name:"Silver",price:1e3,leads:20,commission:5,leadFee:50,minWalletBalance:20,icon:"",color:"bg-gray-100",borderColor:"border-gray-300",features:["Priority support","Weekly performance insights"]},{name:"Gold",price:2e3,leads:50,commission:4,leadFee:40,minWalletBalance:50,icon:"",color:"bg-yellow-50",borderColor:"border-yellow-300",features:["Dedicated success manager","Higher lead priority"]},{name:"Platinum",price:5e3,leads:150,commission:3,leadFee:30,minWalletBalance:100,icon:"",color:"bg-purple-50",borderColor:"border-purple-300",features:["Featured listing","Daily performance insights","Fast-track payouts"]}],HQ=({currentStep:e,setCurrentStep:r,formData:s,token:a})=>{var f,b,j;const[n,i]=g.useState(!1),[l,o]=g.useState(!1),[c,d]=g.useState(!1),[u,m]=g.useState(new Date),[x,h]=g.useState(0);g.useEffect(()=>{const w=async()=>{var v,N;if(a){d(!0);try{const S=await jt.getProfile(a);if(S.success&&S.profile){const k=S.profile;console.log("Profile status check:",k);const C=k.paymentApproved===!0||k.registerdFee===!0||((v=k.profile)==null?void 0:v.paymentApproved)===!0||((N=k.profile)==null?void 0:N.registerdFee)===!0,P=k.status==="approved"||k.isApproved===!0||k.approvedAt,_=P&&C;if(console.log("Payment verified:",C,"Profile approved:",P,"Overall approved:",_),i(_),o(C),m(new Date),_)try{await jt.updateOnboardingStep(a,{step:9,completed:!0,approved:!0,approvedAt:new Date().toISOString()})}catch(A){console.error("Error updating step completion:",A)}}}catch(S){console.error("Error checking approval status:",S)}finally{d(!1)}}};w();const y=setInterval(w,6e4);return()=>clearInterval(y)},[a]),g.useEffect(()=>{const w=setInterval(()=>{h(y=>y+1)},1e3);return()=>clearInterval(w)},[]);const p=w=>{const y=Math.floor(w/60),v=w%60;return`${y}:${v.toString().padStart(2,"0")}`};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx(E.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",duration:.8,bounce:.4},className:"w-28 h-28 bg-gradient-to-br from-blue-400 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-6 shadow-2xl",children:t.jsx(E.div,{animate:{rotate:c?360:0,scale:c?[1,1.2,1]:[1,1.1,1]},transition:{rotate:{duration:c?1:3,repeat:1/0,ease:"linear"},scale:{duration:c?.5:2,repeat:1/0,ease:"easeInOut"}},className:"w-20 h-20 bg-white rounded-full flex items-center justify-center shadow-lg",children:n?t.jsx(E.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",bounce:.5},children:t.jsx(oX,{className:"w-10 h-10 text-green-600"})}):t.jsx(gX,{className:"w-10 h-10 text-blue-600"})})}),t.jsx(E.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-3xl font-bold text-primary mb-2",children:n?"Profile Approved!":l?"Your Account Under Review":"Waiting for Payment Verification"}),t.jsx(E.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"text-gray-600 mb-4",children:n?"Congratulations! Your profile has been approved and payment verified. You can now proceed to select your MG plan.":l?"Your payment has been successfully verified! Your partner account is now under review by our admin team. We will notify you once approved.":"Your payment is being verified by our admin team. Once approved, your profile will be reviewed."}),t.jsxs(E.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.7},className:`inline-flex items-center gap-3 px-4 py-2 rounded-full text-sm font-medium ${n?"bg-green-100 text-green-800 border border-green-200":l?"bg-yellow-100 text-yellow-800 border border-yellow-200":"bg-blue-100 text-blue-800 border border-blue-200"}`,children:[c?t.jsx(PX,{className:"animate-spin"}):n?t.jsx($e,{className:"text-green-600"}):l?t.jsx($e,{className:"text-yellow-600"}):t.jsx(ei,{className:"text-blue-600"}),t.jsx("span",{children:c?"Checking status...":n?"Profile & Payment Approved":l?"Payment Verified - Profile Review Pending":`Payment Verification Pending  Last checked: ${u.toLocaleTimeString()}`})]})]}),l&&s.payment.payId&&t.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"bg-green-50 rounded-2xl p-6 border-2 border-green-200 mb-6",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx($e,{className:"text-green-600 text-2xl"}),t.jsx("h3",{className:"text-lg font-bold text-green-800",children:"Payment Details"})]}),t.jsxs("div",{className:"bg-white rounded-xl p-4 space-y-3",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Transaction ID:"}),t.jsx("span",{className:"font-mono font-semibold text-gray-800",children:s.payment.payId})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Registration Fee:"}),t.jsxs("span",{className:"font-semibold text-gray-800",children:["",(f=s.payment.registrationFee)==null?void 0:f.toLocaleString()]})]}),s.payment.securityDepositSelected&&t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Security Deposit:"}),t.jsxs("span",{className:"font-semibold text-gray-800",children:["",(b=s.payment.securityDeposit)==null?void 0:b.toLocaleString()]})]}),s.toolkit.selected&&t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Toolkit:"}),t.jsxs("span",{className:"font-semibold text-gray-800",children:["",(j=s.toolkit.price)==null?void 0:j.toLocaleString()]})]}),t.jsx("div",{className:"border-t border-gray-200 pt-3 mt-3",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Total Paid:"}),t.jsxs("span",{className:"font-bold text-lg text-green-600",children:["",((s.payment.registrationFee||0)+(s.payment.securityDepositSelected&&s.payment.securityDeposit||0)+(s.toolkit.selected&&s.toolkit.price||0)).toLocaleString()]})]})}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Payment Status:"}),t.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-green-100 text-green-800 rounded-full text-xs font-semibold",children:[t.jsx($e,{}),"Verified"]})]})]})]}),t.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.9},className:`bg-gradient-to-br rounded-2xl p-6 border-2 ${n?"from-green-50 to-emerald-100 border-green-200":l?"from-yellow-50 to-amber-100 border-yellow-200":"from-blue-50 to-indigo-100 border-blue-200"}`,children:[t.jsxs("div",{className:"text-center mb-6",children:[t.jsx("div",{className:"flex items-center justify-center gap-3 mb-4",children:n?t.jsxs(t.Fragment,{children:[t.jsx(E.div,{animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0},className:"w-4 h-4 bg-green-500 rounded-full"}),t.jsx(E.div,{animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0,delay:.3},className:"w-4 h-4 bg-green-500 rounded-full"}),t.jsx(E.div,{animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0,delay:.6},className:"w-4 h-4 bg-green-500 rounded-full"})]}):t.jsxs(t.Fragment,{children:[t.jsx(E.div,{animate:{scale:[1,1.2,1]},transition:{duration:1.5,repeat:1/0},className:"w-4 h-4 bg-blue-500 rounded-full"}),t.jsx(E.div,{animate:{scale:[1,1.2,1]},transition:{duration:1.5,repeat:1/0,delay:.2},className:"w-4 h-4 bg-blue-500 rounded-full"}),t.jsx(E.div,{animate:{scale:[1,1.2,1]},transition:{duration:1.5,repeat:1/0,delay:.4},className:"w-4 h-4 bg-blue-500 rounded-full"})]})}),t.jsx("h3",{className:`text-xl font-semibold mb-2 ${n?"text-green-800":l?"text-yellow-800":"text-blue-800"}`,children:n?"Review Completed Successfully":l?"Profile Review in Progress":"Payment Verification Pending"}),t.jsx("p",{className:`text-sm ${n?"text-green-600":l?"text-yellow-600":"text-blue-600"}`,children:n?"All verification checks have been completed successfully":l?"Your payment has been verified. Our team is now reviewing your profile information.":"Your payment is being verified by our admin team before profile review begins."})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs(E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:1},className:"flex items-start gap-3",children:[t.jsx(E.div,{animate:l?{scale:[1,1.2,1]}:{},className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5 ${l?"bg-yellow-100":"bg-gray-100"}`,children:t.jsx(Ti,{className:`w-4 h-4 ${l?"text-yellow-600":"text-gray-400"}`})}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-gray-800",children:"Payment Verification"}),t.jsx("div",{className:"text-sm text-gray-600",children:"Registration fee and payment details verification"})]})]}),t.jsxs(E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:1.1},className:"flex items-start gap-3",children:[t.jsx(E.div,{animate:n?{scale:[1,1.2,1]}:{},className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5 ${n||l?"bg-green-100":"bg-gray-100"}`,children:t.jsx($e,{className:`w-4 h-4 ${n?"text-green-600":l?"text-green-500":"text-gray-400"}`})}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-gray-800",children:"Documents Verified"}),t.jsx("div",{className:"text-sm text-gray-600",children:"KYC documents, address proof, and business details checked"})]})]}),t.jsxs(E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:1.3},className:"flex items-start gap-3",children:[t.jsx(E.div,{animate:n?{scale:[1,1.2,1]}:{},className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5 ${n||l?"bg-blue-100":"bg-gray-100"}`,children:t.jsx(Qo,{className:`w-4 h-4 ${n?"text-blue-600":l?"text-blue-500":"text-gray-400"}`})}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-gray-800",children:"Background Check"}),t.jsx("div",{className:"text-sm text-gray-600",children:"Business legitimacy and service category verification"})]})]}),t.jsxs(E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:1.5},className:"flex items-start gap-3",children:[t.jsx(E.div,{animate:n?{scale:[1,1.2,1]}:{},className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5 ${n||l?"bg-purple-100":"bg-gray-100"}`,children:t.jsx(Ua,{className:`w-4 h-4 ${n?"text-purple-600":l?"text-purple-500":"text-gray-400"}`})}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-gray-800",children:"Final Approval"}),t.jsx("div",{className:"text-sm text-gray-600",children:"Account activation and partner onboarding completion"})]})]})]})]}),t.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.8},className:"text-center",children:n?t.jsxs(E.button,{onClick:()=>r(11),whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-primary text-white px-8 py-3 rounded-xl font-semibold shadow-lg hover:shadow-xl transition flex items-center gap-2 mx-auto",children:["Proceed to MG Plan Selection",t.jsx(Rn,{})]}):t.jsxs("div",{className:`border-2 rounded-xl p-4 max-w-md mx-auto ${l?"bg-yellow-50 border-yellow-200":"bg-gray-100 border-gray-200"}`,children:[t.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[t.jsx(ei,{className:`${l?"text-yellow-500":"text-gray-500"}`}),t.jsx("span",{className:`text-sm font-medium ${l?"text-yellow-700":"text-gray-700"}`,children:l?"Waiting for Profile Approval":"Waiting for Payment Verification"})]}),t.jsx("p",{className:"text-xs text-gray-600 text-center",children:l?"Your payment has been verified! Your profile is now under review by our team.":"Your payment is being verified by our admin team. You will be notified once approved."}),t.jsx("div",{className:"mt-3 text-center",children:t.jsxs("span",{className:"text-xs text-gray-500",children:["Time elapsed: ",p(x)]})})]})}),t.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:2},className:"bg-gray-50 rounded-xl p-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("svg",{className:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),t.jsxs("div",{className:"text-sm",children:[t.jsx("div",{className:"font-medium text-gray-800",children:"Need Help?"}),t.jsx("div",{className:"text-gray-600",children:"Contact our support team if you have any questions about your application status."})]})]})}),t.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:2.2},className:"border-t border-gray-200 pt-6",children:t.jsxs("div",{className:"bg-blue-50 rounded-xl p-4 border border-blue-200",children:[t.jsxs("div",{className:"text-center mb-3",children:[t.jsx("h4",{className:"font-semibold text-gray-800 mb-1",children:"Want to register a new partner?"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Clear all saved data and start fresh registration"})]}),t.jsxs(E.button,{onClick:()=>{window.confirm("Are you sure you want to start a new registration? This will clear all saved data from this device.")&&(localStorage.removeItem("partnerOnboardingStep"),localStorage.removeItem("partnerOnboardingFormData"),localStorage.removeItem("partnerOnboardingToken"),localStorage.removeItem("partnerOnboardingPartnerData"),window.location.href="/partner/onboard")},whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full bg-blue-600 text-white py-3 rounded-xl font-semibold flex items-center justify-center gap-2 hover:bg-blue-700 transition shadow-md",children:[t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})}),"Register New Partner"]})]})})]})},VC=()=>{var dt;const e=Br(),[r]=R0(),s=r.get("from")==="leads"||((dt=e.state)==null?void 0:dt.fromLeads),n=(()=>{try{const fe=localStorage.getItem("partnerOnboardingStep"),V=localStorage.getItem("partnerOnboardingToken"),oe=localStorage.getItem("partnerOnboardingFormData"),Ue=localStorage.getItem("partnerOnboardingPartnerData");return{step:fe?parseInt(fe):1,token:V||null,formData:oe?JSON.parse(oe):null,partnerData:Ue?JSON.parse(Ue):null}}catch(fe){return console.error("Error loading saved data:",fe),{step:1,token:null,formData:null,partnerData:null}}})(),[i,l]=g.useState(n.step),[o,c]=g.useState(n.token),[d,u]=g.useState(n.partnerData),[m,x]=g.useState(!1),[h,p]=g.useState(n.formData||{phone:"",otp:"",name:"",email:"",whatsappNumber:"",qualification:"",experience:"",address:"",landmark:"",pincode:"",city:"",referralCode:"",gstNumber:"",partnerType:"individual",trade:"",categories:[],categoryNames:[],subcategory:"",service:"",modeOfService:"offline",profilePicture:null,selectedHubs:[],selectedPlan:null,selectedPlanId:null,kyc:{panCard:null,aadhaar:null,aadhaarback:null,chequeImage:null,drivingLicence:null,bill:null,bankDetails:{accountNumber:"",ifscCode:"",accountHolderName:"",bankName:""}},toolkit:{selected:!1,type:"ac-toolkit",price:2499},payment:{registrationFee:0,securityDeposit:0,securityDepositSelected:!0,total:0,payId:"",paidBy:"Self"},terms:{accepted:!1,signature:null}}),[f,b]=g.useState(!1),[j,w]=g.useState(null),[y,v]=g.useState(!1),[N,S]=g.useState(0),[k,C]=g.useState(null),[P,_]=g.useState([]),[A,D]=g.useState(!1),[F,X]=g.useState([]),[ce,he]=g.useState(!1),[L,q]=g.useState(null),[se,R]=g.useState([]),[T,O]=g.useState(!1),K=g.useRef(null),U=g.useRef(null),[ee,M]=g.useState(!1),[H,B]=g.useState(null),[Y,ie]=g.useState(!1),me=Zl(),{openDialog:de}=WN(),[Ge,Me]=g.useState(null),[it,Ye]=g.useState(!1),Le=12,z=P.find(fe=>fe.name===h.selectedPlan);g.useEffect(()=>{if(N>0){const fe=setTimeout(()=>S(N-1),1e3);return()=>clearTimeout(fe)}},[N]),g.useEffect(()=>{try{(h.phone||h.name||h.email)&&localStorage.setItem("partnerOnboardingFormData",JSON.stringify(h))}catch(fe){console.error("Error saving form data:",fe)}},[h]),g.useEffect(()=>{try{localStorage.setItem("partnerOnboardingStep",i.toString())}catch(fe){console.error("Error saving step:",fe)}},[i]),g.useEffect(()=>{try{o&&localStorage.setItem("partnerOnboardingToken",o)}catch(fe){console.error("Error saving token:",fe)}},[o]),g.useEffect(()=>{try{d&&localStorage.setItem("partnerOnboardingPartnerData",JSON.stringify(d))}catch(fe){console.error("Error saving partner data:",fe)}},[d]),g.useEffect(()=>{if(i===11&&(h.selectedPlan||m))try{localStorage.removeItem("partnerOnboardingStep"),localStorage.removeItem("partnerOnboardingFormData"),localStorage.removeItem("partnerOnboardingToken"),localStorage.removeItem("partnerOnboardingPartnerData"),console.log(" Onboarding complete - localStorage cleared")}catch(fe){console.error("Error clearing localStorage:",fe)}},[i,h.selectedPlan,m]),g.useEffect(()=>{const fe=r.get("payment"),V=r.get("txnid"),oe=r.get("payid"),Ue=r.get("reason");if(fe==="success"&&V&&oe)console.log(" Payment callback received:",{txnid:V,payid:oe}),(async()=>{try{b(!0),w(null);const Ve="https://nexo.works";console.log(" Verifying payment with:",`${Ve}/api/payu/payment-status/${V}`);const ue=await fetch(`${Ve}/api/payu/payment-status/${V}`,{method:"GET",headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"}}),Re=ue.headers.get("content-type");if(!Re||!Re.includes("application/json"))throw console.error(" API returned non-JSON response:",Re),new Error("Invalid API response format. Please check backend configuration.");const rt=await ue.json();console.log(" Payment verification response:",rt),rt.success&&rt.data.status==="completed"&&rt.data.approved?(console.log(" Payment verified by backend:",rt.data),p(ht=>({...ht,payment:{...ht.payment,payId:oe,status:"completed"}})),setTimeout(()=>{l(8),window.history.replaceState({},"",window.location.pathname)},100)):rt.success&&(rt.data.status==="pending"||rt.data.status==="initiated")?(console.log(" Payment status:",rt.data.status,"- Waiting for PayU callback or admin approval"),p(ht=>({...ht,payment:{...ht.payment,payId:oe,status:(rt.data.status==="initiated","pending")}})),rt.data.status==="initiated"?(w("Payment is being processed by PayU. Please wait..."),setTimeout(()=>{console.log(" Retrying payment verification..."),window.location.reload()},3e3)):setTimeout(()=>{l(8),window.history.replaceState({},"",window.location.pathname)},100)):(console.log(" Payment verification failed:",rt),w(rt.message||"Payment verification failed. Please contact support."),p(ht=>({...ht,payment:{...ht.payment,payId:V,status:"failed"}})),setTimeout(()=>{l(8),window.history.replaceState({},"",window.location.pathname)},100))}catch(Ve){console.error("Payment verification error:",Ve),w(`Failed to verify payment: ${Ve.message}. Please contact support with transaction ID: ${V}`),p(ue=>({...ue,payment:{...ue.payment,payId:V,status:"failed"}})),setTimeout(()=>{l(8),window.history.replaceState({},"",window.location.pathname)},100)}finally{b(!1)}})();else if(fe==="failed"){console.log(" Payment failed:",{reason:Ue,txnid:V});const Ve={E4179:"Payment was cancelled. Please try again.",E000:"Payment failed. Please check your payment details and try again.",E001:"Unauthorized payment key. Please contact support.",E002:"Invalid transaction. Please try again.",E003:"Payment declined by bank. Please try a different payment method.",E004:"Insufficient funds. Please check your account balance.",E005:"Transaction timeout. Please try again.",payment_failed:"Payment could not be processed. Please try again.",invalid_hash:"Security verification failed. Please contact support.",server_error:"Server error occurred. Please try again later."}[Ue]||`Payment failed: ${Ue||"Unknown error"}. Please try again.`;w(Ve),p(ue=>({...ue,payment:{...ue.payment,payId:V||"",status:"failed"}})),setTimeout(()=>{l(8),window.history.replaceState({},"",window.location.pathname)},100)}},[r,o]),g.useEffect(()=>{(async()=>{if(i===4){he(!0);try{const V=await jt.getCategories(o||"");(V.success&&V.categories||V.categories&&Array.isArray(V.categories))&&X(V.categories)}catch(V){console.error("Failed to fetch Categories:",V),X(HC)}finally{he(!1)}}})()},[i,o]),g.useEffect(()=>{(async()=>{try{const V=await jt.getPricingSettings();if(V.success&&V.data){const oe=h.partnerType||"individual",Ue=V.data[oe]||V.data,Je={...V.data,registrationFee:Ue.registrationFee,securityDeposit:Ue.securityDeposit,toolkitPrice:Ue.toolkitPrice,registrationFeeRefundable:Ue.registrationFeeRefundable!==void 0?!!Ue.registrationFeeRefundable:!1,securityDepositRefundable:Ue.securityDepositRefundable!==void 0?!!Ue.securityDepositRefundable:!1,toolkitPriceRefundable:Ue.toolkitPriceRefundable!==void 0?!!Ue.toolkitPriceRefundable:!1};q(Je),p(Ve=>{const ue=Ue.registrationFee||500,Re=Ue.securityDeposit||1e3,rt=Ve.payment.securityDepositSelected?Re:0,ht=Ue.toolkitPrice||2499,xt=Ve.toolkit.selected;return console.log("Updating fees for partner type:",h.partnerType,{registrationFee:ue,baseSecurityDeposit:Re,securityDeposit:rt,toolkitPrice:ht,securityDepositSelected:Ve.payment.securityDepositSelected,toolkitSelected:xt}),{...Ve,payment:{...Ve.payment,registrationFee:ue,securityDeposit:rt,total:ue+rt+(xt?ht:0)},toolkit:{...Ve.toolkit,price:ht}}})}}catch(V){console.error("Failed to fetch pricing settings:",V)}})()},[h.partnerType]),g.useEffect(()=>{(async()=>{if(o&&i===5){O(!0);try{const V=await jt.getAvailableServiceHubs(o);V.success&&V.data&&R(V.data||[])}catch(V){console.error("Failed to fetch available hubs:",V),R([])}finally{O(!1)}}})()},[o,i]),g.useEffect(()=>{if(i!==6){const Ve=K.current;Ve&&Ve._cleanup&&(Ve._cleanup(),Ve._cleanup=null);return}const fe=()=>{const Ve=K.current;if(!Ve||!Ve.isConnected)return!1;const ue=Ve.getContext("2d");if(!ue)return console.error("Could not get canvas context"),!1;const Re=Ve.parentElement;if(!Re)return!1;const rt=Re.getBoundingClientRect();if(rt.width===0||rt.height===0)return!1;const ht=window.devicePixelRatio||1;Ve.width=rt.width*ht,Ve.height=150*ht,Ve.style.width=rt.width+"px",Ve.style.height="150px",ue.setTransform(1,0,0,1,0,0),ue.scale(ht,ht),ue.clearRect(0,0,rt.width,150),ue.strokeStyle="#0ea5a4",ue.fillStyle="#0ea5a4",ue.lineWidth=2.5,ue.lineJoin="round",ue.lineCap="round";let xt=!1,Ht=0,Rt=0;const ot=te=>{const J=Ve.getBoundingClientRect(),Z=Ve.width/ht/J.width,ne=Ve.height/ht/J.height,le=te.touches&&te.touches.length>0?te.touches[0].clientX:te.changedTouches&&te.changedTouches.length>0?te.changedTouches[0].clientX:te.clientX,Ne=te.touches&&te.touches.length>0?te.touches[0].clientY:te.changedTouches&&te.changedTouches.length>0?te.changedTouches[0].clientY:te.clientY;return{x:(le-J.left)*Z,y:(Ne-J.top)*ne}},Vr=te=>{te.preventDefault(),te.stopPropagation(),xt=!0;const J=ot(te);Ht=J.x,Rt=J.y,ue.beginPath(),ue.arc(Ht,Rt,1.25,0,2*Math.PI),ue.fill()},Xs=te=>{if(!xt)return;te.preventDefault(),te.stopPropagation();const J=ot(te),Z=J.x,ne=J.y;ue.beginPath(),ue.moveTo(Ht,Rt),ue.lineTo(Z,ne),ue.stroke(),Ht=Z,Rt=ne;try{const le=Ve.toDataURL("image/png");p(Ne=>({...Ne,terms:{...Ne.terms,signature:le}}))}catch(le){console.error("Error updating signature:",le)}},Jr=te=>{if(te&&(te.preventDefault(),te.stopPropagation()),xt){xt=!1;try{const J=Ve.toDataURL("image/png");p(Z=>({...Z,terms:{...Z.terms,signature:J}}))}catch(J){console.error("Error saving signature:",J)}}};Ve._cleanup&&Ve._cleanup(),Ve.addEventListener("mousedown",Vr),Ve.addEventListener("mousemove",Xs),Ve.addEventListener("mouseup",Jr),Ve.addEventListener("mouseleave",Jr),Ve.addEventListener("touchstart",Vr,{passive:!1}),Ve.addEventListener("touchmove",Xs,{passive:!1}),Ve.addEventListener("touchend",Jr,{passive:!1}),Ve.addEventListener("touchcancel",Jr,{passive:!1});const W=()=>{Ve.removeEventListener("mousedown",Vr),Ve.removeEventListener("mousemove",Xs),Ve.removeEventListener("mouseup",Jr),Ve.removeEventListener("mouseleave",Jr),Ve.removeEventListener("touchstart",Vr),Ve.removeEventListener("touchmove",Xs),Ve.removeEventListener("touchend",Jr),Ve.removeEventListener("touchcancel",Jr)};return Ve._cleanup=W,!0};let V,oe=0;const Ue=20,Je=()=>{fe()||(oe++,oe<Ue?V=setTimeout(Je,100):console.warn("Could not initialize signature canvas after multiple attempts"))};return V=setTimeout(Je,100),requestAnimationFrame(()=>{var Ve;(Ve=K.current)!=null&&Ve._cleanup||Je()}),()=>{V&&clearTimeout(V);const Ve=K.current;Ve&&Ve._cleanup&&(Ve._cleanup(),Ve._cleanup=null)}},[i]),g.useEffect(()=>{(async()=>{if(o&&(i===11||i===12)){D(!0);try{const[V,oe]=await Promise.all([jt.getMGPlans(o,h.partnerType),jt.getCurrentPlan(o).catch(()=>null)]);if(oe!=null&&oe.data||oe!=null&&oe.plan){const Ue=oe.data||oe,Je=Ue.plan||Ue;Je&&Je.name&&p(Ve=>({...Ve,selectedPlan:Je.name,selectedPlanId:Je._id||Je.id||Ue.planId}))}if(V.success&&V.data&&Array.isArray(V.data)){const Ue=V.data.filter(Je=>!Je.partnerType||Je.partnerType==="both"?!0:Je.partnerType===h.partnerType);_(Ue.map(Je=>{const ue=(Je.name||"").toLowerCase();let Re="",rt="bg-blue-50",ht="border-blue-300";return ue.includes("silver")?(Re="",rt="bg-gray-100",ht="border-gray-300"):ue.includes("gold")?(Re="",rt="bg-yellow-50",ht="border-yellow-300"):ue.includes("platinum")||ue.includes("diamond")?(Re="",rt="bg-purple-50",ht="border-purple-300"):ue.includes("bronze")&&(Re="",rt="bg-orange-50",ht="border-orange-300"),{_id:Je._id,id:Je._id,name:Je.name,price:Je.price||0,leads:Je.leads||0,commission:Je.commission||0,leadFee:Je.leadFee||0,minWalletBalance:Je.minWalletBalance||0,features:Je.features||[],icon:Je.icon||Re,color:Je.color||rt,borderColor:Je.borderColor||ht,partnerType:Je.partnerType||"individual"}}))}else _([])}catch(V){console.error("Failed to fetch MG plans:",V),_([])}finally{D(!1)}}})()},[o,i,h.partnerType]);const xe=async()=>{if(!h.phone||h.phone.length!==10){w("Please enter a valid 10-digit phone number");return}b(!0),w(null);try{const fe=await jt.sendOTP(h.phone);fe.otp&&alert(`OTP for testing: ${fe.otp}`),v(!0),S(60)}catch(fe){w(fe.message||"Failed to send OTP")}finally{b(!1)}},re=async()=>{if(!h.otp||h.otp.length!==6){w("Please enter a valid 6-digit OTP");return}b(!0),w(null);try{const fe=await jt.verifyOTP(h.phone,h.otp);if(fe.success&&fe.partner){c(fe.partner.token),u(fe.partner);try{const V=await jt.getProfile(fe.partner.token);if(V.success&&V.profile){const oe=V.profile,Ue=oe.kyc||oe.KYC||{},Je=oe.bankDetails||Ue.bankDetails||{},Ve=ot=>ot&&typeof ot=="string"?(ot.startsWith("http://")||ot.startsWith("https://")||ot.startsWith("/"),ot):null;p(ot=>{var Vr,Xs,Jr,W,te,J;return{...ot,name:oe.name||ot.name,email:oe.email||ot.email,whatsappNumber:oe.whatsappNumber||ot.whatsappNumber,qualification:oe.qualification||ot.qualification,experience:((Vr=oe.experience)==null?void 0:Vr.toString())||ot.experience,city:oe.city||ot.city,partnerType:oe.partnerType||ot.partnerType,modeOfService:oe.modeOfService||ot.modeOfService,categories:((Xs=oe.category)==null?void 0:Xs.map(Z=>Z._id||Z.id||Z))||ot.categories,categoryNames:((Jr=oe.category)==null?void 0:Jr.map(Z=>Z.name||Z))||oe.categoryNames||ot.categoryNames,trade:((W=oe.categoryNames)==null?void 0:W[0])||((J=(te=oe.category)==null?void 0:te[0])==null?void 0:J.name)||ot.trade,...oe.address&&{address:oe.address},...oe.landmark&&{landmark:oe.landmark},...oe.pincode&&{pincode:oe.pincode},...oe.gstNumber&&{gstNumber:oe.gstNumber},kyc:{...ot.kyc,panCard:Ve(Ue.panCard)||ot.kyc.panCard,aadhaar:Ve(Ue.aadhaar)||ot.kyc.aadhaar,aadhaarback:Ve(Ue.aadhaarback)||ot.kyc.aadhaarback,chequeImage:Ve(Ue.chequeImage)||ot.kyc.chequeImage,drivingLicence:Ve(Ue.drivingLicence)||ot.kyc.drivingLicence,bill:Ve(Ue.bill)||ot.kyc.bill,bankDetails:{accountNumber:Je.accountNumber||ot.kyc.bankDetails.accountNumber,ifscCode:Je.ifscCode||ot.kyc.bankDetails.ifscCode,accountHolderName:Je.accountHolderName||ot.kyc.bankDetails.accountHolderName,bankName:Je.bankName||ot.kyc.bankDetails.bankName}},payment:{...ot.payment,payId:oe.payId||fe.partner.payId||ot.payment.payId,registrationFee:oe.registerAmount||fe.partner.registerAmount||ot.payment.registrationFee},terms:{accepted:oe.termsAccepted||fe.partner.termsAccepted||ot.terms.accepted,signature:oe.termsSignature||fe.partner.termsSignature||ot.terms.signature},selectedPlan:oe.mgPlan||fe.partner.mgPlan||ot.selectedPlan,selectedPlanId:oe.mgPlanId||fe.partner.mgPlanId||ot.selectedPlanId}});const ue=oe.profileCompleted||fe.partner.profileCompleted,Re=oe.payId||fe.partner.payId||oe.registerAmount,rt=oe.mgPlan||fe.partner.mgPlan,ht=oe.termsAccepted||fe.partner.termsAccepted,xt=!!((oe.name||h.name)&&(oe.email||h.email)&&(oe.address||h.address)&&(oe.pincode||h.pincode)&&(oe.city||h.city)),Ht=!!(Ue.panCard&&Ue.aadhaar&&Ue.aadhaarback&&Ue.chequeImage&&Ue.drivingLicence&&Ue.bill&&Je.accountNumber&&Je.ifscCode&&Je.accountHolderName&&Je.bankName),Rt=!!(oe.category&&oe.category.length>0);l(s?xt&&Ht&&Rt&&ht?11:xt?Ht?Rt?ht?12:6:4:3:2:ue&&Re&&rt?11:ue&&Re&&!rt?12:ue&&!Re?7:ue&&!ht?6:2)}else l(2)}catch(V){console.log("No existing profile found or error fetching profile:",V),l(2)}}}catch(fe){w(fe.message||"Invalid OTP")}finally{b(!1)}},ge=(fe,V)=>{V&&p(oe=>({...oe,kyc:{...oe.kyc,[fe]:V}}))},pe=fe=>{fe&&p(V=>({...V,profilePicture:fe}))},ve=async()=>{try{w(null),ie(!1);const fe=await navigator.mediaDevices.getUserMedia({video:{facingMode:"user"},audio:!1});B(fe),M(!0),setTimeout(()=>{U.current&&(U.current.srcObject=fe,U.current.onloadedmetadata=()=>{U.current&&U.current.play().then(()=>{ie(!0)}).catch(V=>{console.error("Error playing video:",V),w("Failed to start camera. Please try again.")})})},100)}catch(fe){console.error("Error accessing camera:",fe),w("Unable to access camera. Please check permissions or upload a photo instead."),M(!1),ie(!1)}},ke=()=>{H&&(H.getTracks().forEach(fe=>fe.stop()),B(null)),M(!1),ie(!1),U.current&&(U.current.srcObject=null)},Qe=()=>{if(!U.current){w("Camera not ready. Please wait a moment and try again.");return}const fe=U.current;if(!fe.videoWidth||!fe.videoHeight){w("Camera is still loading. Please wait a moment and try again.");return}if(fe.readyState<2){fe.addEventListener("loadedmetadata",()=>{Qe()},{once:!0});return}try{const V=document.createElement("canvas");V.width=fe.videoWidth,V.height=fe.videoHeight;const oe=V.getContext("2d");oe.translate(V.width,0),oe.scale(-1,1),oe.drawImage(fe,0,0,V.width,V.height),V.toBlob(Ue=>{if(Ue){const Je=new File([Ue],"profile-photo.jpg",{type:"image/jpeg"});pe(Je),ke(),w(null)}else w("Failed to capture photo. Please try again.")},"image/jpeg",.9)}catch(V){console.error("Error capturing photo:",V),w("Failed to capture photo. Please try again.")}};g.useEffect(()=>()=>{H&&H.getTracks().forEach(fe=>fe.stop())},[H]);const ft=async()=>{var fe;if(!o){w("Please verify your phone number first");return}b(!0),w(null);try{const V={name:h.name,email:h.email,whatsappNumber:h.whatsappNumber||h.phone,qualification:h.qualification,experience:h.experience,contactNumber:h.phone,address:h.address,landmark:h.landmark||"",pincode:h.pincode,city:h.city,referralCode:h.referralCode||"",gstNumber:h.gstNumber||"",partnerType:h.partnerType||"individual",profilePicture:h.profilePicture||null};(await jt.completeProfile(o,V)).success&&l(3)}catch(V){const oe=V.message||((fe=V.data)==null?void 0:fe.message)||"Failed to save profile";w(oe),V.status===401&&(w("Session expired. Please verify your phone number again."),c(null))}finally{b(!1)}},je=async()=>{var fe;if(!o){w("Please verify your phone number first");return}if(h.categories.length===0){w("Please select at least one category");return}b(!0),w(null);try{const V={categories:h.categories,categoryNames:h.categoryNames,subcategory:h.subcategory?Array.isArray(h.subcategory)?h.subcategory:[h.subcategory]:[],service:h.service?Array.isArray(h.service)?h.service:[h.service]:[],modeOfService:h.modeOfService};console.log(" Saving categories:",{categories:V.categories,categoryNames:V.categoryNames,categoriesCount:V.categories.length,categoryNamesCount:V.categoryNames.length});const oe=await jt.updateProfile(o,V);console.log(" Update Profile Response:",oe),oe.success?(console.log(" Categories saved successfully"),l(5)):w(oe.message||"Failed to save categories")}catch(V){console.error(" Error saving categories:",V);const oe=V.message||((fe=V.data)==null?void 0:fe.message)||"Failed to save categories";w(oe),V.status===401&&(w("Session expired. Please verify your phone number again."),c(null))}finally{b(!1)}},Fe=async()=>{var fe;if(!o){w("Please verify your phone number first");return}b(!0),w(null);try{const V=h.kyc.panCard&&typeof h.kyc.panCard=="string"&&h.kyc.aadhaar&&typeof h.kyc.aadhaar=="string"&&h.kyc.aadhaarback&&typeof h.kyc.aadhaarback=="string"&&h.kyc.chequeImage&&typeof h.kyc.chequeImage=="string"&&h.kyc.drivingLicence&&typeof h.kyc.drivingLicence=="string"&&h.kyc.bill&&typeof h.kyc.bill=="string",oe=h.kyc.panCard instanceof File||h.kyc.aadhaar instanceof File||h.kyc.aadhaarback instanceof File||h.kyc.chequeImage instanceof File||h.kyc.drivingLicence instanceof File||h.kyc.bill instanceof File;if(V&&!oe){l(4),b(!1);return}const Ue={panCard:h.kyc.panCard instanceof File?h.kyc.panCard:void 0,aadhaar:h.kyc.aadhaar instanceof File?h.kyc.aadhaar:void 0,aadhaarback:h.kyc.aadhaarback instanceof File?h.kyc.aadhaarback:void 0,chequeImage:h.kyc.chequeImage instanceof File?h.kyc.chequeImage:void 0,drivingLicence:h.kyc.drivingLicence instanceof File?h.kyc.drivingLicence:void 0,bill:h.kyc.bill instanceof File?h.kyc.bill:void 0,accountNumber:h.kyc.bankDetails.accountNumber,ifscCode:h.kyc.bankDetails.ifscCode,accountHolderName:h.kyc.bankDetails.accountHolderName,bankName:h.kyc.bankDetails.bankName};oe?(await jt.completeKYC(o,Ue)).success&&l(4):l(4)}catch(V){const oe=V.message||((fe=V.data)==null?void 0:fe.message)||"Failed to upload KYC documents";w(oe),V.status===401&&(w("Session expired. Please verify your phone number again."),c(null))}finally{b(!1)}},Tt=async()=>{var fe,V;if(!o){w("Please verify your phone number first");return}b(!0),w(null);try{const oe=h.payment.registrationFee||0,Ue=h.payment.securityDeposit||0,Je=h.toolkit.selected&&h.toolkit.price||0,Ve={registerAmount:oe,paidBy:h.payment.paidBy,securityDeposit:Ue,toolkitPrice:Je,terms:{accepted:h.terms.accepted,signature:h.terms.signature,acceptedAt:new Date().toISOString()}};console.log("Sending payment data from onboarding:",Ve);const ue=await jt.completePayment(o,Ve);if(ue.success){const Re=ue.partnerId||((fe=d==null?void 0:d._id)==null?void 0:fe.toString())||(d==null?void 0:d.partnerId)||`PRT-${Date.now().toString().slice(-6)}`;if(C(Re),h.selectedHubs.length>0&&o)try{await new Promise(xt=>setTimeout(xt,500));const rt=[];for(const xt of h.selectedHubs)if(xt.hubId)try{const Ht=await jt.assignHub(o,xt.hubId);rt.push({hub:xt.name,success:!0,response:Ht})}catch(Ht){console.error(`Error assigning hub ${xt.name}:`,Ht),rt.push({hub:xt.name,success:!1,error:Ht.message})}const ht=rt.filter(xt=>!xt.success);ht.length>0?console.warn("Some hubs failed to assign:",ht):console.log("All hubs assigned successfully:",rt)}catch(rt){console.error("Error in hub assignment process:",rt)}l(8)}}catch(oe){const Ue=oe.message||((V=oe.data)==null?void 0:V.message)||"Failed to complete payment";w(Ue),oe.status===401&&(w("Session expired. Please verify your phone number again."),c(null))}finally{b(!1)}},Lt=()=>{i<Le&&(s&&i===6?I():s&&i===7?l(12):i===6&&h.payment.payId&&h.payment.status==="completed"?l(8):i===8?At():l(fe=>fe+1))},ye=()=>{if(i>1)if(s&&i===8)l(6);else if(i===9&&h.payment.payId&&h.payment.status==="completed")l(8);else if(i===8&&h.payment.payId&&h.payment.status==="completed")l(7);else{let fe=i-1;s&&fe===7&&(fe=6),l(fe)}},I=async()=>{var fe,V;if(!o){w("Please verify your phone number first");return}b(!0),w(null);try{const oe={name:h.name,email:h.email,whatsappNumber:h.whatsappNumber,qualification:h.qualification,experience:h.experience,address:h.address,landmark:h.landmark,pincode:h.pincode,city:h.city,referralCode:h.referralCode,gstNumber:h.gstNumber,partnerType:h.partnerType||"individual",categories:h.categories,categoryNames:h.categoryNames,subcategory:h.subcategory?Array.isArray(h.subcategory)?h.subcategory:[h.subcategory]:[],service:h.service?Array.isArray(h.service)?h.service:[h.service]:[],modeOfService:h.modeOfService,terms:{accepted:h.terms.accepted,signature:h.terms.signature,acceptedAt:new Date().toISOString()}};if((await jt.updateProfile(o,oe)).success){const Je=((fe=d==null?void 0:d._id)==null?void 0:fe.toString())||(d==null?void 0:d.partnerId)||`PRT-${Date.now().toString().slice(-6)}`;if(C(Je),h.selectedHubs.length>0&&o)try{await new Promise(Re=>setTimeout(Re,500));const Ve=[];for(const Re of h.selectedHubs)if(Re.hubId)try{const rt=await jt.assignHub(o,Re.hubId);Ve.push({hub:Re.name,success:!0,response:rt})}catch(rt){console.error(`Error assigning hub ${Re.name}:`,rt),Ve.push({hub:Re.name,success:!1,error:rt.message})}const ue=Ve.filter(Re=>!Re.success);ue.length>0?console.warn("Some hubs failed to assign:",ue):console.log("All hubs assigned successfully:",Ve)}catch(Ve){console.error("Error in hub assignment process:",Ve)}if(s&&h.categories&&h.categories.length>0&&h.city)try{const Ve=h.categories[0],ue={partnerId:Je,category:Ve,service:h.categories.length>1?h.categories[1]:null,city:h.city,address:h.address||"",landmark:h.landmark||"",pincode:h.pincode||"",value:0,allocationStrategy:"rule_based",priority:"medium",description:`Partner registration from Lead Marketplace - ${h.name||"New Partner"}`};console.log("Partner registered from Lead Marketplace:",ue)}catch(Ve){console.error("Error creating lead entry:",Ve)}l(12)}}catch(oe){const Ue=oe.message||((V=oe.data)==null?void 0:V.message)||"Failed to complete registration";w(Ue),oe.status===401&&(w("Session expired. Please verify your phone number again."),c(null))}finally{b(!1)}},ae=async()=>{if(!o){w("Please verify your phone number first");return}Ye(!0),w(null);try{const fe=h.payment.total+(h.toolkit.selected?h.toolkit.price:0),V="https://nexo.works";console.log("Calling PayU API:",`${V}/api/payu/initiate-payment`);const Ue=await(await fetch(`${V}/api/payu/initiate-payment`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},body:JSON.stringify({amount:fe,phone:h.phone,name:h.name,email:h.email,partnerId:(d==null?void 0:d._id)||k})})).json();Ue.success?Me(Ue.data):(w(Ue.message||"Failed to initiate payment"),Ye(!1))}catch(fe){console.error("Payment initiation error:",fe),w("Failed to initiate payment. Please try again."),Ye(!1)}},Ce=fe=>{switch(fe){case 2:return!!(h.name&&h.email&&h.address&&h.pincode&&h.city&&h.partnerType);case 3:const V=h.kyc.panCard&&(h.kyc.panCard instanceof File||typeof h.kyc.panCard=="string"),oe=h.kyc.aadhaar&&(h.kyc.aadhaar instanceof File||typeof h.kyc.aadhaar=="string"),Ue=h.kyc.aadhaarback&&(h.kyc.aadhaarback instanceof File||typeof h.kyc.aadhaarback=="string"),Je=h.kyc.chequeImage&&(h.kyc.chequeImage instanceof File||typeof h.kyc.chequeImage=="string"),Ve=h.kyc.drivingLicence&&(h.kyc.drivingLicence instanceof File||typeof h.kyc.drivingLicence=="string"),ue=h.kyc.bill&&(h.kyc.bill instanceof File||typeof h.kyc.bill=="string");return V&&oe&&Ue&&Je&&Ve&&ue&&h.kyc.bankDetails.accountNumber&&h.kyc.bankDetails.ifscCode&&h.kyc.bankDetails.accountHolderName&&h.kyc.bankDetails.bankName;case 4:return h.categories.length>0;case 5:return!0;case 6:return!!(h.terms.accepted&&h.terms.signature);case 7:return!0;case 8:return!!(h.payment.payId&&h.payment.payId.trim().length>0);case 9:return!0;case 10:return setTimeout(()=>l(11),100),t.jsxs("div",{className:"text-center py-12",children:[t.jsx(ts,{className:"animate-spin text-4xl text-primary mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600",children:"Redirecting to MG Plan selection..."})]});default:return!1}},We=()=>{switch(i){case 1:return y&&h.otp.length===6;case 2:return h.name&&h.email&&h.address&&h.pincode&&h.city&&h.partnerType;case 3:const fe=h.kyc.panCard&&(h.kyc.panCard instanceof File||typeof h.kyc.panCard=="string"),V=h.kyc.aadhaar&&(h.kyc.aadhaar instanceof File||typeof h.kyc.aadhaar=="string"),oe=h.kyc.aadhaarback&&(h.kyc.aadhaarback instanceof File||typeof h.kyc.aadhaarback=="string"),Ue=h.kyc.chequeImage&&(h.kyc.chequeImage instanceof File||typeof h.kyc.chequeImage=="string"),Je=h.kyc.drivingLicence&&(h.kyc.drivingLicence instanceof File||typeof h.kyc.drivingLicence=="string"),Ve=h.kyc.bill&&(h.kyc.bill instanceof File||typeof h.kyc.bill=="string");return fe&&V&&oe&&Ue&&Je&&Ve&&h.kyc.bankDetails.accountNumber&&h.kyc.bankDetails.ifscCode&&h.kyc.bankDetails.accountHolderName&&h.kyc.bankDetails.bankName;case 4:return h.categories.length>0;case 5:return h.selectedHubs.length===0?!0:h.selectedHubs.every(Re=>{if(!Re)return!1;const rt=Re.pinCodes||[];return!Array.isArray(rt)||rt.length===0?!1:rt.every(ht=>ht!=null&&ht.toString().trim().length>0)});case 6:return h.terms.accepted&&!!h.terms.signature;case 7:return!0;case 8:return!!(h.payment.payId&&h.payment.payId.trim().length>0);case 9:return!0;case 10:return!0;default:return!1}};g.useEffect(()=>{s&&i===7&&l(12)},[i,s]),g.useEffect(()=>{i===7&&h.payment.payId&&h.payment.status==="completed"&&(console.log(" Payment already completed and verified, showing payment confirmation"),l(8))},[i,h.payment.payId,h.payment.status]),g.useEffect(()=>{if(i===10){const fe=setTimeout(()=>{l(11)},1500);return()=>clearTimeout(fe)}},[i]),g.useEffect(()=>{if(s&&o&&d&&i!==12&&i!==11){const fe=!!(h.name&&h.email&&h.address&&h.pincode&&h.city),V=!!(h.kyc.panCard&&(h.kyc.panCard instanceof File||typeof h.kyc.panCard=="string")&&h.kyc.aadhaar&&(h.kyc.aadhaar instanceof File||typeof h.kyc.aadhaar=="string")&&h.kyc.aadhaarback&&(h.kyc.aadhaarback instanceof File||typeof h.kyc.aadhaarback=="string")&&h.kyc.chequeImage&&(h.kyc.chequeImage instanceof File||typeof h.kyc.chequeImage=="string")&&h.kyc.drivingLicence&&(h.kyc.drivingLicence instanceof File||typeof h.kyc.drivingLicence=="string")&&h.kyc.bill&&(h.kyc.bill instanceof File||typeof h.kyc.bill=="string")&&h.kyc.bankDetails.accountNumber&&h.kyc.bankDetails.ifscCode&&h.kyc.bankDetails.accountHolderName&&h.kyc.bankDetails.bankName),oe=!!(h.categories&&h.categories.length>0),Ue=!!(h.terms.accepted&&h.terms.signature);fe&&V&&oe&&Ue&&i!==12&&l(11)}},[h,s,o,d,i]);const At=async()=>{var fe,V;if(!h.payment.payId||h.payment.payId.trim().length===0){w("Please enter a valid payment transaction ID");return}b(!0),w("");try{const oe={registerAmount:h.payment.registrationFee||0,payId:h.payment.payId,paidBy:h.payment.paidBy||"partner",securityDeposit:h.payment.securityDepositSelected?h.payment.securityDeposit:0,toolkitPrice:h.toolkit.selected?h.toolkit.price:0,terms:{accepted:h.terms.accepted,signature:h.terms.signature,acceptedAt:new Date().toISOString()}},Ue=await jt.updateOnboardingStep(o,{step:8,completed:!0,approved:!1,...oe});Ue.success?l(9):w(Ue.message||"Failed to update onboarding step")}catch(oe){console.error("Payment confirmation error:",oe),w(((V=(fe=oe.response)==null?void 0:fe.data)==null?void 0:V.message)||oe.message||"An error occurred while confirming payment")}finally{b(!1)}},pt=()=>{var fe,V,oe,Ue;switch(i){case 1:return t.jsxs("div",{className:"space-y-4 sm:space-y-5",children:[t.jsxs("div",{className:"text-center mb-4 sm:mb-6",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-primary mb-1.5 sm:mb-2",children:"Welcome to NEXO Partner Onboarding"}),t.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Enter your phone number to get started"})]}),t.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Phone Number ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("div",{className:"relative",children:[t.jsx(VN,{className:"absolute left-3 top-3.5 text-gray-400"}),t.jsx("input",{type:"tel",value:h.phone,onChange:ue=>{p(Re=>({...Re,phone:ue.target.value.replace(/\D/g,"").slice(0,10)})),w(null)},className:"w-full pl-10 pr-4 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"Enter 10-digit phone number",maxLength:10,disabled:y})]})]}),y&&t.jsxs(E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Enter OTP ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("div",{className:"relative",children:[t.jsx(HN,{className:"absolute left-3 top-3.5 text-gray-400"}),t.jsx("input",{type:"text",value:h.otp,onChange:ue=>{p(Re=>({...Re,otp:ue.target.value.replace(/\D/g,"").slice(0,6)})),w(null)},className:"w-full pl-10 pr-4 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"Enter 6-digit OTP",maxLength:6})]})]}),t.jsx("button",{onClick:re,disabled:f||h.otp.length!==6,className:"w-full bg-primary text-white py-3 rounded-xl font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:f?t.jsx(ts,{className:"animate-spin mx-auto"}):"Verify OTP"}),N>0?t.jsxs("p",{className:"text-sm text-gray-500 text-center",children:["Resend OTP in ",N,"s"]}):t.jsx("button",{onClick:xe,className:"w-full text-primary font-semibold",children:"Resend OTP"})]}),!y&&t.jsx("button",{onClick:xe,disabled:f||h.phone.length!==10,className:"w-full bg-primary text-white py-3 rounded-xl font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:f?t.jsx(ts,{className:"animate-spin mx-auto"}):"Send OTP"}),j&&t.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-xl text-sm",children:j})]})]});case 2:return t.jsxs("div",{className:"space-y-4 sm:space-y-5",children:[t.jsxs("div",{className:"text-center mb-4 sm:mb-6",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-primary mb-1.5 sm:mb-2",children:"Personal Information"}),t.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Tell us about yourself"}),Ce(2)&&t.jsx("p",{className:"text-sm text-green-600 mt-2",children:" Information already saved"})]}),t.jsxs("div",{className:"mb-6",children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-3 text-center",children:["Select Partner Type ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("div",{className:"flex gap-4 justify-center",children:[t.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[t.jsx("input",{type:"radio",name:"partnerType",value:"individual",checked:h.partnerType==="individual",onChange:ue=>p(Re=>({...Re,partnerType:ue.target.value})),className:"w-4 h-4 text-primary focus:ring-primary"}),t.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Individual"})]}),t.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[t.jsx("input",{type:"radio",name:"partnerType",value:"franchise",checked:h.partnerType==="franchise",onChange:ue=>p(Re=>({...Re,partnerType:ue.target.value})),className:"w-4 h-4 text-primary focus:ring-primary"}),t.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Franchise"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Full Name ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",value:h.name,onChange:ue=>p(Re=>({...Re,name:ue.target.value})),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"Enter your full name"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Email ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"email",value:h.email,onChange:ue=>p(Re=>({...Re,email:ue.target.value})),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"Enter your email"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"WhatsApp Number"}),t.jsx("input",{type:"tel",value:h.whatsappNumber,onChange:ue=>p(Re=>({...Re,whatsappNumber:ue.target.value.replace(/\D/g,"").slice(0,10)})),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"Enter WhatsApp number"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Qualification"}),t.jsx("input",{type:"text",value:h.qualification,onChange:ue=>p(Re=>({...Re,qualification:ue.target.value})),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"e.g., ITI, Diploma"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Experience (Years)"}),t.jsx("input",{type:"number",value:h.experience,onChange:ue=>p(Re=>({...Re,experience:ue.target.value})),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"Years of experience"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["City ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",value:h.city,onChange:ue=>p(Re=>({...Re,city:ue.target.value})),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"Enter your city"})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Address ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("textarea",{value:h.address,onChange:ue=>p(Re=>({...Re,address:ue.target.value})),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"Enter your full address",rows:3})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Landmark"}),t.jsx("input",{type:"text",value:h.landmark,onChange:ue=>p(Re=>({...Re,landmark:ue.target.value})),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"Nearby landmark"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Pincode ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",value:h.pincode,onChange:ue=>p(Re=>({...Re,pincode:ue.target.value.replace(/\D/g,"").slice(0,6)})),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"Enter pincode",maxLength:6})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"GST Number (Optional)"}),t.jsx("input",{type:"text",value:h.gstNumber,onChange:ue=>p(Re=>({...Re,gstNumber:ue.target.value.toUpperCase().replace(/\s/g,"")})),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"Enter GST number (if applicable)",maxLength:15})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Referral Code (Optional)"}),t.jsx("input",{type:"text",value:h.referralCode,onChange:ue=>p(Re=>({...Re,referralCode:ue.target.value.toUpperCase()})),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"Enter referral code if any"})]})]}),t.jsxs("div",{className:"mt-6",children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Profile Picture (Optional)"}),t.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-6",children:h.profilePicture?t.jsxs("div",{className:"flex flex-col items-center gap-4",children:[t.jsxs("div",{className:"relative",children:[t.jsx("img",{src:h.profilePicture instanceof File?URL.createObjectURL(h.profilePicture):h.profilePicture,alt:"Profile",className:"w-32 h-32 rounded-full object-cover border-4 border-primary"}),t.jsx("button",{type:"button",onClick:()=>p(ue=>({...ue,profilePicture:null})),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs hover:bg-red-600",children:""})]}),t.jsx("p",{className:"text-sm text-green-600 font-semibold",children:" Profile picture uploaded"})]}):t.jsxs("div",{className:"flex flex-col items-center gap-4",children:[t.jsx("div",{className:"w-32 h-32 rounded-full bg-gray-100 border-4 border-gray-300 flex items-center justify-center",children:t.jsx(Oc,{className:"text-6xl text-gray-400"})}),t.jsxs("div",{className:"flex gap-3",children:[t.jsxs("label",{className:"cursor-pointer",children:[t.jsx("input",{type:"file",accept:"image/*",onChange:ue=>{ue.target.files&&ue.target.files[0]&&pe(ue.target.files[0])},className:"hidden"}),t.jsxs("span",{className:"inline-flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition font-semibold",children:[t.jsx(Kv,{})," Upload Photo"]})]}),t.jsxs("button",{type:"button",onClick:ve,className:"inline-flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition font-semibold",children:[t.jsx(gC,{})," Capture Photo"]})]}),t.jsx("p",{className:"text-xs text-gray-500",children:"Upload a photo or capture using camera"})]})})]}),ee&&t.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl p-6 max-w-md w-full",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Capture Photo"}),t.jsx("button",{type:"button",onClick:ke,className:"text-gray-500 hover:text-gray-700 text-2xl",children:""})]}),t.jsxs("div",{className:"relative bg-black rounded-lg overflow-hidden mb-4",style:{minHeight:"300px"},children:[t.jsx("video",{ref:U,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-auto",style:{transform:"scaleX(-1)"}}),!Y&&t.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-white",children:t.jsxs("div",{className:"text-center",children:[t.jsx(ts,{className:"animate-spin text-3xl mx-auto mb-2"}),t.jsx("p",{className:"text-sm",children:"Loading camera..."})]})})]}),j&&ee&&t.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-2 rounded-lg text-sm mb-4",children:j}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{type:"button",onClick:ke,className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition font-semibold",children:"Cancel"}),t.jsxs("button",{type:"button",onClick:Qe,disabled:!Y,className:"flex-1 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition font-semibold flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[t.jsx(gC,{})," Capture"]})]})]})}),j&&t.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-xl text-sm",children:j})]});case 3:return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("h2",{className:"text-3xl font-bold text-primary mb-2",children:"KYC Documents"}),t.jsx("p",{className:"text-gray-600",children:"Upload your identity and bank documents"}),Ce(3)&&t.jsx("p",{className:"text-sm text-green-600 mt-2",children:" Documents already uploaded"})]}),t.jsxs("div",{className:"space-y-4",children:[[{key:"panCard",label:"PAN Card",required:!0},{key:"aadhaar",label:"Aadhaar Card (Front)",required:!0},{key:"aadhaarback",label:"Aadhaar Card (Back)",required:!0},{key:"chequeImage",label:"Cancelled Cheque",required:!0},{key:"drivingLicence",label:"Driving Licence",required:!0},{key:"bill",label:"Utility Bill",required:!0}].map(({key:ue,label:Re,required:rt})=>t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[Re," ",rt&&t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-6 text-center",children:[t.jsx("input",{type:"file",accept:"image/*,.pdf",onChange:ht=>ge(ue,ht.target.files[0]),className:"hidden",id:ue}),t.jsx("label",{htmlFor:ue,className:`cursor-pointer flex flex-col items-center ${h.kyc[ue]&&typeof h.kyc[ue]=="string"?"opacity-100":""}`,children:h.kyc[ue]&&typeof h.kyc[ue]=="string"?t.jsxs("div",{className:"flex flex-col items-center gap-2",children:[t.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center",children:t.jsx($e,{className:"text-2xl text-green-600"})}),t.jsxs("div",{className:"flex flex-col items-center gap-1",children:[t.jsx("span",{className:"text-sm text-green-600 font-semibold",children:" Already Uploaded"}),t.jsx("span",{className:"text-xs text-gray-500",children:"Click to replace"})]})]}):h.kyc[ue]instanceof File?t.jsxs("div",{className:"flex flex-col items-center gap-1",children:[t.jsx(Kv,{className:"text-3xl text-primary mb-2"}),t.jsxs("span",{className:"text-sm text-green-600",children:[" ",h.kyc[ue].name||"Uploaded"]})]}):t.jsxs("div",{className:"flex flex-col items-center gap-1",children:[t.jsx(Kv,{className:"text-3xl text-gray-400 mb-2"}),t.jsxs("span",{className:"text-sm text-gray-600",children:["Click to upload ",Re]})]})})]})]},ue)),t.jsxs("div",{className:"border-t pt-6 mt-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Bank Details"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{key:"accountNumber",label:"Account Number",required:!0},{key:"ifscCode",label:"IFSC Code",required:!0},{key:"accountHolderName",label:"Account Holder Name",required:!0},{key:"bankName",label:"Bank Name",required:!0}].map(({key:ue,label:Re,required:rt})=>t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[Re," ",rt&&t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",value:h.kyc.bankDetails[ue],onChange:ht=>p(xt=>({...xt,kyc:{...xt.kyc,bankDetails:{...xt.kyc.bankDetails,[ue]:ht.target.value}}})),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-primary",placeholder:`Enter ${Re.toLowerCase()}`,...ue==="ifscCode"&&{maxLength:11,style:{textTransform:"uppercase"}}})]},ue))})]})]}),j&&t.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-xl text-sm",children:j})]});case 4:return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("h2",{className:"text-3xl font-bold text-primary mb-2",children:"Select Categories"}),t.jsx("p",{className:"text-gray-600",children:"Select one or more service categories you want to provide"}),Ce(4)&&t.jsx("p",{className:"text-sm text-green-600 mt-2",children:" Categories already selected"})]}),ce?t.jsx("div",{className:"flex justify-center items-center py-12",children:t.jsx(ts,{className:"animate-spin text-4xl text-primary"})}):t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:(F.length>0?F:HC).map(ue=>{const Re=ue.id||ue._id||ue.name,rt=ue.name,ht=ue.icon||"",xt=h.categories.includes(Re)||h.categoryNames.includes(rt);return t.jsxs(E.button,{onClick:()=>{p(Ht=>{const Rt=[...Ht.categories],ot=[...Ht.categoryNames];if(xt){const Vr=Rt.indexOf(Re);Vr>-1&&Rt.splice(Vr,1);const Xs=ot.indexOf(rt);Xs>-1&&ot.splice(Xs,1)}else Rt.includes(Re)||Rt.push(Re),ot.includes(rt)||ot.push(rt);return{...Ht,categories:Rt,categoryNames:ot,trade:ot.length>0?ot[0]:""}})},whileHover:{scale:1.05},whileTap:{scale:.95},className:`p-6 rounded-2xl border-2 transition-all ${xt?"border-primary bg-primary/10 shadow-lg":"border-gray-200 hover:border-primary/50"}`,children:[t.jsx("div",{className:"text-4xl mb-3",children:ht}),t.jsx("div",{className:"font-semibold text-gray-800",children:rt}),xt&&t.jsx(E.div,{initial:{scale:0},animate:{scale:1},className:"mt-2",children:t.jsx($e,{className:"text-primary mx-auto"})})]},Re)})}),h.categories.length>0&&t.jsx("div",{className:"mt-4 p-4 bg-primary/5 rounded-xl",children:t.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[t.jsx("span",{className:"font-semibold",children:"Selected:"})," ",h.categoryNames.join(", ")]})})]});case 5:return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("h2",{className:"text-3xl font-bold text-primary mb-2",children:"Select Service Hubs"}),t.jsx("p",{className:"text-gray-600",children:"Select from available service hubs created by admin. Choose hubs and pin codes for your service areas."})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:t.jsxs("p",{className:"text-sm text-blue-800",children:[t.jsx("strong",{children:"What are Service Hubs?"})," Service hubs define the areas where you provide services. Each hub can have multiple pin codes. Select hubs and choose the pin codes you want to cover."]})}),T?t.jsxs("div",{className:"text-center py-12",children:[t.jsx(ts,{className:"animate-spin text-4xl text-primary mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600",children:"Loading available hubs..."})]}):se.length>0?t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Available Service Hubs"}),t.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:se.map(ue=>{var xt,Ht;const Re=h.selectedHubs.some(Rt=>{var ot;return Rt.hubId===((ot=ue._id)==null?void 0:ot.toString())||Rt.name===ue.name}),rt=h.selectedHubs.find(Rt=>{var ot;return Rt.hubId===((ot=ue._id)==null?void 0:ot.toString())||Rt.name===ue.name}),ht=(rt==null?void 0:rt.pinCodes)||[];return t.jsxs("div",{className:`border-2 rounded-xl p-4 transition-all ${Re?"border-primary bg-primary/5":"border-gray-200 hover:border-primary/50 bg-white"}`,children:[t.jsxs("div",{className:"flex items-start justify-between mb-3",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx(Fl,{className:"text-primary"}),t.jsx("h4",{className:"font-semibold text-gray-800",children:ue.name}),ue.isPrimary&&t.jsx("span",{className:"px-2 py-0.5 bg-primary/10 text-primary text-xs rounded-full font-semibold",children:"Primary"})]}),(ue.city||ue.state)&&t.jsx("p",{className:"text-xs text-gray-500 ml-6",children:[ue.city,ue.state].filter(Boolean).join(", ")}),ue.areas&&ue.areas.length>0&&t.jsxs("p",{className:"text-xs text-gray-500 ml-6 mt-1",children:[ue.areas.length," area",ue.areas.length!==1?"s":"","  ",((xt=ue.pinCodes)==null?void 0:xt.length)||0," pin code",((Ht=ue.pinCodes)==null?void 0:Ht.length)===1?"":"s"]})]}),t.jsx("button",{type:"button",onClick:()=>{if(Re)p(Rt=>({...Rt,selectedHubs:Rt.selectedHubs.filter(ot=>{var Vr;return ot.hubId!==((Vr=ue._id)==null?void 0:Vr.toString())&&ot.name!==ue.name})}));else{const Rt=ue.pinCodes||[];Rt.length>0?p(ot=>{var Vr;return{...ot,selectedHubs:[...ot.selectedHubs,{hubId:(Vr=ue._id)==null?void 0:Vr.toString(),name:ue.name,pinCodes:[...Rt],isPrimary:ot.selectedHubs.length===0}]}}):alert("This hub has no pin codes available. Please contact admin.")}},className:`px-3 py-1 rounded-lg text-sm font-semibold transition ${Re?"bg-red-100 text-red-600 hover:bg-red-200":"bg-primary text-white hover:bg-primary-dark"}`,children:Re?"Remove":"Select Hub"})]}),Re&&ue.pinCodes&&ue.pinCodes.length>0&&t.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[t.jsx("p",{className:"text-xs font-semibold text-gray-600 mb-2",children:"Select Pin Codes:"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:ue.pinCodes.map(Rt=>{const ot=ht.includes(Rt);return t.jsx("button",{type:"button",onClick:()=>{p(Vr=>{const Xs=Vr.selectedHubs.map(Jr=>{var W;if(Jr.hubId===((W=ue._id)==null?void 0:W.toString())||Jr.name===ue.name){const te=Jr.pinCodes||[];if(ot&&te.length===1)return alert("At least one pin code must be selected for each hub. Remove the hub instead if you don't need it."),Jr;const J=ot?te.filter(Z=>Z!==Rt):[...te,Rt];return{...Jr,pinCodes:J}}return Jr});return{...Vr,selectedHubs:Xs}})},className:`px-3 py-1 rounded-full text-xs font-semibold transition ${ot?"bg-primary text-white border-2 border-primary":"bg-white text-gray-600 border-2 border-gray-300 hover:border-primary"}`,children:Rt},Rt)})}),ht.length===0&&t.jsx("p",{className:"text-xs text-amber-600 mt-2",children:" Please select at least one pin code"})]}),!Re&&ue.pinCodes&&ue.pinCodes.length>0&&t.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:ue.pinCodes.map(Rt=>t.jsx("span",{className:"px-2.5 py-1 bg-gray-100 text-gray-600 rounded-full text-xs font-semibold",children:Rt},Rt))})]},ue._id||ue.name)})})]}):t.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-xl bg-gray-50",children:[t.jsx(Fl,{className:"text-4xl text-gray-400 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600 font-medium mb-2",children:"No Service Hubs Available"}),t.jsx("p",{className:"text-sm text-gray-500",children:"No service hubs have been created yet. Please contact admin or proceed without hubs."})]}),h.selectedHubs.length>0&&t.jsxs("div",{className:"mt-6 space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Your Selected Service Hubs"}),t.jsxs("span",{className:"text-sm text-gray-500",children:[h.selectedHubs.length," hub",h.selectedHubs.length!==1?"s":""," selected"]})]}),h.selectedHubs.map((ue,Re)=>t.jsx("div",{className:"border-2 border-primary rounded-xl p-4 bg-primary/5",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx("span",{className:"font-semibold text-gray-800",children:ue.name}),ue.isPrimary&&t.jsx("span",{className:"px-2 py-0.5 bg-primary text-white text-xs rounded-full font-semibold",children:"Primary"})]}),ue.pinCodes&&ue.pinCodes.length>0?t.jsx("div",{className:"flex flex-wrap gap-2",children:ue.pinCodes.map((rt,ht)=>t.jsx("span",{className:"px-2.5 py-1 bg-white border border-primary rounded-full text-xs font-semibold text-primary",children:rt},ht))}):t.jsx("p",{className:"text-xs text-amber-600",children:"No pin codes selected"})]}),t.jsxs("button",{type:"button",onClick:()=>{const rt=h.selectedHubs.filter((ht,xt)=>xt!==Re);ue.isPrimary&&rt.length>0&&(rt[0].isPrimary=!0),p(ht=>({...ht,selectedHubs:rt}))},className:"ml-4 p-2 text-red-600 hover:bg-red-50 rounded-lg transition flex items-center gap-1",title:"Delete Hub",children:[t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),t.jsx("span",{className:"text-sm font-semibold",children:"Delete"})]})]})},Re))]})]})]});case 6:return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("h2",{className:"text-3xl font-bold text-primary mb-2",children:"Terms & Conditions"}),t.jsx("p",{className:"text-gray-600",children:"Please read and accept the Partner Agreement"})]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white border-2 border-gray-200 rounded-xl p-6 max-h-[600px] overflow-y-auto",children:[t.jsxs("div",{className:"mb-4 pb-3 border-b border-gray-200",children:[t.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"PARTNER TERMS & CONDITIONS"}),t.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[t.jsxs("p",{children:[t.jsx("strong",{children:"Effective Date:"})," 15th November 2025"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Last Updated:"})," 15th November 2025"]})]})]}),t.jsxs("div",{className:"space-y-4 text-sm text-gray-700",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold text-base mb-2 text-gray-900",children:"1. Introduction"}),t.jsx("p",{className:"leading-relaxed",children:'These Partner Terms & Conditions ("Terms") constitute a binding agreement between NEXO ("Company", "Platform", "We", "Us") and the individual or business entity ("Partner", "Service Provider", "You") who registers to provide on-site or online services through the Platform.'}),t.jsx("p",{className:"leading-relaxed mt-2",children:"By registering or accepting any service request, the Partner expressly agrees to these Terms."})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold text-base mb-2 text-gray-900",children:"2. Independent Contractor Status"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[t.jsx("li",{className:"leading-relaxed",children:"The Partner is an independent contractor, not an employee, representative, or agent of NEXO."}),t.jsx("li",{className:"leading-relaxed",children:"No employment benefits (PF, ESI, gratuity, insurance, paid leave, salary) shall be applicable."}),t.jsx("li",{className:"leading-relaxed",children:"The Partner is solely responsible for compliance with GST, income tax, labour laws, and all statutory obligations."})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold text-base mb-2 text-gray-900",children:"3. Mandatory Registration & Onboarding Requirements"}),t.jsx("p",{className:"leading-relaxed mb-2",children:"The Partner shall complete mandatory onboarding, including but not limited to:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4 mb-2",children:[t.jsx("li",{children:"Valid Government ID"}),t.jsx("li",{children:"Address proof"}),t.jsx("li",{children:"Skill verification/trade test (if applicable)"}),t.jsx("li",{children:"Police verification (whenever required)"}),t.jsx("li",{children:"Recent photograph"}),t.jsx("li",{children:"Bank account details"}),t.jsx("li",{children:"GST number (if applicable)"})]}),t.jsx("p",{className:"leading-relaxed mb-2",children:t.jsx("strong",{children:"Payment of applicable onboarding fees:"})}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4 mb-2",children:[t.jsx("li",{children:"Registration Fee"}),t.jsx("li",{children:"Toolkit Fee (if provided)"}),t.jsx("li",{children:"Minimum Guarantee (MG) Plan"}),t.jsx("li",{children:"Security Deposit"})]}),t.jsx("p",{className:"leading-relaxed text-xs",children:"All fees are non-refundable, except security deposit which is refundable as per Clause 23."})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold text-base mb-2 text-gray-900",children:"4. Partner Obligations"}),t.jsx("p",{className:"leading-relaxed mb-2",children:"Partner shall:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[t.jsx("li",{children:"Maintain professional behaviour at all times."}),t.jsx("li",{children:"Deliver high-quality, safe, and lawful services."}),t.jsx("li",{children:"Carry valid Partner ID during every service."}),t.jsx("li",{children:"Reach customer location on time."}),t.jsx("li",{children:"Provide correct service estimates before starting work."}),t.jsx("li",{children:"Maintain hygiene, wear uniform/ID (if provided)."}),t.jsx("li",{children:"Not engage in misconduct, harassment, abuse, threats, or illegal activity."}),t.jsx("li",{children:"Maintain tools and ensure safe operation."}),t.jsx("li",{children:"Not demand cash payments directly from customers."}),t.jsx("li",{children:"Not solicit or accept off-platform work (strict penalty)."})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold text-base mb-2 text-gray-900",children:"5. Pricing, Estimates & Billing"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[t.jsx("li",{children:"Partner must follow NEXO pricing structure and guidelines."}),t.jsx("li",{children:"Any additional work must be pre-approved through the Platform."}),t.jsx("li",{children:"Partner shall not overcharge or misrepresent pricing."}),t.jsx("li",{children:"All payments shall be processed solely through NEXO."}),t.jsx("li",{children:"Partner is responsible for issuing bills/invoices where required by law."})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold text-base mb-2 text-gray-900",children:"6. Platform Commission & Deductions"}),t.jsx("p",{className:"leading-relaxed mb-2",children:"Partner agrees to the following deductions:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4 mb-2",children:[t.jsx("li",{children:"Platform Commission (%)"}),t.jsx("li",{children:"Lead Cost per lead"}),t.jsx("li",{children:"GST applicable on Platform Commission"}),t.jsx("li",{children:"Penalties & Fines"}),t.jsx("li",{children:"TDS (if applicable)"}),t.jsx("li",{children:"Outstanding dues from previous jobs"}),t.jsx("li",{children:"MG Plan adjustments"})]}),t.jsx("p",{className:"leading-relaxed text-xs",children:"All deductions shall be final and binding."})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold text-base mb-2 text-gray-900",children:"7. Mandatory Safety Requirements"}),t.jsx("p",{className:"leading-relaxed mb-2",children:"Partner shall:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4 mb-2",children:[t.jsx("li",{children:"Follow safety protocols prescribed by NEXO."}),t.jsx("li",{children:"Use proper tools and protective equipment."}),t.jsx("li",{children:"Not perform services beyond skill level or without proper safety."}),t.jsx("li",{children:"Not endanger customer, property, or themselves."})]}),t.jsx("p",{className:"leading-relaxed mb-2",children:"Failure may result in:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[t.jsx("li",{children:"Immediate suspension"}),t.jsx("li",{children:"Penalty up to 5,000"}),t.jsx("li",{children:"Legal action for damages"})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold text-base mb-2 text-gray-900",children:"8. Customer Safety & Code of Conduct"}),t.jsx("p",{className:"leading-relaxed mb-2",children:"Partner must strictly adhere to:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4 mb-2",children:[t.jsx("li",{children:"No harassment (verbal, physical, emotional)"}),t.jsx("li",{children:"No misbehaviour, disrespect, abusive language"}),t.jsx("li",{children:"No consumption of alcohol/drugs on duty"}),t.jsx("li",{children:"No theft, damage, or misconduct"}),t.jsx("li",{children:"No photography or unauthorised recording at customer premises"}),t.jsx("li",{children:"No requesting personal favours or discounts"}),t.jsx("li",{children:"No entering restricted areas without consent"})]}),t.jsx("p",{className:"leading-relaxed mb-2",children:"Any violation may lead to:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[t.jsx("li",{children:"Permanent termination"}),t.jsx("li",{children:"Police complaint"}),t.jsx("li",{children:"Forfeiture of dues and deposits"}),t.jsx("li",{children:"Penalties up to 25,000"})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold text-base mb-2 text-gray-900",children:"9. Punctuality & Attendance"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4 mb-2",children:[t.jsx("li",{children:"Partner must accept bookings only if available."}),t.jsx("li",{children:"Must reach customer location on time."}),t.jsx("li",{children:"Any delay beyond 20 minutes must be informed."})]}),t.jsx("p",{className:"leading-relaxed mb-2",children:"Repeated delays may lead to:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[t.jsx("li",{children:"50200 penalty per incident"}),t.jsx("li",{children:"Reduced lead allocation"}),t.jsx("li",{children:"Temporary suspension"})]})]}),t.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:[t.jsx("h4",{className:"font-bold text-base mb-2 text-red-900",children:"10. No Offline Deals (Strictly Prohibited)"}),t.jsx("p",{className:"leading-relaxed mb-2 text-red-900",children:"Partner shall not:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4 mb-2 text-red-900",children:[t.jsx("li",{children:"Ask customer to cancel platform booking"}),t.jsx("li",{children:"Offer lower pricing for offline work"}),t.jsx("li",{children:"Share personal phone number for future services"}),t.jsx("li",{children:"Accept cash or direct payments"})]}),t.jsx("p",{className:"leading-relaxed mb-2 text-red-900",children:t.jsx("strong",{children:"Penalty:"})}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4 text-red-900",children:[t.jsx("li",{children:"5,000 minimum"}),t.jsx("li",{children:"Permanent termination"}),t.jsx("li",{children:"Deduction from wallet and MG plan"}),t.jsx("li",{children:"Legal action for business loss"})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold text-base mb-2 text-gray-900",children:"11. Service Quality & Returns"}),t.jsx("p",{className:"leading-relaxed mb-2",children:"Partner must ensure:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4 mb-2",children:[t.jsx("li",{children:"High-quality workmanship"}),t.jsx("li",{children:"Correct problem diagnosis"}),t.jsx("li",{children:"Use of original parts (if applicable)"}),t.jsx("li",{children:"Guarantee service quality as per NEXO policy"})]}),t.jsx("p",{className:"leading-relaxed mb-2",children:"Poor work or customer complaints may attract:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[t.jsx("li",{children:"Rework without charges"}),t.jsx("li",{children:"Penalty from 1001,000"}),t.jsx("li",{children:"Suspension on repeated offences"})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold text-base mb-2 text-gray-900",children:"12. Damage, Theft, or Loss"}),t.jsx("p",{className:"leading-relaxed mb-2",children:"Partner shall be fully liable for:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4 mb-2",children:[t.jsx("li",{children:"Damage to customer property"}),t.jsx("li",{children:"Theft or loss at customer premises"}),t.jsx("li",{children:"Fire, accident, or injury caused due to Partner negligence"}),t.jsx("li",{children:"Incorrect installation or unsafe practices"})]}),t.jsx("p",{className:"leading-relaxed mb-2",children:"Recovery will be made through:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[t.jsx("li",{children:"Partner wallet"}),t.jsx("li",{children:"Security deposit"}),t.jsx("li",{children:"MG payouts"}),t.jsx("li",{children:"Legal recovery"})]}),t.jsx("p",{className:"leading-relaxed text-xs mt-2",children:"Police FIR may be filed for severe cases."})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold text-base mb-2 text-gray-900",children:"13. Fraudulent Activities"}),t.jsx("p",{className:"leading-relaxed mb-2",children:"Strictly prohibited:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4 mb-2",children:[t.jsx("li",{children:"Faking job completion"}),t.jsx("li",{children:"False OTP entry"}),t.jsx("li",{children:"Manipulating customer rating"}),t.jsx("li",{children:"Overcharging"}),t.jsx("li",{children:"Providing false documents"})]}),t.jsx("p",{className:"leading-relaxed mb-2",children:"Penalty:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[t.jsx("li",{children:"Up to 25,000"}),t.jsx("li",{children:"Permanent removal"}),t.jsx("li",{children:"Legal prosecution"})]})]}),t.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:[t.jsx("h4",{className:"font-bold text-base mb-3 text-amber-900",children:"14. Penalty Structure"}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full text-xs border-collapse",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-amber-100",children:[t.jsx("th",{className:"border border-amber-300 px-2 py-1 text-left font-bold",children:"Violation"}),t.jsx("th",{className:"border border-amber-300 px-2 py-1 text-left font-bold",children:"Penalty"})]})}),t.jsxs("tbody",{className:"text-amber-900",children:[t.jsxs("tr",{children:[t.jsx("td",{className:"border border-amber-300 px-2 py-1",children:"Late arrival"}),t.jsx("td",{className:"border border-amber-300 px-2 py-1",children:"50200"})]}),t.jsxs("tr",{children:[t.jsx("td",{className:"border border-amber-300 px-2 py-1",children:"Job rejection after acceptance"}),t.jsx("td",{className:"border border-amber-300 px-2 py-1",children:"100300"})]}),t.jsxs("tr",{children:[t.jsx("td",{className:"border border-amber-300 px-2 py-1",children:"Misbehaviour"}),t.jsx("td",{className:"border border-amber-300 px-2 py-1",children:"1,0005,000"})]}),t.jsxs("tr",{children:[t.jsx("td",{className:"border border-amber-300 px-2 py-1",children:"Unsafe work"}),t.jsx("td",{className:"border border-amber-300 px-2 py-1",children:"2,000"})]}),t.jsxs("tr",{children:[t.jsx("td",{className:"border border-amber-300 px-2 py-1",children:"Offline deal"}),t.jsx("td",{className:"border border-amber-300 px-2 py-1",children:"5,000+ termination"})]}),t.jsxs("tr",{children:[t.jsx("td",{className:"border border-amber-300 px-2 py-1",children:"Theft/misconduct"}),t.jsx("td",{className:"border border-amber-300 px-2 py-1",children:"Legal action + termination"})]})]})]})}),t.jsx("p",{className:"text-xs text-amber-900 mt-2",children:"NEXO reserves the right to modify penalties anytime."})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold text-base mb-2 text-gray-900",children:"15. Partner Wallet & Settlement"}),t.jsx("p",{className:"leading-relaxed mb-2",children:"Deductions will be applied in the following order:"}),t.jsxs("ol",{className:"list-decimal list-inside space-y-1 ml-4 mb-2",children:[t.jsx("li",{children:"Penalties"}),t.jsx("li",{children:"Platform Commission"}),t.jsx("li",{children:"Lead cost"}),t.jsx("li",{children:"MG plan adjustments"}),t.jsx("li",{children:"Pending dues"})]}),t.jsx("p",{className:"leading-relaxed",children:"Settlement cycles will be weekly or as updated by NEXO."})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold text-base mb-2 text-gray-900",children:"16. MG Plan (Minimum Guarantee)"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[t.jsx("li",{children:"MG plan is optional or mandatory as per category."}),t.jsx("li",{children:"MG provides priority leads based on plan."}),t.jsx("li",{children:"MG fee is non-refundable."}),t.jsx("li",{children:"Partner failing to meet service quality/minimum performance may lose MG benefits without refund."})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold text-base mb-2 text-gray-900",children:"17. Ratings & Reviews"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[t.jsx("li",{children:"Partner must maintain minimum rating (e.g., 4.0)."}),t.jsx("li",{children:"Low ratings may result in reduced leads or suspension."}),t.jsx("li",{children:"False or manipulated ratings are punishable."})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold text-base mb-2 text-gray-900",children:"18. Use of Platform & Technology"}),t.jsx("p",{className:"leading-relaxed mb-2",children:"Partner shall:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[t.jsx("li",{children:"Keep app updated"}),t.jsx("li",{children:"Not misuse customer data"}),t.jsx("li",{children:"Not reverse engineer, hack, or modify NEXO systems"}),t.jsx("li",{children:"Use genuine documents only"})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold text-base mb-2 text-gray-900",children:"19. Termination"}),t.jsx("p",{className:"leading-relaxed mb-2",children:"NEXO may terminate partner access without notice for:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[t.jsx("li",{children:"Misconduct"}),t.jsx("li",{children:"Fraud"}),t.jsx("li",{children:"Unsafe behaviour"}),t.jsx("li",{children:"Low performance"}),t.jsx("li",{children:"Offline deals"}),t.jsx("li",{children:"Customer complaints"}),t.jsx("li",{children:"Violation of any Terms"})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold text-base mb-2 text-gray-900",children:"20. Security Deposit Refund"}),t.jsx("p",{className:"leading-relaxed mb-2",children:"Refund only upon:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4 mb-2",children:[t.jsx("li",{children:"30-day notice period"}),t.jsx("li",{children:"Return of toolkit (if applicable)"}),t.jsx("li",{children:"No pending dues or penalties"}),t.jsx("li",{children:"No active customer complaints"})]}),t.jsx("p",{className:"leading-relaxed",children:"Refund processing time: 2145 working days."})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold text-base mb-2 text-gray-900",children:"21. Dispute Resolution"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4 mb-2",children:[t.jsxs("li",{children:[t.jsx("strong",{children:"Jurisdiction:"})," Bangalore, Karnataka"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Governing Law:"})," Laws of India"]})]}),t.jsx("p",{className:"leading-relaxed mb-2",children:t.jsx("strong",{children:"Method:"})}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[t.jsx("li",{children:"Internal review"}),t.jsx("li",{children:"Mediation"}),t.jsx("li",{children:"Arbitration (if required)"})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold text-base mb-2 text-gray-900",children:"22. Amendments"}),t.jsx("p",{className:"leading-relaxed",children:"NEXO reserves the right to change Terms anytime. Continued use of the Platform constitutes acceptance."})]}),t.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mt-4",children:t.jsxs("p",{className:"text-xs text-blue-900 leading-relaxed",children:[t.jsx("strong",{children:"By signing and accepting this Agreement, Partner confirms that:"})," (i) they have read, understood, and agree to be bound by all terms, conditions, and penalties outlined herein; (ii) they have had the opportunity to review the full terms published on the Platform; (iii) they understand that this Agreement is legally binding; and (iv) they agree to comply with all obligations and accept all penalties for violations."]})})]})]}),t.jsx("div",{className:"space-y-6",children:h.terms.accepted&&h.terms.signature?t.jsxs("div",{className:"bg-green-50 border-2 border-green-200 rounded-xl p-6",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx($e,{className:"text-green-600 text-2xl"}),t.jsx("h3",{className:"text-lg font-bold text-green-800",children:"Terms Already Accepted"})]}),t.jsx("p",{className:"text-sm text-green-700 mb-4",children:"You have already accepted the Terms & Conditions and provided your digital signature."}),h.terms.signature&&t.jsxs("div",{className:"mt-4",children:[t.jsx("p",{className:"text-xs text-green-600 mb-2 font-semibold",children:"Your Signature:"}),t.jsx("div",{className:"bg-white border border-green-200 rounded-lg p-3",children:t.jsx("img",{src:h.terms.signature,alt:"Signature",className:"max-w-full h-auto",style:{maxHeight:"100px"}})})]})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"bg-white border-2 border-gray-200 rounded-xl p-6",children:[t.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Digital Signature"}),t.jsxs("div",{className:"mb-4",children:[t.jsx("canvas",{ref:K,className:"border-2 border-dashed border-gray-300 rounded-lg w-full cursor-crosshair",style:{touchAction:"none",display:"block",maxWidth:"100%",height:"150px"}}),t.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Draw your signature in the box above"})]}),t.jsx("div",{className:"flex gap-2",children:t.jsx("button",{type:"button",onClick:()=>{const ue=K.current;ue&&(ue.getContext("2d").clearRect(0,0,ue.width,ue.height),p(rt=>({...rt,terms:{...rt.terms,signature:null}})))},className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition text-sm font-semibold",children:"Clear Signature"})}),h.terms.signature&&t.jsx("p",{className:"text-sm text-green-600 mt-2 font-semibold",children:" Signature captured"})]}),t.jsx("div",{className:"bg-white border-2 border-gray-200 rounded-xl p-6",children:t.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:h.terms.accepted,onChange:ue=>{p(Re=>({...Re,terms:{...Re.terms,accepted:ue.target.checked}}))},className:"mt-1 w-5 h-5 text-primary border-gray-300 rounded focus:ring-primary"}),t.jsxs("span",{className:"text-sm text-gray-700",children:[t.jsx("strong",{children:"I have read, understood and accept the Terms & Conditions"})," *",t.jsx("br",{}),t.jsx("span",{className:"text-xs text-gray-500",children:"By checking this box, you agree to be bound by all terms, conditions, and penalties outlined in the Partner Agreement."})]})]})})]})})]})]});case 7:return s?null:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("h2",{className:"text-3xl font-bold text-primary mb-2",children:" Payment Options"}),t.jsx("p",{className:"text-gray-600",children:"Choose your preferred payment plan and complete via WhatsApp Pay"})]}),j&&t.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-red-50 border-2 border-red-200 rounded-xl p-4 flex items-start gap-3",children:[t.jsx("svg",{className:"w-6 h-6 text-red-600 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"font-semibold text-red-800 mb-1",children:"Payment Failed"}),t.jsx("p",{className:"text-sm text-red-700",children:j}),t.jsx("button",{onClick:()=>w(null),className:"mt-2 text-sm text-red-600 hover:text-red-800 font-medium underline",children:"Dismiss"})]})]}),t.jsxs("div",{className:"bg-gradient-to-br from-primary/10 to-primary/5 rounded-2xl p-6 space-y-4",children:[t.jsxs("div",{className:"flex justify-between items-center p-4 bg-white/50 rounded-xl border border-primary/20",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center",children:t.jsx("svg",{className:"w-4 h-4 text-primary",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-800 font-semibold",children:"Registration Fee"}),t.jsx("p",{className:"text-xs text-gray-600",children:"One-time onboarding fee"})]})]}),t.jsxs("span",{className:"font-bold text-xl text-primary",children:["",h.payment.registrationFee.toLocaleString()]})]}),t.jsx("div",{className:"relative",children:t.jsxs("div",{className:`border-2 rounded-xl p-4 transition-all duration-200 ${h.payment.securityDepositSelected?"border-primary bg-primary/5 shadow-md":"border-gray-200 hover:border-primary/50"}`,children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:`w-5 h-5 rounded-md border-2 flex items-center justify-center transition-all duration-200 ${h.payment.securityDepositSelected?"bg-primary border-primary":"border-gray-300 hover:border-primary/70"}`,children:[t.jsx("input",{type:"checkbox",id:"securityDeposit",checked:h.payment.securityDepositSelected,onChange:ue=>{const Re=ue.target.checked,rt=h.partnerType||"individual",ht=(L==null?void 0:L[rt])||L,xt=Re?(ht==null?void 0:ht.securityDeposit)||1e3:0;p(Ht=>({...Ht,payment:{...Ht.payment,securityDepositSelected:Re,securityDeposit:xt,total:Ht.payment.registrationFee+xt+(Ht.toolkit.selected?Ht.toolkit.price:0)}}))},className:"w-3 h-3 text-primary focus:ring-0 opacity-0 absolute"}),h.payment.securityDepositSelected&&t.jsx("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]}),t.jsxs("div",{children:[t.jsxs("label",{htmlFor:"securityDeposit",className:"text-gray-800 font-semibold text-base cursor-pointer flex items-center gap-2",children:["Include Security Deposit",h.payment.securityDepositSelected&&t.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[t.jsx("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Selected"]})]}),t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Refundable security deposit"})]})]}),t.jsx("div",{className:"text-right",children:L&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:`text-2xl font-bold transition-colors duration-200 ${h.payment.securityDepositSelected?"text-primary":"text-gray-700"}`,children:["",L.securityDeposit.toLocaleString()]}),!h.payment.securityDepositSelected&&t.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Click to include"})]})})]}),h.payment.securityDepositSelected&&t.jsx("div",{className:"mt-3 pt-3 border-t border-primary/20",children:t.jsxs("div",{className:"flex items-start gap-2 text-sm text-gray-600",children:[t.jsx("svg",{className:"w-4 h-4 text-green-500 mt-0.5 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-800",children:"Why include security deposit?"}),t.jsx("p",{className:"text-xs mt-1",children:"Builds trust with customers and partners. Fully refundable upon completion.."})]})]})})]})}),t.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[t.jsxs("div",{className:`border-2 rounded-xl p-4 transition-all duration-200 ${h.toolkit.selected?"border-orange-400 bg-orange-50/50 shadow-md":"border-gray-200 hover:border-orange-300"}`,children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:`w-5 h-5 rounded-md border-2 flex items-center justify-center transition-all duration-200 cursor-pointer ${h.toolkit.selected?"bg-orange-500 border-orange-500":"border-gray-300 hover:border-orange-400"}`,children:[t.jsx("input",{type:"checkbox",id:"toolkitCheckbox",checked:h.toolkit.selected,onChange:ue=>p(Re=>({...Re,toolkit:{...Re.toolkit,selected:ue.target.checked}})),className:"w-3 h-3 text-primary focus:ring-0 opacity-0 absolute cursor-pointer"}),h.toolkit.selected&&t.jsx("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]}),t.jsx("div",{children:t.jsxs("label",{htmlFor:"toolkitCheckbox",className:"cursor-pointer",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(EX,{className:`text-lg transition-colors duration-200 ${h.toolkit.selected?"text-orange-600":"text-orange-500"}`}),t.jsxs("span",{className:`font-semibold transition-colors duration-200 ${h.toolkit.selected?"text-gray-800":"text-gray-700"}`,children:["Professional Toolkit (Optional)",h.toolkit.selected&&t.jsxs("span",{className:"inline-flex items-center ml-2 px-2 py-0.5 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:[t.jsx("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Selected"]})]})]}),t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Professional-grade tools and equipment to get started faster"})]})})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:`text-2xl font-bold transition-colors duration-200 ${h.toolkit.selected?"text-orange-600":"text-gray-700"}`,children:["",h.toolkit.price.toLocaleString()]}),!h.toolkit.selected&&t.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Optional add-on"})]})]}),h.toolkit.selected&&t.jsx("div",{className:"mt-3 pt-3 border-t border-orange-200",children:t.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("svg",{className:"w-4 h-4 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),t.jsx("span",{className:"text-gray-700",children:"Quality Tools"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("svg",{className:"w-4 h-4 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),t.jsx("span",{className:"text-gray-700",children:"Faster Setup"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("svg",{className:"w-4 h-4 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),t.jsx("span",{className:"text-gray-700",children:"Professional Look"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("svg",{className:"w-4 h-4 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),t.jsx("span",{className:"text-gray-700",children:"Customer Trust"})]})]})})]}),h.toolkit.selected&&L&&L.toolkitPriceRefundable===!0&&t.jsxs("div",{className:"ml-8 mt-2 flex items-center gap-2 bg-emerald-50 border border-emerald-200 rounded-lg p-2",children:[t.jsx($e,{className:"text-emerald-600 text-xs flex-shrink-0"}),t.jsx("span",{className:"text-xs text-emerald-800 font-medium",children:"Toolkit Price is refundable"})]})]}),t.jsx("div",{className:"border-t-2 border-primary/30 pt-6 mt-6",children:t.jsxs("div",{className:"bg-gradient-to-r from-primary/10 to-primary/5 rounded-xl p-4 border border-primary/20",children:[t.jsxs("div",{className:"flex justify-between items-center mb-3",children:[t.jsx("span",{className:"text-xl font-bold text-gray-800",children:"Total Amount"}),t.jsxs("span",{className:"text-3xl font-bold text-primary",children:["",(h.payment.total+(h.toolkit.selected?h.toolkit.price:0)).toLocaleString()]})]}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex justify-between items-center py-1",children:[t.jsx("span",{className:"text-gray-600",children:"Registration Fee"}),t.jsxs("span",{className:"font-medium",children:["",h.payment.registrationFee.toLocaleString()]})]}),h.payment.securityDepositSelected&&t.jsxs("div",{className:"flex justify-between items-center py-1",children:[t.jsx("span",{className:"text-gray-600",children:"Security Deposit"}),t.jsxs("span",{className:"font-medium",children:["",h.payment.securityDeposit.toLocaleString()]})]}),h.toolkit.selected&&t.jsxs("div",{className:"flex justify-between items-center py-1",children:[t.jsx("span",{className:"text-gray-600",children:"Toolkit Price"}),t.jsxs("span",{className:"font-medium",children:["",h.toolkit.price.toLocaleString()]})]}),t.jsx("div",{className:"border-t border-gray-300 pt-2 mt-2",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"font-semibold text-gray-800",children:"Total"}),t.jsxs("span",{className:"font-bold text-lg text-primary",children:["",(h.payment.total+(h.toolkit.selected?h.toolkit.price:0)).toLocaleString()]})]})})]})]})}),L&&(L.registrationFeeRefundable===!0||L.securityDepositRefundable===!0||L.toolkitPriceRefundable===!0)&&t.jsxs("div",{className:"mt-4 pt-4 border-t border-primary/20 space-y-2",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Refundable Fees:"}),L.registrationFeeRefundable===!0&&t.jsxs("div",{className:"flex items-center gap-2 bg-emerald-50 border border-emerald-200 rounded-lg p-2",children:[t.jsx($e,{className:"text-emerald-600 text-sm flex-shrink-0"}),t.jsx("span",{className:"text-xs text-emerald-800 font-medium",children:"Registration Fee is refundable"})]}),L.securityDepositRefundable===!0&&t.jsxs("div",{className:"flex items-center gap-2 bg-emerald-50 border border-emerald-200 rounded-lg p-2",children:[t.jsx($e,{className:"text-emerald-600 text-sm flex-shrink-0"}),t.jsx("span",{className:"text-xs text-emerald-800 font-medium",children:"Security Deposit is refundable"})]}),L.toolkitPriceRefundable===!0&&t.jsxs("div",{className:"flex items-center gap-2 bg-emerald-50 border border-emerald-200 rounded-lg p-2",children:[t.jsx($e,{className:"text-emerald-600 text-sm flex-shrink-0"}),t.jsx("span",{className:"text-xs text-emerald-800 font-medium",children:"Toolkit Price is refundable"})]})]})]}),t.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-green-50 rounded-2xl p-6 border-2 border-blue-200",children:[t.jsxs("div",{className:"text-center mb-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Secure Payment Gateway"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Complete your payment securely using PayU payment gateway"})]}),t.jsxs("div",{className:"bg-white rounded-xl p-6 mb-4",children:[t.jsxs("div",{className:"flex items-center justify-center gap-4 mb-4",children:[t.jsx("svg",{className:"w-12 h-12 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),t.jsxs("div",{className:"text-left",children:[t.jsx("h4",{className:"font-semibold text-gray-800",children:"Secure & Encrypted"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Your payment information is safe with us"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-4",children:[t.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 text-center",children:[t.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Credit Card"}),t.jsxs("svg",{className:"w-8 h-8 text-blue-600 mx-auto",fill:"currentColor",viewBox:"0 0 20 20",children:[t.jsx("path",{d:"M4 4a2 2 0 00-2 2v1h16V6a2 2 0 00-2-2H4z"}),t.jsx("path",{fillRule:"evenodd",d:"M18 9H2v5a2 2 0 002 2h12a2 2 0 002-2V9zM4 13a1 1 0 011-1h1a1 1 0 110 2H5a1 1 0 01-1-1zm5-1a1 1 0 100 2h1a1 1 0 100-2H9z",clipRule:"evenodd"})]})]}),t.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 text-center",children:[t.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Debit Card"}),t.jsxs("svg",{className:"w-8 h-8 text-green-600 mx-auto",fill:"currentColor",viewBox:"0 0 20 20",children:[t.jsx("path",{d:"M4 4a2 2 0 00-2 2v1h16V6a2 2 0 00-2-2H4z"}),t.jsx("path",{fillRule:"evenodd",d:"M18 9H2v5a2 2 0 002 2h12a2 2 0 002-2V9zM4 13a1 1 0 011-1h1a1 1 0 110 2H5a1 1 0 01-1-1zm5-1a1 1 0 100 2h1a1 1 0 100-2H9z",clipRule:"evenodd"})]})]}),t.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 text-center",children:[t.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"UPI"}),t.jsx("svg",{className:"w-8 h-8 text-purple-600 mx-auto",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M3 3a1 1 0 000 2v8a2 2 0 002 2h2.586l-1.293 1.293a1 1 0 101.414 1.414L10 15.414l2.293 2.293a1 1 0 001.414-1.414L12.414 15H15a2 2 0 002-2V5a1 1 0 100-2H3zm11.707 4.707a1 1 0 00-1.414-1.414L10 9.586 8.707 8.293a1 1 0 00-1.414 0l-2 2a1 1 0 101.414 1.414L8 10.414l1.293 1.293a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})]}),t.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 text-center",children:[t.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Net Banking"}),t.jsx("svg",{className:"w-8 h-8 text-orange-600 mx-auto",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 00-2 2v8a2 2 0 002 2h12a2 2 0 002-2V8a2 2 0 00-2-2h-5L9 4H4zm7 5a1 1 0 10-2 0v1H8a1 1 0 100 2h1v1a1 1 0 102 0v-1h1a1 1 0 100-2h-1V9z",clipRule:"evenodd"})})]})]}),t.jsx("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:t.jsxs("p",{className:"text-sm text-blue-800 text-center",children:[t.jsx("strong",{children:"Note:"})," You will be redirected to PayU secure payment page to complete your transaction"]})})]}),t.jsx(E.button,{onClick:ae,disabled:it,whileHover:{scale:it?1:1.05},whileTap:{scale:it?1:.95},className:"w-full bg-primary text-white py-4 rounded-xl font-semibold text-lg flex items-center justify-center gap-3 shadow-lg hover:shadow-xl transition disabled:opacity-50 disabled:cursor-not-allowed",children:it?t.jsxs(t.Fragment,{children:[t.jsx(ts,{className:"animate-spin"}),"Processing..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Ti,{}),"Pay ",(h.payment.total+(h.toolkit.selected?h.toolkit.price:0)).toLocaleString()," Securely",t.jsx(Rn,{})]})})]}),j&&t.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-xl text-sm",children:j}),t.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"border-t border-gray-200 pt-6 mt-6",children:t.jsxs("div",{className:"bg-blue-50 rounded-xl p-4 border border-blue-200",children:[t.jsxs("div",{className:"text-center mb-3",children:[t.jsx("h4",{className:"font-semibold text-gray-800 mb-1",children:"Want to register a new partner?"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Clear all saved data and start fresh registration"})]}),t.jsxs(E.button,{onClick:()=>{window.confirm("Are you sure you want to start a new registration? This will clear all saved data from this device.")&&(localStorage.removeItem("partnerOnboardingStep"),localStorage.removeItem("partnerOnboardingFormData"),localStorage.removeItem("partnerOnboardingToken"),localStorage.removeItem("partnerOnboardingPartnerData"),window.location.href="/partner/onboard")},whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full bg-blue-600 text-white py-3 rounded-xl font-semibold flex items-center justify-center gap-2 hover:bg-blue-700 transition shadow-md",children:[t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})}),"Register New Partner"]})]})})]});case 8:const Je=h.payment.payId&&h.payment.payId.length>0;h.payment.status;const Ve=h.payment.status==="failed";return t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"text-center mb-8",children:Ve?t.jsxs(t.Fragment,{children:[t.jsx(E.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",duration:.5},className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx("svg",{className:"w-12 h-12 text-red-600",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),t.jsx("h2",{className:"text-3xl font-bold text-red-600 mb-2",children:"Payment Failed!"}),t.jsx("p",{className:"text-gray-600",children:"Your payment could not be processed. Please try again."})]}):Je?t.jsxs(t.Fragment,{children:[t.jsx(E.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",duration:.5},className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx($e,{className:"text-4xl text-green-600"})}),t.jsx("h2",{className:"text-3xl font-bold text-green-600 mb-2",children:"Payment Received!"}),t.jsx("p",{className:"text-gray-600",children:"Your payment has been received and is being verified by our team"})]}):t.jsxs(t.Fragment,{children:[t.jsx("h2",{className:"text-3xl font-bold text-primary mb-2",children:"Payment Confirmation"}),t.jsx("p",{className:"text-gray-600",children:"Enter your payment transaction ID to complete registration"})]})}),t.jsxs("div",{className:"bg-gradient-to-br from-primary/10 to-primary/5 rounded-2xl p-6 space-y-4",children:[t.jsxs("div",{className:"bg-white/50 rounded-xl p-4 border border-primary/20",children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-3 flex items-center gap-2",children:[t.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Payment ",Je?"Completed":"Summary"]}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"Registration Fee"}),t.jsxs("span",{className:"font-medium",children:["",h.payment.registrationFee.toLocaleString()]})]}),h.payment.securityDepositSelected&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"Security Deposit"}),t.jsxs("span",{className:"font-medium",children:["",h.payment.securityDeposit.toLocaleString()]})]}),h.toolkit.selected&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"Professional Toolkit"}),t.jsxs("span",{className:"font-medium",children:["",h.toolkit.price.toLocaleString()]})]}),t.jsx("div",{className:"border-t border-gray-300 pt-2 mt-2",children:t.jsxs("div",{className:"flex justify-between font-semibold",children:[t.jsxs("span",{children:["Total ",Je?"Paid":"Amount"]}),t.jsxs("span",{className:"text-primary",children:["",(h.payment.total+(h.toolkit.selected?h.toolkit.price:0)).toLocaleString()]})]})})]})]}),Ve?t.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-red-50 rounded-xl p-4 border-2 border-red-200",children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[t.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),t.jsx("h4",{className:"text-lg font-semibold text-red-800",children:"Payment Failed"})]}),t.jsxs("div",{className:"bg-white rounded-lg p-3 space-y-2",children:[h.payment.payId&&t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Transaction ID:"}),t.jsx("span",{className:"font-mono font-semibold text-gray-800",children:h.payment.payId})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Amount:"}),t.jsxs("span",{className:"font-semibold text-gray-800",children:["",(h.payment.total+(h.toolkit.selected?h.toolkit.price:0)).toLocaleString()]})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Status:"}),t.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-red-100 text-red-800 rounded-full text-xs font-semibold",children:[t.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),"Failed"]})]})]}),t.jsx("div",{className:"bg-red-100 border border-red-300 rounded-lg p-3 mt-3",children:t.jsxs("p",{className:"text-sm text-red-800",children:[t.jsx("strong",{children:" Payment Failed:"})," ",j||"Your payment could not be processed. Please try again or contact support if the issue persists."]})}),t.jsxs(E.button,{onClick:()=>{p(ue=>({...ue,payment:{...ue.payment,payId:"",status:""}})),w(null),l(7)},whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full bg-red-600 text-white py-3 rounded-xl font-semibold flex items-center justify-center gap-2 hover:bg-red-700 transition",children:[t.jsx(ij,{}),"Try Payment Again"]})]})}):Je?t.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-green-50 rounded-xl p-4 border-2 border-green-200",children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[t.jsx($e,{className:"text-green-600 text-xl"}),t.jsx("h4",{className:"text-lg font-semibold text-green-800",children:"Payment Details"})]}),t.jsxs("div",{className:"bg-white rounded-lg p-3 space-y-2",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Transaction ID:"}),t.jsx("span",{className:"font-mono font-semibold text-gray-800",children:h.payment.payId})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Amount Paid:"}),t.jsxs("span",{className:"font-semibold text-green-600",children:["",(h.payment.total+(h.toolkit.selected?h.toolkit.price:0)).toLocaleString()]})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Payment Method:"}),t.jsx("span",{className:"font-semibold text-gray-800",children:"Online Payment (PayU)"})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Status:"}),t.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-yellow-100 text-yellow-800 rounded-full text-xs font-semibold",children:[t.jsx(ei,{}),"Pending Verification"]})]})]}),t.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mt-3",children:t.jsxs("p",{className:"text-sm text-yellow-800",children:[t.jsx("strong",{children:" Payment Pending Verification:"})," Your payment has been received successfully. Our admin team will verify it shortly. You can proceed to the next step where you'll wait for approval."]})})]})}):t.jsx("div",{className:"bg-gray-50 rounded-xl p-4 border-2 border-gray-200",children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[t.jsx("svg",{className:"w-5 h-5 text-primary",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 00-2 2v8a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2H4zm0 2h12v8H4V6z",clipRule:"evenodd"})}),t.jsx("label",{className:"text-base font-semibold text-gray-800",children:"Payment Transaction ID"})]}),t.jsx("input",{type:"text",value:h.payment.payId,onChange:ue=>p(Re=>({...Re,payment:{...Re.payment,payId:ue.target.value}})),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-primary focus:ring-2 focus:ring-primary/20 transition-colors",placeholder:"Enter payment transaction ID from WhatsApp Pay",required:!0}),t.jsx("p",{className:"text-sm text-gray-600",children:"Enter the transaction ID you received after completing the payment via WhatsApp Pay to complete your registration."})]})})]})]});case 9:return t.jsx(HQ,{currentStep:i,setCurrentStep:l,formData:h,token:o});case 11:return h.selectedPlan||m?t.jsxs("div",{className:"space-y-6 text-center",children:[t.jsx(E.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",duration:.5},className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto",children:t.jsx(Ua,{className:"text-4xl text-green-600"})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-3xl font-bold text-primary mb-2",children:h.selectedPlan?"Thank You!":"Registration Complete!"}),t.jsx("p",{className:"text-gray-600 mb-6",children:h.selectedPlan?`Thank you for subscribing to the ${h.selectedPlan} plan! Your lead subscription is now active.`:"Your partner registration is complete! You can subscribe to an MG plan anytime from your dashboard."})]}),t.jsxs("div",{className:"bg-gradient-to-br from-primary/10 to-primary/5 rounded-2xl p-6",children:[t.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Your Partner ID"}),t.jsx("div",{className:"text-3xl font-bold text-primary",children:k||((fe=d==null?void 0:d._id)==null?void 0:fe.toString().slice(-8))||(d==null?void 0:d.partnerId)||"PRT-XXXXXX"})]}),h.categoryNames&&h.categoryNames.length>0&&t.jsxs("div",{className:"bg-white border-2 border-primary rounded-2xl p-6",children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Selected Categories"}),t.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:h.categoryNames.map((ue,Re)=>t.jsx("span",{className:"bg-primary/10 text-primary px-4 py-2 rounded-full font-semibold",children:ue},Re))})]}),h.selectedPlan&&t.jsxs("div",{className:"bg-white border-2 border-primary rounded-2xl p-6",children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Your MG Plan"}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-4xl mb-3",children:h.selectedPlan==="Silver"?"":h.selectedPlan==="Gold"?"":""}),t.jsxs("div",{className:"text-2xl font-bold text-primary mb-2",children:[h.selectedPlan," Plan"]}),t.jsxs("p",{className:"text-gray-600",children:["You've successfully subscribed to the ",h.selectedPlan," plan. You'll receive guaranteed leads and commission benefits."]}),z&&t.jsxs("p",{className:"text-sm text-gray-500 mt-3",children:["Lead fee ",z.leadFee??0,"  Maintain wallet  ",z.minWalletBalance??0," to keep leads flowing."]})]})]}),t.jsxs("div",{className:"flex gap-4 justify-center",children:[t.jsxs(E.a,{onClick:ue=>{ue.preventDefault(),me(ue)},whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-green-600 text-white px-6 py-3 rounded-xl font-semibold shadow-lg hover:shadow-xl transition flex items-center gap-2",children:[t.jsx(yr,{className:"text-lg"}),"Contact Support"]}),t.jsxs(E.button,{onClick:()=>navigate("/partner/login"),whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-primary text-white px-6 py-3 rounded-xl font-semibold shadow-lg hover:shadow-xl transition flex items-center gap-2",children:["Go to Dashboard",t.jsx(Rn,{})]})]})]}):t.jsxs("div",{className:"space-y-6",children:[h.selectedPlan&&z&&t.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-green-50 to-emerald-50 border-2 border-green-300 rounded-2xl p-6 mb-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center",children:t.jsx($e,{className:"text-white text-2xl"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-green-800",children:"Your Activated Plan"}),t.jsx("p",{className:"text-sm text-green-600",children:"Currently active and receiving leads"})]})]}),t.jsx("div",{className:"text-4xl",children:z.icon})]}),t.jsxs("div",{className:"bg-white rounded-xl p-4 mb-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("h4",{className:"text-2xl font-bold text-primary",children:[h.selectedPlan," Plan"]}),t.jsxs("span",{className:"text-2xl font-bold text-green-600",children:["",z.price.toLocaleString("en-IN"),"/mo"]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[t.jsxs("div",{className:"bg-green-50 rounded-lg p-3",children:[t.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Guaranteed Leads"}),t.jsxs("p",{className:"text-xl font-bold text-green-700",children:[z.leads,"/month"]})]}),t.jsxs("div",{className:"bg-blue-50 rounded-lg p-3",children:[t.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Commission Rate"}),t.jsxs("p",{className:"text-xl font-bold text-blue-700",children:[z.commission,"%"]})]}),t.jsxs("div",{className:"bg-purple-50 rounded-lg p-3",children:[t.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Lead Fee"}),t.jsxs("p",{className:"text-xl font-bold text-purple-700",children:["",z.leadFee]})]}),t.jsxs("div",{className:"bg-orange-50 rounded-lg p-3",children:[t.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Min Wallet Balance"}),t.jsxs("p",{className:"text-xl font-bold text-orange-700",children:["",z.minWalletBalance]})]})]}),((V=z.features)==null?void 0:V.length)>0&&t.jsxs("div",{className:"border-t border-gray-200 pt-3",children:[t.jsx("p",{className:"text-xs font-semibold text-gray-600 mb-2",children:"Plan Features:"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:z.features.map((ue,Re)=>t.jsxs("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full",children:[" ",ue]},Re))})]})]}),t.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-green-700",children:[t.jsx($e,{}),t.jsx("span",{className:"font-medium",children:"Plan is active and you're receiving leads"})]})]}),t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("h2",{className:"text-3xl font-bold text-primary mb-2",children:h.selectedPlan?"Change Your MG Plan":"Choose Your MG Plan"}),t.jsx("p",{className:"text-gray-600",children:h.selectedPlan?"Select a different plan below to upgrade or change your subscription":"Select a Minimum Guarantee plan to get started"}),h.partnerType&&t.jsxs("div",{className:"mt-4 inline-flex items-center gap-2 px-4 py-2 bg-blue-50 border border-blue-200 rounded-xl",children:[t.jsx("span",{className:"text-2xl",children:h.partnerType==="individual"?"":""}),t.jsxs("span",{className:"text-sm font-semibold text-blue-700",children:["Showing plans for ",h.partnerType==="individual"?"Individual":"Franchise"," Partners"]})]})]}),A?t.jsxs("div",{className:"text-center py-12",children:[t.jsx(ts,{className:"animate-spin text-4xl text-primary mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600",children:"Loading available plans..."})]}):P.length===0?t.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-xl bg-gray-50",children:[t.jsx("p",{className:"text-gray-600 font-medium mb-2",children:"No MG Plans Available"}),t.jsxs("p",{className:"text-sm text-gray-500",children:[h.partnerType?`No plans available for ${h.partnerType==="individual"?"Individual":"Franchise"} partners yet.`:"No Minimum Guarantee plans have been configured yet."," Please contact admin or skip this step."]})]}):t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:P.map(ue=>{var rt;const Re=ue._id||ue.id;return t.jsxs(E.button,{onClick:async()=>{var ht;p(xt=>({...xt,selectedPlan:ue.name,selectedPlanId:Re||null})),b(!0),w(null);try{if(o&&Re){if((await jt.subscribeToPlan(o,Re)).success&&(p(Ht=>({...Ht,selectedPlanId:Re})),s&&h.categories&&h.categories.length>0&&h.city))try{console.log("Plan subscribed, lead should be created by backend")}catch(Ht){console.error("Error creating lead after plan selection:",Ht)}}else if(o){const Ht=(ht=(await jt.getMGPlans(o)).data)==null?void 0:ht.find(Rt=>Rt.name===ue.name);Ht&&(await jt.subscribeToPlan(o,Ht._id)).success&&p(ot=>({...ot,selectedPlanId:Ht._id}))}s||de(),w(null)}catch(xt){console.error("Failed to subscribe to plan:",xt),w("Failed to subscribe to plan. Please try again.")}finally{b(!1)}},disabled:f,whileHover:{scale:f?1:1.05},whileTap:{scale:f?1:.95},className:`${ue.color} border-2 rounded-2xl p-6 text-left transition relative ${h.selectedPlan===ue.name?`${ue.borderColor} border-4 shadow-lg ring-4 ring-green-200`:"border-gray-200 hover:border-primary"} ${f?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,children:[h.selectedPlan===ue.name&&t.jsxs("div",{className:"absolute -top-3 -right-3 bg-green-500 text-white px-3 py-1 rounded-full text-xs font-bold shadow-lg flex items-center gap-1 animate-pulse",children:[t.jsx($e,{}),"Active Plan"]}),t.jsxs("div",{className:"flex items-start justify-between mb-3",children:[t.jsx("div",{className:"text-4xl",children:ue.icon}),ue.partnerType==="both"&&t.jsx("span",{className:"text-xs px-2 py-1 bg-blue-100 text-blue-700 rounded-full font-semibold",children:"All Partners"})]}),t.jsx("div",{className:"font-bold text-xl text-gray-800 mb-2",children:ue.name}),t.jsxs("div",{className:"text-3xl font-bold text-primary mb-3",children:["",ue.price.toLocaleString("en-IN")]}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx($e,{className:"text-green-500"}),t.jsxs("span",{className:"text-gray-700",children:[ue.leads," Leads/month"]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx($e,{className:"text-green-500"}),t.jsxs("span",{className:"text-gray-700",children:[ue.commission,"% Commission"]})]}),ue.leadFee&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx($e,{className:"text-green-500"}),t.jsxs("span",{className:"text-gray-700",children:["Lead Fee ",ue.leadFee]})]}),ue.minWalletBalance&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx($e,{className:"text-green-500"}),t.jsxs("span",{className:"text-gray-700",children:["Min Wallet ",ue.minWalletBalance]})]})]}),(rt=ue.features)!=null&&rt.length?t.jsx("ul",{className:"mt-4 space-y-1 text-xs text-gray-600",children:ue.features.map((ht,xt)=>t.jsxs("li",{className:"flex items-center gap-2",children:[t.jsx($e,{className:"text-primary"}),t.jsx("span",{children:ht})]},xt))}):null,h.selectedPlan===ue.name&&t.jsx(E.div,{initial:{scale:0},animate:{scale:1},className:"mt-4",children:t.jsx($e,{className:"text-primary text-2xl mx-auto"})})]},ue.name)})}),h.selectedPlan?t.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-300 rounded-xl p-5 text-center",children:[t.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[t.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center",children:t.jsx($e,{className:"text-white"})}),t.jsxs("p",{className:"text-green-800 font-bold text-lg",children:["Your ",h.selectedPlan," Plan is Active"]})]}),t.jsx("p",{className:"text-sm text-green-700 mb-3",children:"You're currently receiving leads with this plan. Click on any other plan above to upgrade or change your subscription."}),t.jsxs("div",{className:"flex items-center justify-center gap-4 text-xs text-green-600",children:[t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx($e,{className:"text-green-500"}),"Leads Active"]}),t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx($e,{className:"text-green-500"}),"Commission Enabled"]})]})]}):t.jsx("p",{className:"text-sm text-gray-500 text-center",children:"Please select a plan to continue"})]});case 12:return t.jsxs("div",{className:"space-y-6 text-center",children:[t.jsx(E.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",duration:.5},className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto",children:t.jsx(Ua,{className:"text-4xl text-green-600"})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-3xl font-bold text-primary mb-2",children:"You're Already Registered!"}),t.jsx("p",{className:"text-gray-600 mb-6",children:"Your partner profile is already complete. You can proceed to subscribe to a lead plan or manage your account."})]}),t.jsxs("div",{className:"bg-gradient-to-br from-primary/10 to-primary/5 rounded-2xl p-6",children:[t.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Your Partner ID"}),t.jsx("div",{className:"text-3xl font-bold text-primary",children:k||((oe=d==null?void 0:d._id)==null?void 0:oe.toString().slice(-8))||(d==null?void 0:d.partnerId)||"PRT-XXXXXX"})]}),h.categoryNames&&h.categoryNames.length>0&&t.jsxs("div",{className:"bg-white border-2 border-primary rounded-2xl p-6",children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Your Categories"}),t.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:h.categoryNames.map((ue,Re)=>t.jsx("span",{className:"bg-primary/10 text-primary px-4 py-2 rounded-full font-semibold",children:ue},Re))})]}),h.selectedPlan&&z?t.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-green-50 to-emerald-50 border-2 border-green-300 rounded-2xl p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center",children:t.jsx($e,{className:"text-white text-2xl"})}),t.jsxs("div",{className:"text-left",children:[t.jsx("h3",{className:"text-xl font-bold text-green-800",children:"Your Activated Plan"}),t.jsx("p",{className:"text-sm text-green-600",children:"Currently active and receiving leads"})]})]}),t.jsx("div",{className:"text-4xl",children:z.icon})]}),t.jsxs("div",{className:"bg-white rounded-xl p-4 mb-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("h4",{className:"text-2xl font-bold text-primary",children:[h.selectedPlan," Plan"]}),t.jsxs("span",{className:"text-2xl font-bold text-green-600",children:["",z.price.toLocaleString("en-IN"),"/mo"]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[t.jsxs("div",{className:"bg-green-50 rounded-lg p-3",children:[t.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Guaranteed Leads"}),t.jsxs("p",{className:"text-xl font-bold text-green-700",children:[z.leads,"/month"]})]}),t.jsxs("div",{className:"bg-blue-50 rounded-lg p-3",children:[t.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Commission Rate"}),t.jsxs("p",{className:"text-xl font-bold text-blue-700",children:[z.commission,"%"]})]}),t.jsxs("div",{className:"bg-purple-50 rounded-lg p-3",children:[t.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Lead Fee"}),t.jsxs("p",{className:"text-xl font-bold text-purple-700",children:["",z.leadFee]})]}),t.jsxs("div",{className:"bg-orange-50 rounded-lg p-3",children:[t.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Min Wallet Balance"}),t.jsxs("p",{className:"text-xl font-bold text-orange-700",children:["",z.minWalletBalance]})]})]}),((Ue=z.features)==null?void 0:Ue.length)>0&&t.jsxs("div",{className:"border-t border-gray-200 pt-3",children:[t.jsx("p",{className:"text-xs font-semibold text-gray-600 mb-2",children:"Plan Features:"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:z.features.map((ue,Re)=>t.jsxs("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full",children:[" ",ue]},Re))})]})]}),t.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-green-700",children:[t.jsx($e,{}),t.jsx("span",{className:"font-medium",children:"Plan is active and you're receiving leads"})]})]}):t.jsxs("div",{className:"bg-white border-2 border-primary rounded-2xl p-6",children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Your MG Plan"}),t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"text-center",children:t.jsx("p",{className:"text-gray-600 mb-6",children:"You haven't subscribed to a lead plan yet. Choose a plan to start receiving leads!"})}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:UQ.map(ue=>{var Re;return t.jsxs(E.button,{onClick:async()=>{var rt;p(ht=>({...ht,selectedPlan:ue.name,selectedPlanId:null})),b(!0),w(null);try{if(o){const xt=(rt=(await jt.getMGPlans(o)).data)==null?void 0:rt.find(Ht=>Ht.name===ue.name);xt?(await jt.subscribeToPlan(o,xt._id)).success&&(p(Rt=>({...Rt,selectedPlanId:xt._id})),s&&h.categories&&h.categories.length>0&&h.city&&console.log("Plan subscribed, lead should be created by backend"),l(11),w(null)):w(`Plan "${ue.name}" not available. Please contact support.`)}else w("Please login to subscribe to a plan")}catch(ht){console.error("Failed to subscribe to plan:",ht),w("Failed to subscribe to plan. Please try again.")}finally{b(!1)}},disabled:f,whileHover:{scale:f?1:1.05},whileTap:{scale:f?1:.95},className:`${ue.color} border-2 rounded-2xl p-6 text-left transition ${h.selectedPlan===ue.name?`${ue.borderColor} border-4 shadow-lg`:"border-gray-200 hover:border-primary"} ${f?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,children:[t.jsx("div",{className:"text-4xl mb-3",children:ue.icon}),t.jsx("div",{className:"font-bold text-xl text-gray-800 mb-2",children:ue.name}),t.jsxs("div",{className:"text-3xl font-bold text-primary mb-3",children:["",ue.price.toLocaleString("en-IN")]}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx($e,{className:"text-green-500"}),t.jsxs("span",{className:"text-gray-700",children:[ue.leads," Leads/month"]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx($e,{className:"text-green-500"}),t.jsxs("span",{className:"text-gray-700",children:[ue.commission,"% Commission"]})]}),ue.leadFee&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx($e,{className:"text-green-500"}),t.jsxs("span",{className:"text-gray-700",children:["Lead Fee ",ue.leadFee]})]}),ue.minWalletBalance&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx($e,{className:"text-green-500"}),t.jsxs("span",{className:"text-gray-700",children:["Min Wallet ",ue.minWalletBalance]})]})]}),(Re=ue.features)!=null&&Re.length?t.jsx("ul",{className:"mt-4 space-y-1 text-xs text-gray-600",children:ue.features.map((rt,ht)=>t.jsxs("li",{className:"flex items-center gap-2",children:[t.jsx($e,{className:"text-primary"}),t.jsx("span",{children:rt})]},ht))}):null,h.selectedPlan===ue.name&&t.jsx(E.div,{initial:{scale:0},animate:{scale:1},className:"mt-4",children:t.jsx($e,{className:"text-primary text-2xl mx-auto"})})]},ue.name)})}),j&&t.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-xl text-sm text-center",children:j})]})]}),t.jsxs("div",{className:"flex gap-4 justify-center",children:[t.jsx(E.a,{href:"/partner/login",whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-primary text-white px-6 py-3 rounded-xl font-semibold",children:"Go to Dashboard"}),t.jsxs(E.a,{onClick:ue=>{ue.preventDefault(),me(ue)},whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-[#25D366] text-white px-6 py-3 rounded-xl font-semibold flex items-center gap-2",children:[t.jsx(yr,{})," Contact Support"]})]}),t.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"border-t border-gray-200 pt-6 mt-6",children:t.jsxs("div",{className:"bg-blue-50 rounded-xl p-5 border border-blue-200",children:[t.jsxs("div",{className:"text-center mb-4",children:[t.jsxs("h4",{className:"font-semibold text-gray-800 mb-2 flex items-center justify-center gap-2",children:[t.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})}),"Want to register a new partner?"]}),t.jsx("p",{className:"text-sm text-gray-600",children:"Clear all saved data and start fresh registration"})]}),t.jsxs(E.button,{onClick:()=>{window.confirm("Are you sure you want to start a new registration? This will clear all saved data from this device.")&&(localStorage.removeItem("partnerOnboardingStep"),localStorage.removeItem("partnerOnboardingFormData"),localStorage.removeItem("partnerOnboardingToken"),localStorage.removeItem("partnerOnboardingPartnerData"),window.location.href="/partner/onboard")},whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full bg-blue-600 text-white py-3 rounded-xl font-semibold flex items-center justify-center gap-2 hover:bg-blue-700 transition shadow-md",children:[t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})}),"Register New Partner"]})]})})]});default:return null}};return t.jsxs(t.Fragment,{children:[t.jsx(En,{title:"Partner Onboarding | NEXO",description:"Join NEXO as a service partner. Complete your registration in simple steps.",keywords:"partner onboarding, become partner, service partner registration",url:"/partner/onboard"}),Ge&&t.jsx(zQ,{paymentData:Ge,onSuccess:()=>{Me(null),Ye(!1)},onFailure:()=>{Me(null),Ye(!1),w("Payment failed. Please try again.")}}),t.jsx("div",{className:"min-h-screen bg-gray-50 py-4 sm:py-6 px-4 sm:px-6 pt-20 sm:pt-24",children:t.jsxs("div",{className:"max-w-4xl mx-auto",children:[i<11&&i!==12&&t.jsxs("div",{className:"mb-4 sm:mb-6",children:[t.jsxs("div",{className:"flex justify-between items-center mb-1.5",children:[t.jsxs("span",{className:"text-xs sm:text-sm font-semibold text-gray-600",children:["Step ",i," of ",s?Le-2:Le-1]}),t.jsxs("span",{className:"text-xs sm:text-sm font-semibold text-primary",children:[Math.round(i/(s?Le-2:Le-1)*100),"%"]})]}),t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:t.jsx(E.div,{className:"bg-primary h-1.5 rounded-full",initial:{width:0},animate:{width:`${i/(s?Le-2:Le-1)*100}%`},transition:{duration:.3}})})]}),t.jsxs("div",{className:"bg-white rounded-xl sm:rounded-2xl shadow-lg p-4 sm:p-6 md:p-6 lg:p-8",children:[t.jsx(wl,{mode:"wait",children:t.jsx(E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:pt()},i)}),i<12&&i!==13&&t.jsxs("div",{className:"flex justify-between items-center mt-6 sm:mt-8 pt-4 sm:pt-6 border-t",children:[t.jsxs("button",{onClick:ye,disabled:i===1,className:`flex items-center gap-2 px-6 py-3 rounded-xl font-semibold transition ${i===1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[t.jsx(ij,{})," Previous"]}),i===2?t.jsxs("button",{onClick:ft,disabled:f||!We(),className:"flex items-center gap-2 px-6 py-3 rounded-xl font-semibold bg-primary text-white hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",children:[f?t.jsx(ts,{className:"animate-spin"}):"Save & Continue"," ",t.jsx(Rn,{})]}):i===3?t.jsxs("button",{onClick:Fe,disabled:f||!We(),className:"flex items-center gap-2 px-6 py-3 rounded-xl font-semibold bg-primary text-white hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",children:[f?t.jsx(ts,{className:"animate-spin"}):"Upload & Continue"," ",t.jsx(Rn,{})]}):i===4?t.jsxs("button",{onClick:je,disabled:f||h.categories.length===0,className:"flex items-center gap-2 px-6 py-3 rounded-xl font-semibold bg-primary text-white hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",children:[f?t.jsx(ts,{className:"animate-spin"}):"Save Categories & Continue"," ",t.jsx(Rn,{})]}):i===6?t.jsxs("button",{onClick:async()=>{var fe,V;if(s)await I();else{b(!0);try{if(o&&h.terms.signature,o)try{const oe=await jt.getProfile(o);if(oe.success&&oe.profile){const Ue=oe.profile;if(Ue.paymentApproved===!0||Ue.registerdFee===!0||((fe=Ue.profile)==null?void 0:fe.paymentApproved)===!0||((V=Ue.profile)==null?void 0:V.registerdFee)===!0){console.log(" Payment already completed, skipping payment step"),p(Ve=>{var ue;return{...Ve,payment:{...Ve.payment,status:"completed",payId:((ue=Ue.profile)==null?void 0:ue.payId)||Ue.payId||"COMPLETED"}}}),l(9),b(!1);return}}}catch(oe){console.error("Error checking payment status:",oe)}l(7)}catch(oe){w(oe.message||"Failed to accept terms")}finally{b(!1)}}},disabled:!We()||f,className:"flex items-center gap-2 px-6 py-3 rounded-xl font-semibold bg-primary text-white hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",children:[f?t.jsx(ts,{className:"animate-spin"}):s?"Complete Registration":"Accept & Continue"," ",t.jsx(Rn,{})]}):i===7&&!s?t.jsxs("button",{onClick:Tt,disabled:f,className:"flex items-center gap-2 px-6 py-3 rounded-xl font-semibold bg-primary text-white hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",children:[f?t.jsx(ts,{className:"animate-spin"}):"Complete Payment"," ",t.jsx(Rn,{})]}):i===8&&h.payment.status!=="failed"?t.jsxs("button",{onClick:At,disabled:f||!h.payment.payId,className:"flex items-center gap-2 px-6 py-3 rounded-xl font-semibold bg-primary text-white hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",children:[f?t.jsx(ts,{className:"animate-spin"}):"Confirm Payment & Continue"," ",t.jsx(Rn,{})]}):i===9?t.jsxs("div",{className:"flex gap-3 justify-center",children:[t.jsxs("button",{onClick:Lt,disabled:f,className:"flex items-center gap-2 px-6 py-3 rounded-xl font-semibold bg-primary text-white hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",children:["Yes, Choose MG Plan ",t.jsx(Rn,{})]}),t.jsx("button",{onClick:()=>{x(!0),l(11)},disabled:f,className:"flex items-center gap-2 px-6 py-3 rounded-xl font-semibold bg-gray-200 text-gray-700 hover:bg-gray-300 transition disabled:opacity-50 disabled:cursor-not-allowed",children:"Skip for Now"})]}):i===10?t.jsxs("button",{onClick:Lt,disabled:!We()||f,className:"flex items-center gap-2 px-6 py-3 rounded-xl font-semibold bg-primary text-white hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",children:["Next ",t.jsx(Rn,{})]}):t.jsxs("button",{onClick:Lt,disabled:!We()||f,className:"flex items-center gap-2 px-6 py-3 rounded-xl font-semibold bg-primary text-white hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",children:["Next ",t.jsx(Rn,{})]})]})]})]})})]})},VQ=()=>t.jsxs(t.Fragment,{children:[t.jsx(En,{title:"Partner Terms & Conditions | NEXO",description:"Partner Terms & Conditions for service providers on NEXO platform. Read our comprehensive terms covering registration, obligations, penalties, and more.",keywords:"partner terms, service provider terms, NEXO terms and conditions, partner agreement"}),t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50",children:[t.jsx("div",{className:"bg-gradient-to-r from-primary via-primary-dark to-primary text-white py-16 sm:py-20",children:t.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center",children:[t.jsx("div",{className:"flex justify-center mb-6",children:t.jsx("div",{className:"bg-white/20 rounded-full p-4",children:t.jsx(H0,{className:"w-12 h-12"})})}),t.jsx("h1",{className:"text-4xl sm:text-5xl font-bold mb-4",children:"Partner Terms & Conditions"}),t.jsx("p",{className:"text-lg sm:text-xl text-white/90",children:"Effective Date: 15th November 2025 | Last Updated: 15th November 2025"})]})})}),t.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12 sm:py-16",children:[t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4 flex items-center gap-3",children:[t.jsx(jO,{className:"text-primary"}),"1. Introduction"]}),t.jsx("p",{className:"text-gray-700 leading-relaxed",children:'These Partner Terms & Conditions ("Terms") constitute a binding agreement between NEXO ("Company", "Platform", "We", "Us") and the individual or business entity ("Partner", "Service Provider", "You") who registers to provide on-site or online services through the Platform.'}),t.jsx("p",{className:"text-gray-700 leading-relaxed mt-4 font-semibold",children:"By registering or accepting any service request, the Partner expressly agrees to these Terms."})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"2. Independent Contractor Status"}),t.jsxs("ul",{className:"space-y-3 text-gray-700",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),t.jsx("span",{children:"The Partner is an independent contractor, not an employee, representative, or agent of NEXO."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),t.jsx("span",{children:"No employment benefits (PF, ESI, gratuity, insurance, paid leave, salary) shall be applicable."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),t.jsx("span",{children:"The Partner is solely responsible for compliance with GST, income tax, labour laws, and all statutory obligations."})]})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"3. Mandatory Registration & Onboarding Requirements"}),t.jsx("p",{className:"text-gray-700 mb-4",children:"The Partner shall complete mandatory onboarding, including but not limited to:"}),t.jsxs("div",{className:"grid sm:grid-cols-2 gap-4 mb-6",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx($e,{className:"text-green-500"}),t.jsx("span",{children:"Valid Government ID"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx($e,{className:"text-green-500"}),t.jsx("span",{children:"Address proof"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx($e,{className:"text-green-500"}),t.jsx("span",{children:"Skill verification/trade test (if applicable)"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx($e,{className:"text-green-500"}),t.jsx("span",{children:"Police verification (whenever required)"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx($e,{className:"text-green-500"}),t.jsx("span",{children:"Recent photograph"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx($e,{className:"text-green-500"}),t.jsx("span",{children:"Bank account details"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx($e,{className:"text-green-500"}),t.jsx("span",{children:"GST number (if applicable)"})]})]})]}),t.jsxs("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-4",children:[t.jsx("p",{className:"text-gray-800 font-semibold mb-2",children:"Payment of applicable onboarding fees:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-700 ml-4",children:[t.jsx("li",{children:"Registration Fee"}),t.jsx("li",{children:"Toolkit Fee (if provided)"}),t.jsx("li",{children:"Minimum Guarantee (MG) Plan"}),t.jsx("li",{children:"Security Deposit"})]})]}),t.jsx("p",{className:"text-gray-700",children:t.jsx("strong",{children:"All fees are non-refundable, except security deposit which is refundable as per Clause 23."})})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"4. Partner Obligations"}),t.jsx("p",{className:"text-gray-700 mb-4 font-semibold",children:"Partner shall:"}),t.jsxs("ul",{className:"space-y-3 text-gray-700",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),t.jsx("span",{children:"Maintain professional behaviour at all times."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),t.jsx("span",{children:"Deliver high-quality, safe, and lawful services."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),t.jsx("span",{children:"Carry valid Partner ID during every service."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"d)"}),t.jsx("span",{children:"Reach customer location on time."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"e)"}),t.jsx("span",{children:"Provide correct service estimates before starting work."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"f)"}),t.jsx("span",{children:"Maintain hygiene, wear uniform/ID (if provided)."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"g)"}),t.jsx("span",{children:"Not engage in misconduct, harassment, abuse, threats, or illegal activity."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"h)"}),t.jsx("span",{children:"Maintain tools and ensure safe operation."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"i)"}),t.jsx("span",{children:"Not demand cash payments directly from customers."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"j)"}),t.jsx("span",{className:"text-red-600 font-semibold",children:"Not solicit or accept off-platform work (strict penalty)."})]})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.5},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"5. Pricing, Estimates & Billing"}),t.jsxs("ul",{className:"space-y-3 text-gray-700",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),t.jsx("span",{children:"Partner must follow NEXO pricing structure and guidelines."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),t.jsx("span",{children:"Any additional work must be pre-approved through the Platform."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),t.jsx("span",{children:"Partner shall not overcharge or misrepresent pricing."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"d)"}),t.jsx("span",{children:"All payments shall be processed solely through NEXO."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"e)"}),t.jsx("span",{children:"Partner is responsible for issuing bills/invoices where required by law."})]})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"6. Platform Commission & Deductions"}),t.jsx("p",{className:"text-gray-700 mb-4",children:"Partner agrees to the following deductions:"}),t.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:t.jsxs("ul",{className:"space-y-2 text-gray-700",children:[t.jsxs("li",{className:"flex items-center gap-2",children:[t.jsx(Gt,{className:"text-red-500"}),t.jsx("span",{children:"Platform Commission (%)"})]}),t.jsxs("li",{className:"flex items-center gap-2",children:[t.jsx(Gt,{className:"text-red-500"}),t.jsx("span",{children:"Lead Cost per lead"})]}),t.jsxs("li",{className:"flex items-center gap-2",children:[t.jsx(Gt,{className:"text-red-500"}),t.jsx("span",{children:"GST applicable on Platform Commission"})]}),t.jsxs("li",{className:"flex items-center gap-2",children:[t.jsx(Gt,{className:"text-red-500"}),t.jsx("span",{children:"Penalties & Fines"})]}),t.jsxs("li",{className:"flex items-center gap-2",children:[t.jsx(Gt,{className:"text-red-500"}),t.jsx("span",{children:"TDS (if applicable)"})]}),t.jsxs("li",{className:"flex items-center gap-2",children:[t.jsx(Gt,{className:"text-red-500"}),t.jsx("span",{children:"Outstanding dues from previous jobs"})]}),t.jsxs("li",{className:"flex items-center gap-2",children:[t.jsx(Gt,{className:"text-red-500"}),t.jsx("span",{children:"MG Plan adjustments"})]})]})}),t.jsx("p",{className:"text-gray-700 font-semibold",children:"All deductions shall be final and binding."})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.7},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4 flex items-center gap-3",children:[t.jsx(nd,{className:"text-yellow-500"}),"7. Mandatory Safety Requirements"]}),t.jsx("p",{className:"text-gray-700 mb-4 font-semibold",children:"Partner shall:"}),t.jsxs("ul",{className:"space-y-3 text-gray-700 mb-6",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),t.jsx("span",{children:"Follow safety protocols prescribed by NEXO."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),t.jsx("span",{children:"Use proper tools and protective equipment."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),t.jsx("span",{children:"Not perform services beyond skill level or without proper safety."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"d)"}),t.jsx("span",{children:"Not endanger customer, property, or themselves."})]})]}),t.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 p-4",children:[t.jsx("p",{className:"text-gray-800 font-semibold mb-2",children:"Failure may result in:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-700 ml-4",children:[t.jsx("li",{children:"Immediate suspension"}),t.jsx("li",{children:"Penalty up to 5,000"}),t.jsx("li",{children:"Legal action for damages"})]})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.8},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"8. Customer Safety & Code of Conduct"}),t.jsx("p",{className:"text-gray-700 mb-4 font-semibold",children:"Partner must strictly adhere to:"}),t.jsxs("ul",{className:"space-y-3 text-gray-700 mb-6",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),t.jsx("span",{children:"No harassment (verbal, physical, emotional)"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),t.jsx("span",{children:"No misbehaviour, disrespect, abusive language"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),t.jsx("span",{children:"No consumption of alcohol/drugs on duty"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"d)"}),t.jsx("span",{children:"No theft, damage, or misconduct"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"e)"}),t.jsx("span",{children:"No photography or unauthorised recording at customer premises"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"f)"}),t.jsx("span",{children:"No requesting personal favours or discounts"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"g)"}),t.jsx("span",{children:"No entering restricted areas without consent"})]})]}),t.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 p-4",children:[t.jsx("p",{className:"text-gray-800 font-semibold mb-2",children:"Any violation may lead to:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-700 ml-4",children:[t.jsx("li",{children:"Permanent termination"}),t.jsx("li",{children:"Police complaint"}),t.jsx("li",{children:"Forfeiture of dues and deposits"}),t.jsx("li",{children:"Penalties up to 25,000"})]})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.9},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"9. Punctuality & Attendance"}),t.jsxs("ul",{className:"space-y-3 text-gray-700 mb-6",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),t.jsx("span",{children:"Partner must accept bookings only if available."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),t.jsx("span",{children:"Must reach customer location on time."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),t.jsx("span",{children:"Any delay beyond 20 minutes must be informed."})]})]}),t.jsxs("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4",children:[t.jsx("p",{className:"text-gray-800 font-semibold mb-2",children:"Repeated delays may lead to:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-700 ml-4",children:[t.jsx("li",{children:"50200 penalty per incident"}),t.jsx("li",{children:"Reduced lead allocation"}),t.jsx("li",{children:"Temporary suspension"})]})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8 border-2 border-red-200",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-red-600 mb-4",children:"10. No Offline Deals (Strictly Prohibited)"}),t.jsx("p",{className:"text-gray-700 mb-4 font-semibold",children:"Partner shall not:"}),t.jsxs("ul",{className:"space-y-3 text-gray-700 mb-6",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-red-600 font-bold mt-1",children:""}),t.jsx("span",{children:"Ask customer to cancel platform booking"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-red-600 font-bold mt-1",children:""}),t.jsx("span",{children:"Offer lower pricing for offline work"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-red-600 font-bold mt-1",children:""}),t.jsx("span",{children:"Share personal phone number for future services"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-red-600 font-bold mt-1",children:""}),t.jsx("span",{children:"Accept cash or direct payments"})]})]}),t.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 p-4",children:[t.jsx("p",{className:"text-gray-800 font-semibold mb-2",children:"Penalty:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-700 ml-4",children:[t.jsx("li",{children:"5,000 minimum"}),t.jsx("li",{children:"Permanent termination"}),t.jsx("li",{children:"Deduction from wallet and MG plan"}),t.jsx("li",{children:"Legal action for business loss"})]})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1.1},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"11. Service Quality & Returns"}),t.jsx("p",{className:"text-gray-700 mb-4 font-semibold",children:"Partner must ensure:"}),t.jsxs("ul",{className:"space-y-3 text-gray-700 mb-6",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),t.jsx("span",{children:"High-quality workmanship"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),t.jsx("span",{children:"Correct problem diagnosis"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"d)"}),t.jsx("span",{children:"Use of original parts (if applicable)"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"e)"}),t.jsx("span",{children:"Guarantee service quality as per NEXO policy"})]})]}),t.jsxs("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4",children:[t.jsx("p",{className:"text-gray-800 font-semibold mb-2",children:"Poor work or customer complaints may attract:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-700 ml-4",children:[t.jsx("li",{children:"Rework without charges"}),t.jsx("li",{children:"Penalty from 1001,000"}),t.jsx("li",{children:"Suspension on repeated offences"})]})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1.2},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"12. Damage, Theft, or Loss"}),t.jsx("p",{className:"text-gray-700 mb-4 font-semibold",children:"Partner shall be fully liable for:"}),t.jsxs("ul",{className:"space-y-3 text-gray-700 mb-6",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),t.jsx("span",{children:"Damage to customer property"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),t.jsx("span",{children:"Theft or loss at customer premises"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),t.jsx("span",{children:"Fire, accident, or injury caused due to Partner negligence"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"d)"}),t.jsx("span",{children:"Incorrect installation or unsafe practices"})]})]}),t.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 p-4",children:[t.jsx("p",{className:"text-gray-800 font-semibold mb-2",children:"Recovery will be made through:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-700 ml-4",children:[t.jsx("li",{children:"Partner wallet"}),t.jsx("li",{children:"Security deposit"}),t.jsx("li",{children:"MG payouts"}),t.jsx("li",{children:"Legal recovery"})]}),t.jsx("p",{className:"text-gray-800 font-semibold mt-3",children:"Police FIR may be filed for severe cases."})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1.3},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"13. Fraudulent Activities"}),t.jsx("p",{className:"text-gray-700 mb-4 font-semibold",children:"Strictly prohibited:"}),t.jsxs("ul",{className:"space-y-3 text-gray-700 mb-6",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),t.jsx("span",{children:"Faking job completion"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),t.jsx("span",{children:"False OTP entry"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),t.jsx("span",{children:"Manipulating customer rating"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"d)"}),t.jsx("span",{children:"Overcharging"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"e)"}),t.jsx("span",{children:"Providing false documents"})]})]}),t.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 p-4",children:[t.jsx("p",{className:"text-gray-800 font-semibold mb-2",children:"Penalty:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-700 ml-4",children:[t.jsx("li",{children:"Up to 25,000"}),t.jsx("li",{children:"Permanent removal"}),t.jsx("li",{children:"Legal prosecution"})]})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1.4},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"14. Penalty Structure"}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full border-collapse border border-gray-300",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-primary text-white",children:[t.jsx("th",{className:"border border-gray-300 px-4 py-3 text-left",children:"Violation"}),t.jsx("th",{className:"border border-gray-300 px-4 py-3 text-left",children:"Penalty"})]})}),t.jsxs("tbody",{children:[t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"Late arrival"}),t.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"50200"})]}),t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"Job rejection after acceptance"}),t.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"100300"})]}),t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"Misbehaviour"}),t.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"1,0005,000"})]}),t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"Unsafe work"}),t.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"2,000"})]}),t.jsxs("tr",{className:"hover:bg-red-50",children:[t.jsx("td",{className:"border border-gray-300 px-4 py-3 font-semibold text-red-600",children:"Offline deal"}),t.jsx("td",{className:"border border-gray-300 px-4 py-3 font-semibold text-red-600",children:"5,000+ termination"})]}),t.jsxs("tr",{className:"hover:bg-red-50",children:[t.jsx("td",{className:"border border-gray-300 px-4 py-3 font-semibold text-red-600",children:"Theft/misconduct"}),t.jsx("td",{className:"border border-gray-300 px-4 py-3 font-semibold text-red-600",children:"Legal action + termination"})]})]})]})}),t.jsx("p",{className:"text-gray-700 mt-4 italic",children:"NEXO reserves the right to modify penalties anytime."})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1.5},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"15. Partner Wallet & Settlement"}),t.jsx("p",{className:"text-gray-700 mb-4",children:"Deductions will be applied in the following order:"}),t.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-gray-700 ml-4",children:[t.jsx("li",{children:"Penalties"}),t.jsx("li",{children:"Platform Commission"}),t.jsx("li",{children:"Lead cost"}),t.jsx("li",{children:"MG plan adjustments"}),t.jsx("li",{children:"Pending dues"})]}),t.jsx("p",{className:"text-gray-700 mt-4",children:"Settlement cycles will be weekly or as updated by NEXO."})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1.6},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"16. MG Plan (Minimum Guarantee)"}),t.jsxs("ul",{className:"space-y-3 text-gray-700",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),t.jsx("span",{children:"MG plan is optional or mandatory as per category."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),t.jsx("span",{children:"MG provides priority leads based on plan."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),t.jsx("span",{children:"MG fee is non-refundable."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"d)"}),t.jsx("span",{children:"Partner failing to meet service quality/minimum performance may lose MG benefits without refund."})]})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1.7},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"17. Ratings & Reviews"}),t.jsxs("ul",{className:"space-y-3 text-gray-700",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),t.jsx("span",{children:"Partner must maintain minimum rating (e.g., 4.0)."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),t.jsx("span",{children:"Low ratings may result in reduced leads or suspension."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),t.jsx("span",{children:"False or manipulated ratings are punishable."})]})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1.8},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"18. Use of Platform & Technology"}),t.jsx("p",{className:"text-gray-700 mb-4 font-semibold",children:"Partner shall:"}),t.jsxs("ul",{className:"space-y-3 text-gray-700",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),t.jsx("span",{children:"Keep app updated"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),t.jsx("span",{children:"Not misuse customer data"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),t.jsx("span",{children:"Not reverse engineer, hack, or modify NEXO systems"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"d)"}),t.jsx("span",{children:"Use genuine documents only"})]})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1.9},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"19. Termination"}),t.jsx("p",{className:"text-gray-700 mb-4",children:"NEXO may terminate partner access without notice for:"}),t.jsxs("ul",{className:"space-y-2 text-gray-700",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),t.jsx("span",{children:"Misconduct"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),t.jsx("span",{children:"Fraud"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),t.jsx("span",{children:"Unsafe behaviour"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"d)"}),t.jsx("span",{children:"Low performance"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"e)"}),t.jsx("span",{children:"Offline deals"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"f)"}),t.jsx("span",{children:"Customer complaints"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"g)"}),t.jsx("span",{children:"Violation of any Terms"})]})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:2},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"20. Security Deposit Refund"}),t.jsx("p",{className:"text-gray-700 mb-4",children:"Refund only upon:"}),t.jsxs("ul",{className:"space-y-3 text-gray-700 mb-6",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),t.jsx("span",{children:"30-day notice period"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),t.jsx("span",{children:"Return of toolkit (if applicable)"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),t.jsx("span",{children:"No pending dues or penalties"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"d)"}),t.jsx("span",{children:"No active customer complaints"})]})]}),t.jsx("p",{className:"text-gray-700 font-semibold",children:"Refund processing time: 2145 working days."})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:2.1},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"21. Dispute Resolution"}),t.jsxs("div",{className:"space-y-3 text-gray-700",children:[t.jsxs("p",{children:[t.jsx("strong",{children:"Jurisdiction:"})," Bangalore, Karnataka"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Governing Law:"})," Laws of India"]}),t.jsx("p",{className:"mt-4",children:t.jsx("strong",{children:"Method:"})}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[t.jsx("li",{children:"Internal review"}),t.jsx("li",{children:"Mediation"}),t.jsx("li",{children:"Arbitration (if required)"})]})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:2.2},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"22. Amendments"}),t.jsx("p",{className:"text-gray-700",children:"NEXO reserves the right to change Terms anytime. Continued use of the Platform constitutes acceptance."})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:2.3},className:"mb-12",children:t.jsxs("div",{className:"bg-gradient-to-r from-primary to-primary-dark rounded-lg shadow-lg p-6 sm:p-8 text-white",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold mb-4",children:"Questions or Concerns?"}),t.jsx("p",{className:"text-white/90 mb-4",children:"If you have any questions about these Terms & Conditions, please contact us at:"}),t.jsx("p",{className:"text-white font-semibold",children:"Email: support@nexo.works"})]})})]})]})]}),WQ=()=>t.jsxs(t.Fragment,{children:[t.jsx(En,{title:"Customer Terms & Conditions | NEXO",description:"Customer Terms & Conditions for using NEXO platform. Read our comprehensive terms covering bookings, payments, cancellations, and customer rights.",keywords:"customer terms, user terms, NEXO terms and conditions, customer agreement"}),t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50",children:[t.jsx("div",{className:"bg-gradient-to-r from-primary via-primary-dark to-primary text-white py-16 sm:py-20",children:t.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center",children:[t.jsx("div",{className:"flex justify-center mb-6",children:t.jsx("div",{className:"bg-white/20 rounded-full p-4",children:t.jsx(H0,{className:"w-12 h-12"})})}),t.jsx("h1",{className:"text-4xl sm:text-5xl font-bold mb-4",children:"Customer Terms & Conditions"}),t.jsx("p",{className:"text-lg sm:text-xl text-white/90",children:"Effective Date: 15 Nov 2025 | Last Updated: 15 Nov 2025"})]})})}),t.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12 sm:py-16",children:[t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4 flex items-center gap-3",children:[t.jsx(jO,{className:"text-primary"}),"1. Introduction"]}),t.jsx("p",{className:"text-gray-700 leading-relaxed",children:'These Customer Terms & Conditions ("Terms") constitute a legally binding agreement between NEXO ("Company", "Platform", "We", "Us") and any individual or entity ("Customer", "You") who accesses, uses, or avails any service listed on the NEXO mobile application, website, or WhatsApp service platform.'}),t.jsx("p",{className:"text-gray-700 leading-relaxed mt-4 font-semibold",children:"By using or accessing the Platform, You agree to be bound by these Terms."})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"2. Eligibility"}),t.jsx("p",{className:"text-gray-700 mb-4",children:"By using the Platform, You confirm:"}),t.jsxs("ul",{className:"space-y-3 text-gray-700",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),t.jsx("span",{children:"You are at least 18 years old;"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),t.jsx("span",{children:"You are legally competent to enter into contracts;"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),t.jsx("span",{children:"Information provided by You is true and accurate;"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"d)"}),t.jsx("span",{children:"You are availing services for lawful purposes only."})]})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"3. Nature of Services"}),t.jsxs("ul",{className:"space-y-3 text-gray-700",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),t.jsx("span",{children:'NEXO is an aggregator, facilitating connections between Customers and independent service professionals ("Partners").'})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),t.jsx("span",{children:"NEXO does not employ, control, or supervise Partners."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),t.jsx("span",{children:"Services are rendered solely by the Partner, and NEXO is only a facilitating platform."})]})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"4. Customer Obligations"}),t.jsx("p",{className:"text-gray-700 mb-4 font-semibold",children:"Customer agrees to:"}),t.jsxs("ul",{className:"space-y-3 text-gray-700",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),t.jsx("span",{children:"Provide correct service address, contact details, and description of work;"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),t.jsx("span",{children:"Ensure availability of an adult at service location;"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),t.jsx("span",{children:"Verify Partner identity before granting access;"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"d)"}),t.jsx("span",{children:"Provide safe, hazard-free environment;"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"e)"}),t.jsx("span",{className:"text-red-600 font-semibold",children:"Not request or engage Partners for offline jobs outside the Platform;"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"f)"}),t.jsx("span",{children:"Treat Partners respectfully and refrain from abusive, unlawful, or threatening behaviour;"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"g)"}),t.jsx("span",{children:"Ensure payment is made only through NEXO."})]})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.5},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"5. Booking, Cancellation & Rescheduling"}),t.jsxs("div",{className:"mb-6",children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"5.1 Booking Confirmation"}),t.jsx("p",{className:"text-gray-700",children:"A booking is confirmed only upon completion of the applicable Visiting Fee, Service Fee, or pre-payment as required."})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"5.2 Cancellation by Customer"}),t.jsx("div",{className:"bg-green-50 border-l-4 border-green-500 p-4 mb-4",children:t.jsx("p",{className:"text-gray-800 font-semibold mb-2",children:"Free cancellation within 15 minutes of booking."})}),t.jsx("p",{className:"text-gray-700 mb-3",children:"After 15 minutes, cancellation charges apply:"}),t.jsxs("ul",{className:"space-y-2 text-gray-700 ml-4",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),t.jsx("span",{children:"Before dispatch  50% of visiting fee"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),t.jsx("span",{children:"After Partner dispatch  full visiting fee + 50 penalty"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),t.jsx("span",{children:"After Partner arrival  full visiting fee + applicable labour charges (if work has begun)"})]})]}),t.jsx("p",{className:"text-gray-700 mt-3 font-semibold text-red-600",children:"Repeated cancellations may lead to suspension."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"5.3 Rescheduling"}),t.jsxs("ul",{className:"space-y-2 text-gray-700",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx($e,{className:"text-green-500 mt-1"}),t.jsx("span",{children:"Free one-time reschedule if requested at least 60 minutes before service."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx(Gt,{className:"text-yellow-500 mt-1"}),t.jsx("span",{children:"Subsequent reschedules may attract fee up to 50."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx(Gt,{className:"text-red-500 mt-1"}),t.jsx("span",{children:"Rescheduling is not permitted once Partner arrives."})]})]})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"6. Service Charges & Payments"}),t.jsxs("div",{className:"mb-6",children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"6.1 Charges"}),t.jsx("p",{className:"text-gray-700 mb-3",children:"Charges include:"}),t.jsxs("ul",{className:"space-y-2 text-gray-700 ml-4",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),t.jsx("span",{children:"Visiting Fee"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),t.jsx("span",{children:"Labour charges"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),t.jsx("span",{children:"Service fee"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"d)"}),t.jsx("span",{children:"Additional work approved by Customer"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"e)"}),t.jsx("span",{children:"Cost of materials (if used)"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"f)"}),t.jsx("span",{children:"Government taxes including GST"})]})]})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"6.2 Payment Method"}),t.jsxs("ul",{className:"space-y-2 text-gray-700",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx($e,{className:"text-green-500 mt-1"}),t.jsx("span",{children:"All payments must be processed through the NEXO Platform."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx(Gt,{className:"text-red-500 mt-1"}),t.jsx("span",{className:"text-red-600 font-semibold",children:"Direct cash/card payments to Partner are strictly prohibited."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx(nd,{className:"text-yellow-500 mt-1"}),t.jsx("span",{children:"NEXO is not responsible for any offline payments made by Customer."})]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"6.3 Final Invoice"}),t.jsx("p",{className:"text-gray-700",children:"Final charges may vary from initial estimate after inspection by Partner."})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.7},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4 flex items-center gap-3",children:[t.jsx(Qo,{className:"text-primary"}),"7. Safety, Security & Conduct"]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"7.1 Customer Safety Rights"}),t.jsx("p",{className:"text-gray-700 mb-3",children:"Customer may:"}),t.jsxs("ul",{className:"space-y-2 text-gray-700 ml-4",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),t.jsx("span",{children:"Ask for Partner ID verification"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),t.jsx("span",{children:"Refuse entry if Partner identity appears suspicious"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),t.jsx("span",{children:"Report misconduct immediately"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"d)"}),t.jsx("span",{children:"Request replacement of Partner if uncomfortable"})]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"7.2 Customer Responsibilities"}),t.jsx("p",{className:"text-gray-700 mb-3",children:"Customer must ensure:"}),t.jsxs("div",{className:"grid sm:grid-cols-2 gap-3",children:[t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx($e,{className:"text-green-500"}),t.jsx("span",{children:"Home is safe for work"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx($e,{className:"text-green-500"}),t.jsx("span",{children:"Pets/children are supervised"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx($e,{className:"text-green-500"}),t.jsx("span",{children:"Valuables are secured"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx($e,{className:"text-green-500"}),t.jsx("span",{children:"Clear working access for Partner"})]})]})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.8},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"8. Service Quality & Warranty"}),t.jsxs("ul",{className:"space-y-3 text-gray-700",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),t.jsx("span",{children:"NEXO does not provide warranty on services unless explicitly mentioned."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),t.jsx("span",{children:"Workmanship warranty (if any) is provided solely by the Partner."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),t.jsx("span",{children:"Customer must inspect work upon completion before payment."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"d)"}),t.jsx("span",{children:"Any rework request must be raised within 24 hours (if applicable)."})]})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.9},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8 border-2 border-red-200",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-red-600 mb-4",children:"9. Prohibited Activities"}),t.jsx("p",{className:"text-gray-700 mb-4 font-semibold",children:"Customer shall not:"}),t.jsxs("ul",{className:"space-y-3 text-gray-700 mb-6",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-red-600 font-bold mt-1",children:"a)"}),t.jsx("span",{children:"Harass, abuse, threaten, or intimidate Partners;"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-red-600 font-bold mt-1",children:"b)"}),t.jsx("span",{children:"Engage in discriminatory or unlawful behaviour;"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-red-600 font-bold mt-1",children:"c)"}),t.jsx("span",{children:"Request services that are illegal or unsafe;"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-red-600 font-bold mt-1",children:"d)"}),t.jsx("span",{children:"Ask for personal contact of Partner;"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-red-600 font-bold mt-1",children:"e)"}),t.jsx("span",{children:"Request offline or private service outside the Platform;"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-red-600 font-bold mt-1",children:"f)"}),t.jsx("span",{children:"Record Partner without consent;"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-red-600 font-bold mt-1",children:"g)"}),t.jsx("span",{children:"Provide false complaints or fraudulent claims."})]})]}),t.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 p-4",children:[t.jsx("p",{className:"text-gray-800 font-semibold mb-2",children:"Violation may result in:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-700 ml-4",children:[t.jsx("li",{children:"Account suspension"}),t.jsx("li",{children:"Legal action"}),t.jsx("li",{children:"Service denial"}),t.jsx("li",{children:"Blacklisting"})]})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"10. Liability & Damages"}),t.jsxs("div",{className:"mb-6",children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"10.1 Customer Responsibility"}),t.jsx("p",{className:"text-gray-700 mb-3",children:"Customer is responsible for:"}),t.jsxs("ul",{className:"space-y-2 text-gray-700 ml-4",children:[t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx("span",{className:"text-primary",children:""}),t.jsx("span",{children:"Securing valuables"})]}),t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx("span",{className:"text-primary",children:""}),t.jsx("span",{children:"Providing accurate service details"})]}),t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx("span",{className:"text-primary",children:""}),t.jsx("span",{children:"Ensuring safe working conditions"})]}),t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx("span",{className:"text-primary",children:""}),t.jsx("span",{children:"Reviewing work before job closure"})]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"10.2 NEXO's Liability Limitation"}),t.jsx("p",{className:"text-gray-700 mb-3",children:"NEXO is not liable for:"}),t.jsxs("ul",{className:"space-y-2 text-gray-700 ml-4",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),t.jsx("span",{children:"Any theft, loss, or damage caused by Partner;"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),t.jsx("span",{children:"Delays, cancellations, or non-performance by Partner;"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),t.jsx("span",{children:"Damages arising due to incorrect information provided by Customer;"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"d)"}),t.jsx("span",{children:"Losses from natural wear & tear or misuse;"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"e)"}),t.jsx("span",{children:"Electrical/plumbing faults not directly caused by Partner;"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"f)"}),t.jsx("span",{children:"Third-party or material failures."})]})]}),t.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 mt-4",children:t.jsx("p",{className:"text-gray-800 font-semibold",children:"NEXO's liability, if any, shall not exceed the service fee paid."})})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1.1},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4 flex items-center gap-3",children:[t.jsx(wO,{className:"text-primary"}),"11. Partner Misconduct or Issues"]}),t.jsx("p",{className:"text-gray-700 mb-4",children:"If Partner misbehaviour or misconduct is reported (with proof):"}),t.jsxs("ul",{className:"space-y-3 text-gray-700",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx($e,{className:"text-green-500 mt-1"}),t.jsx("span",{children:"Immediate review will be conducted"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx($e,{className:"text-green-500 mt-1"}),t.jsx("span",{children:"Partner may be suspended"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx($e,{className:"text-green-500 mt-1"}),t.jsx("span",{children:"Replacement may be arranged"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx($e,{className:"text-green-500 mt-1"}),t.jsx("span",{children:"Refunds (if applicable) may be processed"})]})]}),t.jsx("p",{className:"text-gray-700 mt-4 font-semibold",children:"For severe offences, NEXO may file a police complaint."})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1.2},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"12. Data Privacy"}),t.jsx("p",{className:"text-gray-700 mb-3",children:"Customer data will be used in accordance with NEXO's Privacy Policy."}),t.jsx("p",{className:"text-gray-700",children:"Customer agrees to receive booking updates, OTPs, notifications, and promotional messages."})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1.3},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"13. Intellectual Property Rights"}),t.jsx("p",{className:"text-gray-700 mb-3",children:"All content, branding, design, and material on the Platform is owned by NEXO."}),t.jsx("p",{className:"text-gray-700",children:"Copying, distributing, or modifying Platform content without written permission is prohibited."})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1.4},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"14. Termination of Account"}),t.jsx("p",{className:"text-gray-700 mb-4",children:"NEXO may deactivate or terminate Customer account without notice for:"}),t.jsxs("ul",{className:"space-y-2 text-gray-700",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),t.jsx("span",{children:"Fraudulent behaviour"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),t.jsx("span",{children:"Misuse of Platform"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),t.jsx("span",{children:"Harassment of Partner"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"d)"}),t.jsx("span",{children:"Repeated cancellations"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"e)"}),t.jsx("span",{children:"Illegal activity"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"f)"}),t.jsx("span",{children:"Violation of any Terms"})]})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1.5},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"15. Dispute Resolution"}),t.jsxs("ul",{className:"space-y-3 text-gray-700 mb-4",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),t.jsx("span",{children:"Raise complaint within 24 hours of service."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),t.jsx("span",{children:"Disputes shall be resolved via:"})]})]}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-700 ml-8 mb-4",children:[t.jsx("li",{children:"Support escalation"}),t.jsx("li",{children:"Mediation"}),t.jsx("li",{children:"Arbitration"})]}),t.jsxs("div",{className:"space-y-2 text-gray-700",children:[t.jsxs("p",{children:[t.jsx("strong",{children:"c)"})," Jurisdiction: Bangalore, Karnataka"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"d)"})," Governing Law: Laws of India"]})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1.6},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"16. Force Majeure"}),t.jsx("p",{className:"text-gray-700",children:"NEXO is not liable for delays/failures caused by events outside reasonable control including weather, traffic, strikes, pandemics, accidents, or natural disasters."})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1.7},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"17. Amendments"}),t.jsx("p",{className:"text-gray-700",children:"NEXO may modify these Terms at any time. Updates will be notified, and continued usage constitutes acceptance."})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1.8},className:"mb-12",children:t.jsxs("div",{className:"bg-gradient-to-r from-primary to-primary-dark rounded-lg shadow-lg p-6 sm:p-8 text-white",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold mb-4",children:"Questions or Concerns?"}),t.jsx("p",{className:"text-white/90 mb-4",children:"If you have any questions about these Terms & Conditions, please contact us at:"}),t.jsx("p",{className:"text-white font-semibold",children:"Email: support@nexo.works"})]})})]})]})]}),GQ=()=>t.jsxs(t.Fragment,{children:[t.jsx(En,{title:"Privacy Policy | NEXO",description:"NEXO Privacy Policy - Learn how we collect, use, store, and protect your personal information across our platform.",keywords:"privacy policy, data protection, NEXO privacy, user data, data security"}),t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50",children:[t.jsx("div",{className:"bg-gradient-to-r from-primary via-primary-dark to-primary text-white py-16 sm:py-20",children:t.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center",children:[t.jsx("div",{className:"flex justify-center mb-6",children:t.jsx("div",{className:"bg-white/20 rounded-full p-4",children:t.jsx(Qo,{className:"w-12 h-12"})})}),t.jsx("h1",{className:"text-4xl sm:text-5xl font-bold mb-4",children:"Privacy Policy"}),t.jsx("p",{className:"text-lg sm:text-xl text-white/90",children:"Effective Date: 15 Nov 2025"})]})})}),t.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12 sm:py-16",children:[t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4 flex items-center gap-3",children:[t.jsx(H0,{className:"text-primary"}),"1. Introduction"]}),t.jsx("p",{className:"text-gray-700 leading-relaxed",children:'This Privacy Policy explains how NEXO collects, uses, stores, and protects Customer, Partner, and user data across mobile app, website, and WhatsApp ("Platform").'}),t.jsx("p",{className:"text-gray-700 leading-relaxed mt-4 font-semibold",children:"By using the Platform, you agree to this Policy."})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4 flex items-center gap-3",children:[t.jsx(mX,{className:"text-primary"}),"2. Information We Collect"]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"2.1 Personal Information"}),t.jsxs("div",{className:"grid sm:grid-cols-2 gap-3",children:[t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx($e,{className:"text-green-500"}),t.jsx("span",{children:"Name"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx($e,{className:"text-green-500"}),t.jsx("span",{children:"Phone number"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx($e,{className:"text-green-500"}),t.jsx("span",{children:"Email"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx($e,{className:"text-green-500"}),t.jsx("span",{children:"Address & location"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx($e,{className:"text-green-500"}),t.jsx("span",{children:"OTP verification"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx($e,{className:"text-green-500"}),t.jsx("span",{children:"Device details"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx($e,{className:"text-yellow-500"}),t.jsx("span",{className:"italic",children:"ID proof (Partners only)"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx($e,{className:"text-yellow-500"}),t.jsx("span",{className:"italic",children:"Bank details (Partners only)"})]})]})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"2.2 Usage Information"}),t.jsxs("div",{className:"grid sm:grid-cols-2 gap-3",children:[t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx($e,{className:"text-blue-500"}),t.jsx("span",{children:"Browsing behaviour"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx($e,{className:"text-blue-500"}),t.jsx("span",{children:"Clickstream"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx($e,{className:"text-blue-500"}),t.jsx("span",{children:"Transaction data"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx($e,{className:"text-blue-500"}),t.jsx("span",{children:"Service history"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx($e,{className:"text-blue-500"}),t.jsx("span",{children:"Communication logs (WhatsApp/chat/call)"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx($e,{className:"text-blue-500"}),t.jsx("span",{children:"IP address"})]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"2.3 Location Data"}),t.jsx("p",{className:"text-gray-700",children:"For service allocation and partner tracking."})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"3. How We Use Information"}),t.jsx("p",{className:"text-gray-700 mb-4",children:"We use information for:"}),t.jsxs("div",{className:"grid sm:grid-cols-2 gap-3",children:[t.jsxs("div",{className:"flex items-start gap-3 text-gray-700",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),t.jsx("span",{children:"Booking and service fulfillment"})]}),t.jsxs("div",{className:"flex items-start gap-3 text-gray-700",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),t.jsx("span",{children:"Identity verification"})]}),t.jsxs("div",{className:"flex items-start gap-3 text-gray-700",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),t.jsx("span",{children:"Customer support"})]}),t.jsxs("div",{className:"flex items-start gap-3 text-gray-700",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"d)"}),t.jsx("span",{children:"Fraud prevention"})]}),t.jsxs("div",{className:"flex items-start gap-3 text-gray-700",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"e)"}),t.jsx("span",{children:"Partner allocation & tracking"})]}),t.jsxs("div",{className:"flex items-start gap-3 text-gray-700",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"f)"}),t.jsx("span",{children:"Payment processing"})]}),t.jsxs("div",{className:"flex items-start gap-3 text-gray-700",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"g)"}),t.jsx("span",{children:"Safety and dispute resolution"})]}),t.jsxs("div",{className:"flex items-start gap-3 text-gray-700",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"h)"}),t.jsx("span",{children:"Marketing & promotional messages"})]}),t.jsxs("div",{className:"flex items-start gap-3 text-gray-700",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"i)"}),t.jsx("span",{children:"Legal compliance"})]})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4 flex items-center gap-3",children:[t.jsx(CX,{className:"text-primary"}),"4. Data Sharing"]}),t.jsx("p",{className:"text-gray-700 mb-4",children:"We share limited data with:"}),t.jsxs("ul",{className:"space-y-3 text-gray-700 mb-6",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),t.jsx("span",{children:"Partners for service delivery"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),t.jsx("span",{children:"Payment gateways"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),t.jsx("span",{children:"Background verification agencies"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"d)"}),t.jsx("span",{children:"Marketing automation tools (e.g., AiSensy)"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"e)"}),t.jsx("span",{children:"Law enforcement (upon request)"})]})]}),t.jsx("div",{className:"bg-green-50 border-l-4 border-green-500 p-4",children:t.jsxs("p",{className:"text-gray-800 font-semibold flex items-center gap-2",children:[t.jsx($e,{className:"text-green-500"}),"We never sell personal data."]})})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.5},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4 flex items-center gap-3",children:[t.jsx(HN,{className:"text-primary"}),"5. Data Security"]}),t.jsx("p",{className:"text-gray-700 mb-4",children:"We implement:"}),t.jsxs("div",{className:"grid sm:grid-cols-2 gap-3 mb-6",children:[t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx($e,{className:"text-green-500"}),t.jsx("span",{children:"Encryption"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx($e,{className:"text-green-500"}),t.jsx("span",{children:"Secured servers"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx($e,{className:"text-green-500"}),t.jsx("span",{children:"Access restrictions"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx($e,{className:"text-green-500"}),t.jsx("span",{children:"Fraud detection tools"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx($e,{className:"text-green-500"}),t.jsx("span",{children:"OTP-based authentication"})]})]}),t.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4",children:t.jsxs("p",{className:"text-gray-800 font-semibold flex items-center gap-2",children:[t.jsx(nd,{className:"text-yellow-500"}),"However, no system is 100% secure."]})})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"6. WhatsApp Data Usage"}),t.jsx("p",{className:"text-gray-700 mb-4",children:"Usage of WhatsApp APIs (including AiSensy) includes:"}),t.jsxs("ul",{className:"space-y-3 text-gray-700 mb-4",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx($e,{className:"text-green-500 mt-1"}),t.jsx("span",{children:"Sending booking updates"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx($e,{className:"text-green-500 mt-1"}),t.jsx("span",{children:"Sending notifications"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx($e,{className:"text-green-500 mt-1"}),t.jsx("span",{children:"Sending promotional content"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx($e,{className:"text-green-500 mt-1"}),t.jsx("span",{children:"Customerpartner communication"})]})]}),t.jsx("p",{className:"text-gray-700 font-semibold",children:"All messages follow WhatsApp's commerce policies."})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.7},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4 flex items-center gap-3",children:[t.jsx(uX,{className:"text-primary"}),"7. Cookies & Tracking"]}),t.jsx("p",{className:"text-gray-700",children:"Used for analytics, personalization, and fraud prevention."})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.8},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4 flex items-center gap-3",children:[t.jsx(wO,{className:"text-primary"}),"8. User Rights"]}),t.jsx("p",{className:"text-gray-700 mb-4",children:"Users may request:"}),t.jsxs("ul",{className:"space-y-3 text-gray-700",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),t.jsx("span",{children:"Data access"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),t.jsx("span",{children:"Data correction"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),t.jsx("span",{children:"Data deletion (subject to legal limits)"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"d)"}),t.jsx("span",{children:"Opt-out of marketing messages"})]})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.9},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"9. Third-Party Links"}),t.jsx("p",{className:"text-gray-700",children:"External links have separate privacy policies; NEXO is not responsible for third-party practices."})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"10. Children's Privacy"}),t.jsx("p",{className:"text-gray-700",children:"Platform is not intended for children under age 18."})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1.1},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"11. Amendments"}),t.jsx("p",{className:"text-gray-700",children:"We may update this Policy; changes posted on website/app become effective immediately."})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1.2},className:"mb-12",children:t.jsxs("div",{className:"bg-gradient-to-r from-primary to-primary-dark rounded-lg shadow-lg p-6 sm:p-8 text-white",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold mb-4",children:"Questions About Privacy?"}),t.jsx("p",{className:"text-white/90 mb-4",children:"If you have any questions about this Privacy Policy or wish to exercise your rights, please contact us at:"}),t.jsx("p",{className:"text-white font-semibold mb-2",children:"Email: support@nexo.works"}),t.jsx("p",{className:"text-white/80 text-sm",children:"For data access, correction, or deletion requests, please include your registered email or phone number."})]})})]})]})]}),qQ=()=>t.jsxs(t.Fragment,{children:[t.jsx(En,{title:"Customer Refund Policy | NEXO",description:"NEXO Customer Refund Policy - Learn about refund eligibility, non-refundable fees, refund processing times, and refund methods.",keywords:"refund policy, customer refund, NEXO refund, refund eligibility, refund processing"}),t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50",children:[t.jsx("div",{className:"bg-gradient-to-r from-primary via-primary-dark to-primary text-white py-16 sm:py-20",children:t.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center",children:[t.jsx("div",{className:"flex justify-center mb-6",children:t.jsx("div",{className:"bg-white/20 rounded-full p-4",children:t.jsx(H0,{className:"w-12 h-12"})})}),t.jsx("h1",{className:"text-4xl sm:text-5xl font-bold mb-4",children:"Customer Refund Policy"}),t.jsx("p",{className:"text-lg sm:text-xl text-white/90",children:"NEXO - Fair & Transparent Refund Process"})]})})}),t.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12 sm:py-16",children:[t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4 flex items-center gap-3",children:[t.jsx($e,{className:"text-green-500"}),"1. Eligibility for Refund"]}),t.jsx("p",{className:"text-gray-700 mb-4",children:"A customer is eligible for a refund only in the following cases:"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-start gap-3 p-4 bg-green-50 rounded-lg border-l-4 border-green-500",children:[t.jsx($e,{className:"text-green-500 mt-1 flex-shrink-0"}),t.jsx("span",{className:"text-gray-700",children:"Partner fails to arrive within the committed time window."})]}),t.jsxs("div",{className:"flex items-start gap-3 p-4 bg-green-50 rounded-lg border-l-4 border-green-500",children:[t.jsx($e,{className:"text-green-500 mt-1 flex-shrink-0"}),t.jsx("span",{className:"text-gray-700",children:"Service not initiated due to partner unavailability / NEXO internal issue."})]}),t.jsxs("div",{className:"flex items-start gap-3 p-4 bg-green-50 rounded-lg border-l-4 border-green-500",children:[t.jsx($e,{className:"text-green-500 mt-1 flex-shrink-0"}),t.jsx("span",{className:"text-gray-700",children:"Service not delivered due to NEXO's fault, such as system failure or incorrect partner assignment."})]}),t.jsxs("div",{className:"flex items-start gap-3 p-4 bg-green-50 rounded-lg border-l-4 border-green-500",children:[t.jsx($e,{className:"text-green-500 mt-1 flex-shrink-0"}),t.jsx("span",{className:"text-gray-700",children:"Duplicate payment made by the customer."})]}),t.jsxs("div",{className:"flex items-start gap-3 p-4 bg-green-50 rounded-lg border-l-4 border-green-500",children:[t.jsx($e,{className:"text-green-500 mt-1 flex-shrink-0"}),t.jsx("span",{className:"text-gray-700",children:"Overcharging due to system or billing error."})]})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8 border-2 border-red-200",children:[t.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-red-600 mb-4 flex items-center gap-3",children:[t.jsx(Gt,{className:"text-red-600"}),"2. Non-Refundable Fees"]}),t.jsx("p",{className:"text-gray-700 mb-4 font-semibold",children:"The following charges are strictly non-refundable:"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-start gap-3 p-4 bg-red-50 rounded-lg border-l-4 border-red-500",children:[t.jsx(Gt,{className:"text-red-500 mt-1 flex-shrink-0"}),t.jsxs("span",{className:"text-gray-700",children:[t.jsx("strong",{children:"Visiting Fee"}),", once the partner has arrived at the customer location."]})]}),t.jsxs("div",{className:"flex items-start gap-3 p-4 bg-red-50 rounded-lg border-l-4 border-red-500",children:[t.jsx(Gt,{className:"text-red-500 mt-1 flex-shrink-0"}),t.jsxs("span",{className:"text-gray-700",children:[t.jsx("strong",{children:"Service Charge"})," (platform/processing fee)."]})]}),t.jsxs("div",{className:"flex items-start gap-3 p-4 bg-red-50 rounded-lg border-l-4 border-red-500",children:[t.jsx(Gt,{className:"text-red-500 mt-1 flex-shrink-0"}),t.jsxs("span",{className:"text-gray-700",children:[t.jsx("strong",{children:"Cancellation Fee"})," charged due to last-minute customer cancellation."]})]}),t.jsxs("div",{className:"flex items-start gap-3 p-4 bg-red-50 rounded-lg border-l-4 border-red-500",children:[t.jsx(Gt,{className:"text-red-500 mt-1 flex-shrink-0"}),t.jsxs("span",{className:"text-gray-700",children:[t.jsx("strong",{children:"Custom materials/parts"})," purchased exclusively for the customer's job."]})]}),t.jsxs("div",{className:"flex items-start gap-3 p-4 bg-red-50 rounded-lg border-l-4 border-red-500",children:[t.jsx(Gt,{className:"text-red-500 mt-1 flex-shrink-0"}),t.jsxs("span",{className:"text-gray-700",children:[t.jsx("strong",{children:"Any penalties"})," applied due to customer behaviour or policy violation."]})]})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4 flex items-center gap-3",children:[t.jsx(ei,{className:"text-primary"}),"3. Refund Time (Customer)"]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"p-5 bg-blue-50 rounded-lg border-l-4 border-blue-500",children:[t.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[t.jsx(Zu,{className:"text-blue-500"}),"Refund to NEXO Wallet:"]}),t.jsx("p",{className:"text-gray-700 text-lg font-semibold",children:"Instant to 24 hours."})]}),t.jsxs("div",{className:"p-5 bg-purple-50 rounded-lg border-l-4 border-purple-500",children:[t.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[t.jsx(Zu,{className:"text-purple-500"}),"Refund to Bank Account / UPI:"]}),t.jsx("p",{className:"text-gray-700 text-lg font-semibold",children:"37 working days, depending on bank processing timelines."})]})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"4. Mode of Refund"}),t.jsx("p",{className:"text-gray-700 mb-4",children:"Refund will be processed via:"}),t.jsxs("div",{className:"grid sm:grid-cols-2 gap-4 mb-4",children:[t.jsxs("div",{className:"flex items-center gap-3 p-4 bg-green-50 rounded-lg border-l-4 border-green-500",children:[t.jsx($e,{className:"text-green-500 text-xl"}),t.jsx("span",{className:"text-gray-700 font-semibold",children:"NEXO Wallet"})]}),t.jsxs("div",{className:"flex items-center gap-3 p-4 bg-green-50 rounded-lg border-l-4 border-green-500",children:[t.jsx($e,{className:"text-green-500 text-xl"}),t.jsx("span",{className:"text-gray-700 font-semibold",children:"Source Account (UPI/Card/Net Banking)"})]})]}),t.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4",children:t.jsxs("p",{className:"text-gray-800 font-semibold flex items-center gap-2",children:[t.jsx(nd,{className:"text-red-500"}),"No cash refunds are permitted under any circumstances."]})})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.5},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4 flex items-center gap-3",children:[t.jsx(nX,{className:"text-primary"}),"5. Material Purchase Refund"]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"p-4 bg-red-50 rounded-lg border-l-4 border-red-500",children:[t.jsx("p",{className:"text-gray-700 mb-2",children:t.jsx("strong",{children:"Materials purchased by the partner on customer's request are not refundable once:"})}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-700 ml-4",children:[t.jsx("li",{children:"Opened"}),t.jsx("li",{children:"Installed"}),t.jsx("li",{children:"Used"}),t.jsx("li",{children:"Customized"})]})]}),t.jsx("div",{className:"p-4 bg-yellow-50 rounded-lg border-l-4 border-yellow-400",children:t.jsxs("p",{className:"text-gray-700",children:[t.jsx("strong",{children:"If unopened and vendor accepts returns,"})," only material cost may be refunded (vendor policies apply)."]})})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},className:"mb-12",children:t.jsxs("div",{className:"bg-gradient-to-r from-primary to-primary-dark rounded-lg shadow-lg p-6 sm:p-8 text-white",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold mb-4",children:"Need Help with Refunds?"}),t.jsx("p",{className:"text-white/90 mb-4",children:"If you believe you are eligible for a refund or have questions about our refund policy, please contact our support team:"}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"text-white font-semibold",children:"Email: support@nexo.works"}),t.jsx("p",{className:"text-white/80 text-sm",children:"Please include your booking ID and a brief description of the issue for faster processing."})]})]})})]})]})]}),KQ=()=>t.jsxs(t.Fragment,{children:[t.jsx(En,{title:"Partner Refund Policy | NEXO",description:"NEXO Partner Refund Policy - Learn about refund eligibility, non-refundable items, refund processing times, and refund methods for partners.",keywords:"partner refund policy, NEXO partner refund, refund eligibility, partner refund processing"}),t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50",children:[t.jsx("div",{className:"bg-gradient-to-r from-primary via-primary-dark to-primary text-white py-16 sm:py-20",children:t.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center",children:[t.jsx("div",{className:"flex justify-center mb-6",children:t.jsx("div",{className:"bg-white/20 rounded-full p-4",children:t.jsx(H0,{className:"w-12 h-12"})})}),t.jsx("h1",{className:"text-4xl sm:text-5xl font-bold mb-4",children:"Partner Refund Policy"}),t.jsx("p",{className:"text-lg sm:text-xl text-white/90",children:"NEXO Partner Program - Fair & Transparent Refund Process"})]})})}),t.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12 sm:py-16",children:[t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4 flex items-center gap-3",children:[t.jsx($e,{className:"text-green-500"}),"1. Eligibility for Refund"]}),t.jsx("p",{className:"text-gray-700 mb-4",children:"A partner may receive a refund only for the following cases:"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-start gap-3 p-4 bg-green-50 rounded-lg border-l-4 border-green-500",children:[t.jsx($e,{className:"text-green-500 mt-1 flex-shrink-0"}),t.jsx("span",{className:"text-gray-700",children:"Duplicate payment made by the partner."})]}),t.jsxs("div",{className:"flex items-start gap-3 p-4 bg-green-50 rounded-lg border-l-4 border-green-500",children:[t.jsx($e,{className:"text-green-500 mt-1 flex-shrink-0"}),t.jsx("span",{className:"text-gray-700",children:"Wallet deduction error due to a system glitch."})]}),t.jsxs("div",{className:"flex items-start gap-3 p-4 bg-green-50 rounded-lg border-l-4 border-green-500",children:[t.jsx($e,{className:"text-green-500 mt-1 flex-shrink-0"}),t.jsx("span",{className:"text-gray-700",children:"Overcharged commission or lead deduction due to technical error."})]}),t.jsxs("div",{className:"flex items-start gap-3 p-4 bg-yellow-50 rounded-lg border-l-4 border-yellow-400",children:[t.jsx($e,{className:"text-yellow-500 mt-1 flex-shrink-0"}),t.jsxs("span",{className:"text-gray-700",children:[t.jsx("strong",{children:"MG Plan or Subscription"}),"  Refund only if partner has not activated or taken any job (within 24 hours of purchase)."]})]})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8 border-2 border-red-200",children:[t.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-red-600 mb-4 flex items-center gap-3",children:[t.jsx(Gt,{className:"text-red-600"}),"2. Non-Refundable Items"]}),t.jsx("p",{className:"text-gray-700 mb-4 font-semibold",children:"The following are strictly non-refundable:"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-start gap-3 p-4 bg-red-50 rounded-lg border-l-4 border-red-500",children:[t.jsx(Gt,{className:"text-red-500 mt-1 flex-shrink-0"}),t.jsxs("span",{className:"text-gray-700",children:[t.jsx("strong",{children:"Minimum Guarantee (MG) Plans"}),", once activated or once a job is assigned."]})]}),t.jsxs("div",{className:"flex items-start gap-3 p-4 bg-red-50 rounded-lg border-l-4 border-red-500",children:[t.jsx(Gt,{className:"text-red-500 mt-1 flex-shrink-0"}),t.jsx("span",{className:"text-gray-700",children:t.jsx("strong",{children:"Registration fees"})})]}),t.jsxs("div",{className:"flex items-start gap-3 p-4 bg-red-50 rounded-lg border-l-4 border-red-500",children:[t.jsx(Gt,{className:"text-red-500 mt-1 flex-shrink-0"}),t.jsx("span",{className:"text-gray-700",children:t.jsx("strong",{children:"Toolkit fees"})})]}),t.jsxs("div",{className:"flex items-start gap-3 p-4 bg-yellow-50 rounded-lg border-l-4 border-yellow-400",children:[t.jsx(nd,{className:"text-yellow-500 mt-1 flex-shrink-0"}),t.jsxs("span",{className:"text-gray-700",children:[t.jsx("strong",{children:"Security deposit"})," (refundable only at exit with conditions)"]})]}),t.jsxs("div",{className:"flex items-start gap-3 p-4 bg-red-50 rounded-lg border-l-4 border-red-500",children:[t.jsx(Gt,{className:"text-red-500 mt-1 flex-shrink-0"}),t.jsxs("span",{className:"text-gray-700",children:[t.jsx("strong",{children:"Lead cost"})," deducted for job views, accepts, or responses."]})]}),t.jsxs("div",{className:"flex items-start gap-3 p-4 bg-red-50 rounded-lg border-l-4 border-red-500",children:[t.jsx(Gt,{className:"text-red-500 mt-1 flex-shrink-0"}),t.jsxs("span",{className:"text-gray-700",children:[t.jsx("strong",{children:"Penalties"})," for cancellations, no-show, customer complaints."]})]}),t.jsxs("div",{className:"flex items-start gap-3 p-4 bg-red-50 rounded-lg border-l-4 border-red-500",children:[t.jsx(Gt,{className:"text-red-500 mt-1 flex-shrink-0"}),t.jsxs("span",{className:"text-gray-700",children:["Any ",t.jsx("strong",{children:"custom kit, merchandise, uniform, or device cost"}),"."]})]})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4 flex items-center gap-3",children:[t.jsx(ei,{className:"text-primary"}),"3. Refund Time (Partner)"]}),t.jsxs("div",{className:"grid sm:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"p-5 bg-blue-50 rounded-lg border-l-4 border-blue-500",children:[t.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[t.jsx(Zu,{className:"text-blue-500"}),"Wallet Refunds:"]}),t.jsx("p",{className:"text-gray-700 text-lg font-semibold",children:"Instant to 24 hours"})]}),t.jsxs("div",{className:"p-5 bg-purple-50 rounded-lg border-l-4 border-purple-500",children:[t.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[t.jsx(Zu,{className:"text-purple-500"}),"Bank Refunds:"]}),t.jsx("p",{className:"text-gray-700 text-lg font-semibold",children:"37 working days"})]})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"4. Mode of Refund"}),t.jsx("p",{className:"text-gray-700 mb-4",children:"Refund will be processed to:"}),t.jsxs("div",{className:"grid sm:grid-cols-2 gap-4 mb-4",children:[t.jsxs("div",{className:"flex items-center gap-3 p-4 bg-green-50 rounded-lg border-l-4 border-green-500",children:[t.jsx($e,{className:"text-green-500 text-xl"}),t.jsx("span",{className:"text-gray-700 font-semibold",children:"Partner Wallet"})]}),t.jsxs("div",{className:"flex items-center gap-3 p-4 bg-green-50 rounded-lg border-l-4 border-green-500",children:[t.jsx($e,{className:"text-green-500 text-xl"}),t.jsx("span",{className:"text-gray-700 font-semibold",children:"Original payment mode (UPI/Card/Net Banking)"})]})]}),t.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4",children:t.jsxs("p",{className:"text-gray-800 font-semibold flex items-center gap-2",children:[t.jsx(nd,{className:"text-red-500"}),"Cash refunds are not permitted."]})})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.5},className:"mb-12",children:t.jsxs("div",{className:"bg-gradient-to-r from-primary to-primary-dark rounded-lg shadow-lg p-6 sm:p-8 text-white",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold mb-4",children:"Need Help with Refunds?"}),t.jsx("p",{className:"text-white/90 mb-4",children:"If you believe you are eligible for a refund or have questions about our refund policy, please contact our partner support team:"}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"text-white font-semibold",children:"Email: support@nexo.works"}),t.jsx("p",{className:"text-white/80 text-sm",children:"Please include your Partner ID and a brief description of the issue for faster processing."})]})]})})]})]})]}),ti=({className:e="",variant:r="default"})=>{const s=r==="light",a=s?"#FFFFFF":"#214A73",n=s?"text-white":"text-primary",i=s?"text-white/80":"text-primary/80",l={initial:{scale:1,rotate:0},animate:{rotate:360,scale:[1,1.05,1],transition:{rotate:{duration:8,repeat:1/0,ease:"linear"},scale:{duration:2,repeat:1/0,ease:"easeInOut"}}},hover:{scale:1.15,rotate:[0,360],transition:{duration:.6,ease:"easeOut"}}},o={initial:{opacity:.7},animate:{opacity:[.7,1,.7],strokeWidth:[3,3.5,3],transition:{duration:2,repeat:1/0,ease:"easeInOut"}}},c={initial:{scale:1,rotate:0},animate:{scale:[1,1.3,1],rotate:-360,transition:{scale:{duration:1.5,repeat:1/0,ease:"easeInOut"},rotate:{duration:5,repeat:1/0,ease:"linear"}}}};return t.jsxs("div",{className:`flex items-center gap-3 ${e}`,children:[t.jsx(E.div,{className:"relative w-12 h-12 flex items-center justify-center",variants:l,initial:"initial",animate:"animate",whileHover:"hover",children:t.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{filter:"drop-shadow(0 0 4px rgba(33, 74, 115, 0.3))"},children:[t.jsx(E.path,{d:"M24 8C24 8 16 12 16 20C16 20 20 24 24 24C28 24 32 20 32 20C32 12 24 8 24 8Z",stroke:a,strokeLinecap:"round",strokeLinejoin:"round",fill:"none",variants:o,initial:"initial",animate:"animate"}),t.jsx(E.path,{d:"M24 40C24 40 32 36 32 28C32 28 28 24 24 24C20 24 16 28 16 28C16 36 24 40 24 40Z",stroke:a,strokeLinecap:"round",strokeLinejoin:"round",fill:"none",variants:o,initial:"initial",animate:"animate",transition:{delay:.2}}),t.jsx(E.path,{d:"M8 24C8 24 12 16 20 16C20 16 24 20 24 24C24 28 20 32 20 32C12 32 8 24 8 24Z",stroke:a,strokeLinecap:"round",strokeLinejoin:"round",fill:"none",variants:o,initial:"initial",animate:"animate",transition:{delay:.4}}),t.jsx(E.path,{d:"M40 24C40 24 36 32 28 32C28 32 24 28 24 24C24 20 28 16 28 16C36 16 40 24 40 24Z",stroke:a,strokeLinecap:"round",strokeLinejoin:"round",fill:"none",variants:o,initial:"initial",animate:"animate",transition:{delay:.6}}),t.jsx(E.circle,{cx:"24",cy:"24",r:"4",fill:a,variants:c,initial:"initial",animate:"animate",style:{filter:"drop-shadow(0 0 6px rgba(33, 74, 115, 0.6))"}})]})}),t.jsxs(E.div,{className:"flex flex-col",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{duration:.5,delay:.3},children:[t.jsx(E.span,{className:`text-2xl font-bold ${n}`,whileHover:{scale:1.05},transition:{duration:.2},children:"Nexo"}),t.jsx(E.span,{className:`text-xs ${i} font-light`,animate:{opacity:[.7,1,.7]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:"Connect. Work. Grow."})]})]})},XO=()=>{const e=Qt(),r=Br();return{handleHashClick:(a,n)=>{a.preventDefault();const i=n.includes("#")?n.split("#")[1]:null;if(!i){e(n);return}r.pathname==="/"?(window.location.hash=i,setTimeout(()=>{const l=document.getElementById(i);l&&l.scrollIntoView({behavior:"smooth",block:"start"}),window.dispatchEvent(new HashChangeEvent("hashchange"))},50)):(e(`/#${i}`),setTimeout(()=>{const l=document.getElementById(i);l&&setTimeout(()=>{l.scrollIntoView({behavior:"smooth",block:"start"})},100)},100))}}},YQ=()=>{var j,w;const[e,r]=g.useState(!1),[s,a]=g.useState(!1),[n,i]=g.useState(""),[l,o]=g.useState(!1),c=Br(),d=Qt(),{handleHashClick:u}=XO(),{user:m,isAuthenticated:x,logout:h}=an();g.useEffect(()=>{console.log("Navbar - Auth State:",{isAuthenticated:x,user:m})},[x,m]);const p=()=>{h(),o(!1),d("/")};g.useEffect(()=>{const y=v=>{l&&!v.target.closest(".user-dropdown-container")&&o(!1)};return document.addEventListener("mousedown",y),()=>document.removeEventListener("mousedown",y)},[l]),g.useEffect(()=>{const y=()=>{a(window.scrollY>20)};return window.addEventListener("scroll",y),()=>window.removeEventListener("scroll",y)},[]),g.useEffect(()=>{const y=()=>{i(window.location.hash)};return y(),window.addEventListener("hashchange",y),c.hash&&i(c.hash),()=>{window.removeEventListener("hashchange",y)}},[c.hash]);const f=y=>{if(y==="/")return c.pathname==="/"&&!c.hash&&!n;if(y.startsWith("/#")){const v=y.substring(2),N=c.hash||n;return c.pathname==="/"&&(N===`#${v}`||N===v)}return c.pathname===y},b=[{name:"Home",path:"/"},{name:"Services",path:"/#services"},{name:"Emergency Service",path:"/emergency"},{name:"Material Store",path:"/materials"},{name:"Partner Program",path:"/partner"},{name:"AMC Plans",path:"/amc"},{name:"Lead Marketplace",path:"/leads"}];return t.jsxs(E.nav,{initial:{y:-100},animate:{y:0},transition:{duration:.5},className:`fixed top-0 left-0 right-0 z-[9999] transition-all duration-300 w-full max-w-full overflow-visible bg-white shadow-md ${s?"shadow-lg":""}`,children:[t.jsx("div",{className:"absolute inset-0 opacity-5 pointer-events-none",children:t.jsx(E.div,{className:"absolute inset-0",style:{background:"linear-gradient(90deg, transparent 0%, rgba(33, 74, 115, 0.1) 50%, transparent 100%)"},animate:{x:["-100%","100%"]},transition:{duration:15,repeat:1/0,ease:"linear"}})}),t.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"flex items-center justify-between h-20",children:[t.jsx("div",{className:"flex-shrink-0",children:t.jsx(E.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:t.jsx(Ut,{to:"/",children:t.jsx(ti,{variant:"default"})})})}),t.jsx("nav",{className:"hidden xl:flex items-center gap-1 flex-1 justify-center max-w-4xl mx-4",children:b.map((y,v)=>{const N=f(y.path);return t.jsx(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5,delay:v*.05},children:y.path.startsWith("/#")?t.jsxs("a",{href:y.path,onClick:S=>u(S,y.path),className:`relative px-3 py-2 text-sm font-medium transition-colors duration-200 whitespace-nowrap cursor-pointer ${N?"text-primary":"text-gray-700 hover:text-primary"}`,children:[y.name,N&&t.jsx(E.div,{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-primary",layoutId:"navbar-indicator",initial:!1,transition:{type:"spring",stiffness:380,damping:30}})]}):t.jsxs(Ut,{to:y.path,className:`relative px-3 py-2 text-sm font-medium transition-colors duration-200 whitespace-nowrap ${N?"text-primary":"text-gray-700 hover:text-primary"}`,children:[y.name,N&&t.jsx(E.div,{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-primary",layoutId:"navbar-indicator",initial:!1,transition:{type:"spring",stiffness:380,damping:30}})]})},y.name)})}),t.jsx("nav",{className:"hidden lg:flex xl:hidden items-center gap-1 flex-1 justify-center max-w-3xl mx-2",children:b.slice(0,5).map((y,v)=>{const N=f(y.path);return y.path.startsWith("/#")?t.jsx("a",{href:y.path,onClick:S=>u(S,y.path),className:`px-2 py-2 text-xs font-medium transition-colors duration-200 whitespace-nowrap cursor-pointer ${N?"text-primary":"text-gray-700 hover:text-primary"}`,children:y.name.length>15?y.name.substring(0,12)+"...":y.name},y.name):t.jsx(Ut,{to:y.path,className:`px-2 py-2 text-xs font-medium transition-colors duration-200 whitespace-nowrap ${N?"text-primary":"text-gray-700 hover:text-primary"}`,children:y.name.length>15?y.name.substring(0,12)+"...":y.name},y.name)})}),t.jsxs("div",{className:"flex-shrink-0 flex items-center gap-3",children:[x&&m?t.jsxs("div",{className:"relative hidden lg:block user-dropdown-container",children:[t.jsxs(E.button,{onClick:()=>o(!l),className:"flex items-center gap-2 px-3 py-2 rounded-full hover:bg-gray-100 transition-all duration-200",whileHover:{scale:1.05},whileTap:{scale:.95},children:[t.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-primary to-primary-dark rounded-full flex items-center justify-center text-white font-bold text-sm overflow-hidden ring-2 ring-white shadow-md",children:m.profilePicture?t.jsx("img",{src:m.profilePicture,alt:m.name||"User",className:"w-full h-full object-cover"}):t.jsx("span",{children:((j=m.name)==null?void 0:j.charAt(0).toUpperCase())||"U"})}),t.jsx("span",{className:"text-sm font-medium text-gray-700 hidden xl:block",children:m.name}),t.jsx(bO,{className:`w-3 h-3 text-gray-500 transition-transform ${l?"rotate-180":""}`})]}),t.jsx(wl,{children:l&&t.jsxs(E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute right-0 mt-2 w-48 bg-white rounded-xl shadow-lg border border-gray-200 py-2 z-[10000]",children:[t.jsxs(Ut,{to:"/user/dashboard",onClick:()=>o(!1),className:"flex items-center gap-3 px-4 py-2 hover:bg-gray-50 transition-colors",children:[t.jsx(vC,{className:"w-4 h-4 text-primary"}),t.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Dashboard"})]}),t.jsxs(Ut,{to:"/user/dashboard/profile",onClick:()=>o(!1),className:"flex items-center gap-3 px-4 py-2 hover:bg-gray-50 transition-colors",children:[t.jsx(Oc,{className:"w-4 h-4 text-primary"}),t.jsx("span",{className:"text-sm font-medium text-gray-700",children:"My Profile"})]}),t.jsx("hr",{className:"my-2 border-gray-200"}),t.jsxs("button",{onClick:p,className:"w-full flex items-center gap-3 px-4 py-2 hover:bg-red-50 transition-colors text-left",children:[t.jsx(bC,{className:"w-4 h-4 text-red-600"}),t.jsx("span",{className:"text-sm font-medium text-red-600",children:"Logout"})]})]})})]}):t.jsx(E.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.3},className:"hidden lg:block",children:t.jsxs(Ut,{to:"/user/login",className:"flex items-center gap-2 px-4 py-2 text-primary hover:bg-primary/10 rounded-full transition-all duration-200 font-medium text-sm",children:[t.jsx(Oc,{className:"w-4 h-4"}),t.jsx("span",{children:"Login"})]})}),t.jsx(E.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.3},className:"hidden lg:block",children:t.jsxs(Ut,{to:"/partner/onboard",className:"bg-primary text-white px-4 xl:px-5 py-2 xl:py-2.5 rounded-full hover:bg-primary-dark transition-all duration-300 font-semibold shadow-lg hover:shadow-xl flex items-center gap-2 text-xs xl:text-sm whitespace-nowrap",children:[t.jsx(Ua,{className:"w-3 h-3 xl:w-4 xl:h-4"}),t.jsx("span",{className:"hidden 2xl:inline",children:"Become a Partner"}),t.jsx("span",{className:"2xl:hidden",children:"Partner"})]})})]}),t.jsx(E.button,{onClick:()=>r(!e),className:"md:hidden focus:outline-none p-2 transition-colors duration-200 text-primary",whileHover:{scale:1.1},whileTap:{scale:.9},children:t.jsx(wl,{mode:"wait",children:e?t.jsx(E.div,{initial:{rotate:-90,opacity:0},animate:{rotate:0,opacity:1},exit:{rotate:90,opacity:0},transition:{duration:.2},children:t.jsx(Rl,{className:"h-6 w-6"})},"close"):t.jsx(E.div,{initial:{rotate:90,opacity:0},animate:{rotate:0,opacity:1},exit:{rotate:-90,opacity:0},transition:{duration:.2},children:t.jsx(sX,{className:"h-6 w-6"})},"menu")})})]}),t.jsx(wl,{children:e&&t.jsx(E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"md:hidden overflow-y-auto max-h-[calc(100vh-5rem)]",children:t.jsxs("div",{className:"py-4 space-y-2 border-t border-gray-200 mt-2",children:[b.map((y,v)=>{const N=f(y.path);return t.jsx(E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:v*.1},children:y.path.startsWith("/#")?t.jsx("a",{href:y.path,onClick:S=>{u(S,y.path),r(!1)},className:`block px-4 py-3 rounded-lg transition-all duration-200 cursor-pointer ${N?"bg-primary/10 text-primary font-semibold":"text-gray-700 hover:bg-gray-100 hover:text-primary"}`,children:y.name}):t.jsx(Ut,{to:y.path,onClick:()=>r(!1),className:`block px-4 py-3 rounded-lg transition-all duration-200 ${N?"bg-primary/10 text-primary font-semibold":"text-gray-700 hover:bg-gray-100 hover:text-primary"}`,children:y.name})},y.name)}),t.jsxs(E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:b.length*.1},className:"pt-2 space-y-2",children:[x&&m?t.jsx(t.Fragment,{children:t.jsxs("div",{className:"mx-4 p-4 bg-gradient-to-r from-primary/10 to-primary/5 rounded-lg border border-primary/20",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary to-primary-dark rounded-full flex items-center justify-center text-white font-bold overflow-hidden ring-2 ring-white shadow-md",children:m.profilePicture?t.jsx("img",{src:m.profilePicture,alt:m.name||"User",className:"w-full h-full object-cover"}):t.jsx("span",{children:((w=m.name)==null?void 0:w.charAt(0).toUpperCase())||"U"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold text-gray-900",children:m.name}),t.jsx("p",{className:"text-xs text-gray-600",children:m.email||m.phone})]})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsxs(Ut,{to:"/user/dashboard",onClick:()=>r(!1),className:"flex items-center gap-2 px-3 py-2 bg-white rounded-lg hover:bg-gray-50 transition-colors",children:[t.jsx(vC,{className:"w-4 h-4 text-primary"}),t.jsx("span",{className:"text-sm font-medium",children:"Dashboard"})]}),t.jsxs(Ut,{to:"/user/dashboard/profile",onClick:()=>r(!1),className:"flex items-center gap-2 px-3 py-2 bg-white rounded-lg hover:bg-gray-50 transition-colors",children:[t.jsx(Oc,{className:"w-4 h-4 text-primary"}),t.jsx("span",{className:"text-sm font-medium",children:"My Profile"})]}),t.jsxs("button",{onClick:()=>{p(),r(!1)},className:"w-full flex items-center gap-2 px-3 py-2 bg-red-50 rounded-lg hover:bg-red-100 transition-colors text-left",children:[t.jsx(bC,{className:"w-4 h-4 text-red-600"}),t.jsx("span",{className:"text-sm font-medium text-red-600",children:"Logout"})]})]})]})}):t.jsxs(Ut,{to:"/user/login",onClick:()=>r(!1),className:"block mx-4 bg-gray-100 text-primary px-6 py-3 rounded-full text-center font-semibold flex items-center justify-center gap-2 border-2 border-primary/20",children:[t.jsx(Oc,{className:"w-4 h-4"}),"Login"]}),t.jsxs(Ut,{to:"/partner/onboard",onClick:()=>r(!1),className:"block mx-4 bg-primary text-white px-6 py-3 rounded-full text-center font-semibold shadow-lg flex items-center justify-center gap-2",children:[t.jsx(Ua,{className:"w-4 h-4"}),"Become a Partner"]})]})]})})})]})]})},XQ=()=>{const e=Zl(),{handleHashClick:r}=XO(),s={company:[{name:"About Us",path:"/#about"},{name:"Services",path:"/#services"},{name:"Partner Program",path:"/partner"},{name:"User Login",path:"/user/login"},{name:"Partner Login",path:"/partner/login"},{name:"Vendor Login",path:"/vendor/login"},{name:"AMC Plans",path:"/amc"}],legal:[{name:"Customer Terms",path:"/terms"},{name:"Partner Terms",path:"/partner-terms"},{name:"Privacy Policy",path:"/privacy"},{name:"Customer Refund Policy",path:"/refund-policy"},{name:"Partner Refund Policy",path:"/partner-refund-policy"}],resources:[{name:"Lead Marketplace",path:"/leads"},{name:"Material Store",path:"/materials"},{name:"Emergency Service",path:"/emergency"},{name:"Brand Partnerships",path:"/brand-partnerships"}]},a=[{icon:ZY,href:"#",name:"Facebook"},{icon:rX,href:"#",name:"Twitter"},{icon:eX,href:"#",name:"Instagram"},{icon:tX,href:"#",name:"LinkedIn"}];return t.jsxs("footer",{className:"relative bg-gradient-to-br from-primary via-primary-dark to-primary text-white overflow-hidden pb-20 sm:pb-24",children:[t.jsx("div",{className:"absolute inset-0 opacity-10",children:t.jsx(E.div,{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`,backgroundRepeat:"repeat"},animate:{backgroundPosition:["0% 0%","100% 100%"]},transition:{duration:20,repeat:1/0,repeatType:"reverse"}})}),t.jsx(E.div,{className:"absolute top-0 left-0 w-64 h-64 bg-white/20 rounded-full blur-3xl",animate:{y:[0,-30,0],x:[0,20,0],scale:[1,1.2,1]},transition:{duration:8,repeat:1/0,ease:"easeInOut"}}),t.jsx(E.div,{className:"absolute bottom-0 right-0 w-80 h-80 bg-yellow-300/20 rounded-full blur-3xl",animate:{y:[0,30,0],x:[0,-20,0],scale:[1,1.2,1]},transition:{duration:10,repeat:1/0,ease:"easeInOut",delay:1}}),[...Array(15)].map((n,i)=>t.jsx(E.div,{className:"absolute rounded-full z-0",style:{width:`${6+i%3*2}px`,height:`${6+i%3*2}px`,left:`${5+i*7%90}%`,top:`${10+i*6%80}%`,backgroundColor:"rgba(255, 255, 255, 0.4)"},animate:{y:[0,-60,0],x:[0,i%2===0?20:-20,0],opacity:[.4,.8,.4],scale:[1,1.8,1]},transition:{duration:7+i%4,repeat:1/0,ease:"easeInOut",delay:i*.3}},`small-${i}`)),[...Array(10)].map((n,i)=>t.jsx(E.div,{className:"absolute rounded-full blur-sm z-0",style:{width:`${12+i%2*4}px`,height:`${12+i%2*4}px`,left:`${8+i*9%85}%`,top:`${12+i*8%75}%`,backgroundColor:"rgba(255, 255, 255, 0.3)"},animate:{y:[0,-80,0],x:[0,i%2===0?30:-30,0],opacity:[.3,.6,.3],scale:[1,1.6,1]},transition:{duration:8+i%3*2,repeat:1/0,ease:"easeInOut",delay:i*.4}},`medium-${i}`)),[...Array(6)].map((n,i)=>t.jsx(E.div,{className:"absolute rounded-full blur-md z-0",style:{width:`${20+i%2*8}px`,height:`${20+i%2*8}px`,left:`${10+i*15%80}%`,top:`${15+i*12%70}%`,backgroundColor:"rgba(255, 255, 255, 0.2)"},animate:{y:[0,-100,0],x:[0,i%2===0?40:-40,0],opacity:[.2,.4,.2],scale:[1,1.4,1]},transition:{duration:10+i%3*2,repeat:1/0,ease:"easeInOut",delay:i*.6}},`large-${i}`)),t.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 sm:py-16",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-8 sm:gap-12",children:[t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-50px"},transition:{duration:.5},className:"col-span-1 lg:col-span-2",children:[t.jsx(ti,{className:"mb-4",variant:"light"}),t.jsx("p",{className:"text-sm sm:text-base text-white/80 mt-4 mb-6 max-w-md",children:"Fast, reliable, and affordable home services. Connect with verified experts on WhatsApp."}),t.jsx("div",{className:"space-y-3",children:t.jsxs(E.a,{href:"mailto:support@nexo.works",whileHover:{scale:1.05,x:5},className:"flex items-center gap-3 text-white/80 hover:text-yellow-300 transition-colors duration-200",children:[t.jsx(vO,{className:"w-5 h-5"}),t.jsx("span",{className:"text-sm sm:text-base",children:"support@nexo.works"})]})}),t.jsx("div",{className:"flex items-center gap-4 mt-6",children:a.map((n,i)=>{const l=n.icon;return t.jsx(E.a,{href:n.href,target:"_blank",rel:"noopener noreferrer",whileHover:{scale:1.2,y:-3},whileTap:{scale:.9},className:"w-10 h-10 bg-white/10 rounded-full flex items-center justify-center text-white/80 hover:text-yellow-300 hover:bg-white/20 transition-all duration-300","aria-label":n.name,children:t.jsx(l,{className:"w-5 h-5"})},i)})})]}),t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-50px"},transition:{duration:.5,delay:.1},children:[t.jsx("h3",{className:"text-white font-bold text-lg mb-4 sm:mb-6",children:"Company"}),t.jsx("ul",{className:"space-y-3",children:s.company.map((n,i)=>t.jsx(E.li,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.3,delay:i*.1},children:n.path.startsWith("/#")?t.jsxs("a",{href:n.path,onClick:l=>r(l,n.path),className:"text-sm sm:text-base text-white/80 hover:text-yellow-300 transition-colors duration-200 flex items-center gap-2 group cursor-pointer",children:[t.jsx("span",{className:"w-0 group-hover:w-2 h-0.5 bg-yellow-300 transition-all duration-200"}),n.name]}):t.jsxs(Ut,{to:n.path,className:"text-sm sm:text-base text-white/80 hover:text-yellow-300 transition-colors duration-200 flex items-center gap-2 group",children:[t.jsx("span",{className:"w-0 group-hover:w-2 h-0.5 bg-yellow-300 transition-all duration-200"}),n.name]})},n.name))})]}),t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-50px"},transition:{duration:.5,delay:.2},children:[t.jsx("h3",{className:"text-white font-bold text-lg mb-4 sm:mb-6",children:"Resources"}),t.jsx("ul",{className:"space-y-3",children:s.resources.map((n,i)=>t.jsx(E.li,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.3,delay:i*.1},children:t.jsxs(Ut,{to:n.path,className:"text-sm sm:text-base text-white/80 hover:text-yellow-300 transition-colors duration-200 flex items-center gap-2 group",children:[t.jsx("span",{className:"w-0 group-hover:w-2 h-0.5 bg-yellow-300 transition-all duration-200"}),n.name]})},n.name))})]}),t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-50px"},transition:{duration:.5,delay:.3},children:[t.jsx("h3",{className:"text-white font-bold text-lg mb-4 sm:mb-6",children:"Legal"}),t.jsx("ul",{className:"space-y-3",children:s.legal.map((n,i)=>t.jsx(E.li,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.3,delay:i*.1},children:t.jsxs(Ut,{to:n.path,className:"text-sm sm:text-base text-white/80 hover:text-yellow-300 transition-colors duration-200 flex items-center gap-2 group",children:[t.jsx("span",{className:"w-0 group-hover:w-2 h-0.5 bg-yellow-300 transition-all duration-200"}),n.name]})},n.name))})]})]}),t.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-50px"},transition:{duration:.6},className:"mt-12 sm:mt-16 pt-8 border-t border-white/20",children:t.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[t.jsxs("div",{className:"text-center sm:text-left",children:[t.jsx("p",{className:"text-white font-semibold text-lg mb-2",children:"Need Help? Chat with us on WhatsApp"}),t.jsx("p",{className:"text-white/80 text-sm sm:text-base",children:"Get instant support 24/7"})]}),t.jsxs(E.button,{onClick:e,whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"bg-[#25D366] text-white px-6 sm:px-8 py-3 sm:py-4 rounded-full font-semibold shadow-lg hover:shadow-[#25D366]/50 transition-all duration-300 flex items-center gap-2",children:[t.jsx(yr,{className:"w-5 h-5"}),"Chat on WhatsApp"]})]})}),t.jsx(E.div,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{duration:.6,delay:.4},className:"border-t border-white/20 mt-8 pt-8 text-center",children:t.jsxs("p",{className:"text-sm text-white/60",children:[" ",new Date().getFullYear()," Nexo. All rights reserved. | Connect. Work. Grow"]})})]})]})},JQ=({message:e="Hi, I need help with your services.",className:r=""})=>{const{openDialog:s}=WN(),a=n=>{n.preventDefault(),s()};return t.jsx("div",{className:"fixed bottom-6 right-6 z-[9999]",children:t.jsxs(E.button,{onClick:a,className:`relative bg-[#25D366] text-white rounded-full p-4 shadow-2xl hover:bg-[#20BA5A] transition-all duration-300 flex items-center justify-center ${r}`,initial:{scale:0},animate:{scale:[1,1.05,1],y:[0,-8,0]},whileHover:{scale:1.15,y:-10},whileTap:{scale:.9},transition:{scale:{duration:2,repeat:1/0,ease:"easeInOut",type:"tween"},y:{duration:2,repeat:1/0,ease:"easeInOut",type:"tween"},default:{type:"spring",stiffness:200,damping:15}},style:{boxShadow:"0 10px 40px rgba(37, 211, 102, 0.4)"},"aria-label":"WhatsApp Support",children:[t.jsx(E.div,{className:"absolute inset-0 bg-[#25D366] rounded-full -z-10",animate:{scale:[1,1.5,1.5],opacity:[.5,0,0]},transition:{duration:2,repeat:1/0,ease:"easeOut"}}),t.jsx(E.div,{className:"absolute inset-0 bg-[#25D366] rounded-full -z-10",animate:{scale:[1,1.8,1.8],opacity:[.3,0,0]},transition:{duration:2,repeat:1/0,ease:"easeOut",delay:.5}}),t.jsx("svg",{className:"w-8 h-8 relative z-10",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"})}),t.jsx(E.span,{className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 rounded-full border-2 border-white",animate:{scale:[1,1.3,1],opacity:[1,.8,1]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"}})]})})},QQ=()=>t.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50 overflow-x-hidden w-full max-w-full",children:[t.jsx(YQ,{}),t.jsx("main",{className:"flex-1 w-full max-w-full overflow-x-hidden pt-20",children:t.jsx(Ql,{})}),t.jsx(XQ,{}),t.jsx(JQ,{})]});function Vc(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 12 18 12 15 21 9 3 6 12 2 12"},child:[]}]})(e)}function Zi(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(e)}function ZQ(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(e)}function xj(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"},child:[]},{tag:"line",attr:{x1:"12",y1:"9",x2:"12",y2:"13"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(e)}function Rf(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"polyline",attr:{points:"19 12 12 19 5 12"},child:[]}]})(e)}function Y0(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(e)}function ds(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 5 19 12 12 19"},child:[]}]})(e)}function Bf(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"19",x2:"12",y2:"5"},child:[]},{tag:"polyline",attr:{points:"5 12 12 5 19 12"},child:[]}]})(e)}function pn(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"8",r:"7"},child:[]},{tag:"polyline",attr:{points:"8.21 13.89 7 23 12 20 17 23 15.79 13.88"},child:[]}]})(e)}function i0(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"14"},child:[]}]})(e)}function Sn(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"},child:[]},{tag:"path",attr:{d:"M13.73 21a2 2 0 0 1-3.46 0"},child:[]}]})(e)}function eZ(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},child:[]},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"},child:[]},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"},child:[]}]})(e)}function as(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"7",width:"20",height:"14",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"},child:[]}]})(e)}function Ss(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"},child:[]}]})(e)}function l0(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"13",r:"4"},child:[]}]})(e)}function vt(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(e)}function Sl(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(e)}function tZ(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(e)}function JO(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 18 9 12 15 6"},child:[]}]})(e)}function QO(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(e)}function rZ(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"},child:[]},{tag:"rect",attr:{x:"8",y:"2",width:"8",height:"4",rx:"1",ry:"1"},child:[]}]})(e)}function ns(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(e)}function pj(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polygon",attr:{points:"16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76"},child:[]}]})(e)}function hs(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"1",y1:"10",x2:"23",y2:"10"},child:[]}]})(e)}function Xt(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"},child:[]},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"},child:[]}]})(e)}function kn(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"7 10 12 15 17 10"},child:[]},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"},child:[]}]})(e)}function ks(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"},child:[]}]})(e)}function ep(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 20h9"},child:[]},{tag:"path",attr:{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"},child:[]}]})(e)}function QN(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(e)}function WC(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"},child:[]},{tag:"polyline",attr:{points:"15 3 21 3 21 9"},child:[]},{tag:"line",attr:{x1:"10",y1:"14",x2:"21",y2:"3"},child:[]}]})(e)}function Qv(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"},child:[]},{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"},child:[]}]})(e)}function Ci(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(e)}function Yt(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(e)}function Td(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"},child:[]}]})(e)}function sZ(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"18",cy:"18",r:"3"},child:[]},{tag:"circle",attr:{cx:"6",cy:"6",r:"3"},child:[]},{tag:"path",attr:{d:"M6 21V9a9 9 0 0 0 9 9"},child:[]}]})(e)}function aZ(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 18v-6a9 9 0 0 1 18 0v6"},child:[]},{tag:"path",attr:{d:"M21 19a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3zM3 19a2 2 0 0 0 2 2h1a2 2 0 0 0 2-2v-3a2 2 0 0 0-2-2H3z"},child:[]}]})(e)}function Th(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"path",attr:{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(e)}function Za(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(e)}function $f(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"8.5",r:"1.5"},child:[]},{tag:"polyline",attr:{points:"21 15 16 10 5 21"},child:[]}]})(e)}function ZO(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12.01",y2:"8"},child:[]}]})(e)}function yo(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 2 7 12 12 22 7 12 2"},child:[]},{tag:"polyline",attr:{points:"2 17 12 22 22 17"},child:[]},{tag:"polyline",attr:{points:"2 12 12 17 22 12"},child:[]}]})(e)}function nZ(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"16",y2:"12"},child:[]}]})(e)}function iZ(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"8",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"8",y1:"18",x2:"21",y2:"18"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"3.01",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"12",x2:"3.01",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"3.01",y2:"18"},child:[]}]})(e)}function tp(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"2",x2:"12",y2:"6"},child:[]},{tag:"line",attr:{x1:"12",y1:"18",x2:"12",y2:"22"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"4.93",x2:"7.76",y2:"7.76"},child:[]},{tag:"line",attr:{x1:"16.24",y1:"16.24",x2:"19.07",y2:"19.07"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"6",y2:"12"},child:[]},{tag:"line",attr:{x1:"18",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"19.07",x2:"7.76",y2:"16.24"},child:[]},{tag:"line",attr:{x1:"16.24",y1:"7.76",x2:"19.07",y2:"4.93"},child:[]}]})(e)}function _s(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"},child:[]}]})(e)}function Ho(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(e)}function en(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(e)}function Pr(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"10",r:"3"},child:[]}]})(e)}function ZN(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"18"},child:[]},{tag:"line",attr:{x1:"16",y1:"6",x2:"16",y2:"22"},child:[]}]})(e)}function $y(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"},child:[]}]})(e)}function e4(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"},child:[]}]})(e)}function zf(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"},child:[]}]})(e)}function fj(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(e)}function e9(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"1"},child:[]},{tag:"circle",attr:{cx:"19",cy:"12",r:"1"},child:[]},{tag:"circle",attr:{cx:"5",cy:"12",r:"1"},child:[]}]})(e)}function Zv(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"3 11 22 2 13 21 11 13 3 11"},child:[]}]})(e)}function fs(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"16.5",y1:"9.4",x2:"7.5",y2:"4.21"},child:[]},{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},child:[]},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"},child:[]},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"},child:[]}]})(e)}function GC(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"6",y:"4",width:"4",height:"16"},child:[]},{tag:"rect",attr:{x:"14",y:"4",width:"4",height:"16"},child:[]}]})(e)}function tn(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"},child:[]}]})(e)}function t4(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21.21 15.89A10 10 0 1 1 8 2.83"},child:[]},{tag:"path",attr:{d:"M22 12A10 10 0 0 0 12 2v10z"},child:[]}]})(e)}function lZ(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"5 3 19 12 5 21 5 3"},child:[]}]})(e)}function Tr(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(e)}function X0(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 6 2 18 2 18 9"},child:[]},{tag:"path",attr:{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"},child:[]},{tag:"rect",attr:{x:"6",y:"14",width:"12",height:"8"},child:[]}]})(e)}function oZ(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"1 4 1 10 7 10"},child:[]},{tag:"polyline",attr:{points:"23 20 23 14 17 14"},child:[]},{tag:"path",attr:{d:"M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"},child:[]}]})(e)}function Dt(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"polyline",attr:{points:"1 20 1 14 7 14"},child:[]},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"},child:[]}]})(e)}function Xi(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"},child:[]},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"},child:[]},{tag:"polyline",attr:{points:"7 3 7 8 15 8"},child:[]}]})(e)}function cZ(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"6",cy:"6",r:"3"},child:[]},{tag:"circle",attr:{cx:"6",cy:"18",r:"3"},child:[]},{tag:"line",attr:{x1:"20",y1:"4",x2:"8.12",y2:"15.88"},child:[]},{tag:"line",attr:{x1:"14.47",y1:"14.48",x2:"20",y2:"20"},child:[]},{tag:"line",attr:{x1:"8.12",y1:"8.12",x2:"12",y2:"12"},child:[]}]})(e)}function bn(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(e)}function Uf(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"22",y1:"2",x2:"11",y2:"13"},child:[]},{tag:"polygon",attr:{points:"22 2 15 22 11 13 2 9 22 2"},child:[]}]})(e)}function kl(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(e)}function Xa(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"},child:[]}]})(e)}function t9(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"path",attr:{d:"M16 10a4 4 0 0 1-8 0"},child:[]}]})(e)}function qn(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"9",cy:"21",r:"1"},child:[]},{tag:"circle",attr:{cx:"20",cy:"21",r:"1"},child:[]},{tag:"path",attr:{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"},child:[]}]})(e)}function qC(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"path",attr:{d:"M8 14s1.5 2 4 2 4-2 4-2"},child:[]},{tag:"line",attr:{x1:"9",y1:"9",x2:"9.01",y2:"9"},child:[]},{tag:"line",attr:{x1:"15",y1:"9",x2:"15.01",y2:"9"},child:[]}]})(e)}function Vo(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"},child:[]}]})(e)}function r4(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"},child:[]},{tag:"line",attr:{x1:"7",y1:"7",x2:"7.01",y2:"7"},child:[]}]})(e)}function Eh(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"6"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"2"},child:[]}]})(e)}function Ym(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"},child:[]}]})(e)}function Ma(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(e)}function od(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 18 13.5 8.5 8.5 13.5 1 6"},child:[]},{tag:"polyline",attr:{points:"17 18 23 18 23 12"},child:[]}]})(e)}function lr(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"},child:[]},{tag:"polyline",attr:{points:"17 6 23 6 23 12"},child:[]}]})(e)}function r9(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"3",width:"15",height:"13"},child:[]},{tag:"polygon",attr:{points:"16 8 20 8 23 11 23 16 16 16 16 8"},child:[]},{tag:"circle",attr:{cx:"5.5",cy:"18.5",r:"2.5"},child:[]},{tag:"circle",attr:{cx:"18.5",cy:"18.5",r:"2.5"},child:[]}]})(e)}function Wo(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"17 8 12 3 7 8"},child:[]},{tag:"line",attr:{x1:"12",y1:"3",x2:"12",y2:"15"},child:[]}]})(e)}function Hf(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"line",attr:{x1:"20",y1:"8",x2:"20",y2:"14"},child:[]},{tag:"line",attr:{x1:"23",y1:"11",x2:"17",y2:"11"},child:[]}]})(e)}function Kp(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"line",attr:{x1:"18",y1:"8",x2:"23",y2:"13"},child:[]},{tag:"line",attr:{x1:"23",y1:"8",x2:"18",y2:"13"},child:[]}]})(e)}function vr(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(e)}function Mr(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(e)}function dZ(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"},child:[]},{tag:"path",attr:{d:"M16.72 11.06A10.94 10.94 0 0 1 19 12.55"},child:[]},{tag:"path",attr:{d:"M5 12.55a10.94 10.94 0 0 1 5.17-2.39"},child:[]},{tag:"path",attr:{d:"M10.71 5.05A16 16 0 0 1 22.58 9"},child:[]},{tag:"path",attr:{d:"M1.42 9a15.91 15.91 0 0 1 4.7-2.88"},child:[]},{tag:"path",attr:{d:"M8.53 16.11a6 6 0 0 1 6.95 0"},child:[]},{tag:"line",attr:{x1:"12",y1:"20",x2:"12.01",y2:"20"},child:[]}]})(e)}function uZ(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 12.55a11 11 0 0 1 14.08 0"},child:[]},{tag:"path",attr:{d:"M1.42 9a16 16 0 0 1 21.16 0"},child:[]},{tag:"path",attr:{d:"M8.53 16.11a6 6 0 0 1 6.95 0"},child:[]},{tag:"line",attr:{x1:"12",y1:"20",x2:"12.01",y2:"20"},child:[]}]})(e)}function Yn(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"15",y1:"9",x2:"9",y2:"15"},child:[]},{tag:"line",attr:{x1:"9",y1:"9",x2:"15",y2:"15"},child:[]}]})(e)}function mt(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(e)}function Ui(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"},child:[]}]})(e)}const Yp=new Map,Xd=new Map,mZ=3e4,hZ=(e,r,s=[])=>{const a=e.toString(),n=s.length>0?`-${JSON.stringify(s)}`:"";return`${a}-${r||"no-token"}${n}`},cr=(e,r=[])=>{const{token:s}=wr(),[a,n]=g.useState(null),[i,l]=g.useState(!0),[o,c]=g.useState(null),d=g.useRef(e),u=g.useRef(!0),m=g.useRef(null);g.useEffect(()=>{d.current=e},[e]);const x=g.useMemo(()=>!r||r.length===0?"":JSON.stringify(r),[r]);m.current=g.useMemo(()=>s?hZ(e,s,r):null,[e,s,x]);const h=g.useCallback(async()=>{if(!s||!m.current){l(!1);return}const f=m.current;if(Xd.has(f))try{const w=await Xd.get(f);u.current&&(n(w),l(!1));return}catch{}const b=Yp.get(f);if(b){const{data:w,timestamp:y}=b;if(Date.now()-y<mZ){u.current&&(n(w),l(!1),c(null));return}}const j=(async()=>{try{u.current&&(l(!0),c(null));const w=await d.current(s);return Yp.set(f,{data:w,timestamp:Date.now()}),u.current&&(n(w),l(!1),c(null)),w}catch(w){const y=(w==null?void 0:w.message)??"Unable to fetch data";throw u.current&&(c(y),l(!1)),w}finally{Xd.delete(f)}})();Xd.set(f,j),await j},[s]);g.useEffect(()=>(u.current=!0,h(),()=>{u.current=!1}),[s,...r]),g.useEffect(()=>()=>{u.current=!1},[]);const p=g.useCallback(async()=>{if(!s||!m.current)return;const f=m.current;Yp.delete(f),Xd.delete(f),await h()},[s,h]);return{data:a,isLoading:i,error:o,refresh:p}},xZ=()=>{Yp.clear(),Xd.clear()},pZ=()=>{};var KC={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s9=function(e){const r=[];let s=0;for(let a=0;a<e.length;a++){let n=e.charCodeAt(a);n<128?r[s++]=n:n<2048?(r[s++]=n>>6|192,r[s++]=n&63|128):(n&64512)===55296&&a+1<e.length&&(e.charCodeAt(a+1)&64512)===56320?(n=65536+((n&1023)<<10)+(e.charCodeAt(++a)&1023),r[s++]=n>>18|240,r[s++]=n>>12&63|128,r[s++]=n>>6&63|128,r[s++]=n&63|128):(r[s++]=n>>12|224,r[s++]=n>>6&63|128,r[s++]=n&63|128)}return r},fZ=function(e){const r=[];let s=0,a=0;for(;s<e.length;){const n=e[s++];if(n<128)r[a++]=String.fromCharCode(n);else if(n>191&&n<224){const i=e[s++];r[a++]=String.fromCharCode((n&31)<<6|i&63)}else if(n>239&&n<365){const i=e[s++],l=e[s++],o=e[s++],c=((n&7)<<18|(i&63)<<12|(l&63)<<6|o&63)-65536;r[a++]=String.fromCharCode(55296+(c>>10)),r[a++]=String.fromCharCode(56320+(c&1023))}else{const i=e[s++],l=e[s++];r[a++]=String.fromCharCode((n&15)<<12|(i&63)<<6|l&63)}}return r.join("")},a9={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,r){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const s=r?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let n=0;n<e.length;n+=3){const i=e[n],l=n+1<e.length,o=l?e[n+1]:0,c=n+2<e.length,d=c?e[n+2]:0,u=i>>2,m=(i&3)<<4|o>>4;let x=(o&15)<<2|d>>6,h=d&63;c||(h=64,l||(x=64)),a.push(s[u],s[m],s[x],s[h])}return a.join("")},encodeString(e,r){return this.HAS_NATIVE_SUPPORT&&!r?btoa(e):this.encodeByteArray(s9(e),r)},decodeString(e,r){return this.HAS_NATIVE_SUPPORT&&!r?atob(e):fZ(this.decodeStringToByteArray(e,r))},decodeStringToByteArray(e,r){this.init_();const s=r?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let n=0;n<e.length;){const i=s[e.charAt(n++)],o=n<e.length?s[e.charAt(n)]:0;++n;const d=n<e.length?s[e.charAt(n)]:64;++n;const m=n<e.length?s[e.charAt(n)]:64;if(++n,i==null||o==null||d==null||m==null)throw new gZ;const x=i<<2|o>>4;if(a.push(x),d!==64){const h=o<<4&240|d>>2;if(a.push(h),m!==64){const p=d<<6&192|m;a.push(p)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class gZ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yZ=function(e){const r=s9(e);return a9.encodeByteArray(r,!0)},n9=function(e){return yZ(e).replace(/\./g,"")},bZ=function(e){try{return a9.decodeString(e,!0)}catch(r){console.error("base64Decode failed: ",r)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vZ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jZ=()=>vZ().__FIREBASE_DEFAULTS__,wZ=()=>{if(typeof process>"u"||typeof KC>"u")return;const e=KC.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},NZ=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const r=e&&bZ(e[1]);return r&&JSON.parse(r)},SZ=()=>{try{return pZ()||jZ()||wZ()||NZ()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},i9=()=>{var e;return(e=SZ())==null?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kZ{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((r,s)=>{this.resolve=r,this.reject=s})}wrapCallback(r){return(s,a)=>{s?this.reject(s):this.resolve(a),typeof r=="function"&&(this.promise.catch(()=>{}),r.length===1?r(s):r(s,a))}}}function CZ(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function s4(){try{return typeof indexedDB=="object"}catch{return!1}}function a4(){return new Promise((e,r)=>{try{let s=!0;const a="validate-browser-context-for-indexeddb-analytics-module",n=self.indexedDB.open(a);n.onsuccess=()=>{n.result.close(),s||self.indexedDB.deleteDatabase(a),e(!0)},n.onupgradeneeded=()=>{s=!1},n.onerror=()=>{var i;r(((i=n.error)==null?void 0:i.message)||"")}}catch(s){r(s)}})}function l9(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PZ="FirebaseError";class Ed extends Error{constructor(r,s,a){super(s),this.code=r,this.customData=a,this.name=PZ,Object.setPrototypeOf(this,Ed.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,J0.prototype.create)}}class J0{constructor(r,s,a){this.service=r,this.serviceName=s,this.errors=a}create(r,...s){const a=s[0]||{},n=`${this.service}/${r}`,i=this.errors[r],l=i?AZ(i,a):"Error",o=`${this.serviceName}: ${l} (${n}).`;return new Ed(n,o,a)}}function AZ(e,r){return e.replace(TZ,(s,a)=>{const n=r[a];return n!=null?String(n):`<${a}?>`})}const TZ=/\{\$([^}]+)}/g;function Vf(e,r){if(e===r)return!0;const s=Object.keys(e),a=Object.keys(r);for(const n of s){if(!a.includes(n))return!1;const i=e[n],l=r[n];if(YC(i)&&YC(l)){if(!Vf(i,l))return!1}else if(i!==l)return!1}for(const n of a)if(!s.includes(n))return!1;return!0}function YC(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EZ=1e3,IZ=2,_Z=4*60*60*1e3,OZ=.5;function XC(e,r=EZ,s=IZ){const a=r*Math.pow(s,e),n=Math.round(OZ*a*(Math.random()-.5)*2);return Math.min(_Z,a+n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gm(e){return e&&e._delegate?e._delegate:e}class el{constructor(r,s,a){this.name=r,this.instanceFactory=s,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(r){return this.instantiationMode=r,this}setMultipleInstances(r){return this.multipleInstances=r,this}setServiceProps(r){return this.serviceProps=r,this}setInstanceCreatedCallback(r){return this.onInstanceCreated=r,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let DZ=class{constructor(r,s){this.name=r,this.container=s,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(r){const s=this.normalizeInstanceIdentifier(r);if(!this.instancesDeferred.has(s)){const a=new kZ;if(this.instancesDeferred.set(s,a),this.isInitialized(s)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:s});n&&a.resolve(n)}catch{}}return this.instancesDeferred.get(s).promise}getImmediate(r){const s=this.normalizeInstanceIdentifier(r==null?void 0:r.identifier),a=(r==null?void 0:r.optional)??!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(n){if(a)return null;throw n}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(r){if(r.name!==this.name)throw Error(`Mismatching Component ${r.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=r,!!this.shouldAutoInitialize()){if(LZ(r))try{this.getOrInitializeService({instanceIdentifier:Sc})}catch{}for(const[s,a]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(s);try{const i=this.getOrInitializeService({instanceIdentifier:n});a.resolve(i)}catch{}}}}clearInstance(r=Sc){this.instancesDeferred.delete(r),this.instancesOptions.delete(r),this.instances.delete(r)}async delete(){const r=Array.from(this.instances.values());await Promise.all([...r.filter(s=>"INTERNAL"in s).map(s=>s.INTERNAL.delete()),...r.filter(s=>"_delete"in s).map(s=>s._delete())])}isComponentSet(){return this.component!=null}isInitialized(r=Sc){return this.instances.has(r)}getOptions(r=Sc){return this.instancesOptions.get(r)||{}}initialize(r={}){const{options:s={}}=r,a=this.normalizeInstanceIdentifier(r.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const n=this.getOrInitializeService({instanceIdentifier:a,options:s});for(const[i,l]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);a===o&&l.resolve(n)}return n}onInit(r,s){const a=this.normalizeInstanceIdentifier(s),n=this.onInitCallbacks.get(a)??new Set;n.add(r),this.onInitCallbacks.set(a,n);const i=this.instances.get(a);return i&&r(i,a),()=>{n.delete(r)}}invokeOnInitCallbacks(r,s){const a=this.onInitCallbacks.get(s);if(a)for(const n of a)try{n(r,s)}catch{}}getOrInitializeService({instanceIdentifier:r,options:s={}}){let a=this.instances.get(r);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:MZ(r),options:s}),this.instances.set(r,a),this.instancesOptions.set(r,s),this.invokeOnInitCallbacks(a,r),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,r,a)}catch{}return a||null}normalizeInstanceIdentifier(r=Sc){return this.component?this.component.multipleInstances?r:Sc:r}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function MZ(e){return e===Sc?void 0:e}function LZ(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FZ{constructor(r){this.name=r,this.providers=new Map}addComponent(r){const s=this.getProvider(r.name);if(s.isComponentSet())throw new Error(`Component ${r.name} has already been registered with ${this.name}`);s.setComponent(r)}addOrOverwriteComponent(r){this.getProvider(r.name).isComponentSet()&&this.providers.delete(r.name),this.addComponent(r)}getProvider(r){if(this.providers.has(r))return this.providers.get(r);const s=new DZ(r,this);return this.providers.set(r,s),s}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _r;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(_r||(_r={}));const RZ={debug:_r.DEBUG,verbose:_r.VERBOSE,info:_r.INFO,warn:_r.WARN,error:_r.ERROR,silent:_r.SILENT},BZ=_r.INFO,$Z={[_r.DEBUG]:"log",[_r.VERBOSE]:"log",[_r.INFO]:"info",[_r.WARN]:"warn",[_r.ERROR]:"error"},zZ=(e,r,...s)=>{if(r<e.logLevel)return;const a=new Date().toISOString(),n=$Z[r];if(n)console[n](`[${a}]  ${e.name}:`,...s);else throw new Error(`Attempted to log a message with an invalid logType (value: ${r})`)};class o9{constructor(r){this.name=r,this._logLevel=BZ,this._logHandler=zZ,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(r){if(!(r in _r))throw new TypeError(`Invalid value "${r}" assigned to \`logLevel\``);this._logLevel=r}setLogLevel(r){this._logLevel=typeof r=="string"?RZ[r]:r}get logHandler(){return this._logHandler}set logHandler(r){if(typeof r!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=r}get userLogHandler(){return this._userLogHandler}set userLogHandler(r){this._userLogHandler=r}debug(...r){this._userLogHandler&&this._userLogHandler(this,_r.DEBUG,...r),this._logHandler(this,_r.DEBUG,...r)}log(...r){this._userLogHandler&&this._userLogHandler(this,_r.VERBOSE,...r),this._logHandler(this,_r.VERBOSE,...r)}info(...r){this._userLogHandler&&this._userLogHandler(this,_r.INFO,...r),this._logHandler(this,_r.INFO,...r)}warn(...r){this._userLogHandler&&this._userLogHandler(this,_r.WARN,...r),this._logHandler(this,_r.WARN,...r)}error(...r){this._userLogHandler&&this._userLogHandler(this,_r.ERROR,...r),this._logHandler(this,_r.ERROR,...r)}}const UZ=(e,r)=>r.some(s=>e instanceof s);let JC,QC;function HZ(){return JC||(JC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function VZ(){return QC||(QC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const c9=new WeakMap,gj=new WeakMap,d9=new WeakMap,e1=new WeakMap,n4=new WeakMap;function WZ(e){const r=new Promise((s,a)=>{const n=()=>{e.removeEventListener("success",i),e.removeEventListener("error",l)},i=()=>{s(Cl(e.result)),n()},l=()=>{a(e.error),n()};e.addEventListener("success",i),e.addEventListener("error",l)});return r.then(s=>{s instanceof IDBCursor&&c9.set(s,e)}).catch(()=>{}),n4.set(r,e),r}function GZ(e){if(gj.has(e))return;const r=new Promise((s,a)=>{const n=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",l),e.removeEventListener("abort",l)},i=()=>{s(),n()},l=()=>{a(e.error||new DOMException("AbortError","AbortError")),n()};e.addEventListener("complete",i),e.addEventListener("error",l),e.addEventListener("abort",l)});gj.set(e,r)}let yj={get(e,r,s){if(e instanceof IDBTransaction){if(r==="done")return gj.get(e);if(r==="objectStoreNames")return e.objectStoreNames||d9.get(e);if(r==="store")return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return Cl(e[r])},set(e,r,s){return e[r]=s,!0},has(e,r){return e instanceof IDBTransaction&&(r==="done"||r==="store")?!0:r in e}};function qZ(e){yj=e(yj)}function KZ(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(r,...s){const a=e.call(t1(this),r,...s);return d9.set(a,r.sort?r.sort():[r]),Cl(a)}:VZ().includes(e)?function(...r){return e.apply(t1(this),r),Cl(c9.get(this))}:function(...r){return Cl(e.apply(t1(this),r))}}function YZ(e){return typeof e=="function"?KZ(e):(e instanceof IDBTransaction&&GZ(e),UZ(e,HZ())?new Proxy(e,yj):e)}function Cl(e){if(e instanceof IDBRequest)return WZ(e);if(e1.has(e))return e1.get(e);const r=YZ(e);return r!==e&&(e1.set(e,r),n4.set(r,e)),r}const t1=e=>n4.get(e);function zy(e,r,{blocked:s,upgrade:a,blocking:n,terminated:i}={}){const l=indexedDB.open(e,r),o=Cl(l);return a&&l.addEventListener("upgradeneeded",c=>{a(Cl(l.result),c.oldVersion,c.newVersion,Cl(l.transaction),c)}),s&&l.addEventListener("blocked",c=>s(c.oldVersion,c.newVersion,c)),o.then(c=>{i&&c.addEventListener("close",()=>i()),n&&c.addEventListener("versionchange",d=>n(d.oldVersion,d.newVersion,d))}).catch(()=>{}),o}function r1(e,{blocked:r}={}){const s=indexedDB.deleteDatabase(e);return r&&s.addEventListener("blocked",a=>r(a.oldVersion,a)),Cl(s).then(()=>{})}const XZ=["get","getKey","getAll","getAllKeys","count"],JZ=["put","add","delete","clear"],s1=new Map;function ZC(e,r){if(!(e instanceof IDBDatabase&&!(r in e)&&typeof r=="string"))return;if(s1.get(r))return s1.get(r);const s=r.replace(/FromIndex$/,""),a=r!==s,n=JZ.includes(s);if(!(s in(a?IDBIndex:IDBObjectStore).prototype)||!(n||XZ.includes(s)))return;const i=async function(l,...o){const c=this.transaction(l,n?"readwrite":"readonly");let d=c.store;return a&&(d=d.index(o.shift())),(await Promise.all([d[s](...o),n&&c.done]))[0]};return s1.set(r,i),i}qZ(e=>({...e,get:(r,s,a)=>ZC(r,s)||e.get(r,s,a),has:(r,s)=>!!ZC(r,s)||e.has(r,s)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QZ{constructor(r){this.container=r}getPlatformInfoString(){return this.container.getProviders().map(s=>{if(ZZ(s)){const a=s.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(s=>s).join(" ")}}function ZZ(e){const r=e.getComponent();return(r==null?void 0:r.type)==="VERSION"}const bj="@firebase/app",eP="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bl=new o9("@firebase/app"),eee="@firebase/app-compat",tee="@firebase/analytics-compat",ree="@firebase/analytics",see="@firebase/app-check-compat",aee="@firebase/app-check",nee="@firebase/auth",iee="@firebase/auth-compat",lee="@firebase/database",oee="@firebase/data-connect",cee="@firebase/database-compat",dee="@firebase/functions",uee="@firebase/functions-compat",mee="@firebase/installations",hee="@firebase/installations-compat",xee="@firebase/messaging",pee="@firebase/messaging-compat",fee="@firebase/performance",gee="@firebase/performance-compat",yee="@firebase/remote-config",bee="@firebase/remote-config-compat",vee="@firebase/storage",jee="@firebase/storage-compat",wee="@firebase/firestore",Nee="@firebase/ai",See="@firebase/firestore-compat",kee="firebase";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vj="[DEFAULT]",Cee={[bj]:"fire-core",[eee]:"fire-core-compat",[ree]:"fire-analytics",[tee]:"fire-analytics-compat",[aee]:"fire-app-check",[see]:"fire-app-check-compat",[nee]:"fire-auth",[iee]:"fire-auth-compat",[lee]:"fire-rtdb",[oee]:"fire-data-connect",[cee]:"fire-rtdb-compat",[dee]:"fire-fn",[uee]:"fire-fn-compat",[mee]:"fire-iid",[hee]:"fire-iid-compat",[xee]:"fire-fcm",[pee]:"fire-fcm-compat",[fee]:"fire-perf",[gee]:"fire-perf-compat",[yee]:"fire-rc",[bee]:"fire-rc-compat",[vee]:"fire-gcs",[jee]:"fire-gcs-compat",[wee]:"fire-fst",[See]:"fire-fst-compat",[Nee]:"fire-vertex","fire-js":"fire-js",[kee]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wf=new Map,Pee=new Map,jj=new Map;function tP(e,r){try{e.container.addComponent(r)}catch(s){Bl.debug(`Component ${r.name} failed to register with FirebaseApp ${e.name}`,s)}}function $l(e){const r=e.name;if(jj.has(r))return Bl.debug(`There were multiple attempts to register component ${r}.`),!1;jj.set(r,e);for(const s of Wf.values())tP(s,e);for(const s of Pee.values())tP(s,e);return!0}function Q0(e,r){const s=e.container.getProvider("heartbeat").getImmediate({optional:!0});return s&&s.triggerHeartbeat(),e.container.getProvider(r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aee={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Go=new J0("app","Firebase",Aee);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tee{constructor(r,s,a){this._isDeleted=!1,this._options={...r},this._config={...s},this._name=s.name,this._automaticDataCollectionEnabled=s.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new el("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(r){this.checkDestroyed(),this._automaticDataCollectionEnabled=r}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(r){this._isDeleted=r}checkDestroyed(){if(this.isDeleted)throw Go.create("app-deleted",{appName:this._name})}}function u9(e,r={}){let s=e;typeof r!="object"&&(r={name:r});const a={name:vj,automaticDataCollectionEnabled:!0,...r},n=a.name;if(typeof n!="string"||!n)throw Go.create("bad-app-name",{appName:String(n)});if(s||(s=i9()),!s)throw Go.create("no-options");const i=Wf.get(n);if(i){if(Vf(s,i.options)&&Vf(a,i.config))return i;throw Go.create("duplicate-app",{appName:n})}const l=new FZ(n);for(const c of jj.values())l.addComponent(c);const o=new Tee(s,a,l);return Wf.set(n,o),o}function m9(e=vj){const r=Wf.get(e);if(!r&&e===vj&&i9())return u9();if(!r)throw Go.create("no-app",{appName:e});return r}function Ji(e,r,s){let a=Cee[e]??e;s&&(a+=`-${s}`);const n=a.match(/\s|\//),i=r.match(/\s|\//);if(n||i){const l=[`Unable to register library "${a}" with version "${r}":`];n&&l.push(`library name "${a}" contains illegal characters (whitespace or "/")`),n&&i&&l.push("and"),i&&l.push(`version name "${r}" contains illegal characters (whitespace or "/")`),Bl.warn(l.join(" "));return}$l(new el(`${a}-version`,()=>({library:a,version:r}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eee="firebase-heartbeat-database",Iee=1,o0="firebase-heartbeat-store";let a1=null;function h9(){return a1||(a1=zy(Eee,Iee,{upgrade:(e,r)=>{switch(r){case 0:try{e.createObjectStore(o0)}catch(s){console.warn(s)}}}}).catch(e=>{throw Go.create("idb-open",{originalErrorMessage:e.message})})),a1}async function _ee(e){try{const s=(await h9()).transaction(o0),a=await s.objectStore(o0).get(x9(e));return await s.done,a}catch(r){if(r instanceof Ed)Bl.warn(r.message);else{const s=Go.create("idb-get",{originalErrorMessage:r==null?void 0:r.message});Bl.warn(s.message)}}}async function rP(e,r){try{const a=(await h9()).transaction(o0,"readwrite");await a.objectStore(o0).put(r,x9(e)),await a.done}catch(s){if(s instanceof Ed)Bl.warn(s.message);else{const a=Go.create("idb-set",{originalErrorMessage:s==null?void 0:s.message});Bl.warn(a.message)}}}function x9(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oee=1024,Dee=30;class Mee{constructor(r){this.container=r,this._heartbeatsCache=null;const s=this.container.getProvider("app").getImmediate();this._storage=new Fee(s),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var r,s;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=sP();if(((r=this._heartbeatsCache)==null?void 0:r.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((s=this._heartbeatsCache)==null?void 0:s.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(l=>l.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>Dee){const l=Ree(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Bl.warn(a)}}async getHeartbeatsHeader(){var r;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((r=this._heartbeatsCache)==null?void 0:r.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const s=sP(),{heartbeatsToSend:a,unsentEntries:n}=Lee(this._heartbeatsCache.heartbeats),i=n9(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=s,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(s){return Bl.warn(s),""}}}function sP(){return new Date().toISOString().substring(0,10)}function Lee(e,r=Oee){const s=[];let a=e.slice();for(const n of e){const i=s.find(l=>l.agent===n.agent);if(i){if(i.dates.push(n.date),aP(s)>r){i.dates.pop();break}}else if(s.push({agent:n.agent,dates:[n.date]}),aP(s)>r){s.pop();break}a=a.slice(1)}return{heartbeatsToSend:s,unsentEntries:a}}class Fee{constructor(r){this.app=r,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return s4()?a4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const s=await _ee(this.app);return s!=null&&s.heartbeats?s:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(r){if(await this._canUseIndexedDBPromise){const a=await this.read();return rP(this.app,{lastSentHeartbeatDate:r.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:r.heartbeats})}else return}async add(r){if(await this._canUseIndexedDBPromise){const a=await this.read();return rP(this.app,{lastSentHeartbeatDate:r.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...r.heartbeats]})}else return}}function aP(e){return n9(JSON.stringify({version:2,heartbeats:e})).length}function Ree(e){if(e.length===0)return-1;let r=0,s=e[0].date;for(let a=1;a<e.length;a++)e[a].date<s&&(s=e[a].date,r=a);return r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bee(e){$l(new el("platform-logger",r=>new QZ(r),"PRIVATE")),$l(new el("heartbeat",r=>new Mee(r),"PRIVATE")),Ji(bj,eP,e),Ji(bj,eP,"esm2020"),Ji("fire-js","")}Bee("");const p9="@firebase/installations",i4="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f9=1e4,g9=`w:${i4}`,y9="FIS_v2",$ee="https://firebaseinstallations.googleapis.com/v1",zee=60*60*1e3,Uee="installations",Hee="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vee={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},cd=new J0(Uee,Hee,Vee);function b9(e){return e instanceof Ed&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v9({projectId:e}){return`${$ee}/projects/${e}/installations`}function j9(e){return{token:e.token,requestStatus:2,expiresIn:Gee(e.expiresIn),creationTime:Date.now()}}async function w9(e,r){const a=(await r.json()).error;return cd.create("request-failed",{requestName:e,serverCode:a.code,serverMessage:a.message,serverStatus:a.status})}function N9({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function Wee(e,{refreshToken:r}){const s=N9(e);return s.append("Authorization",qee(r)),s}async function S9(e){const r=await e();return r.status>=500&&r.status<600?e():r}function Gee(e){return Number(e.replace("s","000"))}function qee(e){return`${y9} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kee({appConfig:e,heartbeatServiceProvider:r},{fid:s}){const a=v9(e),n=N9(e),i=r.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&n.append("x-firebase-client",d)}const l={fid:s,authVersion:y9,appId:e.appId,sdkVersion:g9},o={method:"POST",headers:n,body:JSON.stringify(l)},c=await S9(()=>fetch(a,o));if(c.ok){const d=await c.json();return{fid:d.fid||s,registrationStatus:2,refreshToken:d.refreshToken,authToken:j9(d.authToken)}}else throw await w9("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k9(e){return new Promise(r=>{setTimeout(r,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yee(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xee=/^[cdef][\w-]{21}$/,wj="";function Jee(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const s=Qee(e);return Xee.test(s)?s:wj}catch{return wj}}function Qee(e){return Yee(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uy(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C9=new Map;function P9(e,r){const s=Uy(e);A9(s,r),Zee(s,r)}function A9(e,r){const s=C9.get(e);if(s)for(const a of s)a(r)}function Zee(e,r){const s=ete();s&&s.postMessage({key:e,fid:r}),tte()}let Mc=null;function ete(){return!Mc&&"BroadcastChannel"in self&&(Mc=new BroadcastChannel("[Firebase] FID Change"),Mc.onmessage=e=>{A9(e.data.key,e.data.fid)}),Mc}function tte(){C9.size===0&&Mc&&(Mc.close(),Mc=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rte="firebase-installations-database",ste=1,dd="firebase-installations-store";let n1=null;function l4(){return n1||(n1=zy(rte,ste,{upgrade:(e,r)=>{switch(r){case 0:e.createObjectStore(dd)}}})),n1}async function Gf(e,r){const s=Uy(e),n=(await l4()).transaction(dd,"readwrite"),i=n.objectStore(dd),l=await i.get(s);return await i.put(r,s),await n.done,(!l||l.fid!==r.fid)&&P9(e,r.fid),r}async function T9(e){const r=Uy(e),a=(await l4()).transaction(dd,"readwrite");await a.objectStore(dd).delete(r),await a.done}async function Hy(e,r){const s=Uy(e),n=(await l4()).transaction(dd,"readwrite"),i=n.objectStore(dd),l=await i.get(s),o=r(l);return o===void 0?await i.delete(s):await i.put(o,s),await n.done,o&&(!l||l.fid!==o.fid)&&P9(e,o.fid),o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o4(e){let r;const s=await Hy(e.appConfig,a=>{const n=ate(a),i=nte(e,n);return r=i.registrationPromise,i.installationEntry});return s.fid===wj?{installationEntry:await r}:{installationEntry:s,registrationPromise:r}}function ate(e){const r=e||{fid:Jee(),registrationStatus:0};return E9(r)}function nte(e,r){if(r.registrationStatus===0){if(!navigator.onLine){const n=Promise.reject(cd.create("app-offline"));return{installationEntry:r,registrationPromise:n}}const s={fid:r.fid,registrationStatus:1,registrationTime:Date.now()},a=ite(e,s);return{installationEntry:s,registrationPromise:a}}else return r.registrationStatus===1?{installationEntry:r,registrationPromise:lte(e)}:{installationEntry:r}}async function ite(e,r){try{const s=await Kee(e,r);return Gf(e.appConfig,s)}catch(s){throw b9(s)&&s.customData.serverCode===409?await T9(e.appConfig):await Gf(e.appConfig,{fid:r.fid,registrationStatus:0}),s}}async function lte(e){let r=await nP(e.appConfig);for(;r.registrationStatus===1;)await k9(100),r=await nP(e.appConfig);if(r.registrationStatus===0){const{installationEntry:s,registrationPromise:a}=await o4(e);return a||s}return r}function nP(e){return Hy(e,r=>{if(!r)throw cd.create("installation-not-found");return E9(r)})}function E9(e){return ote(e)?{fid:e.fid,registrationStatus:0}:e}function ote(e){return e.registrationStatus===1&&e.registrationTime+f9<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cte({appConfig:e,heartbeatServiceProvider:r},s){const a=dte(e,s),n=Wee(e,s),i=r.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&n.append("x-firebase-client",d)}const l={installation:{sdkVersion:g9,appId:e.appId}},o={method:"POST",headers:n,body:JSON.stringify(l)},c=await S9(()=>fetch(a,o));if(c.ok){const d=await c.json();return j9(d)}else throw await w9("Generate Auth Token",c)}function dte(e,{fid:r}){return`${v9(e)}/${r}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c4(e,r=!1){let s;const a=await Hy(e.appConfig,i=>{if(!I9(i))throw cd.create("not-registered");const l=i.authToken;if(!r&&hte(l))return i;if(l.requestStatus===1)return s=ute(e,r),i;{if(!navigator.onLine)throw cd.create("app-offline");const o=pte(i);return s=mte(e,o),o}});return s?await s:a.authToken}async function ute(e,r){let s=await iP(e.appConfig);for(;s.authToken.requestStatus===1;)await k9(100),s=await iP(e.appConfig);const a=s.authToken;return a.requestStatus===0?c4(e,r):a}function iP(e){return Hy(e,r=>{if(!I9(r))throw cd.create("not-registered");const s=r.authToken;return fte(s)?{...r,authToken:{requestStatus:0}}:r})}async function mte(e,r){try{const s=await cte(e,r),a={...r,authToken:s};return await Gf(e.appConfig,a),s}catch(s){if(b9(s)&&(s.customData.serverCode===401||s.customData.serverCode===404))await T9(e.appConfig);else{const a={...r,authToken:{requestStatus:0}};await Gf(e.appConfig,a)}throw s}}function I9(e){return e!==void 0&&e.registrationStatus===2}function hte(e){return e.requestStatus===2&&!xte(e)}function xte(e){const r=Date.now();return r<e.creationTime||e.creationTime+e.expiresIn<r+zee}function pte(e){const r={requestStatus:1,requestTime:Date.now()};return{...e,authToken:r}}function fte(e){return e.requestStatus===1&&e.requestTime+f9<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gte(e){const r=e,{installationEntry:s,registrationPromise:a}=await o4(r);return a?a.catch(console.error):c4(r).catch(console.error),s.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yte(e,r=!1){const s=e;return await bte(s),(await c4(s,r)).token}async function bte(e){const{registrationPromise:r}=await o4(e);r&&await r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vte(e){if(!e||!e.options)throw i1("App Configuration");if(!e.name)throw i1("App Name");const r=["projectId","apiKey","appId"];for(const s of r)if(!e.options[s])throw i1(s);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function i1(e){return cd.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _9="installations",jte="installations-internal",wte=e=>{const r=e.getProvider("app").getImmediate(),s=vte(r),a=Q0(r,"heartbeat");return{app:r,appConfig:s,heartbeatServiceProvider:a,_delete:()=>Promise.resolve()}},Nte=e=>{const r=e.getProvider("app").getImmediate(),s=Q0(r,_9).getImmediate();return{getId:()=>gte(s),getToken:n=>yte(s,n)}};function Ste(){$l(new el(_9,wte,"PUBLIC")),$l(new el(jte,Nte,"PRIVATE"))}Ste();Ji(p9,i4);Ji(p9,i4,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kte="/firebase-messaging-sw.js",Cte="/firebase-cloud-messaging-push-scope",O9="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Pte="https://fcmregistrations.googleapis.com/v1",D9="google.c.a.c_id",Ate="google.c.a.c_l",Tte="google.c.a.ts",Ete="google.c.a.e",lP=1e4;var oP;(function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(oP||(oP={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var c0;(function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"})(c0||(c0={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dl(e){const r=new Uint8Array(e);return btoa(String.fromCharCode(...r)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ite(e){const r="=".repeat((4-e.length%4)%4),s=(e+r).replace(/\-/g,"+").replace(/_/g,"/"),a=atob(s),n=new Uint8Array(a.length);for(let i=0;i<a.length;++i)n[i]=a.charCodeAt(i);return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1="fcm_token_details_db",_te=5,cP="fcm_token_object_Store";async function Ote(e){if("databases"in indexedDB&&!(await indexedDB.databases()).map(i=>i.name).includes(l1))return null;let r=null;return(await zy(l1,_te,{upgrade:async(a,n,i,l)=>{if(n<2||!a.objectStoreNames.contains(cP))return;const o=l.objectStore(cP),c=await o.index("fcmSenderId").get(e);if(await o.clear(),!!c){if(n===2){const d=c;if(!d.auth||!d.p256dh||!d.endpoint)return;r={token:d.fcmToken,createTime:d.createTime??Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:typeof d.vapidKey=="string"?d.vapidKey:dl(d.vapidKey)}}}else if(n===3){const d=c;r={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:dl(d.auth),p256dh:dl(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:dl(d.vapidKey)}}}else if(n===4){const d=c;r={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:dl(d.auth),p256dh:dl(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:dl(d.vapidKey)}}}}}})).close(),await r1(l1),await r1("fcm_vapid_details_db"),await r1("undefined"),Dte(r)?r:null}function Dte(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:r}=e;return typeof e.createTime=="number"&&e.createTime>0&&typeof e.token=="string"&&e.token.length>0&&typeof r.auth=="string"&&r.auth.length>0&&typeof r.p256dh=="string"&&r.p256dh.length>0&&typeof r.endpoint=="string"&&r.endpoint.length>0&&typeof r.swScope=="string"&&r.swScope.length>0&&typeof r.vapidKey=="string"&&r.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mte="firebase-messaging-database",Lte=1,d0="firebase-messaging-store";let o1=null;function M9(){return o1||(o1=zy(Mte,Lte,{upgrade:(e,r)=>{switch(r){case 0:e.createObjectStore(d0)}}})),o1}async function Fte(e){const r=L9(e),a=await(await M9()).transaction(d0).objectStore(d0).get(r);if(a)return a;{const n=await Ote(e.appConfig.senderId);if(n)return await d4(e,n),n}}async function d4(e,r){const s=L9(e),n=(await M9()).transaction(d0,"readwrite");return await n.objectStore(d0).put(r,s),await n.done,r}function L9({appConfig:e}){return e.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rte={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},ga=new J0("messaging","Messaging",Rte);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bte(e,r){const s=await m4(e),a=F9(r),n={method:"POST",headers:s,body:JSON.stringify(a)};let i;try{i=await(await fetch(u4(e.appConfig),n)).json()}catch(l){throw ga.create("token-subscribe-failed",{errorInfo:l==null?void 0:l.toString()})}if(i.error){const l=i.error.message;throw ga.create("token-subscribe-failed",{errorInfo:l})}if(!i.token)throw ga.create("token-subscribe-no-token");return i.token}async function $te(e,r){const s=await m4(e),a=F9(r.subscriptionOptions),n={method:"PATCH",headers:s,body:JSON.stringify(a)};let i;try{i=await(await fetch(`${u4(e.appConfig)}/${r.token}`,n)).json()}catch(l){throw ga.create("token-update-failed",{errorInfo:l==null?void 0:l.toString()})}if(i.error){const l=i.error.message;throw ga.create("token-update-failed",{errorInfo:l})}if(!i.token)throw ga.create("token-update-no-token");return i.token}async function zte(e,r){const a={method:"DELETE",headers:await m4(e)};try{const i=await(await fetch(`${u4(e.appConfig)}/${r}`,a)).json();if(i.error){const l=i.error.message;throw ga.create("token-unsubscribe-failed",{errorInfo:l})}}catch(n){throw ga.create("token-unsubscribe-failed",{errorInfo:n==null?void 0:n.toString()})}}function u4({projectId:e}){return`${Pte}/projects/${e}/registrations`}async function m4({appConfig:e,installations:r}){const s=await r.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${s}`})}function F9({p256dh:e,auth:r,endpoint:s,vapidKey:a}){const n={web:{endpoint:s,auth:r,p256dh:e}};return a!==O9&&(n.web.applicationPubKey=a),n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ute=7*24*60*60*1e3;async function Hte(e){const r=await Wte(e.swRegistration,e.vapidKey),s={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:r.endpoint,auth:dl(r.getKey("auth")),p256dh:dl(r.getKey("p256dh"))},a=await Fte(e.firebaseDependencies);if(a){if(Gte(a.subscriptionOptions,s))return Date.now()>=a.createTime+Ute?Vte(e,{token:a.token,createTime:Date.now(),subscriptionOptions:s}):a.token;try{await zte(e.firebaseDependencies,a.token)}catch(n){console.warn(n)}return dP(e.firebaseDependencies,s)}else return dP(e.firebaseDependencies,s)}async function Vte(e,r){try{const s=await $te(e.firebaseDependencies,r),a={...r,token:s,createTime:Date.now()};return await d4(e.firebaseDependencies,a),s}catch(s){throw s}}async function dP(e,r){const a={token:await Bte(e,r),createTime:Date.now(),subscriptionOptions:r};return await d4(e,a),a.token}async function Wte(e,r){const s=await e.pushManager.getSubscription();return s||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ite(r)})}function Gte(e,r){const s=r.vapidKey===e.vapidKey,a=r.endpoint===e.endpoint,n=r.auth===e.auth,i=r.p256dh===e.p256dh;return s&&a&&n&&i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uP(e){const r={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return qte(r,e),Kte(r,e),Yte(r,e),r}function qte(e,r){if(!r.notification)return;e.notification={};const s=r.notification.title;s&&(e.notification.title=s);const a=r.notification.body;a&&(e.notification.body=a);const n=r.notification.image;n&&(e.notification.image=n);const i=r.notification.icon;i&&(e.notification.icon=i)}function Kte(e,r){r.data&&(e.data=r.data)}function Yte(e,r){var n,i,l,o;if(!r.fcmOptions&&!((n=r.notification)!=null&&n.click_action))return;e.fcmOptions={};const s=((i=r.fcmOptions)==null?void 0:i.link)??((l=r.notification)==null?void 0:l.click_action);s&&(e.fcmOptions.link=s);const a=(o=r.fcmOptions)==null?void 0:o.analytics_label;a&&(e.fcmOptions.analyticsLabel=a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xte(e){return typeof e=="object"&&!!e&&D9 in e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jte(e){if(!e||!e.options)throw c1("App Configuration Object");if(!e.name)throw c1("App Name");const r=["projectId","apiKey","appId","messagingSenderId"],{options:s}=e;for(const a of r)if(!s[a])throw c1(a);return{appName:e.name,projectId:s.projectId,apiKey:s.apiKey,appId:s.appId,senderId:s.messagingSenderId}}function c1(e){return ga.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qte{constructor(r,s,a){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const n=Jte(r);this.firebaseDependencies={app:r,appConfig:n,installations:s,analyticsProvider:a}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zte(e){try{e.swRegistration=await navigator.serviceWorker.register(kte,{scope:Cte}),e.swRegistration.update().catch(()=>{}),await ere(e.swRegistration)}catch(r){throw ga.create("failed-service-worker-registration",{browserErrorMessage:r==null?void 0:r.message})}}async function ere(e){return new Promise((r,s)=>{const a=setTimeout(()=>s(new Error(`Service worker not registered after ${lP} ms`)),lP),n=e.installing||e.waiting;e.active?(clearTimeout(a),r()):n?n.onstatechange=i=>{var l;((l=i.target)==null?void 0:l.state)==="activated"&&(n.onstatechange=null,clearTimeout(a),r())}:(clearTimeout(a),s(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tre(e,r){if(!r&&!e.swRegistration&&await Zte(e),!(!r&&e.swRegistration)){if(!(r instanceof ServiceWorkerRegistration))throw ga.create("invalid-sw-registration");e.swRegistration=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rre(e,r){r?e.vapidKey=r:e.vapidKey||(e.vapidKey=O9)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R9(e,r){if(!navigator)throw ga.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw ga.create("permission-blocked");return await rre(e,r==null?void 0:r.vapidKey),await tre(e,r==null?void 0:r.serviceWorkerRegistration),Hte(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sre(e,r,s){const a=are(r);(await e.firebaseDependencies.analyticsProvider.get()).logEvent(a,{message_id:s[D9],message_name:s[Ate],message_time:s[Tte],message_device_time:Math.floor(Date.now()/1e3)})}function are(e){switch(e){case c0.NOTIFICATION_CLICKED:return"notification_open";case c0.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nre(e,r){const s=r.data;if(!s.isFirebaseMessaging)return;e.onMessageHandler&&s.messageType===c0.PUSH_RECEIVED&&(typeof e.onMessageHandler=="function"?e.onMessageHandler(uP(s)):e.onMessageHandler.next(uP(s)));const a=s.data;Xte(a)&&a[Ete]==="1"&&await sre(e,s.messageType,a)}const mP="@firebase/messaging",hP="0.12.23";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ire=e=>{const r=new Qte(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",s=>nre(r,s)),r},lre=e=>{const r=e.getProvider("messaging").getImmediate();return{getToken:a=>R9(r,a)}};function ore(){$l(new el("messaging",ire,"PUBLIC")),$l(new el("messaging-internal",lre,"PRIVATE")),Ji(mP,hP),Ji(mP,hP,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B9(){try{await a4()}catch{return!1}return typeof window<"u"&&s4()&&l9()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cre(e,r){if(!navigator)throw ga.create("only-available-in-window");return e.onMessageHandler=r,()=>{e.onMessageHandler=null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dre(e=m9()){return B9().then(r=>{if(!r)throw ga.create("unsupported-browser")},r=>{throw ga.create("indexed-db-unsupported")}),Q0(gm(e),"messaging").getImmediate()}async function ure(e,r){return e=gm(e),R9(e,r)}function mre(e,r){return e=gm(e),cre(e,r)}ore();var hre="firebase",xre="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ji(hre,xre,"app");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qf="analytics",pre="firebase_id",fre="origin",gre=60*1e3,yre="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",h4="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oa=new o9("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bre={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},vn=new J0("analytics","Analytics",bre);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vre(e){if(!e.startsWith(h4)){const r=vn.create("invalid-gtag-resource",{gtagURL:e});return Oa.warn(r.message),""}return e}function $9(e){return Promise.all(e.map(r=>r.catch(s=>s)))}function jre(e,r){let s;return window.trustedTypes&&(s=window.trustedTypes.createPolicy(e,r)),s}function wre(e,r){const s=jre("firebase-js-sdk-policy",{createScriptURL:vre}),a=document.createElement("script"),n=`${h4}?l=${e}&id=${r}`;a.src=s?s==null?void 0:s.createScriptURL(n):n,a.async=!0,document.head.appendChild(a)}function Nre(e){let r=[];return Array.isArray(window[e])?r=window[e]:window[e]=r,r}async function Sre(e,r,s,a,n,i){const l=a[n];try{if(l)await r[l];else{const c=(await $9(s)).find(d=>d.measurementId===n);c&&await r[c.appId]}}catch(o){Oa.error(o)}e("config",n,i)}async function kre(e,r,s,a,n){try{let i=[];if(n&&n.send_to){let l=n.send_to;Array.isArray(l)||(l=[l]);const o=await $9(s);for(const c of l){const d=o.find(m=>m.measurementId===c),u=d&&r[d.appId];if(u)i.push(u);else{i=[];break}}}i.length===0&&(i=Object.values(r)),await Promise.all(i),e("event",a,n||{})}catch(i){Oa.error(i)}}function Cre(e,r,s,a){async function n(i,...l){try{if(i==="event"){const[o,c]=l;await kre(e,r,s,o,c)}else if(i==="config"){const[o,c]=l;await Sre(e,r,s,a,o,c)}else if(i==="consent"){const[o,c]=l;e("consent",o,c)}else if(i==="get"){const[o,c,d]=l;e("get",o,c,d)}else if(i==="set"){const[o]=l;e("set",o)}else e(i,...l)}catch(o){Oa.error(o)}}return n}function Pre(e,r,s,a,n){let i=function(...l){window[a].push(arguments)};return window[n]&&typeof window[n]=="function"&&(i=window[n]),window[n]=Cre(i,e,r,s),{gtagCore:i,wrappedGtag:window[n]}}function Are(e){const r=window.document.getElementsByTagName("script");for(const s of Object.values(r))if(s.src&&s.src.includes(h4)&&s.src.includes(e))return s;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tre=30,Ere=1e3;class Ire{constructor(r={},s=Ere){this.throttleMetadata=r,this.intervalMillis=s}getThrottleMetadata(r){return this.throttleMetadata[r]}setThrottleMetadata(r,s){this.throttleMetadata[r]=s}deleteThrottleMetadata(r){delete this.throttleMetadata[r]}}const z9=new Ire;function _re(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function Ore(e){var l;const{appId:r,apiKey:s}=e,a={method:"GET",headers:_re(s)},n=yre.replace("{app-id}",r),i=await fetch(n,a);if(i.status!==200&&i.status!==304){let o="";try{const c=await i.json();(l=c.error)!=null&&l.message&&(o=c.error.message)}catch{}throw vn.create("config-fetch-failed",{httpStatus:i.status,responseMessage:o})}return i.json()}async function Dre(e,r=z9,s){const{appId:a,apiKey:n,measurementId:i}=e.options;if(!a)throw vn.create("no-app-id");if(!n){if(i)return{measurementId:i,appId:a};throw vn.create("no-api-key")}const l=r.getThrottleMetadata(a)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new Fre;return setTimeout(async()=>{o.abort()},gre),U9({appId:a,apiKey:n,measurementId:i},l,o,r)}async function U9(e,{throttleEndTimeMillis:r,backoffCount:s},a,n=z9){var o;const{appId:i,measurementId:l}=e;try{await Mre(a,r)}catch(c){if(l)return Oa.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:i,measurementId:l};throw c}try{const c=await Ore(e);return n.deleteThrottleMetadata(i),c}catch(c){const d=c;if(!Lre(d)){if(n.deleteThrottleMetadata(i),l)return Oa.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:i,measurementId:l};throw c}const u=Number((o=d==null?void 0:d.customData)==null?void 0:o.httpStatus)===503?XC(s,n.intervalMillis,Tre):XC(s,n.intervalMillis),m={throttleEndTimeMillis:Date.now()+u,backoffCount:s+1};return n.setThrottleMetadata(i,m),Oa.debug(`Calling attemptFetch again in ${u} millis`),U9(e,m,a,n)}}function Mre(e,r){return new Promise((s,a)=>{const n=Math.max(r-Date.now(),0),i=setTimeout(s,n);e.addEventListener(()=>{clearTimeout(i),a(vn.create("fetch-throttle",{throttleEndTimeMillis:r}))})})}function Lre(e){if(!(e instanceof Ed)||!e.customData)return!1;const r=Number(e.customData.httpStatus);return r===429||r===500||r===503||r===504}class Fre{constructor(){this.listeners=[]}addEventListener(r){this.listeners.push(r)}abort(){this.listeners.forEach(r=>r())}}async function Rre(e,r,s,a,n){if(n&&n.global){e("event",s,a);return}else{const i=await r,l={...a,send_to:i};e("event",s,l)}}async function Bre(e,r,s,a){if(a&&a.global){const n={};for(const i of Object.keys(s))n[`user_properties.${i}`]=s[i];return e("set",n),Promise.resolve()}else{const n=await r;e("config",n,{update:!0,user_properties:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $re(){if(s4())try{await a4()}catch(e){return Oa.warn(vn.create("indexeddb-unavailable",{errorInfo:e==null?void 0:e.toString()}).message),!1}else return Oa.warn(vn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function zre(e,r,s,a,n,i,l){const o=Dre(e);o.then(x=>{s[x.measurementId]=x.appId,e.options.measurementId&&x.measurementId!==e.options.measurementId&&Oa.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${x.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(x=>Oa.error(x)),r.push(o);const c=$re().then(x=>{if(x)return a.getId()}),[d,u]=await Promise.all([o,c]);Are(i)||wre(i,d.measurementId),n("js",new Date);const m=(l==null?void 0:l.config)??{};return m[fre]="firebase",m.update=!0,u!=null&&(m[pre]=u),n("config",d.measurementId,m),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ure{constructor(r){this.app=r}_delete(){return delete Au[this.app.options.appId],Promise.resolve()}}let Au={},xP=[];const pP={};let d1="dataLayer",Hre="gtag",fP,x4,gP=!1;function Vre(){const e=[];if(CZ()&&e.push("This is a browser extension environment."),l9()||e.push("Cookies are not available."),e.length>0){const r=e.map((a,n)=>`(${n+1}) ${a}`).join(" "),s=vn.create("invalid-analytics-context",{errorInfo:r});Oa.warn(s.message)}}function Wre(e,r,s){Vre();const a=e.options.appId;if(!a)throw vn.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)Oa.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw vn.create("no-api-key");if(Au[a]!=null)throw vn.create("already-exists",{id:a});if(!gP){Nre(d1);const{wrappedGtag:i,gtagCore:l}=Pre(Au,xP,pP,d1,Hre);x4=i,fP=l,gP=!0}return Au[a]=zre(e,xP,pP,r,fP,d1,s),new Ure(e)}function Gre(e=m9()){e=gm(e);const r=Q0(e,qf);return r.isInitialized()?r.getImmediate():qre(e)}function qre(e,r={}){const s=Q0(e,qf);if(s.isInitialized()){const n=s.getImmediate();if(Vf(r,s.getOptions()))return n;throw vn.create("already-initialized")}return s.initialize({options:r})}function Kre(e,r,s){e=gm(e),Bre(x4,Au[e.app.options.appId],r,s).catch(a=>Oa.error(a))}function Yre(e,r,s,a){e=gm(e),Rre(x4,Au[e.app.options.appId],r,s,a).catch(n=>Oa.error(n))}const yP="@firebase/analytics",bP="0.10.19";function Xre(){$l(new el(qf,(r,{options:s})=>{const a=r.getProvider("app").getImmediate(),n=r.getProvider("installations-internal").getImmediate();return Wre(a,n,s)},"PUBLIC")),$l(new el("analytics-internal",e,"PRIVATE")),Ji(yP,bP),Ji(yP,bP,"esm2020");function e(r){try{const s=r.getProvider(qf).getImmediate();return{logEvent:(a,n,i)=>Yre(s,a,n,i),setUserProperties:(a,n)=>Kre(s,a,n)}}catch(s){throw vn.create("interop-component-reg-failed",{reason:s})}}}Xre();const Jre={apiKey:"AIzaSyAwED6Sq3-6cUPJ4QcCdj6xAqEiXfP0J9c",authDomain:"nexo-7fc25.firebaseapp.com",projectId:"nexo-7fc25",storageBucket:"nexo-7fc25.firebasestorage.app",messagingSenderId:"592565521792",appId:"1:592565521792:web:0842ec948362df3e720565",measurementId:"G-11HMWKHPJY"},H9=u9(Jre);typeof window<"u"&&Gre(H9);const Qre="BC4rz7vzSsS59jhKkTcwex63a_XBnJEnBwaEDWpdM_Epk5NGztNTl27jN31usSSOEanFSX6HZuRe96JyAZbPjRg";let Hi=null;const V9=async()=>{if("serviceWorker"in navigator)try{const e=await navigator.serviceWorker.getRegistration("/");if(e)return e;const r=await navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/"});return await navigator.serviceWorker.ready,r}catch(e){return console.error("Service Worker registration failed:",e),null}return null},W9=async()=>{if(typeof window>"u"||!await B9())return null;await V9();try{return Hi=dre(H9),Hi}catch(r){return console.error("Error initializing Firebase Messaging:",r),null}},G9=async()=>{if(typeof window>"u"||!("Notification"in window))return null;try{let e=Notification.permission;if(e==="default")try{e=await Notification.requestPermission()}catch(a){return console.error("Error requesting notification permission:",a),null}else if(e==="denied")return null;if(e!=="granted"||(await V9(),await new Promise(a=>setTimeout(a,1e3)),Hi||(Hi=await W9()),!Hi))return null;let r=null,s=3;for(;!r&&s>0;)try{if(r=await ure(Hi,{vapidKey:Qre}),r)return r}catch{s--,s>0&&await new Promise(n=>setTimeout(n,1e3))}return r||null}catch(e){return console.error("Error getting FCM token:",e),null}};let gc=null,u1=null;const Zre=async e=>{try{if(gc&&u1===e)return gc;if(gc&&typeof gc=="function"&&(gc(),gc=null,u1=null),Hi||(Hi=await W9()),!Hi)return null;const r=mre(Hi,s=>{e&&e(s)});return gc=r,u1=e,r}catch(r){return console.error("Error setting up message listener:",r),null}},vP=()=>{try{const e=window.AudioContext||window.webkitAudioContext;if(!e){console.log("Web Audio API not available, browser notification will use default sound");return}const r=new e;r.state==="suspended"?r.resume().then(()=>{console.log("AudioContext resumed, playing notification sound"),jP(r)}).catch(s=>{console.warn("Could not resume AudioContext:",s),console.log("Browser notification will use default sound")}):jP(r)}catch(e){console.warn("Could not play notification sound:",e),console.log("Browser notification will use default sound")}},jP=e=>{try{const r=e.createOscillator(),s=e.createGain();r.connect(s),s.connect(e.destination),r.frequency.value=800,r.type="sine";const a=e.currentTime;s.gain.setValueAtTime(0,a),s.gain.linearRampToValueAtTime(.3,a+.01),s.gain.exponentialRampToValueAtTime(.01,a+.2),r.start(a),r.stop(a+.2),r.onended=()=>{try{e.close()}catch{}}}catch(r){console.warn("Error playing beep sound:",r)}},p4=(e,r,s)=>{const[a,n]=g.useState([]),[i,l]=g.useState(null),[o,c]=g.useState(!1),[d,u]=g.useState(0),[m,x]=g.useState(null),h=g.useRef(null),p=g.useRef(null),f=g.useCallback(async()=>{if(!(!s||!r))try{const v=await G9();if(v&&(e!=null&&e.updateFCMToken)){l(v);try{await e.updateFCMToken(r,v)}catch(N){console.error("Error sending FCM token to backend:",N)}}}catch(v){console.error("Error initializing notifications:",v)}},[s,r,e]),b=g.useCallback(async(v=!1)=>{if(!(!s||!r||!(e!=null&&e.getNotifications))){c(!0);try{const N=await e.getNotifications(r);let S=[];if(N.success&&N.notifications?S=N.notifications:Array.isArray(N)&&(S=N),S.length>0&&p.current){const C=S[0];C._id&&C._id!==p.current&&(v&&!C.read&&!C.seen&&(x(C),vP()),p.current=C._id)}else if(S.length>0){const C=S[0];C._id&&(p.current=C._id)}n(S);const k=S.filter(C=>!C.read).length;u(k)}catch(N){console.error("Error fetching notifications:",N),N.message&&N.message.includes("ERR_CONNECTION_REFUSED"),n([]),u(0)}finally{c(!1)}}},[s,r,e]),j=g.useCallback(async(v=null)=>{if(!(!s||!r||!e))try{if(v&&e.markNotificationAsRead)u(N=>Math.max(0,N-1)),await e.markNotificationAsRead(r,v);else if(e.markNotificationsAsRead)u(0),await e.markNotificationsAsRead(r);else return;await b()}catch(N){console.error("Error marking notifications as read:",N),await b()}},[s,r,e,b]);g.useEffect(()=>{if(!s)return;let v=null;return(async()=>{try{v=await Zre(S=>{var X,ce,he,L,q,se,R,T,O,K,U,ee,M,H;const k=((X=S.notification)==null?void 0:X.title)||((ce=S.data)==null?void 0:ce.title)||"New Notification",C=((he=S.notification)==null?void 0:he.body)||((L=S.data)==null?void 0:L.message)||"You have a new notification",P=((q=S.data)==null?void 0:q.type)||((se=S.data)==null?void 0:se.notificationType)||"new-notification",_=((R=S.data)==null?void 0:R.isStatusChange)==="true"||P==="status-change",A=((T=S.notification)==null?void 0:T.icon)||((O=S.data)==null?void 0:O.icon),D=((K=S.notification)==null?void 0:K.image)||((U=S.data)==null?void 0:U.image);if(vP(),S.notification||S.data){const B=de=>de?de.startsWith("http://")||de.startsWith("https://")?de:de.startsWith("/")?`${window.location.origin}${de}`:`${window.location.origin}/${de}`:`${window.location.origin}/android-chrome-192x192.png`,Y=B(A)||`${window.location.origin}/android-chrome-192x192.png`,ie=`${window.location.origin}/android-chrome-192x192.png`,me=D?B(D):null;if("Notification"in window&&Notification.permission==="granted"){const de={body:C,icon:Y,badge:ie,tag:P,data:S.data,timestamp:Date.now(),vibrate:[200,100,200],silent:!1,...me&&{image:me}},Ge=new Notification(k,de);Ge.onclick=()=>{var Me;window.focus(),Ge.close(),((Me=S.data)==null?void 0:Me.type)==="new-notification"&&b()}}}const F={_id:((ee=S.data)==null?void 0:ee.notificationId)||((M=S.data)==null?void 0:M.userId)||((H=S.data)==null?void 0:H.adminId)||Date.now().toString(),title:k,message:C,type:_?"status-change":P||"info",icon:A,image:D,read:!1,seen:!1,createdAt:new Date,isStatusChange:_};x(F),_&&window.dispatchEvent(new CustomEvent("vendorStatusChange",{detail:{title:k,message:C}})),setTimeout(async()=>{try{await b(!1)}catch(B){console.error("Error refreshing notifications list:",B)}},1e3)})}catch(S){console.error("Error setting up message listener:",S)}})(),s&&r&&(e!=null&&e.getNotifications)&&b(!1),()=>{v&&typeof v=="function"&&v(),h.current&&(clearInterval(h.current),h.current=null)}},[s,b,r,e]),g.useEffect(()=>{s&&r&&f()},[s,r,f]),g.useEffect(()=>{const v=()=>{s&&r&&f()};return window.addEventListener("notificationPermissionGranted",v),()=>{window.removeEventListener("notificationPermissionGranted",v)}},[s,r,f]);const w=g.useCallback(()=>{x(null)},[]),y=g.useCallback(async v=>{await j(v),x(null)},[j]);return{notifications:a,fcmToken:i,isLoading:o,unreadCount:d,currentNotification:m,fetchNotifications:b,markAsRead:j,initializeNotifications:f,closeNotificationDialog:w,markNotificationAsRead:y}},m1="https://nexo.works",_e=e=>e.startsWith("/admin/bookings")?`${m1}${e}`:e.startsWith("/api/")?`${m1}${e}`:`${m1}/api/admin${e}`,Oe=e=>{const r={"Content-Type":"application/json"};return e&&(r.Authorization=`Bearer ${e}`),r},De=async e=>{const r=e.headers.get("content-type")||"",s=r.includes("application/json"),a=r.includes("text/html"),n=await e.text();if(a||n.trim().startsWith("<!")&&n.trim().toLowerCase().includes("html")){const l=new Error(`Server returned HTML instead of JSON (Status: ${e.status}). This usually means the endpoint doesn't exist or there's a server error.`);throw l.status=e.status,l.isHtml=!0,l.htmlPreview=n.substring(0,500),l}if(!n||n.trim()===""){if(!e.ok){const l=new Error("Empty response from server");throw l.status=e.status,l}return{success:!0,message:"Operation completed successfully"}}let i;if(s)try{i=JSON.parse(n)}catch{if(n.trim().startsWith("<!")){const o=new Error("Server returned HTML instead of JSON");throw o.status=e.status,o.isHtml=!0,o.htmlPreview=n.substring(0,500),o}i=n}else i=n;if(!e.ok){const l=new Error((i==null?void 0:i.message)||(i==null?void 0:i.error)||"Request failed");throw l.status=e.status,l.data=i,l}return i},He={async login(e){const r=await fetch(_e("/api/admin/login"),{method:"POST",headers:Oe(),body:JSON.stringify(e)});return await De(r)},async fetchDashboard(e){const r=await fetch(_e("/api/admin/dashboard"),{headers:Oe(e)});return await De(r)},async fetchDashboardCounts(e){const r=await fetch(_e("/api/admin/dashboard/counts"),{headers:Oe(e)});return await De(r)},async fetchVendors(e,r={}){const s=new URLSearchParams({page:r.page||1,limit:r.limit||10,...r.search&&{search:r.search},...r.status&&{status:r.status}}).toString(),a=await fetch(_e(`/api/admin/vendors?${s}`),{headers:Oe(e)});return await De(a)},async getVendorDetails(e,r){const s=await fetch(_e(`/api/admin/vendors/${r}`),{headers:Oe(e)});return De(s)},async createVendor(e,r){const s=await fetch(_e("/api/admin/vendors"),{method:"POST",headers:Oe(e),body:JSON.stringify(r)});return De(s)},async updateVendor(e,r,s){const a=await fetch(_e(`/api/admin/vendors/${r}`),{method:"PUT",headers:Oe(e),body:JSON.stringify(s)});return De(a)},async updateVendorStatus(e,r,s){const a=await fetch(_e(`/api/admin/vendors/${r}/status`),{method:"PUT",headers:Oe(e),body:JSON.stringify({status:s})});return De(a)},async deleteVendor(e,r){const s=await fetch(_e(`/api/admin/vendors/${r}`),{method:"DELETE",headers:Oe(e)});return De(s)},async fetchVendorSpareParts(e,r={}){const s=new URLSearchParams;r.vendorId&&s.append("vendorId",r.vendorId),r.category&&s.append("category",r.category),r.status&&s.append("status",r.status),r.search&&s.append("search",r.search);const a=s.toString(),n=_e(`/api/admin/vendors/spare-parts${a?`?${a}`:""}`),i=await fetch(n,{headers:Oe(e)});return De(i)},async fetchVendorSparePartsByVendor(e,r,s={}){const a=new URLSearchParams;s.category&&a.append("category",s.category),s.status&&a.append("status",s.status),s.search&&a.append("search",s.search);const n=a.toString(),i=_e(`/api/admin/vendors/${r}/spare-parts${n?`?${n}`:""}`),l=await fetch(i,{headers:Oe(e)});return De(l)},async fetchPartners(e,r={}){const s=new URLSearchParams({page:r.page||1,limit:r.limit||10,...r.search&&{search:r.search},...r.status&&{status:r.status}}).toString(),a=await fetch(_e(`/api/admin/partners?${s}`),{headers:Oe(e)});return await De(a)},async fetchPartnerRevenueStats(e){const r=await fetch(_e("/partners-revenue-stats"),{headers:Oe(e)});return await De(r)},async fetchPendingKYC(e){const r=await fetch(_e("/api/admin/partners/kyc/pending"),{headers:Oe(e)});return await De(r)},async fetchPartnerDetails(e,r){const s=await fetch(_e(`/api/admin/partners/${r}`),{headers:Oe(e)});return await De(s)},async updatePartnerStatus(e,r,s,a){const n=await fetch(_e(`/api/admin/partners/${r}/status`),{method:"PUT",headers:Oe(e),body:JSON.stringify({status:s,remarks:a})});return De(n)},async verifyPartnerKYC(e,r){const s=await fetch(_e(`/api/admin/partners/${r}/kyc`),{method:"PUT",headers:Oe(e)});return De(s)},async updatePartnerProfile(e,r,s){const a=_e(`/api/admin/updatePartnerProfile/${r}`),n=await fetch(a,{method:"PUT",headers:Oe(e),body:JSON.stringify(s)});return De(n)},async approvePartnerPayment(e,r,s){const a=await fetch(_e(`/api/admin/partners/${r}/approve-payment`),{method:"PUT",headers:Oe(e),body:JSON.stringify(s)});return De(a)},async suspendPartner(e,r){const s=await fetch(_e(`/api/admin/partner/${r}/status`),{method:"PUT",headers:Oe(e),body:JSON.stringify({status:"inactive"})});return De(s)},async activatePartner(e,r){const s=await fetch(_e(`/api/admin/partner/${r}/status`),{method:"PUT",headers:Oe(e),body:JSON.stringify({status:"active"})});return De(s)},async deletePartner(e,r){const s=await fetch(_e(`/api/admin/deletepartner/${r}`),{method:"DELETE",headers:Oe(e)});return De(s)},async fetchBookings(e,r={}){const s=new URLSearchParams({page:r.page||1,limit:r.limit||10,status:r.status||"all",...r.fromDate&&{fromDate:r.fromDate},...r.toDate&&{toDate:r.toDate},...r.search&&{search:r.search}}).toString(),a=await fetch(_e(`/api/admin/bookings/bookings?${s}`),{headers:Oe(e)});return await De(a)},async assignBooking(e,r,s,a){const n=await fetch(_e("/api/admin/bookings/assign-partner"),{method:"PUT",headers:Oe(e),body:JSON.stringify({bookingId:r,partnerId:s,teamMemberId:a})});return De(n)},async fetchTeamMembers(e,r={}){const s=new URLSearchParams({...r.status&&{status:r.status}}).toString(),a=await fetch(_e(`/api/admin/team-members${s?`?${s}`:""}`),{headers:Oe(e)});return await De(a)},async completeBooking(e,r){const s=await fetch(_e(`/api/admin/bookings/${r}/complete`),{method:"PUT",headers:Oe(e)});return De(s)},async createManualBooking(e,r){const s=await fetch(_e("/api/admin/bookings/create"),{method:"POST",headers:Oe(e),body:JSON.stringify(r)});return De(s)},async fetchUsers(e,r={}){const s=new URLSearchParams({page:r.page||1,limit:r.limit||10,...r.search&&{search:r.search},...r.status&&{status:r.status}}).toString(),a=await fetch(_e(`/api/admin/users?${s}`),{headers:Oe(e)});return await De(a)},async fetchRevenueAnalytics(e,r={}){const s=new URLSearchParams({...r.startDate&&{startDate:r.startDate},...r.endDate&&{endDate:r.endDate}}).toString(),a=await fetch(_e(`/api/admin/reports/revenue?${s}`),{headers:Oe(e)}),n=await De(a);return(n==null?void 0:n.data)||n},async fetchPartnerPerformance(e){const r=await fetch(_e("/api/admin/reports/partners/performance"),{headers:Oe(e)}),s=await De(r);return(s==null?void 0:s.data)||s},async fetchUserAnalytics(e){const r=await fetch(_e("/api/admin/reports/users"),{headers:Oe(e)}),s=await De(r);return(s==null?void 0:s.data)||s},async fetchCategoryRevenue(e,r={}){const s=new URLSearchParams({...r.startDate&&{startDate:r.startDate},...r.endDate&&{endDate:r.endDate}}).toString(),a=await fetch(_e(`/api/admin/reports/category-revenue?${s}`),{headers:Oe(e)}),n=await De(a);return(n==null?void 0:n.data)||n},async fetchTransactionReport(e,r={}){const s=new URLSearchParams({...r.startDate&&{startDate:r.startDate},...r.endDate&&{endDate:r.endDate},...r.status&&{status:r.status}}).toString(),a=await fetch(_e(`/api/admin/reports/transactions?${s}`),{headers:Oe(e)}),n=await De(a);return(n==null?void 0:n.data)||n},async fetchLeads(e,r={}){const s=new URLSearchParams({...r.page&&{page:r.page.toString()},...r.limit&&{limit:r.limit.toString()},...r.status&&r.status!=="all"&&{status:r.status},...r.city&&{city:r.city},...r.allocationStrategy&&r.allocationStrategy!=="all"&&{allocationStrategy:r.allocationStrategy},...r.startDate&&{startDate:r.startDate},...r.endDate&&{endDate:r.endDate}}).toString(),a=await fetch(_e(`/api/admin/leads?${s}`),{headers:Oe(e)});return await De(a)},async fetchLeadAnalytics(e){const r=await fetch(_e("/api/admin/leads/analytics"),{headers:Oe(e)}),s=await De(r);return(s==null?void 0:s.data)||s},async fetchBids(e,r={}){const s=new URLSearchParams({...r.page&&{page:r.page.toString()},...r.limit&&{limit:r.limit.toString()},...r.status&&r.status!=="all"&&{status:r.status},...r.leadId&&{leadId:r.leadId}}).toString(),a=await fetch(_e(`/api/admin/leads/bids?${s}`),{headers:Oe(e)});return await De(a)},async createLeadFromBooking(e,r){const s=await fetch(_e("/api/admin/leads/create"),{method:"POST",headers:Oe(e),body:JSON.stringify({bookingId:r})});return De(s)},async createManualLead(e,r){const s=await fetch(_e("/api/admin/leads/create-manual"),{method:"POST",headers:Oe(e),body:JSON.stringify(r)});return De(s)},async updateLeadStatus(e,r,s,a){const n=await fetch(_e(`/api/admin/leads/${r}/status`),{method:"PUT",headers:Oe(e),body:JSON.stringify({status:s,assignedPartner:a})});return De(n)},async acceptBid(e,r,s){const a=await fetch(_e("/api/admin/leads/accept-bid"),{method:"POST",headers:Oe(e),body:JSON.stringify({leadId:r,bidId:s})});return De(a)},async syncBookingsToLeads(e){const r=await fetch(_e("/api/admin/leads/sync"),{method:"POST",headers:Oe(e)});return De(r)},async fetchReviews(e){const r=await fetch(_e("/api/admin/reviews"),{headers:Oe(e)}),s=await De(r);return(s==null?void 0:s.data)||s},async updateReviewStatus(e,r,s){const a=await fetch(_e(`/api/admin/reviews/${r}/status`),{method:"PUT",headers:Oe(e),body:JSON.stringify({status:s})});return De(a)},async fetchPartnerEarnings(e,r){const s=await fetch(_e(`/api/admin/partner/${r}/earnings`),{headers:Oe(e)});return De(s)},async fetchFeeTransactions(e,r={}){const s=new URLSearchParams;r.partnerId&&typeof r.partnerId=="string"&&r.partnerId.trim()&&s.append("partnerId",r.partnerId.trim()),r.feeType&&typeof r.feeType=="string"&&r.feeType.trim()&&r.feeType!=="all"&&s.append("feeType",r.feeType.trim()),r.status&&typeof r.status=="string"&&r.status.trim()&&r.status!=="all"&&s.append("status",r.status.trim()),r.startDate&&typeof r.startDate=="string"&&r.startDate.trim()&&s.append("startDate",r.startDate.trim()),r.endDate&&typeof r.endDate=="string"&&r.endDate.trim()&&s.append("endDate",r.endDate.trim()),r.page&&s.append("page",r.page.toString()),r.limit&&s.append("limit",r.limit.toString());const a=_e(`/api/admin/fee-transactions${s.toString()?`?${s.toString()}`:""}`),n=await fetch(a,{method:"GET",headers:Oe(e)});return De(n)},async fetchPartnerWallet(e,r){const s=await fetch(_e(`/api/admin/adminwallets/${r}`),{headers:Oe(e)});return De(s)},async fetchAllWalletTransactions(e,r={}){const s=new URLSearchParams({...r.limit&&{limit:r.limit}}).toString(),a=await fetch(_e(`/api/admin/wallet-transactions?${s}`),{headers:Oe(e)});return De(a)},async addWalletTransaction(e,r){const s=await fetch(_e("/api/admin/partner/addwallets"),{method:"PUT",headers:Oe(e),body:JSON.stringify(r)});return De(s)},async fetchMGPlans(e){const r=await fetch(_e("/api/admin/mg-plans"),{headers:Oe(e)});return De(r)},async fetchSubscriptionPlans(e){try{const r=_e("/api/admin/subscription-plans"),s=await fetch(r,{headers:Oe(e)});if((s.headers.get("content-type")||"").includes("text/html")){const n=await s.text();throw console.error("Server returned HTML instead of JSON"),console.error("Response status:",s.status,s.statusText),new Error(`API endpoint returned HTML (${s.status}). Check if the endpoint exists: ${r}`)}return await De(s)}catch(r){throw console.error("Error fetching subscription plans:",r),r}},async createSubscriptionPlan(e,r){const s=await fetch(_e("/api/admin/subscription-plans"),{method:"POST",headers:Oe(e),body:JSON.stringify(r)});return De(s)},async updateSubscriptionPlan(e,r,s){const a=await fetch(_e(`/api/admin/subscription-plans/${r}`),{method:"PUT",headers:Oe(e),body:JSON.stringify(s)});return De(a)},async deleteSubscriptionPlan(e,r){const s=await fetch(_e(`/api/admin/subscription-plans/${r}`),{method:"DELETE",headers:Oe(e)});return De(s)},async fetchAMCPlans(e){try{const r=_e("/api/admin/amc-plans"),s=await fetch(r,{headers:Oe(e)});if((s.headers.get("content-type")||"").includes("text/html")){const n=await s.text();throw console.error("Server returned HTML instead of JSON"),console.error("Response status:",s.status,s.statusText),new Error(`API endpoint returned HTML (${s.status}). Check if the endpoint exists: ${r}`)}return await De(s)}catch(r){throw console.error("Error fetching AMC plans:",r),r}},async createAMCPlan(e,r){const s=await fetch(_e("/api/admin/amc-plans"),{method:"POST",headers:Oe(e),body:JSON.stringify(r)});return De(s)},async updateAMCPlan(e,r,s){const a=await fetch(_e(`/api/admin/amc-plans/${r}`),{method:"PUT",headers:Oe(e),body:JSON.stringify(s)});return De(a)},async deleteAMCPlan(e,r){const s=await fetch(_e(`/api/admin/amc-plans/${r}`),{method:"DELETE",headers:Oe(e)});return De(s)},async fetchAMCSubscribers(e){const r=await fetch(_e("/api/admin/amc-subscribers"),{headers:Oe(e)});return De(r)},async assignAMCSubscriptionToPartner(e,r){const s=await fetch(_e("/api/admin/amc-subscribers/assign-partner"),{method:"POST",headers:Oe(e),body:JSON.stringify(r)});return De(s)},async generateAMCPlansFromServices(e){const r=await fetch(_e("/api/admin/amc-plans/generate-from-services"),{method:"POST",headers:Oe(e)});return De(r)},async fetchFeaturedReviews(e){const r=await fetch(_e("/api/admin/featured-reviews"),{headers:Oe(e)});return De(r)},async createFeaturedReview(e,r){const s=await fetch(_e("/api/admin/featured-reviews"),{method:"POST",headers:Oe(e),body:JSON.stringify(r)});return De(s)},async updateFeaturedReview(e,r,s){const a=await fetch(_e(`/api/admin/featured-reviews/${r}`),{method:"PUT",headers:Oe(e),body:JSON.stringify(s)});return De(a)},async deleteFeaturedReview(e,r){const s=await fetch(_e(`/api/admin/featured-reviews/${r}`),{method:"DELETE",headers:Oe(e)});return De(s)},async createMGPlan(e,r){const s=await fetch(_e("/api/admin/mg-plans"),{method:"POST",headers:Oe(e),body:JSON.stringify(r)});return De(s)},async updateMGPlan(e,r,s){const a=await fetch(_e(`/api/admin/mg-plans/${r}`),{method:"PUT",headers:Oe(e),body:JSON.stringify(s)});return De(a)},async deleteMGPlan(e,r){const s=await fetch(_e(`/api/admin/mg-plans/${r}`),{method:"DELETE",headers:Oe(e)});return De(s)},async fetchPartnerServiceHubs(e,r){const s=await fetch(_e(`/api/admin/partners/${r}/service-hubs`),{headers:Oe(e)});return De(s)},async createPartnerServiceHub(e,r,s){const a=await fetch(_e(`/api/admin/partners/${r}/service-hubs`),{method:"POST",headers:Oe(e),body:JSON.stringify(s)});return De(a)},async updatePartnerServiceHub(e,r,s,a){const n=await fetch(_e(`/api/admin/partners/${r}/service-hubs/${s}`),{method:"PUT",headers:Oe(e),body:JSON.stringify(a)});return De(n)},async deletePartnerServiceHub(e,r,s){const a=await fetch(_e(`/api/admin/partners/${r}/service-hubs/${s}`),{method:"DELETE",headers:Oe(e)});return De(a)},async fetchHubs(e,r={}){const s=new URLSearchParams;r.status&&s.append("status",r.status),r.search&&s.append("search",r.search);const a=s.toString(),n=_e(`/api/admin/hubs${a?`?${a}`:""}`),i=await fetch(n,{headers:Oe(e)});return De(i)},async fetchHubById(e,r){const s=await fetch(_e(`/api/admin/hubs/${r}`),{headers:Oe(e)});return De(s)},async createHub(e,r){const s=await fetch(_e("/api/admin/hubs"),{method:"POST",headers:Oe(e),body:JSON.stringify(r)});return De(s)},async updateHub(e,r,s){const a=await fetch(_e(`/api/admin/hubs/${r}`),{method:"PUT",headers:Oe(e),body:JSON.stringify(s)});return De(a)},async deleteHub(e,r){const s=await fetch(_e(`/api/admin/hubs/${r}`),{method:"DELETE",headers:Oe(e)});return De(s)},async assignHubToPartner(e,r,s){const a=await fetch(_e(`/api/admin/hubs/${r}/assign-partner`),{method:"POST",headers:Oe(e),body:JSON.stringify({partnerId:s})});return De(a)},async unassignHubFromPartner(e,r,s){const a=await fetch(_e(`/api/admin/hubs/${r}/unassign-partner`),{method:"POST",headers:Oe(e),body:JSON.stringify({partnerId:s})});return De(a)},async fetchHubPartners(e,r){const s=await fetch(_e(`/api/admin/hubs/${r}/partners`),{headers:Oe(e)});return De(s)},async addAreaToHub(e,r,s){const a=await fetch(_e(`/api/admin/hubs/${r}/areas`),{method:"POST",headers:Oe(e),body:JSON.stringify(s)});return De(a)},async updateAreaInHub(e,r,s,a){const n=await fetch(_e(`/api/admin/hubs/${r}/areas/${s}`),{method:"PUT",headers:Oe(e),body:JSON.stringify(a)});return De(n)},async deleteAreaFromHub(e,r,s){const a=await fetch(_e(`/api/admin/hubs/${r}/areas/${s}`),{method:"DELETE",headers:Oe(e)});return De(a)},async fetchHubsByPinCode(e,r){const s=await fetch(_e(`/api/admin/hubs/pin-code/${r}`),{headers:Oe(e)});return De(s)},async fetchFees(e){const r=await fetch(_e("/api/admin/fees"),{headers:Oe(e)});return De(r)},async updateFees(e,r){const s=await fetch(_e("/api/admin/fees"),{method:"PUT",headers:Oe(e),body:JSON.stringify(r)});return De(s)},async fetchCategories(e){const r=await fetch(_e("/api/admin/service-categories"),{headers:Oe(e)});return De(r)},async createCategory(e,r){const s=await fetch(_e("/api/admin/service-category"),{method:"POST",headers:Oe(e),body:JSON.stringify(r)});return De(s)},async updateCategory(e,r,s){const a=await fetch(_e(`/api/admin/service-category/${r}`),{method:"PUT",headers:Oe(e),body:JSON.stringify(s)});return De(a)},async deleteCategory(e,r){const s=await fetch(_e(`/api/admin/service-category/${r}`),{method:"DELETE",headers:Oe(e)});return De(s)},async fetchPopularServices(e){const r=await fetch(_e("/api/admin/popular-services"),{headers:Oe(e)});return De(r)},async createPopularService(e,r){const s=await fetch(_e("/api/admin/popular-services"),{method:"POST",headers:Oe(e),body:JSON.stringify(r)});return De(s)},async updatePopularService(e,r,s){const a=await fetch(_e(`/api/admin/popular-services/${r}`),{method:"PUT",headers:Oe(e),body:JSON.stringify(s)});return De(a)},async deletePopularService(e,r){const s=await fetch(_e(`/api/admin/popular-services/${r}`),{method:"DELETE",headers:Oe(e)});return De(s)},async migratePopularServices(e){const r=await fetch(_e("/popular-services/migrate"),{method:"POST",headers:Oe(e)});return De(r)},async updatePopularServicesOrder(e,r){const s=await fetch(_e("/api/admin/popular-services/order/update"),{method:"PUT",headers:Oe(e),body:JSON.stringify({services:r})});return De(s)},async fetchAllCities(e){const r=await fetch(_e("/api/cities/all"),{headers:Oe(e)});return De(r)},async fetchModuleData(e,r,s={}){const a=await fetch(_e(e),{...s,headers:{...Oe(r),...s.headers||{}}});return De(a)},async fetchMaterialCategories(e){const r=await fetch(_e("/api/admin/material-categories"),{headers:Oe(e)});return De(r)},async fetchMaterialCategory(e,r){const s=await fetch(_e(`/api/admin/material-categories/${r}`),{headers:Oe(e)});return De(s)},async createMaterialCategory(e,r){const s=await fetch(_e("/api/admin/material-categories"),{method:"POST",headers:Oe(e),body:JSON.stringify(r)});return De(s)},async updateMaterialCategory(e,r,s){const a=await fetch(_e(`/api/admin/material-categories/${r}`),{method:"PUT",headers:Oe(e),body:JSON.stringify(s)});return De(a)},async deleteMaterialCategory(e,r){const s=await fetch(_e(`/api/admin/material-categories/${r}`),{method:"DELETE",headers:Oe(e)});return De(s)},async updateMaterialCategoryOrder(e,r){const s=await fetch(_e("/api/admin/material-categories/order/update"),{method:"PUT",headers:Oe(e),body:JSON.stringify({categories:r})});return De(s)},async fetchInventoryItems(e,r={}){const s=new URLSearchParams;r.category&&s.append("category",r.category),r.location&&s.append("location",r.location),r.status&&s.append("status",r.status),r.search&&s.append("search",r.search);const a=s.toString(),n=_e(`/api/admin/inventory/items${a?`?${a}`:""}`),i=await fetch(n,{headers:Oe(e)});return De(i)},async fetchInventoryStats(e){const r=await fetch(_e("/api/admin/inventory/items/stats"),{headers:Oe(e)});return De(r)},async fetchInventoryItem(e,r){const s=await fetch(_e(`/api/admin/inventory/items/${r}`),{headers:Oe(e)});return De(s)},async createInventoryItem(e,r){const s=await fetch(_e("/api/admin/inventory/items"),{method:"POST",headers:Oe(e),body:JSON.stringify(r)});return De(s)},async updateInventoryItem(e,r,s){const a=await fetch(_e(`/api/admin/inventory/items/${r}`),{method:"PUT",headers:Oe(e),body:JSON.stringify(s)});return De(a)},async deleteInventoryItem(e,r){const s=await fetch(_e(`/api/admin/inventory/items/${r}`),{method:"DELETE",headers:Oe(e)});return De(s)},async fetchInventoryItemHistory(e,r){const s=await fetch(_e(`/api/admin/inventory/items/${r}/history`),{headers:Oe(e)});return De(s)},async fetchPurchaseOrders(e,r={}){const s=new URLSearchParams;r.status&&s.append("status",r.status),r.supplier&&s.append("supplier",r.supplier),r.search&&s.append("search",r.search);const a=s.toString(),n=_e(`/api/admin/inventory/purchase-orders${a?`?${a}`:""}`),i=await fetch(n,{headers:Oe(e)});return De(i)},async fetchPurchaseOrder(e,r){const s=await fetch(_e(`/api/admin/inventory/purchase-orders/${r}`),{headers:Oe(e)});return De(s)},async createPurchaseOrder(e,r){const s=await fetch(_e("/api/admin/inventory/purchase-orders"),{method:"POST",headers:Oe(e),body:JSON.stringify(r)});return De(s)},async updatePurchaseOrder(e,r,s){const a=await fetch(_e(`/api/admin/inventory/purchase-orders/${r}`),{method:"PUT",headers:Oe(e),body:JSON.stringify(s)});return De(a)},async deletePurchaseOrder(e,r){const s=await fetch(_e(`/api/admin/inventory/purchase-orders/${r}`),{method:"DELETE",headers:Oe(e)});return De(s)},async fetchThresholds(e){const r=await fetch(_e("/api/admin/inventory/thresholds"),{headers:Oe(e)});return De(r)},async fetchThreshold(e,r){const s=await fetch(_e(`/api/admin/inventory/thresholds/${r}`),{headers:Oe(e)});return De(s)},async upsertThreshold(e,r){const s=await fetch(_e("/api/admin/inventory/thresholds"),{method:"POST",headers:Oe(e),body:JSON.stringify(r)});return De(s)},async deleteThreshold(e,r){const s=await fetch(_e(`/api/admin/inventory/thresholds/${r}`),{method:"DELETE",headers:Oe(e)});return De(s)},async updateFCMToken(e,r){const s=await fetch(_e("/api/firebase/token"),{method:"POST",headers:Oe(e),body:JSON.stringify({fcmToken:r,isAdmin:!0})});return De(s)},async getNotifications(e){const r=await fetch(_e("/api/firebase"),{headers:Oe(e)});return De(r)},async getAllQuotations(e,r={}){const s=new URLSearchParams(r).toString(),a=await fetch(_e(`/api/admin/quotations?${s}`),{headers:Oe(e)});return De(a)},async getQuotationById(e,r){const s=await fetch(_e(`/api/admin/quotations/${r}`),{headers:Oe(e)});return De(s)},async approveQuotation(e,r){const s=await fetch(_e(`/api/admin/quotations/${r}/approve`),{method:"PUT",headers:Oe(e)});return De(s)},async rejectQuotation(e,r,s){const a=await fetch(_e(`/api/admin/quotations/${r}/reject`),{method:"PUT",headers:Oe(e),body:JSON.stringify({rejectionReason:s})});return De(a)},async markNotificationsAsRead(e){const r=await fetch(_e("/api/firebase/mark-read"),{method:"PUT",headers:Oe(e)});return De(r)},async markNotificationAsRead(e,r){const s=await fetch(_e(`/api/firebase/${r}/mark-read`),{method:"PUT",headers:Oe(e)});return De(s)},async initializeWhatsApp(e){const r=await fetch(_e("/api/admin/whatsapp/initialize"),{method:"POST",headers:Oe(e)});return De(r)},async getWhatsAppQRCode(e){const r=await fetch(_e("/api/admin/whatsapp/qr-code"),{method:"GET",headers:Oe(e)});return De(r)},async getWhatsAppStatus(e){const r=await fetch(_e("/api/admin/whatsapp/status"),{method:"GET",headers:Oe(e)});return De(r)},async disconnectWhatsApp(e){const r=await fetch(_e("/api/admin/whatsapp/disconnect"),{method:"POST",headers:Oe(e)});return De(r)},async sendTestWhatsAppMessage(e,r,s){const a=await fetch(_e("/api/admin/whatsapp/test-message"),{method:"POST",headers:Oe(e),body:JSON.stringify({phoneNumber:r,message:s})});return De(a)},async reconnectWhatsApp(e){const r=await fetch(_e("/api/admin/whatsapp/reconnect"),{method:"POST",headers:Oe(e)});return De(r)},async setAutoReconnect(e,r){const s=await fetch(_e("/api/admin/whatsapp/auto-reconnect"),{method:"POST",headers:Oe(e),body:JSON.stringify({enabled:r})});return De(s)},async manualPartnerRegistration(e,r){const s=await fetch(_e("/api/admin/partners/manual-register"),{method:"POST",headers:Oe(e),body:JSON.stringify(r)});return De(s)},async fetchCustomers(e,r={}){const s=new URLSearchParams({page:r.page||1,limit:r.limit||10,...r.search&&{search:r.search},...r.status&&{status:r.status}}).toString(),a=await fetch(_e(`/api/admin/customers?${s}`),{headers:Oe(e)});return await De(a)},async getCustomerBookingsPartnerWise(e,r={}){const s=new URLSearchParams({...r.dateRange&&{dateRange:r.dateRange},...r.status&&r.status!=="all"&&{status:r.status},...r.partnerType&&r.partnerType!=="all"&&{partnerType:r.partnerType}}).toString(),a=await fetch(_e(`/api/admin/customer-bookings/partner-wise?${s}`),{headers:Oe(e)});return await De(a)}},q9=g.createContext(null),K9={isLoading:!0,isAuthenticated:!1,admin:null,token:null,error:null};function ese(e,r){var s,a,n;switch(r.type){case"INIT":return{...e,isLoading:!1,isAuthenticated:!!((s=r.payload)!=null&&s.token),admin:((a=r.payload)==null?void 0:a.admin)??null,token:((n=r.payload)==null?void 0:n.token)??null};case"LOGIN_START":return{...e,isLoading:!0,error:null};case"LOGIN_SUCCESS":return{...e,isLoading:!1,isAuthenticated:!0,admin:r.payload.admin,token:r.payload.token,error:null};case"LOGIN_ERROR":return{...e,isLoading:!1,isAuthenticated:!1,admin:null,token:null,error:r.payload};case"LOGOUT":return{...K9,isLoading:!1};default:return e}}const tse=({children:e})=>{const[r,s]=g.useReducer(ese,K9);g.useEffect(()=>{const i=localStorage.getItem("nexo_admin_auth");if(i)try{const l=JSON.parse(i);s({type:"INIT",payload:l})}catch(l){console.error("Failed to parse admin auth cache",l),localStorage.removeItem("nexo_admin_auth"),s({type:"INIT",payload:null})}else s({type:"INIT",payload:null})},[]);const a=p4(He,r.token,r.isAuthenticated),n=g.useMemo(()=>({...r,notifications:a,login:async(i,l)=>{var o,c;s({type:"LOGIN_START"});try{const d=await i(l),u={token:d.token,admin:d.admin};return localStorage.setItem("nexo_admin_auth",JSON.stringify(u)),s({type:"LOGIN_SUCCESS",payload:u}),u}catch(d){const u=(d==null?void 0:d.message)??((c=(o=d==null?void 0:d.response)==null?void 0:o.data)==null?void 0:c.message)??"Unable to login";throw s({type:"LOGIN_ERROR",payload:u}),new Error(u)}},logout:()=>{localStorage.removeItem("nexo_admin_auth"),xZ(),s({type:"LOGOUT"})},clearError:()=>s({type:"LOGIN_ERROR",payload:null})}),[r,a]);return t.jsx(q9.Provider,{value:n,children:e})},wr=()=>{const e=g.useContext(q9);if(!e)throw new Error("useAdminAuth must be used within AdminAuthProvider");return e},rse=()=>{const e=Qt(),r=Br(),{login:s,error:a,clearError:n}=wr(),[i,l]=g.useState({email:"",password:""}),[o,c]=g.useState(!1),[d,u]=g.useState(null),m=h=>{const{name:p,value:f}=h.target;l(b=>({...b,[p]:f})),u(null),a&&n()},x=async h=>{var f,b;h.preventDefault(),c(!0),u(null);let p=null;if("Notification"in window){const j=Notification.permission;if(j==="default"||j==="denied")try{p=Notification.requestPermission()}catch(w){console.error("Cannot request notification permission:",w)}}try{await s(He.login,i),p&&await p==="granted"&&setTimeout(()=>{window.dispatchEvent(new Event("notificationPermissionGranted"))},500);const j=((b=(f=r.state)==null?void 0:f.from)==null?void 0:b.pathname)??"/admin/dashboard";e(j,{replace:!0})}catch(j){u(j.message)}finally{c(!1)}};return t.jsxs("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center px-4 py-10",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/30 via-primary-dark/30 to-slate-950 opacity-70 pointer-events-none"}),t.jsxs(E.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.5},className:"relative max-w-md w-full bg-white/5 backdrop-blur-xl border border-white/10 rounded-3xl p-8 shadow-2xl",children:[t.jsxs("div",{className:"flex flex-col items-center text-center gap-4",children:[t.jsx("div",{className:"w-16 h-16 rounded-2xl bg-primary/20 text-primary flex items-center justify-center",children:t.jsx(Xa,{className:"text-3xl"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-semibold text-white",children:"Nexo Admin Access"}),t.jsx("p",{className:"text-sm text-white/60 mt-2",children:"Secure sign-in for operations and leadership teams."})]})]}),t.jsxs("form",{className:"mt-8 space-y-5",onSubmit:x,children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-white/80 mb-2",children:"Work Email"}),t.jsxs("div",{className:"relative",children:[t.jsx(en,{className:"absolute left-3 top-3.5 text-white/40"}),t.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"username",required:!0,value:i.email,onChange:m,className:"w-full bg-white/10 border border-white/10 text-white placeholder:text-white/40 rounded-xl py-3 pl-10 pr-4 focus:outline-none focus:ring-2 focus:ring-primary focus:bg-white/15 transition",placeholder:"ops@nexo.in"})]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-white/80 mb-2",children:"Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(_s,{className:"absolute left-3 top-3.5 text-white/40"}),t.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:i.password,onChange:m,className:"w-full bg-white/10 border border-white/10 text-white placeholder:text-white/40 rounded-xl py-3 pl-10 pr-4 focus:outline-none focus:ring-2 focus:ring-primary focus:bg-white/15 transition",placeholder:""})]})]}),(a||d)&&t.jsx("p",{className:"text-sm text-rose-300 bg-rose-500/10 border border-rose-500/30 rounded-lg px-4 py-3",children:d||a}),t.jsxs(E.button,{whileTap:{scale:.98},type:"submit",disabled:o,className:"w-full flex items-center justify-center gap-2 bg-primary hover:bg-primary-dark text-white font-semibold rounded-xl py-3 transition disabled:opacity-70 disabled:cursor-not-allowed",children:[o&&t.jsx("span",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),o?"Verifying access...":"Sign In"]})]}),t.jsx("div",{className:"mt-8 border-t border-white/10 pt-4 text-xs text-white/40 text-center leading-relaxed",children:"Nexo Admin Console is restricted to authorized personnel. All access is monitored and logged for compliance."})]})]})},wP=()=>{const{notifications:e}=wr(),[r,s]=g.useState(!1),a=g.useRef(null),n=(e==null?void 0:e.notifications)||[],i=(e==null?void 0:e.unreadCount)||0,l=e==null?void 0:e.markAsRead,o=e==null?void 0:e.fetchNotifications;g.useEffect(()=>{const m=x=>{a.current&&!a.current.contains(x.target)&&s(!1)};return document.addEventListener("mousedown",m),()=>{document.removeEventListener("mousedown",m)}},[]),g.useEffect(()=>{o&&o()},[o]);const c=async(m=null)=>{l&&(await l(m),o&&await o())},d=async()=>{l&&(await l(),o&&await o())},u=m=>{if(!m)return"";const x=new Date(m),p=new Date-x,f=Math.floor(p/6e4),b=Math.floor(p/36e5),j=Math.floor(p/864e5);return f<1?"Just now":f<60?`${f}m ago`:b<24?`${b}h ago`:j<7?`${j}d ago`:x.toLocaleDateString()};return t.jsxs("div",{className:"relative",ref:a,children:[t.jsxs("button",{onClick:()=>s(!r),className:"relative p-2 text-slate-600 hover:text-slate-900 hover:bg-slate-100 rounded-lg transition-colors","aria-label":"Notifications",children:[t.jsx(Sn,{className:"w-5 h-5"}),i>0&&t.jsx("span",{className:"absolute top-0 right-0 flex h-4 w-4 items-center justify-center rounded-full bg-red-500 text-xs font-semibold text-white transition-opacity duration-200",children:i>9?"9+":i},i)]}),r&&t.jsxs("div",{className:"absolute right-0 mt-2 w-80 md:w-96 bg-white rounded-xl shadow-2xl border border-slate-200 z-50 max-h-[calc(100vh-120px)] sm:max-h-[600px] flex flex-col overflow-hidden",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-200",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Notifications"}),t.jsxs("div",{className:"flex items-center gap-2",children:[i>0&&t.jsx("button",{onClick:d,className:"text-xs text-primary hover:text-primary-dark font-medium",children:"Mark all read"}),t.jsx("button",{onClick:()=>s(!1),className:"p-1 hover:bg-slate-100 rounded-lg transition-colors",children:t.jsx(mt,{className:"w-4 h-4"})})]})]}),t.jsx("div",{className:"overflow-y-auto flex-1",children:n.length===0?t.jsxs("div",{className:"p-8 text-center text-slate-500",children:[t.jsx(Sn,{className:"w-12 h-12 mx-auto mb-3 text-slate-300"}),t.jsx("p",{className:"text-sm",children:"No notifications yet"})]}):t.jsx("div",{className:"divide-y divide-slate-100",children:n.map(m=>{var h;const x=!m.seen&&!m.read;return t.jsx("div",{className:`p-4 hover:bg-slate-50 transition-colors cursor-pointer ${x?"bg-blue-50/50":""}`,onClick:()=>{x&&c(m._id||m.id)},children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex-shrink-0 mt-1",children:t.jsx("div",{className:"w-2 h-2 rounded-full bg-primary"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-sm font-medium text-slate-900 break-words line-clamp-2",children:m.title||((h=m.message)==null?void 0:h.split(": ")[0])||"New notification"}),m.message&&t.jsx("p",{className:"text-xs text-slate-600 mt-1 break-words line-clamp-2",children:m.title?m.message:m.message.split(": ").slice(1).join(": ")||m.message}),t.jsx("p",{className:"text-xs text-slate-400 mt-2",children:u(m.date||m.createdAt)})]}),x&&t.jsx("div",{className:"flex-shrink-0",children:t.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"})})]})},m._id||m.id||Math.random())})})}),n.length>0&&t.jsx("div",{className:"p-3 border-t border-slate-200 bg-slate-50",children:t.jsx("button",{onClick:()=>{s(!1)},className:"w-full text-sm text-center text-primary hover:text-primary-dark font-medium",children:"View all notifications"})})]})]})},f4=({notification:e,onClose:r,onMarkAsRead:s})=>{var o;const[a,n]=g.useState(!1);if(g.useEffect(()=>{if(e){n(!0);const c=setTimeout(()=>{n(!1),setTimeout(()=>{r&&r()},300)},5e3);return()=>clearTimeout(c)}else n(!1)},[e,r]),!e)return null;const i=c=>{switch(c){case"success":return t.jsx(vt,{className:"w-6 h-6 text-emerald-500"});case"alert":return t.jsx(Zi,{className:"w-6 h-6 text-amber-500"});case"message":return t.jsx(zf,{className:"w-6 h-6 text-blue-500"});case"job":return t.jsx(as,{className:"w-6 h-6 text-purple-500"});case"info":default:return t.jsx(ZO,{className:"w-6 h-6 text-slate-500"})}},l=()=>{s&&e._id&&s(e._id),n(!1),setTimeout(()=>{r()},300)};return t.jsx(wl,{children:a&&t.jsx("div",{className:"fixed inset-0 z-[10000] flex items-start justify-end pointer-events-none overflow-hidden",style:{padding:"0.5rem"},children:t.jsx(E.div,{initial:{opacity:0,x:400,y:0},animate:{opacity:1,x:0,y:0},exit:{opacity:0,x:400},transition:{type:"spring",damping:25,stiffness:300},className:"bg-white rounded-xl shadow-2xl border border-slate-200 p-4 sm:p-6 pointer-events-auto overflow-hidden flex flex-col",style:{maxWidth:"min(calc(100vw - 1rem), 28rem)",width:"calc(100vw - 1rem)",maxHeight:"calc(100vh - 1rem)",marginTop:"0.5rem",marginRight:"0.5rem"},children:t.jsxs("div",{className:"flex items-start gap-3 sm:gap-4 flex-shrink-0 min-w-0",children:[t.jsx("div",{className:"flex-shrink-0 mt-0.5",children:i(e.type||"info")}),t.jsxs("div",{className:"flex-1 min-w-0 overflow-hidden",children:[t.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[t.jsx("h3",{className:"text-sm sm:text-base font-semibold text-slate-900 break-words pr-2 flex-1 min-w-0",children:e.title||((o=e.message)==null?void 0:o.split(": ")[0])||"New Notification"}),t.jsx("button",{onClick:()=>{n(!1),setTimeout(()=>r(),300)},className:"flex-shrink-0 p-1 hover:bg-slate-100 rounded-lg transition-colors","aria-label":"Close",children:t.jsx(mt,{className:"w-4 h-4 sm:w-5 sm:h-5 text-slate-400"})})]}),e.message&&t.jsx("p",{className:"text-xs sm:text-sm text-slate-600 mb-3 break-words overflow-wrap-anywhere line-clamp-3",children:e.title?e.message:e.message.split(": ").slice(1).join(": ")||e.message}),t.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 flex-shrink-0",children:[t.jsx("button",{onClick:l,className:"flex-1 px-3 sm:px-4 py-2 bg-primary text-white rounded-lg text-xs sm:text-sm font-semibold hover:bg-primary-dark transition-colors whitespace-nowrap",children:"Mark as Read"}),t.jsx("button",{onClick:()=>{n(!1),setTimeout(()=>r(),300)},className:"flex-1 px-3 sm:px-4 py-2 bg-slate-100 text-slate-700 rounded-lg text-xs sm:text-sm font-semibold hover:bg-slate-200 transition-colors whitespace-nowrap",children:"Dismiss"})]})]})]})})})})},rp=[{label:"Overview",icon:Za,to:"/admin/dashboard"},{label:"Partner Control",icon:Mr,to:"/admin/partners"},{label:"Vendor Management",icon:t9,to:"/admin/vendors"},{label:"Customers",icon:Mr,to:"/admin/customers"},{label:"Customer Bookings",icon:rZ,to:"/admin/customer-bookings"},{label:"Category Management",icon:r4,to:"/admin/categories"},{label:"Popular Services",icon:Vo,to:"/admin/popular-services"},{label:"AMC Plans",icon:as,to:"/admin/amc-plans"},{label:"Featured Reviews",icon:zf,to:"/admin/featured-reviews"},{label:"Hub Management",icon:Pr,to:"/admin/hubs"},{label:"City Management",icon:ZN,to:"/admin/cities"},{label:"Spare Parts",icon:fs,to:"/admin/spares"},{label:"AMC Management",icon:as,to:"/admin/amc"},{label:"Lead Management",icon:lr,to:"/admin/leads"},{label:"MG Plans",icon:pn,to:"/admin/mg-plans"},{label:"Fee Management",icon:Xt,to:"/admin/fees"},{label:"Fee Transactions",icon:hs,to:"/admin/fee-transactions"},{label:"Reports",icon:kl,to:"/admin/reports"},{label:"Notifications",icon:Sn,to:"/admin/notifications"},{label:"Refund Management",icon:Dt,to:"/admin/refunds"},{label:"WhatsApp Settings",icon:zf,to:"/admin/whatsapp-settings"}],sse=()=>{var d,u;const{admin:e,logout:r,notifications:s}=wr(),a=Qt(),n=Br(),[i,l]=g.useState(!1),o=g.useMemo(()=>{const m=rp.find(x=>n.pathname.startsWith(x.to));return(m==null?void 0:m.label)??"Overview"},[n.pathname]),c=()=>{r(),a("/admin")};return t.jsxs("div",{className:"min-h-screen bg-slate-100 text-slate-900 flex flex-col",children:[t.jsx("header",{className:"lg:hidden bg-white shadow-md border-b border-slate-200 fixed top-0 left-0 right-0 z-[60] w-full",children:t.jsxs("div",{className:"px-4 py-3 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("button",{onClick:()=>l(!i),className:"p-2 hover:bg-slate-100 rounded-lg transition",type:"button",children:i?t.jsx(mt,{className:"text-xl"}):t.jsx($y,{className:"text-xl"})}),t.jsx("div",{children:t.jsx("h1",{className:"text-lg font-semibold tracking-tight",children:"Nexo Admin"})})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(wP,{}),t.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-primary to-primary-dark text-white flex items-center justify-center uppercase font-bold shadow-inner text-sm",children:(((d=e==null?void 0:e.name)==null?void 0:d[0])??"A").toUpperCase()})]})]})}),t.jsxs("div",{className:"flex relative flex-1 pt-[64px] lg:pt-0",children:[t.jsxs("aside",{className:"hidden lg:flex lg:w-72 xl:w-80 flex-col bg-slate-900 text-white fixed top-0 left-0 h-screen overflow-hidden z-40",children:[t.jsxs("div",{className:"px-6 py-6 border-b border-slate-800 flex-shrink-0 bg-slate-900 sticky top-0 z-10",children:[t.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"Nexo Admin"}),t.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Operations Control Center"})]}),t.jsx("nav",{className:"flex-1 px-3 py-6 space-y-1 overflow-y-auto overscroll-contain scrollbar-thin scrollbar-thumb-slate-700 scrollbar-track-transparent",children:rp.map(m=>{const x=m.icon;return t.jsxs(Dv,{to:m.to,className:({isActive:h})=>`flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-medium transition-all duration-200 relative group ${h?"bg-white text-slate-900 shadow-lg shadow-white/20":"text-slate-200 hover:bg-slate-800/70"}`,children:[t.jsx(x,{className:"text-lg transition-transform duration-200 group-hover:scale-110"}),m.label]},m.to)})}),t.jsx("div",{className:"px-6 py-6 border-t border-slate-800 flex-shrink-0 bg-slate-900 sticky bottom-0 z-10",children:t.jsxs("button",{onClick:c,className:"w-full inline-flex items-center justify-center gap-2 px-4 py-3 text-sm font-semibold rounded-xl bg-slate-800 hover:bg-slate-700 transition",type:"button",children:[t.jsx(Ho,{})," Logout"]})})]}),i&&t.jsx("div",{className:"lg:hidden fixed inset-0 z-[70] bg-black/50 backdrop-blur-sm transition-opacity",onClick:()=>l(!1),children:t.jsxs("div",{className:"w-80 max-w-[85vw] bg-slate-900 text-white h-full shadow-2xl overflow-y-auto flex flex-col",onClick:m=>m.stopPropagation(),children:[t.jsx("div",{className:"px-6 py-6 border-b border-slate-800 flex-shrink-0 sticky top-0 bg-slate-900 z-10",children:t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-xl font-semibold tracking-tight",children:"Nexo Admin"}),t.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Operations Control Center"})]}),t.jsx("button",{onClick:()=>l(!1),className:"p-2 hover:bg-slate-800 rounded-lg transition text-white",type:"button",children:t.jsx(mt,{className:"text-xl"})})]})}),t.jsx("nav",{className:"flex-1 px-3 py-6 space-y-1 overflow-y-auto",children:rp.map(m=>{const x=m.icon;return t.jsxs(Dv,{to:m.to,onClick:()=>l(!1),className:({isActive:h})=>`flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-medium transition ${h?"bg-white text-slate-900 shadow-lg":"text-slate-200 hover:bg-slate-800/70"}`,children:[t.jsx(x,{className:"text-lg"}),m.label]},m.to)})}),t.jsx("div",{className:"px-6 py-6 border-t border-slate-800 flex-shrink-0 sticky bottom-0 bg-slate-900 z-10",children:t.jsxs("button",{onClick:c,className:"w-full inline-flex items-center justify-center gap-2 px-4 py-3 text-sm font-semibold rounded-xl bg-slate-800 hover:bg-slate-700 transition text-white",type:"button",children:[t.jsx(Ho,{})," Logout"]})})]})}),t.jsxs("div",{className:"flex-1 min-w-0 w-full lg:ml-72 xl:ml-80",children:[t.jsx("header",{className:"hidden lg:block bg-white shadow-sm border-b border-slate-200 sticky top-0 z-30",children:t.jsxs("div",{className:"px-5 sm:px-8 py-5 flex items-center justify-between gap-4",children:[t.jsxs("div",{children:[t.jsxs("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:["Admin / ",o]}),t.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Admin Dashboard"})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(wP,{}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-700",children:(e==null?void 0:e.name)??"Admin"}),t.jsx("p",{className:"text-xs text-slate-400",children:(e==null?void 0:e.role)??"Super Admin"})]}),t.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-primary to-primary-dark text-white flex items-center justify-center uppercase font-bold shadow-inner",children:(((u=e==null?void 0:e.name)==null?void 0:u[0])??"A").toUpperCase()})]})]})}),t.jsx("nav",{className:"lg:hidden bg-white border-b border-slate-200 sticky top-[64px] z-[55]",children:t.jsx("div",{className:"px-4 py-3 flex items-center gap-2 overflow-x-auto scrollbar-hide",children:rp.map(m=>{const x=m.icon;return t.jsxs(Dv,{to:m.to,className:({isActive:h})=>`flex items-center gap-2 px-4 py-2 rounded-full text-xs font-semibold whitespace-nowrap transition ${h?"bg-primary text-white shadow-md":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:[t.jsx(x,{className:"text-sm"}),m.label]},m.to)})})}),t.jsx("main",{className:"px-4 sm:px-6 lg:px-8 py-6 min-h-screen",children:t.jsx(Ql,{})})]})]}),t.jsx(f4,{notification:s==null?void 0:s.currentNotification,onClose:(s==null?void 0:s.closeNotificationDialog)||(()=>{}),onMarkAsRead:(s==null?void 0:s.markNotificationAsRead)||(()=>{})})]})},ase=()=>{const{isAuthenticated:e,isLoading:r}=wr(),s=Br();return r?t.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-900 text-white",children:t.jsxs("div",{className:"flex flex-col items-center gap-4",children:[t.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"}),t.jsx("p",{className:"text-sm font-medium tracking-wide text-white/80",children:"Loading control center..."})]})}):e?t.jsx(Ql,{}):t.jsx(kd,{to:"/admin",state:{from:s},replace:!0})},gs=({title:e,subtitle:r,actions:s})=>t.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-end lg:justify-between gap-4 mb-8",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-semibold text-slate-900",children:e}),r&&t.jsx("p",{className:"text-sm text-slate-500 mt-2 max-w-2xl",children:r})]}),s&&t.jsx("div",{className:"flex flex-wrap gap-3",children:s})]}),Xn=({label:e,value:r,trend:s,intent:a="positive",description:n,icon:i,color:l="bg-primary",gradient:o})=>{const c=a==="negative"?"text-rose-500 bg-rose-500/10 border-rose-500/20":a==="warning"?"text-amber-500 bg-amber-500/10 border-amber-500/20":"text-emerald-500 bg-emerald-500/10 border-emerald-500/20",d=o?`bg-gradient-to-br ${o}`:`${l} bg-opacity-10`;return t.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 shadow-md hover:shadow-lg transition-all duration-300 px-5 py-6 flex flex-col gap-4 relative overflow-hidden group",children:[t.jsx("div",{className:`absolute top-0 right-0 w-24 h-24 ${d} rounded-full -mr-12 -mt-12 opacity-10 group-hover:opacity-20 transition-opacity`}),t.jsxs("div",{className:"flex items-start justify-between gap-3 relative z-10",children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500 mb-1",children:e}),t.jsx("p",{className:"text-3xl font-bold text-slate-900 mt-1 mb-2",children:typeof r=="number"?r.toLocaleString("en-IN"):r}),s&&t.jsx("div",{className:"flex items-center gap-2 mt-2",children:t.jsx("span",{className:`text-xs font-semibold px-3 py-1.5 rounded-lg border ${c} inline-flex items-center gap-1`,children:s})}),n&&t.jsx("p",{className:"text-xs text-slate-500 mt-2 leading-relaxed",children:n})]}),i&&t.jsx("div",{className:`w-14 h-14 rounded-xl ${d} flex items-center justify-center flex-shrink-0 shadow-sm group-hover:scale-110 transition-transform duration-300`,children:t.jsx(i,{className:`text-xl ${o?"text-white":"text-primary"}`})})]}),t.jsx("div",{className:"relative z-10 mt-2",children:t.jsx("div",{className:"h-0.5 bg-slate-100 rounded-full overflow-hidden",children:t.jsx("div",{className:`h-full ${o?`bg-gradient-to-r ${o}`:l} rounded-full transition-all duration-500`,style:{width:"100%"}})})})]})};function Y9(e){var r,s,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var n=e.length;for(r=0;r<n;r++)e[r]&&(s=Y9(e[r]))&&(a&&(a+=" "),a+=s)}else for(s in e)e[s]&&(a&&(a+=" "),a+=s);return a}function ar(){for(var e,r,s=0,a="",n=arguments.length;s<n;s++)(e=arguments[s])&&(r=Y9(e))&&(a&&(a+=" "),a+=r);return a}var nse=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function g4(e){if(typeof e!="string")return!1;var r=nse;return r.includes(e)}var ise=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function X9(e){if(typeof e!="string")return!1;var r=ise;return r.includes(e)}function J9(e){return typeof e=="string"&&e.startsWith("data-")}function La(e){var r=Object.entries(e).filter(s=>{var[a]=s;return X9(a)||J9(a)});return Object.fromEntries(r)}function ud(e){if(e==null)return null;if(g.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var r=e.props;return La(r)}return typeof e=="object"&&!Array.isArray(e)?La(e):null}function wa(e){var r=Object.entries(e).filter(s=>{var[a]=s;return X9(a)||J9(a)||g4(a)});return Object.fromEntries(r)}function lse(e){return e==null?null:g.isValidElement(e)?wa(e.props):typeof e=="object"&&!Array.isArray(e)?wa(e):null}var ose=["children","width","height","viewBox","className","style","title","desc"];function Nj(){return Nj=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Nj.apply(null,arguments)}function cse(e,r){if(e==null)return{};var s,a,n=dse(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function dse(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var y4=g.forwardRef((e,r)=>{var{children:s,width:a,height:n,viewBox:i,className:l,style:o,title:c,desc:d}=e,u=cse(e,ose),m=i||{width:a,height:n,x:0,y:0},x=ar("recharts-surface",l);return g.createElement("svg",Nj({},wa(u),{className:x,width:a,height:n,style:o,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:r}),g.createElement("title",null,c),g.createElement("desc",null,d),s)}),use=["children","className"];function Sj(){return Sj=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Sj.apply(null,arguments)}function mse(e,r){if(e==null)return{};var s,a,n=hse(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function hse(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var ls=g.forwardRef((e,r)=>{var{children:s,className:a}=e,n=mse(e,use),i=ar("recharts-layer",a);return g.createElement("g",Sj({className:i},wa(n),{ref:r}),s)}),Q9=g.createContext(null),xse=()=>g.useContext(Q9);function kr(e){return function(){return e}}const Z9=Math.cos,Kf=Math.sin,Ii=Math.sqrt,Yf=Math.PI,Vy=2*Yf,kj=Math.PI,Cj=2*kj,kc=1e-6,pse=Cj-kc;function eD(e){this._+=e[0];for(let r=1,s=e.length;r<s;++r)this._+=arguments[r]+e[r]}function fse(e){let r=Math.floor(e);if(!(r>=0))throw new Error(`invalid digits: ${e}`);if(r>15)return eD;const s=10**r;return function(a){this._+=a[0];for(let n=1,i=a.length;n<i;++n)this._+=Math.round(arguments[n]*s)/s+a[n]}}class gse{constructor(r){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=r==null?eD:fse(r)}moveTo(r,s){this._append`M${this._x0=this._x1=+r},${this._y0=this._y1=+s}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(r,s){this._append`L${this._x1=+r},${this._y1=+s}`}quadraticCurveTo(r,s,a,n){this._append`Q${+r},${+s},${this._x1=+a},${this._y1=+n}`}bezierCurveTo(r,s,a,n,i,l){this._append`C${+r},${+s},${+a},${+n},${this._x1=+i},${this._y1=+l}`}arcTo(r,s,a,n,i){if(r=+r,s=+s,a=+a,n=+n,i=+i,i<0)throw new Error(`negative radius: ${i}`);let l=this._x1,o=this._y1,c=a-r,d=n-s,u=l-r,m=o-s,x=u*u+m*m;if(this._x1===null)this._append`M${this._x1=r},${this._y1=s}`;else if(x>kc)if(!(Math.abs(m*c-d*u)>kc)||!i)this._append`L${this._x1=r},${this._y1=s}`;else{let h=a-l,p=n-o,f=c*c+d*d,b=h*h+p*p,j=Math.sqrt(f),w=Math.sqrt(x),y=i*Math.tan((kj-Math.acos((f+x-b)/(2*j*w)))/2),v=y/w,N=y/j;Math.abs(v-1)>kc&&this._append`L${r+v*u},${s+v*m}`,this._append`A${i},${i},0,0,${+(m*h>u*p)},${this._x1=r+N*c},${this._y1=s+N*d}`}}arc(r,s,a,n,i,l){if(r=+r,s=+s,a=+a,l=!!l,a<0)throw new Error(`negative radius: ${a}`);let o=a*Math.cos(n),c=a*Math.sin(n),d=r+o,u=s+c,m=1^l,x=l?n-i:i-n;this._x1===null?this._append`M${d},${u}`:(Math.abs(this._x1-d)>kc||Math.abs(this._y1-u)>kc)&&this._append`L${d},${u}`,a&&(x<0&&(x=x%Cj+Cj),x>pse?this._append`A${a},${a},0,1,${m},${r-o},${s-c}A${a},${a},0,1,${m},${this._x1=d},${this._y1=u}`:x>kc&&this._append`A${a},${a},0,${+(x>=kj)},${m},${this._x1=r+a*Math.cos(i)},${this._y1=s+a*Math.sin(i)}`)}rect(r,s,a,n){this._append`M${this._x0=this._x1=+r},${this._y0=this._y1=+s}h${a=+a}v${+n}h${-a}Z`}toString(){return this._}}function b4(e){let r=3;return e.digits=function(s){if(!arguments.length)return r;if(s==null)r=null;else{const a=Math.floor(s);if(!(a>=0))throw new RangeError(`invalid digits: ${s}`);r=a}return e},()=>new gse(r)}function v4(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function tD(e){this._context=e}tD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;default:this._context.lineTo(e,r);break}}};function Wy(e){return new tD(e)}function rD(e){return e[0]}function sD(e){return e[1]}function aD(e,r){var s=kr(!0),a=null,n=Wy,i=null,l=b4(o);e=typeof e=="function"?e:e===void 0?rD:kr(e),r=typeof r=="function"?r:r===void 0?sD:kr(r);function o(c){var d,u=(c=v4(c)).length,m,x=!1,h;for(a==null&&(i=n(h=l())),d=0;d<=u;++d)!(d<u&&s(m=c[d],d,c))===x&&((x=!x)?i.lineStart():i.lineEnd()),x&&i.point(+e(m,d,c),+r(m,d,c));if(h)return i=null,h+""||null}return o.x=function(c){return arguments.length?(e=typeof c=="function"?c:kr(+c),o):e},o.y=function(c){return arguments.length?(r=typeof c=="function"?c:kr(+c),o):r},o.defined=function(c){return arguments.length?(s=typeof c=="function"?c:kr(!!c),o):s},o.curve=function(c){return arguments.length?(n=c,a!=null&&(i=n(a)),o):n},o.context=function(c){return arguments.length?(c==null?a=i=null:i=n(a=c),o):a},o}function sp(e,r,s){var a=null,n=kr(!0),i=null,l=Wy,o=null,c=b4(d);e=typeof e=="function"?e:e===void 0?rD:kr(+e),r=typeof r=="function"?r:kr(r===void 0?0:+r),s=typeof s=="function"?s:s===void 0?sD:kr(+s);function d(m){var x,h,p,f=(m=v4(m)).length,b,j=!1,w,y=new Array(f),v=new Array(f);for(i==null&&(o=l(w=c())),x=0;x<=f;++x){if(!(x<f&&n(b=m[x],x,m))===j)if(j=!j)h=x,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),p=x-1;p>=h;--p)o.point(y[p],v[p]);o.lineEnd(),o.areaEnd()}j&&(y[x]=+e(b,x,m),v[x]=+r(b,x,m),o.point(a?+a(b,x,m):y[x],s?+s(b,x,m):v[x]))}if(w)return o=null,w+""||null}function u(){return aD().defined(n).curve(l).context(i)}return d.x=function(m){return arguments.length?(e=typeof m=="function"?m:kr(+m),a=null,d):e},d.x0=function(m){return arguments.length?(e=typeof m=="function"?m:kr(+m),d):e},d.x1=function(m){return arguments.length?(a=m==null?null:typeof m=="function"?m:kr(+m),d):a},d.y=function(m){return arguments.length?(r=typeof m=="function"?m:kr(+m),s=null,d):r},d.y0=function(m){return arguments.length?(r=typeof m=="function"?m:kr(+m),d):r},d.y1=function(m){return arguments.length?(s=m==null?null:typeof m=="function"?m:kr(+m),d):s},d.lineX0=d.lineY0=function(){return u().x(e).y(r)},d.lineY1=function(){return u().x(e).y(s)},d.lineX1=function(){return u().x(a).y(r)},d.defined=function(m){return arguments.length?(n=typeof m=="function"?m:kr(!!m),d):n},d.curve=function(m){return arguments.length?(l=m,i!=null&&(o=l(i)),d):l},d.context=function(m){return arguments.length?(m==null?i=o=null:o=l(i=m),d):i},d}class nD{constructor(r,s){this._context=r,this._x=s}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(r,s){switch(r=+r,s=+s,this._point){case 0:{this._point=1,this._line?this._context.lineTo(r,s):this._context.moveTo(r,s);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+r)/2,this._y0,this._x0,s,r,s):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+s)/2,r,this._y0,r,s);break}}this._x0=r,this._y0=s}}function yse(e){return new nD(e,!0)}function bse(e){return new nD(e,!1)}const j4={draw(e,r){const s=Ii(r/Yf);e.moveTo(s,0),e.arc(0,0,s,0,Vy)}},vse={draw(e,r){const s=Ii(r/5)/2;e.moveTo(-3*s,-s),e.lineTo(-s,-s),e.lineTo(-s,-3*s),e.lineTo(s,-3*s),e.lineTo(s,-s),e.lineTo(3*s,-s),e.lineTo(3*s,s),e.lineTo(s,s),e.lineTo(s,3*s),e.lineTo(-s,3*s),e.lineTo(-s,s),e.lineTo(-3*s,s),e.closePath()}},iD=Ii(1/3),jse=iD*2,wse={draw(e,r){const s=Ii(r/jse),a=s*iD;e.moveTo(0,-s),e.lineTo(a,0),e.lineTo(0,s),e.lineTo(-a,0),e.closePath()}},Nse={draw(e,r){const s=Ii(r),a=-s/2;e.rect(a,a,s,s)}},Sse=.8908130915292852,lD=Kf(Yf/10)/Kf(7*Yf/10),kse=Kf(Vy/10)*lD,Cse=-Z9(Vy/10)*lD,Pse={draw(e,r){const s=Ii(r*Sse),a=kse*s,n=Cse*s;e.moveTo(0,-s),e.lineTo(a,n);for(let i=1;i<5;++i){const l=Vy*i/5,o=Z9(l),c=Kf(l);e.lineTo(c*s,-o*s),e.lineTo(o*a-c*n,c*a+o*n)}e.closePath()}},h1=Ii(3),Ase={draw(e,r){const s=-Ii(r/(h1*3));e.moveTo(0,s*2),e.lineTo(-h1*s,-s),e.lineTo(h1*s,-s),e.closePath()}},Ln=-.5,Fn=Ii(3)/2,Pj=1/Ii(12),Tse=(Pj/2+1)*3,Ese={draw(e,r){const s=Ii(r/Tse),a=s/2,n=s*Pj,i=a,l=s*Pj+s,o=-i,c=l;e.moveTo(a,n),e.lineTo(i,l),e.lineTo(o,c),e.lineTo(Ln*a-Fn*n,Fn*a+Ln*n),e.lineTo(Ln*i-Fn*l,Fn*i+Ln*l),e.lineTo(Ln*o-Fn*c,Fn*o+Ln*c),e.lineTo(Ln*a+Fn*n,Ln*n-Fn*a),e.lineTo(Ln*i+Fn*l,Ln*l-Fn*i),e.lineTo(Ln*o+Fn*c,Ln*c-Fn*o),e.closePath()}};function Ise(e,r){let s=null,a=b4(n);e=typeof e=="function"?e:kr(e||j4),r=typeof r=="function"?r:kr(r===void 0?64:+r);function n(){let i;if(s||(s=i=a()),e.apply(this,arguments).draw(s,+r.apply(this,arguments)),i)return s=null,i+""||null}return n.type=function(i){return arguments.length?(e=typeof i=="function"?i:kr(i),n):e},n.size=function(i){return arguments.length?(r=typeof i=="function"?i:kr(+i),n):r},n.context=function(i){return arguments.length?(s=i??null,n):s},n}function Xf(){}function Jf(e,r,s){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+r)/6,(e._y0+4*e._y1+s)/6)}function oD(e){this._context=e}oD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Jf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Jf(this,e,r);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r}};function _se(e){return new oD(e)}function cD(e){this._context=e}cD.prototype={areaStart:Xf,areaEnd:Xf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._x2=e,this._y2=r;break;case 1:this._point=2,this._x3=e,this._y3=r;break;case 2:this._point=3,this._x4=e,this._y4=r,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+r)/6);break;default:Jf(this,e,r);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r}};function Ose(e){return new cD(e)}function dD(e){this._context=e}dD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var s=(this._x0+4*this._x1+e)/6,a=(this._y0+4*this._y1+r)/6;this._line?this._context.lineTo(s,a):this._context.moveTo(s,a);break;case 3:this._point=4;default:Jf(this,e,r);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r}};function Dse(e){return new dD(e)}function uD(e){this._context=e}uD.prototype={areaStart:Xf,areaEnd:Xf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,r){e=+e,r=+r,this._point?this._context.lineTo(e,r):(this._point=1,this._context.moveTo(e,r))}};function Mse(e){return new uD(e)}function NP(e){return e<0?-1:1}function SP(e,r,s){var a=e._x1-e._x0,n=r-e._x1,i=(e._y1-e._y0)/(a||n<0&&-0),l=(s-e._y1)/(n||a<0&&-0),o=(i*n+l*a)/(a+n);return(NP(i)+NP(l))*Math.min(Math.abs(i),Math.abs(l),.5*Math.abs(o))||0}function kP(e,r){var s=e._x1-e._x0;return s?(3*(e._y1-e._y0)/s-r)/2:r}function x1(e,r,s){var a=e._x0,n=e._y0,i=e._x1,l=e._y1,o=(i-a)/3;e._context.bezierCurveTo(a+o,n+o*r,i-o,l-o*s,i,l)}function Qf(e){this._context=e}Qf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:x1(this,this._t0,kP(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){var s=NaN;if(e=+e,r=+r,!(e===this._x1&&r===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;break;case 2:this._point=3,x1(this,kP(this,s=SP(this,e,r)),s);break;default:x1(this,this._t0,s=SP(this,e,r));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r,this._t0=s}}};function mD(e){this._context=new hD(e)}(mD.prototype=Object.create(Qf.prototype)).point=function(e,r){Qf.prototype.point.call(this,r,e)};function hD(e){this._context=e}hD.prototype={moveTo:function(e,r){this._context.moveTo(r,e)},closePath:function(){this._context.closePath()},lineTo:function(e,r){this._context.lineTo(r,e)},bezierCurveTo:function(e,r,s,a,n,i){this._context.bezierCurveTo(r,e,a,s,i,n)}};function Lse(e){return new Qf(e)}function Fse(e){return new mD(e)}function xD(e){this._context=e}xD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,r=this._y,s=e.length;if(s)if(this._line?this._context.lineTo(e[0],r[0]):this._context.moveTo(e[0],r[0]),s===2)this._context.lineTo(e[1],r[1]);else for(var a=CP(e),n=CP(r),i=0,l=1;l<s;++i,++l)this._context.bezierCurveTo(a[0][i],n[0][i],a[1][i],n[1][i],e[l],r[l]);(this._line||this._line!==0&&s===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,r){this._x.push(+e),this._y.push(+r)}};function CP(e){var r,s=e.length-1,a,n=new Array(s),i=new Array(s),l=new Array(s);for(n[0]=0,i[0]=2,l[0]=e[0]+2*e[1],r=1;r<s-1;++r)n[r]=1,i[r]=4,l[r]=4*e[r]+2*e[r+1];for(n[s-1]=2,i[s-1]=7,l[s-1]=8*e[s-1]+e[s],r=1;r<s;++r)a=n[r]/i[r-1],i[r]-=a,l[r]-=a*l[r-1];for(n[s-1]=l[s-1]/i[s-1],r=s-2;r>=0;--r)n[r]=(l[r]-n[r+1])/i[r];for(i[s-1]=(e[s]+n[s-1])/2,r=0;r<s-1;++r)i[r]=2*e[r+1]-n[r+1];return[n,i]}function Rse(e){return new xD(e)}function Gy(e,r){this._context=e,this._t=r}Gy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,r),this._context.lineTo(e,r);else{var s=this._x*(1-this._t)+e*this._t;this._context.lineTo(s,this._y),this._context.lineTo(s,r)}break}}this._x=e,this._y=r}};function Bse(e){return new Gy(e,.5)}function $se(e){return new Gy(e,0)}function zse(e){return new Gy(e,1)}function tm(e,r){if((l=e.length)>1)for(var s=1,a,n,i=e[r[0]],l,o=i.length;s<l;++s)for(n=i,i=e[r[s]],a=0;a<o;++a)i[a][1]+=i[a][0]=isNaN(n[a][1])?n[a][0]:n[a][1]}function Aj(e){for(var r=e.length,s=new Array(r);--r>=0;)s[r]=r;return s}function Use(e,r){return e[r]}function Hse(e){const r=[];return r.key=e,r}function Vse(){var e=kr([]),r=Aj,s=tm,a=Use;function n(i){var l=Array.from(e.apply(this,arguments),Hse),o,c=l.length,d=-1,u;for(const m of i)for(o=0,++d;o<c;++o)(l[o][d]=[0,+a(m,l[o].key,d,i)]).data=m;for(o=0,u=v4(r(l));o<c;++o)l[u[o]].index=o;return s(l,u),l}return n.keys=function(i){return arguments.length?(e=typeof i=="function"?i:kr(Array.from(i)),n):e},n.value=function(i){return arguments.length?(a=typeof i=="function"?i:kr(+i),n):a},n.order=function(i){return arguments.length?(r=i==null?Aj:typeof i=="function"?i:kr(Array.from(i)),n):r},n.offset=function(i){return arguments.length?(s=i??tm,n):s},n}function Wse(e,r){if((a=e.length)>0){for(var s,a,n=0,i=e[0].length,l;n<i;++n){for(l=s=0;s<a;++s)l+=e[s][n][1]||0;if(l)for(s=0;s<a;++s)e[s][n][1]/=l}tm(e,r)}}function Gse(e,r){if((n=e.length)>0){for(var s=0,a=e[r[0]],n,i=a.length;s<i;++s){for(var l=0,o=0;l<n;++l)o+=e[l][s][1]||0;a[s][1]+=a[s][0]=-o/2}tm(e,r)}}function qse(e,r){if(!(!((l=e.length)>0)||!((i=(n=e[r[0]]).length)>0))){for(var s=0,a=1,n,i,l;a<i;++a){for(var o=0,c=0,d=0;o<l;++o){for(var u=e[r[o]],m=u[a][1]||0,x=u[a-1][1]||0,h=(m-x)/2,p=0;p<o;++p){var f=e[r[p]],b=f[a][1]||0,j=f[a-1][1]||0;h+=b-j}c+=m,d+=h*m}n[a-1][1]+=n[a-1][0]=s,c&&(s-=d/c)}n[a-1][1]+=n[a-1][0]=s,tm(e,r)}}var qy={},pD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){return s==="__proto__"}e.isUnsafeProperty=r})(pD);var w4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){switch(typeof s){case"number":case"symbol":return!1;case"string":return s.includes(".")||s.includes("[")||s.includes("]")}}e.isDeepKey=r})(w4);var Ky={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){var a;return typeof s=="string"||typeof s=="symbol"?s:Object.is((a=s==null?void 0:s.valueOf)==null?void 0:a.call(s),-0)?"-0":String(s)}e.toKey=r})(Ky);var Yy={},fD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){if(s==null)return"";if(typeof s=="string")return s;if(Array.isArray(s))return s.map(r).join(",");const a=String(s);return a==="0"&&Object.is(Number(s),-0)?"-0":a}e.toString=r})(fD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=fD,s=Ky;function a(n){if(Array.isArray(n))return n.map(s.toKey);if(typeof n=="symbol")return[n];n=r.toString(n);const i=[],l=n.length;if(l===0)return i;let o=0,c="",d="",u=!1;for(n.charCodeAt(0)===46&&(i.push(""),o++);o<l;){const m=n[o];d?m==="\\"&&o+1<l?(o++,c+=n[o]):m===d?d="":c+=m:u?m==='"'||m==="'"?d=m:m==="]"?(u=!1,i.push(c),c=""):c+=m:m==="["?(u=!0,c&&(i.push(c),c="")):m==="."?c&&(i.push(c),c=""):c+=m,o++}return c&&i.push(c),i}e.toPath=a})(Yy);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=pD,s=w4,a=Ky,n=Yy;function i(o,c,d){if(o==null)return d;switch(typeof c){case"string":{if(r.isUnsafeProperty(c))return d;const u=o[c];return u===void 0?s.isDeepKey(c)?i(o,n.toPath(c),d):d:u}case"number":case"symbol":{typeof c=="number"&&(c=a.toKey(c));const u=o[c];return u===void 0?d:u}default:{if(Array.isArray(c))return l(o,c,d);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),r.isUnsafeProperty(c))return d;const u=o[c];return u===void 0?d:u}}}function l(o,c,d){if(c.length===0)return d;let u=o;for(let m=0;m<c.length;m++){if(u==null||r.isUnsafeProperty(c[m]))return d;u=u[c[m]]}return u===void 0?d:u}e.get=i})(qy);var Kse=qy.get;const md=li(Kse);var Vs=e=>e===0?0:e>0?1:-1,ai=e=>typeof e=="number"&&e!=+e,zl=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,bt=e=>(typeof e=="number"||e instanceof Number)&&!ai(e),tl=e=>bt(e)||typeof e=="string",Yse=0,u0=e=>{var r=++Yse;return"".concat(e||"").concat(r)},ya=function(r,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!bt(r)&&typeof r!="string")return a;var i;if(zl(r)){if(s==null)return a;var l=r.indexOf("%");i=s*parseFloat(r.slice(0,l))/100}else i=+r;return ai(i)&&(i=a),n&&s!=null&&i>s&&(i=s),i},gD=e=>{if(!Array.isArray(e))return!1;for(var r=e.length,s={},a=0;a<r;a++)if(!s[e[a]])s[e[a]]=!0;else return!0;return!1};function dr(e,r,s){return bt(e)&&bt(r)?e+s*(r-e):r}function yD(e,r,s){if(!(!e||!e.length))return e.find(a=>a&&(typeof r=="function"?r(a):md(a,r))===s)}var Lr=e=>e===null||typeof e>"u",Z0=e=>Lr(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function Xse(e){return e!=null}function Id(){}var Jse=["type","size","sizeType"];function Tj(){return Tj=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Tj.apply(null,arguments)}function PP(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function AP(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?PP(Object(s),!0).forEach(function(a){Qse(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):PP(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Qse(e,r,s){return(r=Zse(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Zse(e){var r=eae(e,"string");return typeof r=="symbol"?r:r+""}function eae(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function tae(e,r){if(e==null)return{};var s,a,n=rae(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function rae(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var bD={symbolCircle:j4,symbolCross:vse,symbolDiamond:wse,symbolSquare:Nse,symbolStar:Pse,symbolTriangle:Ase,symbolWye:Ese},sae=Math.PI/180,aae=e=>{var r="symbol".concat(Z0(e));return bD[r]||j4},nae=(e,r,s)=>{if(r==="area")return e;switch(s){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*sae;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.tan(a)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},iae=(e,r)=>{bD["symbol".concat(Z0(e))]=r},N4=e=>{var{type:r="circle",size:s=64,sizeType:a="area"}=e,n=tae(e,Jse),i=AP(AP({},n),{},{type:r,size:s,sizeType:a}),l="circle";typeof r=="string"&&(l=r);var o=()=>{var x=aae(l),h=Ise().type(x).size(nae(s,a,l)),p=h();if(p!==null)return p},{className:c,cx:d,cy:u}=i,m=wa(i);return bt(d)&&bt(u)&&bt(s)?g.createElement("path",Tj({},m,{className:ar("recharts-symbols",c),transform:"translate(".concat(d,", ").concat(u,")"),d:o()})):null};N4.registerSymbol=iae;var vD=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,S4=(e,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var s=e;if(g.isValidElement(e)&&(s=e.props),typeof s!="object"&&typeof s!="function")return null;var a={};return Object.keys(s).forEach(n=>{g4(n)&&(a[n]=i=>s[n](s,i))}),a},lae=(e,r,s)=>a=>(e(r,s,a),null),ex=(e,r,s)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var a=null;return Object.keys(e).forEach(n=>{var i=e[n];g4(n)&&typeof i=="function"&&(a||(a={}),a[n]=lae(i,r,s))}),a};function TP(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function oae(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?TP(Object(s),!0).forEach(function(a){cae(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):TP(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function cae(e,r,s){return(r=dae(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function dae(e){var r=uae(e,"string");return typeof r=="symbol"?r:r+""}function uae(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function os(e,r){var s=oae({},e),a=r,n=Object.keys(r),i=n.reduce((l,o)=>(l[o]===void 0&&a[o]!==void 0&&(l[o]=a[o]),l),s);return i}function Zf(){return Zf=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Zf.apply(null,arguments)}function EP(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function mae(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?EP(Object(s),!0).forEach(function(a){hae(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):EP(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function hae(e,r,s){return(r=xae(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function xae(e){var r=pae(e,"string");return typeof r=="symbol"?r:r+""}function pae(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Un=32,fae={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function gae(e){var{data:r,iconType:s,inactiveColor:a}=e,n=Un/2,i=Un/6,l=Un/3,o=r.inactive?a:r.color,c=s??r.type;if(c==="none")return null;if(c==="plainline"){var d;return g.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:(d=r.payload)===null||d===void 0?void 0:d.strokeDasharray,x1:0,y1:n,x2:Un,y2:n,className:"recharts-legend-icon"})}if(c==="line")return g.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(n,"h").concat(l,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*l,",").concat(n,`
            H`).concat(Un,"M").concat(2*l,",").concat(n,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(l,",").concat(n),className:"recharts-legend-icon"});if(c==="rect")return g.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(Un/8,"h").concat(Un,"v").concat(Un*3/4,"h").concat(-Un,"z"),className:"recharts-legend-icon"});if(g.isValidElement(r.legendIcon)){var u=mae({},r);return delete u.legendIcon,g.cloneElement(r.legendIcon,u)}return g.createElement(N4,{fill:o,cx:n,cy:n,size:Un,sizeType:"diameter",type:c})}function yae(e){var{payload:r,iconSize:s,layout:a,formatter:n,inactiveColor:i,iconType:l}=e,o={x:0,y:0,width:Un,height:Un},c={display:a==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return r.map((u,m)=>{var x=u.formatter||n,h=ar({"recharts-legend-item":!0,["legend-item-".concat(m)]:!0,inactive:u.inactive});if(u.type==="none")return null;var p=u.inactive?i:u.color,f=x?x(u.value,u,m):u.value;return g.createElement("li",Zf({className:h,style:c,key:"legend-item-".concat(m)},ex(e,u,m)),g.createElement(y4,{width:s,height:s,viewBox:o,style:d,"aria-label":"".concat(f," legend icon")},g.createElement(gae,{data:u,iconType:l,inactiveColor:i})),g.createElement("span",{className:"recharts-legend-item-text",style:{color:p}},f))})}var bae=e=>{var r=os(e,fae),{payload:s,layout:a,align:n}=r;if(!s||!s.length)return null;var i={padding:0,margin:0,textAlign:a==="horizontal"?n:"left"};return g.createElement("ul",{className:"recharts-default-legend",style:i},g.createElement(yae,Zf({},r,{payload:s})))},jD={},wD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s,a){const n=new Map;for(let i=0;i<s.length;i++){const l=s[i],o=a(l);n.has(o)||n.set(o,l)}return Array.from(n.values())}e.uniqBy=r})(wD);var k4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){return s}e.identity=r})(k4);var ND={},Xy={},SD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){return Number.isSafeInteger(s)&&s>=0}e.isLength=r})(SD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=SD;function s(a){return a!=null&&typeof a!="function"&&r.isLength(a.length)}e.isArrayLike=s})(Xy);var kD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){return typeof s=="object"&&s!==null}e.isObjectLike=r})(kD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=Xy,s=kD;function a(n){return s.isObjectLike(n)&&r.isArrayLike(n)}e.isArrayLikeObject=a})(ND);var CD={},PD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=qy;function s(a){return function(n){return r.get(n,a)}}e.property=s})(PD);var AD={},C4={},TD={},P4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){return s!==null&&(typeof s=="object"||typeof s=="function")}e.isObject=r})(P4);var A4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){return s==null||typeof s!="object"&&typeof s!="function"}e.isPrimitive=r})(A4);var T4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s,a){return s===a||Number.isNaN(s)&&Number.isNaN(a)}e.eq=r})(T4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=P4,s=A4,a=T4;function n(u,m,x){return typeof x!="function"?n(u,m,()=>{}):i(u,m,function h(p,f,b,j,w,y){const v=x(p,f,b,j,w,y);return v!==void 0?!!v:i(p,f,h,y)},new Map)}function i(u,m,x,h){if(m===u)return!0;switch(typeof m){case"object":return l(u,m,x,h);case"function":return Object.keys(m).length>0?i(u,{...m},x,h):a.eq(u,m);default:return r.isObject(u)?typeof m=="string"?m==="":!0:a.eq(u,m)}}function l(u,m,x,h){if(m==null)return!0;if(Array.isArray(m))return c(u,m,x,h);if(m instanceof Map)return o(u,m,x,h);if(m instanceof Set)return d(u,m,x,h);const p=Object.keys(m);if(u==null)return p.length===0;if(p.length===0)return!0;if(h!=null&&h.has(m))return h.get(m)===u;h==null||h.set(m,u);try{for(let f=0;f<p.length;f++){const b=p[f];if(!s.isPrimitive(u)&&!(b in u)||m[b]===void 0&&u[b]!==void 0||m[b]===null&&u[b]!==null||!x(u[b],m[b],b,u,m,h))return!1}return!0}finally{h==null||h.delete(m)}}function o(u,m,x,h){if(m.size===0)return!0;if(!(u instanceof Map))return!1;for(const[p,f]of m.entries()){const b=u.get(p);if(x(b,f,p,u,m,h)===!1)return!1}return!0}function c(u,m,x,h){if(m.length===0)return!0;if(!Array.isArray(u))return!1;const p=new Set;for(let f=0;f<m.length;f++){const b=m[f];let j=!1;for(let w=0;w<u.length;w++){if(p.has(w))continue;const y=u[w];let v=!1;if(x(y,b,f,u,m,h)&&(v=!0),v){p.add(w),j=!0;break}}if(!j)return!1}return!0}function d(u,m,x,h){return m.size===0?!0:u instanceof Set?c([...u],[...m],x,h):!1}e.isMatchWith=n,e.isSetMatch=d})(TD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=TD;function s(a,n){return r.isMatchWith(a,n,()=>{})}e.isMatch=s})(C4);var ED={},E4={},ID={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){return Object.getOwnPropertySymbols(s).filter(a=>Object.prototype.propertyIsEnumerable.call(s,a))}e.getSymbols=r})(ID);var I4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){return s==null?s===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(s)}e.getTag=r})(I4);var _4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r="[object RegExp]",s="[object String]",a="[object Number]",n="[object Boolean]",i="[object Arguments]",l="[object Symbol]",o="[object Date]",c="[object Map]",d="[object Set]",u="[object Array]",m="[object Function]",x="[object ArrayBuffer]",h="[object Object]",p="[object Error]",f="[object DataView]",b="[object Uint8Array]",j="[object Uint8ClampedArray]",w="[object Uint16Array]",y="[object Uint32Array]",v="[object BigUint64Array]",N="[object Int8Array]",S="[object Int16Array]",k="[object Int32Array]",C="[object BigInt64Array]",P="[object Float32Array]",_="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=x,e.arrayTag=u,e.bigInt64ArrayTag=C,e.bigUint64ArrayTag=v,e.booleanTag=n,e.dataViewTag=f,e.dateTag=o,e.errorTag=p,e.float32ArrayTag=P,e.float64ArrayTag=_,e.functionTag=m,e.int16ArrayTag=S,e.int32ArrayTag=k,e.int8ArrayTag=N,e.mapTag=c,e.numberTag=a,e.objectTag=h,e.regexpTag=r,e.setTag=d,e.stringTag=s,e.symbolTag=l,e.uint16ArrayTag=w,e.uint32ArrayTag=y,e.uint8ArrayTag=b,e.uint8ClampedArrayTag=j})(_4);var _D={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){return ArrayBuffer.isView(s)&&!(s instanceof DataView)}e.isTypedArray=r})(_D);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=ID,s=I4,a=_4,n=A4,i=_D;function l(u,m){return o(u,void 0,u,new Map,m)}function o(u,m,x,h=new Map,p=void 0){const f=p==null?void 0:p(u,m,x,h);if(f!==void 0)return f;if(n.isPrimitive(u))return u;if(h.has(u))return h.get(u);if(Array.isArray(u)){const b=new Array(u.length);h.set(u,b);for(let j=0;j<u.length;j++)b[j]=o(u[j],j,x,h,p);return Object.hasOwn(u,"index")&&(b.index=u.index),Object.hasOwn(u,"input")&&(b.input=u.input),b}if(u instanceof Date)return new Date(u.getTime());if(u instanceof RegExp){const b=new RegExp(u.source,u.flags);return b.lastIndex=u.lastIndex,b}if(u instanceof Map){const b=new Map;h.set(u,b);for(const[j,w]of u)b.set(j,o(w,j,x,h,p));return b}if(u instanceof Set){const b=new Set;h.set(u,b);for(const j of u)b.add(o(j,void 0,x,h,p));return b}if(typeof Buffer<"u"&&Buffer.isBuffer(u))return u.subarray();if(i.isTypedArray(u)){const b=new(Object.getPrototypeOf(u)).constructor(u.length);h.set(u,b);for(let j=0;j<u.length;j++)b[j]=o(u[j],j,x,h,p);return b}if(u instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&u instanceof SharedArrayBuffer)return u.slice(0);if(u instanceof DataView){const b=new DataView(u.buffer.slice(0),u.byteOffset,u.byteLength);return h.set(u,b),c(b,u,x,h,p),b}if(typeof File<"u"&&u instanceof File){const b=new File([u],u.name,{type:u.type});return h.set(u,b),c(b,u,x,h,p),b}if(typeof Blob<"u"&&u instanceof Blob){const b=new Blob([u],{type:u.type});return h.set(u,b),c(b,u,x,h,p),b}if(u instanceof Error){const b=new u.constructor;return h.set(u,b),b.message=u.message,b.name=u.name,b.stack=u.stack,b.cause=u.cause,c(b,u,x,h,p),b}if(u instanceof Boolean){const b=new Boolean(u.valueOf());return h.set(u,b),c(b,u,x,h,p),b}if(u instanceof Number){const b=new Number(u.valueOf());return h.set(u,b),c(b,u,x,h,p),b}if(u instanceof String){const b=new String(u.valueOf());return h.set(u,b),c(b,u,x,h,p),b}if(typeof u=="object"&&d(u)){const b=Object.create(Object.getPrototypeOf(u));return h.set(u,b),c(b,u,x,h,p),b}return u}function c(u,m,x=u,h,p){const f=[...Object.keys(m),...r.getSymbols(m)];for(let b=0;b<f.length;b++){const j=f[b],w=Object.getOwnPropertyDescriptor(u,j);(w==null||w.writable)&&(u[j]=o(m[j],j,x,h,p))}}function d(u){switch(s.getTag(u)){case a.argumentsTag:case a.arrayTag:case a.arrayBufferTag:case a.dataViewTag:case a.booleanTag:case a.dateTag:case a.float32ArrayTag:case a.float64ArrayTag:case a.int8ArrayTag:case a.int16ArrayTag:case a.int32ArrayTag:case a.mapTag:case a.numberTag:case a.objectTag:case a.regexpTag:case a.setTag:case a.stringTag:case a.symbolTag:case a.uint8ArrayTag:case a.uint8ClampedArrayTag:case a.uint16ArrayTag:case a.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=l,e.cloneDeepWithImpl=o,e.copyProperties=c})(E4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=E4;function s(a){return r.cloneDeepWithImpl(a,void 0,a,new Map,void 0)}e.cloneDeep=s})(ED);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=C4,s=ED;function a(n){return n=s.cloneDeep(n),i=>r.isMatch(i,n)}e.matches=a})(AD);var OD={},DD={},MD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=E4,s=_4;function a(n,i){return r.cloneDeepWith(n,(l,o,c,d)=>{const u=i==null?void 0:i(l,o,c,d);if(u!==void 0)return u;if(typeof n=="object")switch(Object.prototype.toString.call(n)){case s.numberTag:case s.stringTag:case s.booleanTag:{const m=new n.constructor(n==null?void 0:n.valueOf());return r.copyProperties(m,n),m}case s.argumentsTag:{const m={};return r.copyProperties(m,n),m.length=n.length,m[Symbol.iterator]=n[Symbol.iterator],m}default:return}})}e.cloneDeepWith=a})(MD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=MD;function s(a){return r.cloneDeepWith(a)}e.cloneDeep=s})(DD);var LD={},O4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=/^(?:0|[1-9]\d*)$/;function s(a,n=Number.MAX_SAFE_INTEGER){switch(typeof a){case"number":return Number.isInteger(a)&&a>=0&&a<n;case"symbol":return!1;case"string":return r.test(a)}}e.isIndex=s})(O4);var FD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=I4;function s(a){return a!==null&&typeof a=="object"&&r.getTag(a)==="[object Arguments]"}e.isArguments=s})(FD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=w4,s=O4,a=FD,n=Yy;function i(l,o){let c;if(Array.isArray(o)?c=o:typeof o=="string"&&r.isDeepKey(o)&&(l==null?void 0:l[o])==null?c=n.toPath(o):c=[o],c.length===0)return!1;let d=l;for(let u=0;u<c.length;u++){const m=c[u];if((d==null||!Object.hasOwn(d,m))&&!((Array.isArray(d)||a.isArguments(d))&&s.isIndex(m)&&m<d.length))return!1;d=d[m]}return!0}e.has=i})(LD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=C4,s=Ky,a=DD,n=qy,i=LD;function l(o,c){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=s.toKey(o);break}}return c=a.cloneDeep(c),function(d){const u=n.get(d,o);return u===void 0?i.has(d,o):c===void 0?u===void 0:r.isMatch(u,c)}}e.matchesProperty=l})(OD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=k4,s=PD,a=AD,n=OD;function i(l){if(l==null)return r.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?n.matchesProperty(l[0],l[1]):a.matches(l);case"string":case"symbol":case"number":return s.property(l)}}e.iteratee=i})(CD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=wD,s=k4,a=ND,n=CD;function i(l,o=s.identity){return a.isArrayLikeObject(l)?r.uniqBy(Array.from(l),n.iteratee(o)):[]}e.uniqBy=i})(jD);var vae=jD.uniqBy;const IP=li(vae);function RD(e,r,s){return r===!0?IP(e,s):typeof r=="function"?IP(e,r):e}var BD={exports:{}},$D={},zD={exports:{}},UD={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rm=g;function jae(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var wae=typeof Object.is=="function"?Object.is:jae,Nae=rm.useState,Sae=rm.useEffect,kae=rm.useLayoutEffect,Cae=rm.useDebugValue;function Pae(e,r){var s=r(),a=Nae({inst:{value:s,getSnapshot:r}}),n=a[0].inst,i=a[1];return kae(function(){n.value=s,n.getSnapshot=r,p1(n)&&i({inst:n})},[e,s,r]),Sae(function(){return p1(n)&&i({inst:n}),e(function(){p1(n)&&i({inst:n})})},[e]),Cae(s),s}function p1(e){var r=e.getSnapshot;e=e.value;try{var s=r();return!wae(e,s)}catch{return!0}}function Aae(e,r){return r()}var Tae=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Aae:Pae;UD.useSyncExternalStore=rm.useSyncExternalStore!==void 0?rm.useSyncExternalStore:Tae;zD.exports=UD;var Eae=zD.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jy=g,Iae=Eae;function _ae(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var Oae=typeof Object.is=="function"?Object.is:_ae,Dae=Iae.useSyncExternalStore,Mae=Jy.useRef,Lae=Jy.useEffect,Fae=Jy.useMemo,Rae=Jy.useDebugValue;$D.useSyncExternalStoreWithSelector=function(e,r,s,a,n){var i=Mae(null);if(i.current===null){var l={hasValue:!1,value:null};i.current=l}else l=i.current;i=Fae(function(){function c(h){if(!d){if(d=!0,u=h,h=a(h),n!==void 0&&l.hasValue){var p=l.value;if(n(p,h))return m=p}return m=h}if(p=m,Oae(u,h))return p;var f=a(h);return n!==void 0&&n(p,f)?(u=h,p):(u=h,m=f)}var d=!1,u,m,x=s===void 0?null:s;return[function(){return c(r())},x===null?void 0:function(){return c(x())}]},[r,s,a,n]);var o=Dae(e,i[0],i[1]);return Lae(function(){l.hasValue=!0,l.value=o},[o]),Rae(o),o};BD.exports=$D;var Bae=BD.exports,D4=g.createContext(null),$ae=e=>e,Er=()=>{var e=g.useContext(D4);return e?e.store.dispatch:$ae},Xp=()=>{},zae=()=>Xp,Uae=(e,r)=>e===r;function St(e){var r=g.useContext(D4);return Bae.useSyncExternalStoreWithSelector(r?r.subscription.addNestedSub:zae,r?r.store.getState:Xp,r?r.store.getState:Xp,r?e:Xp,Uae)}function Hae(e,r=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(r)}function Vae(e,r=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(r)}function Wae(e,r="expected all items to be functions, instead received the following types: "){if(!e.every(s=>typeof s=="function")){const s=e.map(a=>typeof a=="function"?`function ${a.name||"unnamed"}()`:typeof a).join(", ");throw new TypeError(`${r}[${s}]`)}}var _P=e=>Array.isArray(e)?e:[e];function Gae(e){const r=Array.isArray(e[0])?e[0]:e;return Wae(r,"createSelector expects all input-selectors to be functions, but received the following types: "),r}function qae(e,r){const s=[],{length:a}=e;for(let n=0;n<a;n++)s.push(e[n].apply(null,r));return s}var Kae=class{constructor(e){this.value=e}deref(){return this.value}},Yae=typeof WeakRef<"u"?WeakRef:Kae,Xae=0,OP=1;function ap(){return{s:Xae,v:void 0,o:null,p:null}}function HD(e,r={}){let s=ap();const{resultEqualityCheck:a}=r;let n,i=0;function l(){var m;let o=s;const{length:c}=arguments;for(let x=0,h=c;x<h;x++){const p=arguments[x];if(typeof p=="function"||typeof p=="object"&&p!==null){let f=o.o;f===null&&(o.o=f=new WeakMap);const b=f.get(p);b===void 0?(o=ap(),f.set(p,o)):o=b}else{let f=o.p;f===null&&(o.p=f=new Map);const b=f.get(p);b===void 0?(o=ap(),f.set(p,o)):o=b}}const d=o;let u;if(o.s===OP)u=o.v;else if(u=e.apply(null,arguments),i++,a){const x=((m=n==null?void 0:n.deref)==null?void 0:m.call(n))??n;x!=null&&a(x,u)&&(u=x,i!==0&&i--),n=typeof u=="object"&&u!==null||typeof u=="function"?new Yae(u):u}return d.s=OP,d.v=u,u}return l.clearCache=()=>{s=ap(),l.resetResultsCount()},l.resultsCount=()=>i,l.resetResultsCount=()=>{i=0},l}function Jae(e,...r){const s=typeof e=="function"?{memoize:e,memoizeOptions:r}:e,a=(...n)=>{let i=0,l=0,o,c={},d=n.pop();typeof d=="object"&&(c=d,d=n.pop()),Hae(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const u={...s,...c},{memoize:m,memoizeOptions:x=[],argsMemoize:h=HD,argsMemoizeOptions:p=[]}=u,f=_P(x),b=_P(p),j=Gae(n),w=m(function(){return i++,d.apply(null,arguments)},...f),y=h(function(){l++;const N=qae(j,arguments);return o=w.apply(null,N),o},...b);return Object.assign(y,{resultFunc:d,memoizedResultFunc:w,dependencies:j,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>o,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:m,argsMemoize:h})};return Object.assign(a,{withTypes:()=>a}),a}var we=Jae(HD),Qae=Object.assign((e,r=we)=>{Vae(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const s=Object.keys(e),a=s.map(i=>e[i]);return r(a,(...i)=>i.reduce((l,o,c)=>(l[s[c]]=o,l),{}))},{withTypes:()=>Qae}),VD={},WD={},GD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(a){return typeof a=="symbol"?1:a===null?2:a===void 0?3:a!==a?4:0}const s=(a,n,i)=>{if(a!==n){const l=r(a),o=r(n);if(l===o&&l===0){if(a<n)return i==="desc"?1:-1;if(a>n)return i==="desc"?-1:1}return i==="desc"?o-l:l-o}return 0};e.compareValues=s})(GD);var qD={},M4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){return typeof s=="symbol"||s instanceof Symbol}e.isSymbol=r})(M4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=M4,s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;function n(i,l){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||r.isSymbol(i)?!0:typeof i=="string"&&(a.test(i)||!s.test(i))||l!=null&&Object.hasOwn(l,i)}e.isKey=n})(qD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=GD,s=qD,a=Yy;function n(i,l,o,c){if(i==null)return[];o=c?void 0:o,Array.isArray(i)||(i=Object.values(i)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(h=>String(h));const d=(h,p)=>{let f=h;for(let b=0;b<p.length&&f!=null;++b)f=f[p[b]];return f},u=(h,p)=>p==null||h==null?p:typeof h=="object"&&"key"in h?Object.hasOwn(p,h.key)?p[h.key]:d(p,h.path):typeof h=="function"?h(p):Array.isArray(h)?d(p,h):typeof p=="object"?p[h]:p,m=l.map(h=>(Array.isArray(h)&&h.length===1&&(h=h[0]),h==null||typeof h=="function"||Array.isArray(h)||s.isKey(h)?h:{key:h,path:a.toPath(h)}));return i.map(h=>({original:h,criteria:m.map(p=>u(p,h))})).slice().sort((h,p)=>{for(let f=0;f<m.length;f++){const b=r.compareValues(h.criteria[f],p.criteria[f],o[f]);if(b!==0)return b}return 0}).map(h=>h.original)}e.orderBy=n})(WD);var KD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s,a=1){const n=[],i=Math.floor(a),l=(o,c)=>{for(let d=0;d<o.length;d++){const u=o[d];Array.isArray(u)&&c<i?l(u,c+1):n.push(u)}};return l(s,0),n}e.flatten=r})(KD);var L4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=O4,s=Xy,a=P4,n=T4;function i(l,o,c){return a.isObject(c)&&(typeof o=="number"&&s.isArrayLike(c)&&r.isIndex(o)&&o<c.length||typeof o=="string"&&o in c)?n.eq(c[o],l):!1}e.isIterateeCall=i})(L4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=WD,s=KD,a=L4;function n(i,...l){const o=l.length;return o>1&&a.isIterateeCall(i,l[0],l[1])?l=[]:o>2&&a.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),r.orderBy(i,s.flatten(l),["asc"])}e.sortBy=n})(VD);var Zae=VD.sortBy;const Qy=li(Zae);var YD=e=>e.legend.settings,ene=e=>e.legend.size,tne=e=>e.legend.payload,rne=we([tne,YD],(e,r)=>{var{itemSorter:s}=r,a=e.flat(1);return s?Qy(a,s):a});function sne(){return St(rne)}var np=1;function XD(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[r,s]=g.useState({height:0,left:0,top:0,width:0}),a=g.useCallback(n=>{if(n!=null){var i=n.getBoundingClientRect(),l={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(l.height-r.height)>np||Math.abs(l.left-r.left)>np||Math.abs(l.top-r.top)>np||Math.abs(l.width-r.width)>np)&&s({height:l.height,left:l.left,top:l.top,width:l.width})}},[r.width,r.height,r.top,r.left,...e]);return[r,a]}function Qs(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var ane=typeof Symbol=="function"&&Symbol.observable||"@@observable",DP=ane,f1=()=>Math.random().toString(36).substring(7).split("").join("."),nne={INIT:`@@redux/INIT${f1()}`,REPLACE:`@@redux/REPLACE${f1()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${f1()}`},eg=nne;function F4(e){if(typeof e!="object"||e===null)return!1;let r=e;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(e)===r||Object.getPrototypeOf(e)===null}function JD(e,r,s){if(typeof e!="function")throw new Error(Qs(2));if(typeof r=="function"&&typeof s=="function"||typeof s=="function"&&typeof arguments[3]=="function")throw new Error(Qs(0));if(typeof r=="function"&&typeof s>"u"&&(s=r,r=void 0),typeof s<"u"){if(typeof s!="function")throw new Error(Qs(1));return s(JD)(e,r)}let a=e,n=r,i=new Map,l=i,o=0,c=!1;function d(){l===i&&(l=new Map,i.forEach((b,j)=>{l.set(j,b)}))}function u(){if(c)throw new Error(Qs(3));return n}function m(b){if(typeof b!="function")throw new Error(Qs(4));if(c)throw new Error(Qs(5));let j=!0;d();const w=o++;return l.set(w,b),function(){if(j){if(c)throw new Error(Qs(6));j=!1,d(),l.delete(w),i=null}}}function x(b){if(!F4(b))throw new Error(Qs(7));if(typeof b.type>"u")throw new Error(Qs(8));if(typeof b.type!="string")throw new Error(Qs(17));if(c)throw new Error(Qs(9));try{c=!0,n=a(n,b)}finally{c=!1}return(i=l).forEach(w=>{w()}),b}function h(b){if(typeof b!="function")throw new Error(Qs(10));a=b,x({type:eg.REPLACE})}function p(){const b=m;return{subscribe(j){if(typeof j!="object"||j===null)throw new Error(Qs(11));function w(){const v=j;v.next&&v.next(u())}return w(),{unsubscribe:b(w)}},[DP](){return this}}}return x({type:eg.INIT}),{dispatch:x,subscribe:m,getState:u,replaceReducer:h,[DP]:p}}function ine(e){Object.keys(e).forEach(r=>{const s=e[r];if(typeof s(void 0,{type:eg.INIT})>"u")throw new Error(Qs(12));if(typeof s(void 0,{type:eg.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Qs(13))})}function QD(e){const r=Object.keys(e),s={};for(let i=0;i<r.length;i++){const l=r[i];typeof e[l]=="function"&&(s[l]=e[l])}const a=Object.keys(s);let n;try{ine(s)}catch(i){n=i}return function(l={},o){if(n)throw n;let c=!1;const d={};for(let u=0;u<a.length;u++){const m=a[u],x=s[m],h=l[m],p=x(h,o);if(typeof p>"u")throw o&&o.type,new Error(Qs(14));d[m]=p,c=c||p!==h}return c=c||a.length!==Object.keys(l).length,c?d:l}}function tg(...e){return e.length===0?r=>r:e.length===1?e[0]:e.reduce((r,s)=>(...a)=>r(s(...a)))}function lne(...e){return r=>(s,a)=>{const n=r(s,a);let i=()=>{throw new Error(Qs(15))};const l={getState:n.getState,dispatch:(c,...d)=>i(c,...d)},o=e.map(c=>c(l));return i=tg(...o)(n.dispatch),{...n,dispatch:i}}}function ZD(e){return F4(e)&&"type"in e&&typeof e.type=="string"}var eM=Symbol.for("immer-nothing"),MP=Symbol.for("immer-draftable"),Cn=Symbol.for("immer-state");function bi(e,...r){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var m0=Object.getPrototypeOf;function hd(e){return!!e&&!!e[Cn]}function Ul(e){var r;return e?tM(e)||Array.isArray(e)||!!e[MP]||!!((r=e.constructor)!=null&&r[MP])||tx(e)||eb(e):!1}var one=Object.prototype.constructor.toString(),LP=new WeakMap;function tM(e){if(!e||typeof e!="object")return!1;const r=Object.getPrototypeOf(e);if(r===null||r===Object.prototype)return!0;const s=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;if(s===Object)return!0;if(typeof s!="function")return!1;let a=LP.get(s);return a===void 0&&(a=Function.toString.call(s),LP.set(s,a)),a===one}function rg(e,r,s=!0){Zy(e)===0?(s?Reflect.ownKeys(e):Object.keys(e)).forEach(n=>{r(n,e[n],e)}):e.forEach((a,n)=>r(n,a,e))}function Zy(e){const r=e[Cn];return r?r.type_:Array.isArray(e)?1:tx(e)?2:eb(e)?3:0}function Ej(e,r){return Zy(e)===2?e.has(r):Object.prototype.hasOwnProperty.call(e,r)}function rM(e,r,s){const a=Zy(e);a===2?e.set(r,s):a===3?e.add(s):e[r]=s}function cne(e,r){return e===r?e!==0||1/e===1/r:e!==e&&r!==r}function tx(e){return e instanceof Map}function eb(e){return e instanceof Set}function Cc(e){return e.copy_||e.base_}function Ij(e,r){if(tx(e))return new Map(e);if(eb(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const s=tM(e);if(r===!0||r==="class_only"&&!s){const a=Object.getOwnPropertyDescriptors(e);delete a[Cn];let n=Reflect.ownKeys(a);for(let i=0;i<n.length;i++){const l=n[i],o=a[l];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(a[l]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[l]})}return Object.create(m0(e),a)}else{const a=m0(e);if(a!==null&&s)return{...e};const n=Object.create(a);return Object.assign(n,e)}}function R4(e,r=!1){return tb(e)||hd(e)||!Ul(e)||(Zy(e)>1&&Object.defineProperties(e,{set:ip,add:ip,clear:ip,delete:ip}),Object.freeze(e),r&&Object.values(e).forEach(s=>R4(s,!0))),e}function dne(){bi(2)}var ip={value:dne};function tb(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var une={};function xd(e){const r=une[e];return r||bi(0,e),r}var h0;function sM(){return h0}function mne(e,r){return{drafts_:[],parent_:e,immer_:r,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function FP(e,r){r&&(xd("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=r)}function _j(e){Oj(e),e.drafts_.forEach(hne),e.drafts_=null}function Oj(e){e===h0&&(h0=e.parent_)}function RP(e){return h0=mne(h0,e)}function hne(e){const r=e[Cn];r.type_===0||r.type_===1?r.revoke_():r.revoked_=!0}function BP(e,r){r.unfinalizedDrafts_=r.drafts_.length;const s=r.drafts_[0];return e!==void 0&&e!==s?(s[Cn].modified_&&(_j(r),bi(4)),Ul(e)&&(e=sg(r,e),r.parent_||ag(r,e)),r.patches_&&xd("Patches").generateReplacementPatches_(s[Cn].base_,e,r.patches_,r.inversePatches_)):e=sg(r,s,[]),_j(r),r.patches_&&r.patchListener_(r.patches_,r.inversePatches_),e!==eM?e:void 0}function sg(e,r,s){if(tb(r))return r;const a=e.immer_.shouldUseStrictIteration(),n=r[Cn];if(!n)return rg(r,(i,l)=>$P(e,n,r,i,l,s),a),r;if(n.scope_!==e)return r;if(!n.modified_)return ag(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let l=i,o=!1;n.type_===3&&(l=new Set(i),i.clear(),o=!0),rg(l,(c,d)=>$P(e,n,i,c,d,s,o),a),ag(e,i,!1),s&&e.patches_&&xd("Patches").generatePatches_(n,s,e.patches_,e.inversePatches_)}return n.copy_}function $P(e,r,s,a,n,i,l){if(n==null||typeof n!="object"&&!l)return;const o=tb(n);if(!(o&&!l)){if(hd(n)){const c=i&&r&&r.type_!==3&&!Ej(r.assigned_,a)?i.concat(a):void 0,d=sg(e,n,c);if(rM(s,a,d),hd(d))e.canAutoFreeze_=!1;else return}else l&&s.add(n);if(Ul(n)&&!o){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||r&&r.base_&&r.base_[a]===n&&o)return;sg(e,n),(!r||!r.scope_.parent_)&&typeof a!="symbol"&&(tx(s)?s.has(a):Object.prototype.propertyIsEnumerable.call(s,a))&&ag(e,n)}}}function ag(e,r,s=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&R4(r,s)}function xne(e,r){const s=Array.isArray(e),a={type_:s?1:0,scope_:r?r.scope_:sM(),modified_:!1,finalized_:!1,assigned_:{},parent_:r,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let n=a,i=B4;s&&(n=[a],i=x0);const{revoke:l,proxy:o}=Proxy.revocable(n,i);return a.draft_=o,a.revoke_=l,o}var B4={get(e,r){if(r===Cn)return e;const s=Cc(e);if(!Ej(s,r))return pne(e,s,r);const a=s[r];return e.finalized_||!Ul(a)?a:a===g1(e.base_,r)?(y1(e),e.copy_[r]=Mj(a,e)):a},has(e,r){return r in Cc(e)},ownKeys(e){return Reflect.ownKeys(Cc(e))},set(e,r,s){const a=aM(Cc(e),r);if(a!=null&&a.set)return a.set.call(e.draft_,s),!0;if(!e.modified_){const n=g1(Cc(e),r),i=n==null?void 0:n[Cn];if(i&&i.base_===s)return e.copy_[r]=s,e.assigned_[r]=!1,!0;if(cne(s,n)&&(s!==void 0||Ej(e.base_,r)))return!0;y1(e),Dj(e)}return e.copy_[r]===s&&(s!==void 0||r in e.copy_)||Number.isNaN(s)&&Number.isNaN(e.copy_[r])||(e.copy_[r]=s,e.assigned_[r]=!0),!0},deleteProperty(e,r){return g1(e.base_,r)!==void 0||r in e.base_?(e.assigned_[r]=!1,y1(e),Dj(e)):delete e.assigned_[r],e.copy_&&delete e.copy_[r],!0},getOwnPropertyDescriptor(e,r){const s=Cc(e),a=Reflect.getOwnPropertyDescriptor(s,r);return a&&{writable:!0,configurable:e.type_!==1||r!=="length",enumerable:a.enumerable,value:s[r]}},defineProperty(){bi(11)},getPrototypeOf(e){return m0(e.base_)},setPrototypeOf(){bi(12)}},x0={};rg(B4,(e,r)=>{x0[e]=function(){return arguments[0]=arguments[0][0],r.apply(this,arguments)}});x0.deleteProperty=function(e,r){return x0.set.call(this,e,r,void 0)};x0.set=function(e,r,s){return B4.set.call(this,e[0],r,s,e[0])};function g1(e,r){const s=e[Cn];return(s?Cc(s):e)[r]}function pne(e,r,s){var n;const a=aM(r,s);return a?"value"in a?a.value:(n=a.get)==null?void 0:n.call(e.draft_):void 0}function aM(e,r){if(!(r in e))return;let s=m0(e);for(;s;){const a=Object.getOwnPropertyDescriptor(s,r);if(a)return a;s=m0(s)}}function Dj(e){e.modified_||(e.modified_=!0,e.parent_&&Dj(e.parent_))}function y1(e){e.copy_||(e.copy_=Ij(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var fne=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(r,s,a)=>{if(typeof r=="function"&&typeof s!="function"){const i=s;s=r;const l=this;return function(c=i,...d){return l.produce(c,u=>s.call(this,u,...d))}}typeof s!="function"&&bi(6),a!==void 0&&typeof a!="function"&&bi(7);let n;if(Ul(r)){const i=RP(this),l=Mj(r,void 0);let o=!0;try{n=s(l),o=!1}finally{o?_j(i):Oj(i)}return FP(i,a),BP(n,i)}else if(!r||typeof r!="object"){if(n=s(r),n===void 0&&(n=r),n===eM&&(n=void 0),this.autoFreeze_&&R4(n,!0),a){const i=[],l=[];xd("Patches").generateReplacementPatches_(r,n,i,l),a(i,l)}return n}else bi(1,r)},this.produceWithPatches=(r,s)=>{if(typeof r=="function")return(l,...o)=>this.produceWithPatches(l,c=>r(c,...o));let a,n;return[this.produce(r,s,(l,o)=>{a=l,n=o}),a,n]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Ul(e)||bi(8),hd(e)&&(e=Pl(e));const r=RP(this),s=Mj(e,void 0);return s[Cn].isManual_=!0,Oj(r),s}finishDraft(e,r){const s=e&&e[Cn];(!s||!s.isManual_)&&bi(9);const{scope_:a}=s;return FP(a,r),BP(void 0,a)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,r){let s;for(s=r.length-1;s>=0;s--){const n=r[s];if(n.path.length===0&&n.op==="replace"){e=n.value;break}}s>-1&&(r=r.slice(s+1));const a=xd("Patches").applyPatches_;return hd(e)?a(e,r):this.produce(e,n=>a(n,r))}};function Mj(e,r){const s=tx(e)?xd("MapSet").proxyMap_(e,r):eb(e)?xd("MapSet").proxySet_(e,r):xne(e,r);return(r?r.scope_:sM()).drafts_.push(s),s}function Pl(e){return hd(e)||bi(10,e),nM(e)}function nM(e){if(!Ul(e)||tb(e))return e;const r=e[Cn];let s,a=!0;if(r){if(!r.modified_)return r.base_;r.finalized_=!0,s=Ij(e,r.scope_.immer_.useStrictShallowCopy_),a=r.scope_.immer_.shouldUseStrictIteration()}else s=Ij(e,!0);return rg(s,(n,i)=>{rM(s,n,nM(i))},a),r&&(r.finalized_=!1),s}var Lj=new fne,iM=Lj.produce,gne=Lj.setUseStrictIteration.bind(Lj);function lM(e){return({dispatch:s,getState:a})=>n=>i=>typeof i=="function"?i(s,a,e):n(i)}var yne=lM(),bne=lM,vne=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?tg:tg.apply(null,arguments)};function ni(e,r){function s(...a){if(r){let n=r(...a);if(!n)throw new Error(jn(0));return{type:e,payload:n.payload,..."meta"in n&&{meta:n.meta},..."error"in n&&{error:n.error}}}return{type:e,payload:a[0]}}return s.toString=()=>`${e}`,s.type=e,s.match=a=>ZD(a)&&a.type===e,s}var oM=class hh extends Array{constructor(...r){super(...r),Object.setPrototypeOf(this,hh.prototype)}static get[Symbol.species](){return hh}concat(...r){return super.concat.apply(this,r)}prepend(...r){return r.length===1&&Array.isArray(r[0])?new hh(...r[0].concat(this)):new hh(...r.concat(this))}};function zP(e){return Ul(e)?iM(e,()=>{}):e}function lp(e,r,s){return e.has(r)?e.get(r):e.set(r,s(r)).get(r)}function jne(e){return typeof e=="boolean"}var wne=()=>function(r){const{thunk:s=!0,immutableCheck:a=!0,serializableCheck:n=!0,actionCreatorCheck:i=!0}=r??{};let l=new oM;return s&&(jne(s)?l.push(yne):l.push(bne(s.extraArgument))),l},cM="RTK_autoBatch",Ds=()=>e=>({payload:e,meta:{[cM]:!0}}),UP=e=>r=>{setTimeout(r,e)},dM=(e={type:"raf"})=>r=>(...s)=>{const a=r(...s);let n=!0,i=!1,l=!1;const o=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:UP(10):e.type==="callback"?e.queueNotification:UP(e.timeout),d=()=>{l=!1,i&&(i=!1,o.forEach(u=>u()))};return Object.assign({},a,{subscribe(u){const m=()=>n&&u(),x=a.subscribe(m);return o.add(u),()=>{x(),o.delete(u)}},dispatch(u){var m;try{return n=!((m=u==null?void 0:u.meta)!=null&&m[cM]),i=!n,i&&(l||(l=!0,c(d))),a.dispatch(u)}finally{n=!0}}})},Nne=e=>function(s){const{autoBatch:a=!0}=s??{};let n=new oM(e);return a&&n.push(dM(typeof a=="object"?a:void 0)),n};function Sne(e){const r=wne(),{reducer:s=void 0,middleware:a,devTools:n=!0,preloadedState:i=void 0,enhancers:l=void 0}=e||{};let o;if(typeof s=="function")o=s;else if(F4(s))o=QD(s);else throw new Error(jn(1));let c;typeof a=="function"?c=a(r):c=r();let d=tg;n&&(d=vne({trace:!1,...typeof n=="object"&&n}));const u=lne(...c),m=Nne(u);let x=typeof l=="function"?l(m):m();const h=d(...x);return JD(o,i,h)}function uM(e){const r={},s=[];let a;const n={addCase(i,l){const o=typeof i=="string"?i:i.type;if(!o)throw new Error(jn(28));if(o in r)throw new Error(jn(29));return r[o]=l,n},addAsyncThunk(i,l){return l.pending&&(r[i.pending.type]=l.pending),l.rejected&&(r[i.rejected.type]=l.rejected),l.fulfilled&&(r[i.fulfilled.type]=l.fulfilled),l.settled&&s.push({matcher:i.settled,reducer:l.settled}),n},addMatcher(i,l){return s.push({matcher:i,reducer:l}),n},addDefaultCase(i){return a=i,n}};return e(n),[r,s,a]}gne(!1);function kne(e){return typeof e=="function"}function Cne(e,r){let[s,a,n]=uM(r),i;if(kne(e))i=()=>zP(e());else{const o=zP(e);i=()=>o}function l(o=i(),c){let d=[s[c.type],...a.filter(({matcher:u})=>u(c)).map(({reducer:u})=>u)];return d.filter(u=>!!u).length===0&&(d=[n]),d.reduce((u,m)=>{if(m)if(hd(u)){const h=m(u,c);return h===void 0?u:h}else{if(Ul(u))return iM(u,x=>m(x,c));{const x=m(u,c);if(x===void 0){if(u===null)return u;throw Error("A case reducer on a non-draftable value must not return undefined")}return x}}return u},o)}return l.getInitialState=i,l}var Pne="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Ane=(e=21)=>{let r="",s=e;for(;s--;)r+=Pne[Math.random()*64|0];return r},Tne=Symbol.for("rtk-slice-createasyncthunk");function Ene(e,r){return`${e}/${r}`}function Ine({creators:e}={}){var s;const r=(s=e==null?void 0:e.asyncThunk)==null?void 0:s[Tne];return function(n){const{name:i,reducerPath:l=i}=n;if(!i)throw new Error(jn(11));const o=(typeof n.reducers=="function"?n.reducers(One()):n.reducers)||{},c=Object.keys(o),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(v,N){const S=typeof v=="string"?v:v.type;if(!S)throw new Error(jn(12));if(S in d.sliceCaseReducersByType)throw new Error(jn(13));return d.sliceCaseReducersByType[S]=N,u},addMatcher(v,N){return d.sliceMatchers.push({matcher:v,reducer:N}),u},exposeAction(v,N){return d.actionCreators[v]=N,u},exposeCaseReducer(v,N){return d.sliceCaseReducersByName[v]=N,u}};c.forEach(v=>{const N=o[v],S={reducerName:v,type:Ene(i,v),createNotation:typeof n.reducers=="function"};Mne(N)?Fne(S,N,u,r):Dne(S,N,u)});function m(){const[v={},N=[],S=void 0]=typeof n.extraReducers=="function"?uM(n.extraReducers):[n.extraReducers],k={...v,...d.sliceCaseReducersByType};return Cne(n.initialState,C=>{for(let P in k)C.addCase(P,k[P]);for(let P of d.sliceMatchers)C.addMatcher(P.matcher,P.reducer);for(let P of N)C.addMatcher(P.matcher,P.reducer);S&&C.addDefaultCase(S)})}const x=v=>v,h=new Map,p=new WeakMap;let f;function b(v,N){return f||(f=m()),f(v,N)}function j(){return f||(f=m()),f.getInitialState()}function w(v,N=!1){function S(C){let P=C[v];return typeof P>"u"&&N&&(P=lp(p,S,j)),P}function k(C=x){const P=lp(h,N,()=>new WeakMap);return lp(P,C,()=>{const _={};for(const[A,D]of Object.entries(n.selectors??{}))_[A]=_ne(D,C,()=>lp(p,C,j),N);return _})}return{reducerPath:v,getSelectors:k,get selectors(){return k(S)},selectSlice:S}}const y={name:i,reducer:b,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:j,...w(l),injectInto(v,{reducerPath:N,...S}={}){const k=N??l;return v.inject({reducerPath:k,reducer:b},S),{...y,...w(k,!0)}}};return y}}function _ne(e,r,s,a){function n(i,...l){let o=r(i);return typeof o>"u"&&a&&(o=s()),e(o,...l)}return n.unwrapped=e,n}var nn=Ine();function One(){function e(r,s){return{_reducerDefinitionType:"asyncThunk",payloadCreator:r,...s}}return e.withTypes=()=>e,{reducer(r){return Object.assign({[r.name](...s){return r(...s)}}[r.name],{_reducerDefinitionType:"reducer"})},preparedReducer(r,s){return{_reducerDefinitionType:"reducerWithPrepare",prepare:r,reducer:s}},asyncThunk:e}}function Dne({type:e,reducerName:r,createNotation:s},a,n){let i,l;if("reducer"in a){if(s&&!Lne(a))throw new Error(jn(17));i=a.reducer,l=a.prepare}else i=a;n.addCase(e,i).exposeCaseReducer(r,i).exposeAction(r,l?ni(e,l):ni(e))}function Mne(e){return e._reducerDefinitionType==="asyncThunk"}function Lne(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Fne({type:e,reducerName:r},s,a,n){if(!n)throw new Error(jn(18));const{payloadCreator:i,fulfilled:l,pending:o,rejected:c,settled:d,options:u}=s,m=n(e,i,u);a.exposeAction(r,m),l&&a.addCase(m.fulfilled,l),o&&a.addCase(m.pending,o),c&&a.addCase(m.rejected,c),d&&a.addMatcher(m.settled,d),a.exposeCaseReducer(r,{fulfilled:l||op,pending:o||op,rejected:c||op,settled:d||op})}function op(){}var Rne="task",mM="listener",hM="completed",$4="cancelled",Bne=`task-${$4}`,$ne=`task-${hM}`,Fj=`${mM}-${$4}`,zne=`${mM}-${hM}`,rb=class{constructor(e){mi(this,"name","TaskAbortError");mi(this,"message");this.code=e,this.message=`${Rne} ${$4} (reason: ${e})`}},z4=(e,r)=>{if(typeof e!="function")throw new TypeError(jn(32))},ng=()=>{},xM=(e,r=ng)=>(e.catch(r),e),pM=(e,r)=>(e.addEventListener("abort",r,{once:!0}),()=>e.removeEventListener("abort",r)),Wc=(e,r)=>{const s=e.signal;s.aborted||("reason"in s||Object.defineProperty(s,"reason",{enumerable:!0,value:r,configurable:!0,writable:!0}),e.abort(r))},Gc=e=>{if(e.aborted){const{reason:r}=e;throw new rb(r)}};function fM(e,r){let s=ng;return new Promise((a,n)=>{const i=()=>n(new rb(e.reason));if(e.aborted){i();return}s=pM(e,i),r.finally(()=>s()).then(a,n)}).finally(()=>{s=ng})}var Une=async(e,r)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(s){return{status:s instanceof rb?"cancelled":"rejected",error:s}}finally{r==null||r()}},ig=e=>r=>xM(fM(e,r).then(s=>(Gc(e),s))),gM=e=>{const r=ig(e);return s=>r(new Promise(a=>setTimeout(a,s)))},{assign:Tu}=Object,HP={},sb="listenerMiddleware",Hne=(e,r)=>{const s=a=>pM(e,()=>Wc(a,e.reason));return(a,n)=>{z4(a);const i=new AbortController;s(i);const l=Une(async()=>{Gc(e),Gc(i.signal);const o=await a({pause:ig(i.signal),delay:gM(i.signal),signal:i.signal});return Gc(i.signal),o},()=>Wc(i,$ne));return n!=null&&n.autoJoin&&r.push(l.catch(ng)),{result:ig(e)(l),cancel(){Wc(i,Bne)}}}},Vne=(e,r)=>{const s=async(a,n)=>{Gc(r);let i=()=>{};const o=[new Promise((c,d)=>{let u=e({predicate:a,effect:(m,x)=>{x.unsubscribe(),c([m,x.getState(),x.getOriginalState()])}});i=()=>{u(),d()}})];n!=null&&o.push(new Promise(c=>setTimeout(c,n,null)));try{const c=await fM(r,Promise.race(o));return Gc(r),c}finally{i()}};return(a,n)=>xM(s(a,n))},yM=e=>{let{type:r,actionCreator:s,matcher:a,predicate:n,effect:i}=e;if(r)n=ni(r).match;else if(s)r=s.type,n=s.match;else if(a)n=a;else if(!n)throw new Error(jn(21));return z4(i),{predicate:n,type:r,effect:i}},bM=Tu(e=>{const{type:r,predicate:s,effect:a}=yM(e);return{id:Ane(),effect:a,type:r,predicate:s,pending:new Set,unsubscribe:()=>{throw new Error(jn(22))}}},{withTypes:()=>bM}),VP=(e,r)=>{const{type:s,effect:a,predicate:n}=yM(r);return Array.from(e.values()).find(i=>(typeof s=="string"?i.type===s:i.predicate===n)&&i.effect===a)},Rj=e=>{e.pending.forEach(r=>{Wc(r,Fj)})},Wne=(e,r)=>()=>{for(const s of r.keys())Rj(s);e.clear()},WP=(e,r,s)=>{try{e(r,s)}catch(a){setTimeout(()=>{throw a},0)}},vM=Tu(ni(`${sb}/add`),{withTypes:()=>vM}),Gne=ni(`${sb}/removeAll`),jM=Tu(ni(`${sb}/remove`),{withTypes:()=>jM}),qne=(...e)=>{console.error(`${sb}/error`,...e)},rx=(e={})=>{const r=new Map,s=new Map,a=h=>{const p=s.get(h)??0;s.set(h,p+1)},n=h=>{const p=s.get(h)??1;p===1?s.delete(h):s.set(h,p-1)},{extra:i,onError:l=qne}=e;z4(l);const o=h=>(h.unsubscribe=()=>r.delete(h.id),r.set(h.id,h),p=>{h.unsubscribe(),p!=null&&p.cancelActive&&Rj(h)}),c=h=>{const p=VP(r,h)??bM(h);return o(p)};Tu(c,{withTypes:()=>c});const d=h=>{const p=VP(r,h);return p&&(p.unsubscribe(),h.cancelActive&&Rj(p)),!!p};Tu(d,{withTypes:()=>d});const u=async(h,p,f,b)=>{const j=new AbortController,w=Vne(c,j.signal),y=[];try{h.pending.add(j),a(h),await Promise.resolve(h.effect(p,Tu({},f,{getOriginalState:b,condition:(v,N)=>w(v,N).then(Boolean),take:w,delay:gM(j.signal),pause:ig(j.signal),extra:i,signal:j.signal,fork:Hne(j.signal,y),unsubscribe:h.unsubscribe,subscribe:()=>{r.set(h.id,h)},cancelActiveListeners:()=>{h.pending.forEach((v,N,S)=>{v!==j&&(Wc(v,Fj),S.delete(v))})},cancel:()=>{Wc(j,Fj),h.pending.delete(j)},throwIfCancelled:()=>{Gc(j.signal)}})))}catch(v){v instanceof rb||WP(l,v,{raisedBy:"effect"})}finally{await Promise.all(y),Wc(j,zne),n(h),h.pending.delete(j)}},m=Wne(r,s);return{middleware:h=>p=>f=>{if(!ZD(f))return p(f);if(vM.match(f))return c(f.payload);if(Gne.match(f)){m();return}if(jM.match(f))return d(f.payload);let b=h.getState();const j=()=>{if(b===HP)throw new Error(jn(23));return b};let w;try{if(w=p(f),r.size>0){const y=h.getState(),v=Array.from(r.values());for(const N of v){let S=!1;try{S=N.predicate(f,y,b)}catch(k){S=!1,WP(l,k,{raisedBy:"predicate"})}S&&u(N,f,h,j)}}}finally{b=HP}return w},startListening:c,stopListening:d,clearListeners:m}};function jn(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Kne={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},wM=nn({name:"chartLayout",initialState:Kne,reducers:{setLayout(e,r){e.layoutType=r.payload},setChartSize(e,r){e.width=r.payload.width,e.height=r.payload.height},setMargin(e,r){var s,a,n,i;e.margin.top=(s=r.payload.top)!==null&&s!==void 0?s:0,e.margin.right=(a=r.payload.right)!==null&&a!==void 0?a:0,e.margin.bottom=(n=r.payload.bottom)!==null&&n!==void 0?n:0,e.margin.left=(i=r.payload.left)!==null&&i!==void 0?i:0},setScale(e,r){e.scale=r.payload}}}),{setMargin:Yne,setLayout:Xne,setChartSize:Jne,setScale:Qne}=wM.actions,Zne=wM.reducer;function NM(e,r,s){return Array.isArray(e)&&e&&r+s!==0?e.slice(r,s+1):e}function GP(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function xu(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?GP(Object(s),!0).forEach(function(a){eie(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):GP(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function eie(e,r,s){return(r=tie(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function tie(e){var r=rie(e,"string");return typeof r=="symbol"?r:r+""}function rie(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function br(e,r,s){return Lr(e)||Lr(r)?s:tl(r)?md(e,r,s):typeof r=="function"?r(e):s}var sie=(e,r,s)=>{if(r&&s){var{width:a,height:n}=s,{align:i,verticalAlign:l,layout:o}=r;if((o==="vertical"||o==="horizontal"&&l==="middle")&&i!=="center"&&bt(e[i]))return xu(xu({},e),{},{[i]:e[i]+(a||0)});if((o==="horizontal"||o==="vertical"&&i==="center")&&l!=="middle"&&bt(e[l]))return xu(xu({},e),{},{[l]:e[l]+(n||0)})}return e},ol=(e,r)=>e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis",SM=(e,r,s,a)=>{if(a)return e.map(o=>o.coordinate);var n,i,l=e.map(o=>(o.coordinate===r&&(n=!0),o.coordinate===s&&(i=!0),o.coordinate));return n||l.push(r),i||l.push(s),l},kM=(e,r,s)=>{if(!e)return null;var{duplicateDomain:a,type:n,range:i,scale:l,realScaleType:o,isCategorical:c,categoricalDomain:d,tickCount:u,ticks:m,niceTicks:x,axisType:h}=e;if(!l)return null;var p=o==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,f=n==="category"&&l.bandwidth?l.bandwidth()/p:0;if(f=h==="angleAxis"&&i&&i.length>=2?Vs(i[0]-i[1])*2*f:f,m||x){var b=(m||x||[]).map((j,w)=>{var y=a?a.indexOf(j):j;return{coordinate:l(y)+f,value:j,offset:f,index:w}});return b.filter(j=>!ai(j.coordinate))}return c&&d?d.map((j,w)=>({coordinate:l(j)+f,value:j,index:w,offset:f})):l.ticks&&u!=null?l.ticks(u).map((j,w)=>({coordinate:l(j)+f,value:j,offset:f,index:w})):l.domain().map((j,w)=>({coordinate:l(j)+f,value:a?a[j]:j,index:w,offset:f}))},qP=1e-4,aie=e=>{var r=e.domain();if(!(!r||r.length<=2)){var s=r.length,a=e.range(),n=Math.min(a[0],a[1])-qP,i=Math.max(a[0],a[1])+qP,l=e(r[0]),o=e(r[s-1]);(l<n||l>i||o<n||o>i)&&e.domain([r[0],r[s-1]])}},nie=(e,r)=>{if(!r||r.length!==2||!bt(r[0])||!bt(r[1]))return e;var s=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),n=[e[0],e[1]];return(!bt(e[0])||e[0]<s)&&(n[0]=s),(!bt(e[1])||e[1]>a)&&(n[1]=a),n[0]>a&&(n[0]=a),n[1]<s&&(n[1]=s),n},iie=e=>{var r=e.length;if(!(r<=0))for(var s=0,a=e[0].length;s<a;++s)for(var n=0,i=0,l=0;l<r;++l){var o=ai(e[l][s][1])?e[l][s][0]:e[l][s][1];o>=0?(e[l][s][0]=n,e[l][s][1]=n+o,n=e[l][s][1]):(e[l][s][0]=i,e[l][s][1]=i+o,i=e[l][s][1])}},lie=e=>{var r=e.length;if(!(r<=0))for(var s=0,a=e[0].length;s<a;++s)for(var n=0,i=0;i<r;++i){var l=ai(e[i][s][1])?e[i][s][0]:e[i][s][1];l>=0?(e[i][s][0]=n,e[i][s][1]=n+l,n=e[i][s][1]):(e[i][s][0]=0,e[i][s][1]=0)}},oie={sign:iie,expand:Wse,none:tm,silhouette:Gse,wiggle:qse,positive:lie},cie=(e,r,s)=>{var a=oie[s],n=Vse().keys(r).value((i,l)=>Number(br(i,l,0))).order(Aj).offset(a);return n(e)};function CM(e){return e==null?void 0:String(e)}function lg(e){var{axis:r,ticks:s,bandSize:a,entry:n,index:i,dataKey:l}=e;if(r.type==="category"){if(!r.allowDuplicatedCategory&&r.dataKey&&!Lr(n[r.dataKey])){var o=yD(s,"value",n[r.dataKey]);if(o)return o.coordinate+a/2}return s[i]?s[i].coordinate+a/2:null}var c=br(n,Lr(l)?r.dataKey:l);return Lr(c)?null:r.scale(c)}var KP=e=>{var{axis:r,ticks:s,offset:a,bandSize:n,entry:i,index:l}=e;if(r.type==="category")return s[l]?s[l].coordinate+a:null;var o=br(i,r.dataKey,r.scale.domain()[l]);return Lr(o)?null:r.scale(o)-n/2+a},die=e=>{var{numericAxis:r}=e,s=r.scale.domain();if(r.type==="number"){var a=Math.min(s[0],s[1]),n=Math.max(s[0],s[1]);return a<=0&&n>=0?0:n<0?n:a}return s[0]},uie=e=>{var r=e.flat(2).filter(bt);return[Math.min(...r),Math.max(...r)]},mie=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],hie=(e,r,s)=>{if(e!=null)return mie(Object.keys(e).reduce((a,n)=>{var i=e[n],{stackedData:l}=i,o=l.reduce((c,d)=>{var u=NM(d,r,s),m=uie(u);return[Math.min(c[0],m[0]),Math.max(c[1],m[1])]},[1/0,-1/0]);return[Math.min(o[0],a[0]),Math.max(o[1],a[1])]},[1/0,-1/0]))},YP=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,XP=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Zo=(e,r,s)=>{if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!s||a>0)return a}if(e&&r&&r.length>=2){for(var n=Qy(r,u=>u.coordinate),i=1/0,l=1,o=n.length;l<o;l++){var c=n[l],d=n[l-1];i=Math.min((c.coordinate||0)-(d.coordinate||0),i)}return i===1/0?0:i}return s?void 0:0};function JP(e){var{tooltipEntrySettings:r,dataKey:s,payload:a,value:n,name:i}=e;return xu(xu({},r),{},{dataKey:s,payload:a,value:n,name:i})}function dc(e,r){if(e)return String(e);if(typeof r=="string")return r}var xie=(e,r)=>{if(r==="horizontal")return e.chartX;if(r==="vertical")return e.chartY},pie=(e,r)=>r==="centric"?e.angle:e.radius,eo=e=>e.layout.width,to=e=>e.layout.height,fie=e=>e.layout.scale,PM=e=>e.layout.margin,ab=we(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),nb=we(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),AM="data-recharts-item-index",TM="data-recharts-item-data-key",sx=60;function QP(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function cp(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?QP(Object(s),!0).forEach(function(a){gie(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):QP(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function gie(e,r,s){return(r=yie(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function yie(e){var r=bie(e,"string");return typeof r=="symbol"?r:r+""}function bie(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var vie=e=>e.brush.height;function jie(e){var r=nb(e);return r.reduce((s,a)=>{if(a.orientation==="left"&&!a.mirror&&!a.hide){var n=typeof a.width=="number"?a.width:sx;return s+n}return s},0)}function wie(e){var r=nb(e);return r.reduce((s,a)=>{if(a.orientation==="right"&&!a.mirror&&!a.hide){var n=typeof a.width=="number"?a.width:sx;return s+n}return s},0)}function Nie(e){var r=ab(e);return r.reduce((s,a)=>a.orientation==="top"&&!a.mirror&&!a.hide?s+a.height:s,0)}function Sie(e){var r=ab(e);return r.reduce((s,a)=>a.orientation==="bottom"&&!a.mirror&&!a.hide?s+a.height:s,0)}var Ls=we([eo,to,PM,vie,jie,wie,Nie,Sie,YD,ene],(e,r,s,a,n,i,l,o,c,d)=>{var u={left:(s.left||0)+n,right:(s.right||0)+i},m={top:(s.top||0)+l,bottom:(s.bottom||0)+o},x=cp(cp({},m),u),h=x.bottom;x.bottom+=a,x=sie(x,c,d);var p=e-x.left-x.right,f=r-x.top-x.bottom;return cp(cp({brushBottom:h},x),{},{width:Math.max(p,0),height:Math.max(f,0)})}),kie=we(Ls,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),U4=we(eo,to,(e,r)=>({x:0,y:0,width:e,height:r})),Cie=g.createContext(null),Ks=()=>g.useContext(Cie)!=null,ib=e=>e.brush,lb=we([ib,Ls,PM],(e,r,s)=>({height:e.height,x:bt(e.x)?e.x:r.left,y:bt(e.y)?e.y:r.top+r.height+r.brushBottom-((s==null?void 0:s.bottom)||0),width:bt(e.width)?e.width:r.width})),EM={},IM={},_M={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s,a,{signal:n,edges:i}={}){let l,o=null;const c=i!=null&&i.includes("leading"),d=i==null||i.includes("trailing"),u=()=>{o!==null&&(s.apply(l,o),l=void 0,o=null)},m=()=>{d&&u(),f()};let x=null;const h=()=>{x!=null&&clearTimeout(x),x=setTimeout(()=>{x=null,m()},a)},p=()=>{x!==null&&(clearTimeout(x),x=null)},f=()=>{p(),l=void 0,o=null},b=()=>{u()},j=function(...w){if(n!=null&&n.aborted)return;l=this,o=w;const y=x==null;h(),c&&y&&u()};return j.schedule=h,j.cancel=f,j.flush=b,n==null||n.addEventListener("abort",f,{once:!0}),j}e.debounce=r})(_M);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=_M;function s(a,n=0,i={}){typeof i!="object"&&(i={});const{leading:l=!1,trailing:o=!0,maxWait:c}=i,d=Array(2);l&&(d[0]="leading"),o&&(d[1]="trailing");let u,m=null;const x=r.debounce(function(...f){u=a.apply(this,f),m=null},n,{edges:d}),h=function(...f){return c!=null&&(m===null&&(m=Date.now()),Date.now()-m>=c)?(u=a.apply(this,f),m=Date.now(),x.cancel(),x.schedule(),u):(x.apply(this,f),u)},p=()=>(x.flush(),u);return h.cancel=x.cancel,h.flush=p,h}e.debounce=s})(IM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=IM;function s(a,n=0,i={}){const{leading:l=!0,trailing:o=!0}=i;return r.debounce(a,n,{leading:l,maxWait:n,trailing:o})}e.throttle=s})(EM);var Pie=EM.throttle;const Aie=li(Pie);var og=function(r,s){for(var a=arguments.length,n=new Array(a>2?a-2:0),i=2;i<a;i++)n[i-2]=arguments[i]},OM=(e,r,s)=>{var{width:a="100%",height:n="100%",aspect:i,maxHeight:l}=s,o=zl(a)?e:Number(a),c=zl(n)?r:Number(n);return i&&i>0&&(o?c=o/i:c&&(o=c*i),l&&c!=null&&c>l&&(c=l)),{calculatedWidth:o,calculatedHeight:c}},Tie={width:0,height:0,overflow:"visible"},Eie={width:0,overflowX:"visible"},Iie={height:0,overflowY:"visible"},_ie={},Oie=e=>{var{width:r,height:s}=e,a=zl(r),n=zl(s);return a&&n?Tie:a?Eie:n?Iie:_ie};function Die(e){var{width:r,height:s,aspect:a}=e,n=r,i=s;return n===void 0&&i===void 0?(n="100%",i="100%"):n===void 0?n=a&&a>0?void 0:"100%":i===void 0&&(i=a&&a>0?void 0:"100%"),{width:n,height:i}}function Fr(e){return Number.isFinite(e)}function rl(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Bj(){return Bj=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Bj.apply(null,arguments)}function ZP(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function eA(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?ZP(Object(s),!0).forEach(function(a){Mie(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ZP(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Mie(e,r,s){return(r=Lie(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Lie(e){var r=Fie(e,"string");return typeof r=="symbol"?r:r+""}function Fie(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var DM=g.createContext({width:-1,height:-1});function Rie(e){return rl(e.width)&&rl(e.height)}function MM(e){var{children:r,width:s,height:a}=e,n=g.useMemo(()=>({width:s,height:a}),[s,a]);return Rie(n)?g.createElement(DM.Provider,{value:n},r):null}var H4=()=>g.useContext(DM),Bie=g.forwardRef((e,r)=>{var{aspect:s,initialDimension:a={width:-1,height:-1},width:n,height:i,minWidth:l=0,minHeight:o,maxHeight:c,children:d,debounce:u=0,id:m,className:x,onResize:h,style:p={}}=e,f=g.useRef(null),b=g.useRef();b.current=h,g.useImperativeHandle(r,()=>f.current);var[j,w]=g.useState({containerWidth:a.width,containerHeight:a.height}),y=g.useCallback((C,P)=>{w(_=>{var A=Math.round(C),D=Math.round(P);return _.containerWidth===A&&_.containerHeight===D?_:{containerWidth:A,containerHeight:D}})},[]);g.useEffect(()=>{if(f.current==null||typeof ResizeObserver>"u")return Id;var C=D=>{var F,{width:X,height:ce}=D[0].contentRect;y(X,ce),(F=b.current)===null||F===void 0||F.call(b,X,ce)};u>0&&(C=Aie(C,u,{trailing:!0,leading:!1}));var P=new ResizeObserver(C),{width:_,height:A}=f.current.getBoundingClientRect();return y(_,A),P.observe(f.current),()=>{P.disconnect()}},[y,u]);var{containerWidth:v,containerHeight:N}=j;og(!s||s>0,"The aspect(%s) must be greater than zero.",s);var{calculatedWidth:S,calculatedHeight:k}=OM(v,N,{width:n,height:i,aspect:s,maxHeight:c});return og(S!=null&&S>0||k!=null&&k>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,S,k,n,i,l,o,s),g.createElement("div",{id:m?"".concat(m):void 0,className:ar("recharts-responsive-container",x),style:eA(eA({},p),{},{width:n,height:i,minWidth:l,minHeight:o,maxHeight:c}),ref:f},g.createElement("div",{style:Oie({width:n,height:i})},g.createElement(MM,{width:S,height:k},d)))}),Vi=g.forwardRef((e,r)=>{var s=H4();if(rl(s.width)&&rl(s.height))return e.children;var{width:a,height:n}=Die({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:l}=OM(void 0,void 0,{width:a,height:n,aspect:e.aspect,maxHeight:e.maxHeight});return bt(i)&&bt(l)?g.createElement(MM,{width:i,height:l},e.children):g.createElement(Bie,Bj({},e,{width:a,height:n,ref:r}))});function LM(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var ob=()=>{var e,r=Ks(),s=St(kie),a=St(lb),n=(e=St(ib))===null||e===void 0?void 0:e.padding;return!r||!a||!n?s:{width:a.width-n.left-n.right,height:a.height-n.top-n.bottom,x:n.left,y:n.top}},$ie={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},FM=()=>{var e;return(e=St(Ls))!==null&&e!==void 0?e:$ie},V4=()=>St(eo),W4=()=>St(to),zie=()=>St(e=>e.layout.margin),Kt=e=>e.layout.layoutType,ym=()=>St(Kt),Uie=()=>{var e=ym();return e!==void 0},cb=e=>{var r=Er(),s=Ks(),{width:a,height:n}=e,i=H4(),l=a,o=n;return i&&(l=i.width>0?i.width:a,o=i.height>0?i.height:n),g.useEffect(()=>{!s&&rl(l)&&rl(o)&&r(Jne({width:l,height:o}))},[r,s,l,o]),null},Hie={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},RM=nn({name:"legend",initialState:Hie,reducers:{setLegendSize(e,r){e.size.width=r.payload.width,e.size.height=r.payload.height},setLegendSettings(e,r){e.settings.align=r.payload.align,e.settings.layout=r.payload.layout,e.settings.verticalAlign=r.payload.verticalAlign,e.settings.itemSorter=r.payload.itemSorter},addLegendPayload:{reducer(e,r){e.payload.push(r.payload)},prepare:Ds()},removeLegendPayload:{reducer(e,r){var s=Pl(e).payload.indexOf(r.payload);s>-1&&e.payload.splice(s,1)},prepare:Ds()}}}),{setLegendSize:tA,setLegendSettings:Vie,addLegendPayload:BM,removeLegendPayload:$M}=RM.actions,Wie=RM.reducer,Gie=["contextPayload"];function $j(){return $j=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},$j.apply(null,arguments)}function rA(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function sm(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?rA(Object(s),!0).forEach(function(a){qie(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):rA(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function qie(e,r,s){return(r=Kie(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Kie(e){var r=Yie(e,"string");return typeof r=="symbol"?r:r+""}function Yie(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Xie(e,r){if(e==null)return{};var s,a,n=Jie(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Jie(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function Qie(e){return e.value}function Zie(e){var{contextPayload:r}=e,s=Xie(e,Gie),a=RD(r,e.payloadUniqBy,Qie),n=sm(sm({},s),{},{payload:a});return g.isValidElement(e.content)?g.cloneElement(e.content,n):typeof e.content=="function"?g.createElement(e.content,n):g.createElement(bae,n)}function ele(e,r,s,a,n,i){var{layout:l,align:o,verticalAlign:c}=r,d,u;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(o==="center"&&l==="vertical"?d={left:((a||0)-i.width)/2}:d=o==="right"?{right:s&&s.right||0}:{left:s&&s.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(c==="middle"?u={top:((n||0)-i.height)/2}:u=c==="bottom"?{bottom:s&&s.bottom||0}:{top:s&&s.top||0}),sm(sm({},d),u)}function tle(e){var r=Er();return g.useEffect(()=>{r(Vie(e))},[r,e]),null}function rle(e){var r=Er();return g.useEffect(()=>(r(tA(e)),()=>{r(tA({width:0,height:0}))}),[r,e]),null}function sle(e,r,s,a){return e==="vertical"&&bt(r)?{height:r}:e==="horizontal"?{width:s||a}:null}var ale={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function Eu(e){var r=os(e,ale),s=sne(),a=xse(),n=zie(),{width:i,height:l,wrapperStyle:o,portal:c}=r,[d,u]=XD([s]),m=V4(),x=W4();if(m==null||x==null)return null;var h=m-((n==null?void 0:n.left)||0)-((n==null?void 0:n.right)||0),p=sle(r.layout,l,i,h),f=c?o:sm(sm({position:"absolute",width:(p==null?void 0:p.width)||i||"auto",height:(p==null?void 0:p.height)||l||"auto"},ele(o,r,n,m,x,d)),o),b=c??a;if(b==null||s==null)return null;var j=g.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:u},g.createElement(tle,{layout:r.layout,align:r.align,verticalAlign:r.verticalAlign,itemSorter:r.itemSorter}),g.createElement(rle,{width:d.width,height:d.height}),g.createElement(Zie,$j({},r,p,{margin:n,chartWidth:m,chartHeight:x,contextPayload:s})));return by.createPortal(j,b)}Eu.displayName="Legend";function zj(){return zj=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},zj.apply(null,arguments)}function sA(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function b1(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?sA(Object(s),!0).forEach(function(a){nle(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):sA(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function nle(e,r,s){return(r=ile(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function ile(e){var r=lle(e,"string");return typeof r=="symbol"?r:r+""}function lle(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function ole(e){return Array.isArray(e)&&tl(e[0])&&tl(e[1])?e.join(" ~ "):e}var cle=e=>{var{separator:r=" : ",contentStyle:s={},itemStyle:a={},labelStyle:n={},payload:i,formatter:l,itemSorter:o,wrapperClassName:c,labelClassName:d,label:u,labelFormatter:m,accessibilityLayer:x=!1}=e,h=()=>{if(i&&i.length){var N={padding:0,margin:0},S=(o?Qy(i,o):i).map((k,C)=>{if(k.type==="none")return null;var P=k.formatter||l||ole,{value:_,name:A}=k,D=_,F=A;if(P){var X=P(_,A,k,C,i);if(Array.isArray(X))[D,F]=X;else if(X!=null)D=X;else return null}var ce=b1({display:"block",paddingTop:4,paddingBottom:4,color:k.color||"#000"},a);return g.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(C),style:ce},tl(F)?g.createElement("span",{className:"recharts-tooltip-item-name"},F):null,tl(F)?g.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,g.createElement("span",{className:"recharts-tooltip-item-value"},D),g.createElement("span",{className:"recharts-tooltip-item-unit"},k.unit||""))});return g.createElement("ul",{className:"recharts-tooltip-item-list",style:N},S)}return null},p=b1({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),f=b1({margin:0},n),b=!Lr(u),j=b?u:"",w=ar("recharts-default-tooltip",c),y=ar("recharts-tooltip-label",d);b&&m&&i!==void 0&&i!==null&&(j=m(u,i));var v=x?{role:"status","aria-live":"assertive"}:{};return g.createElement("div",zj({className:w,style:p},v),g.createElement("p",{className:y,style:f},g.isValidElement(j)?j:"".concat(j)),h())},Xm="recharts-tooltip-wrapper",dle={visibility:"hidden"};function ule(e){var{coordinate:r,translateX:s,translateY:a}=e;return ar(Xm,{["".concat(Xm,"-right")]:bt(s)&&r&&bt(r.x)&&s>=r.x,["".concat(Xm,"-left")]:bt(s)&&r&&bt(r.x)&&s<r.x,["".concat(Xm,"-bottom")]:bt(a)&&r&&bt(r.y)&&a>=r.y,["".concat(Xm,"-top")]:bt(a)&&r&&bt(r.y)&&a<r.y})}function aA(e){var{allowEscapeViewBox:r,coordinate:s,key:a,offsetTopLeft:n,position:i,reverseDirection:l,tooltipDimension:o,viewBox:c,viewBoxDimension:d}=e;if(i&&bt(i[a]))return i[a];var u=s[a]-o-(n>0?n:0),m=s[a]+n;if(r[a])return l[a]?u:m;var x=c[a];if(x==null)return 0;if(l[a]){var h=u,p=x;return h<p?Math.max(m,x):Math.max(u,x)}if(d==null)return 0;var f=m+o,b=x+d;return f>b?Math.max(u,x):Math.max(m,x)}function mle(e){var{translateX:r,translateY:s,useTranslate3d:a}=e;return{transform:a?"translate3d(".concat(r,"px, ").concat(s,"px, 0)"):"translate(".concat(r,"px, ").concat(s,"px)")}}function hle(e){var{allowEscapeViewBox:r,coordinate:s,offsetTopLeft:a,position:n,reverseDirection:i,tooltipBox:l,useTranslate3d:o,viewBox:c}=e,d,u,m;return l.height>0&&l.width>0&&s?(u=aA({allowEscapeViewBox:r,coordinate:s,key:"x",offsetTopLeft:a,position:n,reverseDirection:i,tooltipDimension:l.width,viewBox:c,viewBoxDimension:c.width}),m=aA({allowEscapeViewBox:r,coordinate:s,key:"y",offsetTopLeft:a,position:n,reverseDirection:i,tooltipDimension:l.height,viewBox:c,viewBoxDimension:c.height}),d=mle({translateX:u,translateY:m,useTranslate3d:o})):d=dle,{cssProperties:d,cssClasses:ule({translateX:u,translateY:m,coordinate:s})}}function nA(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function dp(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?nA(Object(s),!0).forEach(function(a){Uj(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):nA(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Uj(e,r,s){return(r=xle(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function xle(e){var r=ple(e,"string");return typeof r=="symbol"?r:r+""}function ple(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}class fle extends g.PureComponent{constructor(){super(...arguments),Uj(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Uj(this,"handleKeyDown",r=>{if(r.key==="Escape"){var s,a,n,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(a=this.props.coordinate)===null||a===void 0?void 0:a.x)!==null&&s!==void 0?s:0,y:(n=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&n!==void 0?n:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var r,s;this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:r,allowEscapeViewBox:s,animationDuration:a,animationEasing:n,children:i,coordinate:l,hasPayload:o,isAnimationActive:c,offset:d,position:u,reverseDirection:m,useTranslate3d:x,viewBox:h,wrapperStyle:p,lastBoundingBox:f,innerRef:b,hasPortalFromProps:j}=this.props,{cssClasses:w,cssProperties:y}=hle({allowEscapeViewBox:s,coordinate:l,offsetTopLeft:d,position:u,reverseDirection:m,tooltipBox:{height:f.height,width:f.width},useTranslate3d:x,viewBox:h}),v=j?{}:dp(dp({transition:c&&r?"transform ".concat(a,"ms ").concat(n):void 0},y),{},{pointerEvents:"none",visibility:!this.state.dismissed&&r&&o?"visible":"hidden",position:"absolute",top:0,left:0}),N=dp(dp({},v),{},{visibility:!this.state.dismissed&&r&&o?"visible":"hidden"},p);return g.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:w,style:N,ref:b},i)}}var gle=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),ro={devToolsEnabled:!1,isSsr:gle()},zM=()=>{var e;return(e=St(r=>r.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Hj(){return Hj=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Hj.apply(null,arguments)}function iA(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function lA(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?iA(Object(s),!0).forEach(function(a){yle(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):iA(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function yle(e,r,s){return(r=ble(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function ble(e){var r=vle(e,"string");return typeof r=="symbol"?r:r+""}function vle(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var oA={curveBasisClosed:Ose,curveBasisOpen:Dse,curveBasis:_se,curveBumpX:yse,curveBumpY:bse,curveLinearClosed:Mse,curveLinear:Wy,curveMonotoneX:Lse,curveMonotoneY:Fse,curveNatural:Rse,curveStep:Bse,curveStepAfter:zse,curveStepBefore:$se},cg=e=>Fr(e.x)&&Fr(e.y),cA=e=>e.base!=null&&cg(e.base)&&cg(e),Jm=e=>e.x,Qm=e=>e.y,jle=(e,r)=>{if(typeof e=="function")return e;var s="curve".concat(Z0(e));return(s==="curveMonotone"||s==="curveBump")&&r?oA["".concat(s).concat(r==="vertical"?"Y":"X")]:oA[s]||Wy},wle=e=>{var{type:r="linear",points:s=[],baseLine:a,layout:n,connectNulls:i=!1}=e,l=jle(r,n),o=i?s.filter(cg):s,c;if(Array.isArray(a)){var d=s.map((h,p)=>lA(lA({},h),{},{base:a[p]}));n==="vertical"?c=sp().y(Qm).x1(Jm).x0(h=>h.base.x):c=sp().x(Jm).y1(Qm).y0(h=>h.base.y);var u=c.defined(cA).curve(l),m=i?d.filter(cA):d;return u(m)}n==="vertical"&&bt(a)?c=sp().y(Qm).x1(Jm).x0(a):bt(a)?c=sp().x(Jm).y1(Qm).y0(a):c=aD().x(Jm).y(Qm);var x=c.defined(cg).curve(l);return x(o)},Iu=e=>{var{className:r,points:s,path:a,pathRef:n}=e;if((!s||!s.length)&&!a)return null;var i=s&&s.length?wle(e):a;return g.createElement("path",Hj({},La(e),S4(e),{className:ar("recharts-curve",r),d:i===null?void 0:i,ref:n}))},Nle=["x","y","top","left","width","height","className"];function Vj(){return Vj=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Vj.apply(null,arguments)}function dA(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Sle(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?dA(Object(s),!0).forEach(function(a){kle(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):dA(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function kle(e,r,s){return(r=Cle(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Cle(e){var r=Ple(e,"string");return typeof r=="symbol"?r:r+""}function Ple(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Ale(e,r){if(e==null)return{};var s,a,n=Tle(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Tle(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var Ele=(e,r,s,a,n,i)=>"M".concat(e,",").concat(n,"v").concat(a,"M").concat(i,",").concat(r,"h").concat(s),Ile=e=>{var{x:r=0,y:s=0,top:a=0,left:n=0,width:i=0,height:l=0,className:o}=e,c=Ale(e,Nle),d=Sle({x:r,y:s,top:a,left:n,width:i,height:l},c);return!bt(r)||!bt(s)||!bt(i)||!bt(l)||!bt(a)||!bt(n)?null:g.createElement("path",Vj({},wa(d),{className:ar("recharts-cross",o),d:Ele(r,s,i,l,a,n)}))};function _le(e,r,s,a){var n=a/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?r.x-n:s.left+.5,y:e==="horizontal"?s.top+.5:r.y-n,width:e==="horizontal"?a:s.width-1,height:e==="horizontal"?s.height-1:a}}function uA(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function mA(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?uA(Object(s),!0).forEach(function(a){Ole(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):uA(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Ole(e,r,s){return(r=Dle(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Dle(e){var r=Mle(e,"string");return typeof r=="symbol"?r:r+""}function Mle(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Lle=e=>e.replace(/([A-Z])/g,r=>"-".concat(r.toLowerCase())),UM=(e,r,s)=>e.map(a=>"".concat(Lle(a)," ").concat(r,"ms ").concat(s)).join(","),Fle=(e,r)=>[Object.keys(e),Object.keys(r)].reduce((s,a)=>s.filter(n=>a.includes(n))),p0=(e,r)=>Object.keys(r).reduce((s,a)=>mA(mA({},s),{},{[a]:e(a,r[a])}),{});function hA(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Os(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?hA(Object(s),!0).forEach(function(a){Rle(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):hA(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Rle(e,r,s){return(r=Ble(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Ble(e){var r=$le(e,"string");return typeof r=="symbol"?r:r+""}function $le(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var dg=(e,r,s)=>e+(r-e)*s,Wj=e=>{var{from:r,to:s}=e;return r!==s},HM=(e,r,s)=>{var a=p0((n,i)=>{if(Wj(i)){var[l,o]=e(i.from,i.to,i.velocity);return Os(Os({},i),{},{from:l,velocity:o})}return i},r);return s<1?p0((n,i)=>Wj(i)?Os(Os({},i),{},{velocity:dg(i.velocity,a[n].velocity,s),from:dg(i.from,a[n].from,s)}):i,r):HM(e,a,s-1)};function zle(e,r,s,a,n,i){var l,o=a.reduce((x,h)=>Os(Os({},x),{},{[h]:{from:e[h],velocity:0,to:r[h]}}),{}),c=()=>p0((x,h)=>h.from,o),d=()=>!Object.values(o).filter(Wj).length,u=null,m=x=>{l||(l=x);var h=x-l,p=h/s.dt;o=HM(s,o,p),n(Os(Os(Os({},e),r),c())),l=x,d()||(u=i.setTimeout(m))};return()=>(u=i.setTimeout(m),()=>{var x;(x=u)===null||x===void 0||x()})}function Ule(e,r,s,a,n,i,l){var o=null,c=n.reduce((m,x)=>Os(Os({},m),{},{[x]:[e[x],r[x]]}),{}),d,u=m=>{d||(d=m);var x=(m-d)/a,h=p0((f,b)=>dg(...b,s(x)),c);if(i(Os(Os(Os({},e),r),h)),x<1)o=l.setTimeout(u);else{var p=p0((f,b)=>dg(...b,s(1)),c);i(Os(Os(Os({},e),r),p))}};return()=>(o=l.setTimeout(u),()=>{var m;(m=o)===null||m===void 0||m()})}const Hle=(e,r,s,a,n,i)=>{var l=Fle(e,r);return s==null?()=>(n(Os(Os({},e),r)),()=>{}):s.isStepper===!0?zle(e,r,s,l,n,i):Ule(e,r,s,a,l,n,i)};var ug=1e-4,VM=(e,r)=>[0,3*e,3*r-6*e,3*e-3*r+1],WM=(e,r)=>e.map((s,a)=>s*r**a).reduce((s,a)=>s+a),xA=(e,r)=>s=>{var a=VM(e,r);return WM(a,s)},Vle=(e,r)=>s=>{var a=VM(e,r),n=[...a.map((i,l)=>i*l).slice(1),0];return WM(n,s)},Wle=function(){for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];if(s.length===1)switch(s[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var n,i=s[0].split("(");if(i[0]==="cubic-bezier"&&((n=i[1])===null||n===void 0?void 0:n.split(")")[0].split(",").length)===4){var l=i[1].split(")")[0].split(",").map(o=>parseFloat(o));return[l[0],l[1],l[2],l[3]]}}}return s.length===4?s:[0,0,1,1]},Gle=(e,r,s,a)=>{var n=xA(e,s),i=xA(r,a),l=Vle(e,s),o=d=>d>1?1:d<0?0:d,c=d=>{for(var u=d>1?1:d,m=u,x=0;x<8;++x){var h=n(m)-u,p=l(m);if(Math.abs(h-u)<ug||p<ug)return i(m);m=o(m-h/p)}return i(m)};return c.isStepper=!1,c},pA=function(){return Gle(...Wle(...arguments))},qle=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:s=100,damping:a=8,dt:n=17}=r,i=(l,o,c)=>{var d=-(l-o)*s,u=c*a,m=c+(d-u)*n/1e3,x=c*n/1e3+l;return Math.abs(x-o)<ug&&Math.abs(m)<ug?[o,0]:[x,m]};return i.isStepper=!0,i.dt=n,i},Kle=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return pA(e);case"spring":return qle();default:if(e.split("(")[0]==="cubic-bezier")return pA(e)}return typeof e=="function"?e:null};function Yle(e){var r,s=()=>null,a=!1,n=null,i=l=>{if(!a){if(Array.isArray(l)){if(!l.length)return;var o=l,[c,...d]=o;if(typeof c=="number"){n=e.setTimeout(i.bind(null,d),c);return}i(c),n=e.setTimeout(i.bind(null,d));return}typeof l=="string"&&(r=l,s(r)),typeof l=="object"&&(r=l,s(r)),typeof l=="function"&&l()}};return{stop:()=>{a=!0},start:l=>{a=!1,n&&(n(),n=null),i(l)},subscribe:l=>(s=l,()=>{s=()=>null}),getTimeoutController:()=>e}}class Xle{setTimeout(r){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=performance.now(),n=null,i=l=>{l-a>=s?r(l):typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(i))};return n=requestAnimationFrame(i),()=>{n!=null&&cancelAnimationFrame(n)}}}function Jle(){return Yle(new Xle)}var Qle=g.createContext(Jle);function Zle(e,r){var s=g.useContext(Qle);return g.useMemo(()=>r??s(e),[e,r,s])}var eoe={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},fA={t:0},v1={t:1};function bm(e){var r=os(e,eoe),{isActive:s,canBegin:a,duration:n,easing:i,begin:l,onAnimationEnd:o,onAnimationStart:c,children:d}=r,u=Zle(r.animationId,r.animationManager),[m,x]=g.useState(s?fA:v1),h=g.useRef(null);return g.useEffect(()=>{s||x(v1)},[s]),g.useEffect(()=>{if(!s||!a)return Id;var p=Hle(fA,v1,Kle(i),n,x,u.getTimeoutController()),f=()=>{h.current=p()};return u.start([c,l,f,n,o]),()=>{u.stop(),h.current&&h.current(),o()}},[s,a,n,i,l,c,o,u]),d(m.t)}function vm(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",s=g.useRef(u0(r)),a=g.useRef(e);return a.current!==e&&(s.current=u0(r),a.current=e),s.current}var toe=["radius"],roe=["radius"];function gA(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function yA(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?gA(Object(s),!0).forEach(function(a){soe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):gA(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function soe(e,r,s){return(r=aoe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function aoe(e){var r=noe(e,"string");return typeof r=="symbol"?r:r+""}function noe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function mg(){return mg=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},mg.apply(null,arguments)}function bA(e,r){if(e==null)return{};var s,a,n=ioe(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function ioe(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var vA=(e,r,s,a,n)=>{var i=Math.min(Math.abs(s)/2,Math.abs(a)/2),l=a>=0?1:-1,o=s>=0?1:-1,c=a>=0&&s>=0||a<0&&s<0?1:0,d;if(i>0&&n instanceof Array){for(var u=[0,0,0,0],m=0,x=4;m<x;m++)u[m]=n[m]>i?i:n[m];d="M".concat(e,",").concat(r+l*u[0]),u[0]>0&&(d+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+o*u[0],",").concat(r)),d+="L ".concat(e+s-o*u[1],",").concat(r),u[1]>0&&(d+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,`,
        `).concat(e+s,",").concat(r+l*u[1])),d+="L ".concat(e+s,",").concat(r+a-l*u[2]),u[2]>0&&(d+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,`,
        `).concat(e+s-o*u[2],",").concat(r+a)),d+="L ".concat(e+o*u[3],",").concat(r+a),u[3]>0&&(d+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(r+a-l*u[3])),d+="Z"}else if(i>0&&n===+n&&n>0){var h=Math.min(i,n);d="M ".concat(e,",").concat(r+l*h,`
            A `).concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+o*h,",").concat(r,`
            L `).concat(e+s-o*h,",").concat(r,`
            A `).concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+s,",").concat(r+l*h,`
            L `).concat(e+s,",").concat(r+a-l*h,`
            A `).concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+s-o*h,",").concat(r+a,`
            L `).concat(e+o*h,",").concat(r+a,`
            A `).concat(h,",").concat(h,",0,0,").concat(c,",").concat(e,",").concat(r+a-l*h," Z")}else d="M ".concat(e,",").concat(r," h ").concat(s," v ").concat(a," h ").concat(-s," Z");return d},jA={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},GM=e=>{var r=os(e,jA),s=g.useRef(null),[a,n]=g.useState(-1);g.useEffect(()=>{if(s.current&&s.current.getTotalLength)try{var L=s.current.getTotalLength();L&&n(L)}catch{}},[]);var{x:i,y:l,width:o,height:c,radius:d,className:u}=r,{animationEasing:m,animationDuration:x,animationBegin:h,isAnimationActive:p,isUpdateAnimationActive:f}=r,b=g.useRef(o),j=g.useRef(c),w=g.useRef(i),y=g.useRef(l),v=g.useMemo(()=>({x:i,y:l,width:o,height:c,radius:d}),[i,l,o,c,d]),N=vm(v,"rectangle-");if(i!==+i||l!==+l||o!==+o||c!==+c||o===0||c===0)return null;var S=ar("recharts-rectangle",u);if(!f){var k=wa(r),{radius:C}=k,P=bA(k,toe);return g.createElement("path",mg({},P,{radius:typeof d=="number"?d:void 0,className:S,d:vA(i,l,o,c,d)}))}var _=b.current,A=j.current,D=w.current,F=y.current,X="0px ".concat(a===-1?1:a,"px"),ce="".concat(a,"px 0px"),he=UM(["strokeDasharray"],x,typeof m=="string"?m:jA.animationEasing);return g.createElement(bm,{animationId:N,key:N,canBegin:a>0,duration:x,easing:m,isActive:f,begin:h},L=>{var q=dr(_,o,L),se=dr(A,c,L),R=dr(D,i,L),T=dr(F,l,L);s.current&&(b.current=q,j.current=se,w.current=R,y.current=T);var O;p?L>0?O={transition:he,strokeDasharray:ce}:O={strokeDasharray:X}:O={strokeDasharray:ce};var K=wa(r),{radius:U}=K,ee=bA(K,roe);return g.createElement("path",mg({},ee,{radius:typeof d=="number"?d:void 0,className:S,d:vA(R,T,q,se,d),ref:s,style:yA(yA({},O),r.style)}))})};function wA(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function NA(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?wA(Object(s),!0).forEach(function(a){loe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):wA(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function loe(e,r,s){return(r=ooe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function ooe(e){var r=coe(e,"string");return typeof r=="symbol"?r:r+""}function coe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var hg=Math.PI/180,doe=e=>e*180/Math.PI,Cs=(e,r,s,a)=>({x:e+Math.cos(-hg*a)*s,y:r+Math.sin(-hg*a)*s}),qM=function(r,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(r-(a.left||0)-(a.right||0)),Math.abs(s-(a.top||0)-(a.bottom||0)))/2},uoe=(e,r)=>{var{x:s,y:a}=e,{x:n,y:i}=r;return Math.sqrt((s-n)**2+(a-i)**2)},moe=(e,r)=>{var{x:s,y:a}=e,{cx:n,cy:i}=r,l=uoe({x:s,y:a},{x:n,y:i});if(l<=0)return{radius:l,angle:0};var o=(s-n)/l,c=Math.acos(o);return a>i&&(c=2*Math.PI-c),{radius:l,angle:doe(c),angleInRadian:c}},hoe=e=>{var{startAngle:r,endAngle:s}=e,a=Math.floor(r/360),n=Math.floor(s/360),i=Math.min(a,n);return{startAngle:r-i*360,endAngle:s-i*360}},xoe=(e,r)=>{var{startAngle:s,endAngle:a}=r,n=Math.floor(s/360),i=Math.floor(a/360),l=Math.min(n,i);return e+l*360},poe=(e,r)=>{var{chartX:s,chartY:a}=e,{radius:n,angle:i}=moe({x:s,y:a},r),{innerRadius:l,outerRadius:o}=r;if(n<l||n>o||n===0)return null;var{startAngle:c,endAngle:d}=hoe(r),u=i,m;if(c<=d){for(;u>d;)u-=360;for(;u<c;)u+=360;m=u>=c&&u<=d}else{for(;u>c;)u-=360;for(;u<d;)u+=360;m=u>=d&&u<=c}return m?NA(NA({},r),{},{radius:n,angle:xoe(u,r)}):null};function KM(e){var{cx:r,cy:s,radius:a,startAngle:n,endAngle:i}=e,l=Cs(r,s,a,n),o=Cs(r,s,a,i);return{points:[l,o],cx:r,cy:s,radius:a,startAngle:n,endAngle:i}}function Gj(){return Gj=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Gj.apply(null,arguments)}var foe=(e,r)=>{var s=Vs(r-e),a=Math.min(Math.abs(r-e),359.999);return s*a},up=e=>{var{cx:r,cy:s,radius:a,angle:n,sign:i,isExternal:l,cornerRadius:o,cornerIsExternal:c}=e,d=o*(l?1:-1)+a,u=Math.asin(o/d)/hg,m=c?n:n+i*u,x=Cs(r,s,d,m),h=Cs(r,s,a,m),p=c?n-i*u:n,f=Cs(r,s,d*Math.cos(u*hg),p);return{center:x,circleTangency:h,lineTangency:f,theta:u}},YM=e=>{var{cx:r,cy:s,innerRadius:a,outerRadius:n,startAngle:i,endAngle:l}=e,o=foe(i,l),c=i+o,d=Cs(r,s,n,i),u=Cs(r,s,n,c),m="M ".concat(d.x,",").concat(d.y,`
    A `).concat(n,",").concat(n,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(i>c),`,
    `).concat(u.x,",").concat(u.y,`
  `);if(a>0){var x=Cs(r,s,a,i),h=Cs(r,s,a,c);m+="L ".concat(h.x,",").concat(h.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(i<=c),`,
            `).concat(x.x,",").concat(x.y," Z")}else m+="L ".concat(r,",").concat(s," Z");return m},goe=e=>{var{cx:r,cy:s,innerRadius:a,outerRadius:n,cornerRadius:i,forceCornerRadius:l,cornerIsExternal:o,startAngle:c,endAngle:d}=e,u=Vs(d-c),{circleTangency:m,lineTangency:x,theta:h}=up({cx:r,cy:s,radius:n,angle:c,sign:u,cornerRadius:i,cornerIsExternal:o}),{circleTangency:p,lineTangency:f,theta:b}=up({cx:r,cy:s,radius:n,angle:d,sign:-u,cornerRadius:i,cornerIsExternal:o}),j=o?Math.abs(c-d):Math.abs(c-d)-h-b;if(j<0)return l?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):YM({cx:r,cy:s,innerRadius:a,outerRadius:n,startAngle:c,endAngle:d});var w="M ".concat(x.x,",").concat(x.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(n,",").concat(n,",0,").concat(+(j>180),",").concat(+(u<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(f.x,",").concat(f.y,`
  `);if(a>0){var{circleTangency:y,lineTangency:v,theta:N}=up({cx:r,cy:s,radius:a,angle:c,sign:u,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),{circleTangency:S,lineTangency:k,theta:C}=up({cx:r,cy:s,radius:a,angle:d,sign:-u,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),P=o?Math.abs(c-d):Math.abs(c-d)-N-C;if(P<0&&i===0)return"".concat(w,"L").concat(r,",").concat(s,"Z");w+="L".concat(k.x,",").concat(k.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(S.x,",").concat(S.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(P>180),",").concat(+(u>0),",").concat(y.x,",").concat(y.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(v.x,",").concat(v.y,"Z")}else w+="L".concat(r,",").concat(s,"Z");return w},yoe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},XM=e=>{var r=os(e,yoe),{cx:s,cy:a,innerRadius:n,outerRadius:i,cornerRadius:l,forceCornerRadius:o,cornerIsExternal:c,startAngle:d,endAngle:u,className:m}=r;if(i<n||d===u)return null;var x=ar("recharts-sector",m),h=i-n,p=ya(l,h,0,!0),f;return p>0&&Math.abs(d-u)<360?f=goe({cx:s,cy:a,innerRadius:n,outerRadius:i,cornerRadius:Math.min(p,h/2),forceCornerRadius:o,cornerIsExternal:c,startAngle:d,endAngle:u}):f=YM({cx:s,cy:a,innerRadius:n,outerRadius:i,startAngle:d,endAngle:u}),g.createElement("path",Gj({},wa(r),{className:x,d:f}))};function boe(e,r,s){if(e==="horizontal")return[{x:r.x,y:s.top},{x:r.x,y:s.top+s.height}];if(e==="vertical")return[{x:s.left,y:r.y},{x:s.left+s.width,y:r.y}];if(vD(r)){if(e==="centric"){var{cx:a,cy:n,innerRadius:i,outerRadius:l,angle:o}=r,c=Cs(a,n,i,o),d=Cs(a,n,l,o);return[{x:c.x,y:c.y},{x:d.x,y:d.y}]}return KM(r)}}var JM={},QM={},ZM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=M4;function s(a){return r.isSymbol(a)?NaN:Number(a)}e.toNumber=s})(ZM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=ZM;function s(a){return a?(a=r.toNumber(a),a===1/0||a===-1/0?(a<0?-1:1)*Number.MAX_VALUE:a===a?a:0):a===0?a:0}e.toFinite=s})(QM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=L4,s=QM;function a(n,i,l){l&&typeof l!="number"&&r.isIterateeCall(n,i,l)&&(i=l=void 0),n=s.toFinite(n),i===void 0?(i=n,n=0):i=s.toFinite(i),l=l===void 0?n<i?1:-1:s.toFinite(l);const o=Math.max(Math.ceil((i-n)/(l||1)),0),c=new Array(o);for(let d=0;d<o;d++)c[d]=n,n+=l;return c}e.range=a})(JM);var voe=JM.range;const eL=li(voe);function qo(e,r){return e==null||r==null?NaN:e<r?-1:e>r?1:e>=r?0:NaN}function joe(e,r){return e==null||r==null?NaN:r<e?-1:r>e?1:r>=e?0:NaN}function G4(e){let r,s,a;e.length!==2?(r=qo,s=(o,c)=>qo(e(o),c),a=(o,c)=>e(o)-c):(r=e===qo||e===joe?e:woe,s=e,a=e);function n(o,c,d=0,u=o.length){if(d<u){if(r(c,c)!==0)return u;do{const m=d+u>>>1;s(o[m],c)<0?d=m+1:u=m}while(d<u)}return d}function i(o,c,d=0,u=o.length){if(d<u){if(r(c,c)!==0)return u;do{const m=d+u>>>1;s(o[m],c)<=0?d=m+1:u=m}while(d<u)}return d}function l(o,c,d=0,u=o.length){const m=n(o,c,d,u-1);return m>d&&a(o[m-1],c)>-a(o[m],c)?m-1:m}return{left:n,center:l,right:i}}function woe(){return 0}function tL(e){return e===null?NaN:+e}function*Noe(e,r){for(let s of e)s!=null&&(s=+s)>=s&&(yield s)}const Soe=G4(qo),ax=Soe.right;G4(tL).center;class SA extends Map{constructor(r,s=Poe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:s}}),r!=null)for(const[a,n]of r)this.set(a,n)}get(r){return super.get(kA(this,r))}has(r){return super.has(kA(this,r))}set(r,s){return super.set(koe(this,r),s)}delete(r){return super.delete(Coe(this,r))}}function kA({_intern:e,_key:r},s){const a=r(s);return e.has(a)?e.get(a):s}function koe({_intern:e,_key:r},s){const a=r(s);return e.has(a)?e.get(a):(e.set(a,s),s)}function Coe({_intern:e,_key:r},s){const a=r(s);return e.has(a)&&(s=e.get(a),e.delete(a)),s}function Poe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Aoe(e=qo){if(e===qo)return rL;if(typeof e!="function")throw new TypeError("compare is not a function");return(r,s)=>{const a=e(r,s);return a||a===0?a:(e(s,s)===0)-(e(r,r)===0)}}function rL(e,r){return(e==null||!(e>=e))-(r==null||!(r>=r))||(e<r?-1:e>r?1:0)}const Toe=Math.sqrt(50),Eoe=Math.sqrt(10),Ioe=Math.sqrt(2);function xg(e,r,s){const a=(r-e)/Math.max(0,s),n=Math.floor(Math.log10(a)),i=a/Math.pow(10,n),l=i>=Toe?10:i>=Eoe?5:i>=Ioe?2:1;let o,c,d;return n<0?(d=Math.pow(10,-n)/l,o=Math.round(e*d),c=Math.round(r*d),o/d<e&&++o,c/d>r&&--c,d=-d):(d=Math.pow(10,n)*l,o=Math.round(e/d),c=Math.round(r/d),o*d<e&&++o,c*d>r&&--c),c<o&&.5<=s&&s<2?xg(e,r,s*2):[o,c,d]}function qj(e,r,s){if(r=+r,e=+e,s=+s,!(s>0))return[];if(e===r)return[e];const a=r<e,[n,i,l]=a?xg(r,e,s):xg(e,r,s);if(!(i>=n))return[];const o=i-n+1,c=new Array(o);if(a)if(l<0)for(let d=0;d<o;++d)c[d]=(i-d)/-l;else for(let d=0;d<o;++d)c[d]=(i-d)*l;else if(l<0)for(let d=0;d<o;++d)c[d]=(n+d)/-l;else for(let d=0;d<o;++d)c[d]=(n+d)*l;return c}function Kj(e,r,s){return r=+r,e=+e,s=+s,xg(e,r,s)[2]}function Yj(e,r,s){r=+r,e=+e,s=+s;const a=r<e,n=a?Kj(r,e,s):Kj(e,r,s);return(a?-1:1)*(n<0?1/-n:n)}function CA(e,r){let s;for(const a of e)a!=null&&(s<a||s===void 0&&a>=a)&&(s=a);return s}function PA(e,r){let s;for(const a of e)a!=null&&(s>a||s===void 0&&a>=a)&&(s=a);return s}function sL(e,r,s=0,a=1/0,n){if(r=Math.floor(r),s=Math.floor(Math.max(0,s)),a=Math.floor(Math.min(e.length-1,a)),!(s<=r&&r<=a))return e;for(n=n===void 0?rL:Aoe(n);a>s;){if(a-s>600){const c=a-s+1,d=r-s+1,u=Math.log(c),m=.5*Math.exp(2*u/3),x=.5*Math.sqrt(u*m*(c-m)/c)*(d-c/2<0?-1:1),h=Math.max(s,Math.floor(r-d*m/c+x)),p=Math.min(a,Math.floor(r+(c-d)*m/c+x));sL(e,r,h,p,n)}const i=e[r];let l=s,o=a;for(Zm(e,s,r),n(e[a],i)>0&&Zm(e,s,a);l<o;){for(Zm(e,l,o),++l,--o;n(e[l],i)<0;)++l;for(;n(e[o],i)>0;)--o}n(e[s],i)===0?Zm(e,s,o):(++o,Zm(e,o,a)),o<=r&&(s=o+1),r<=o&&(a=o-1)}return e}function Zm(e,r,s){const a=e[r];e[r]=e[s],e[s]=a}function _oe(e,r,s){if(e=Float64Array.from(Noe(e)),!(!(a=e.length)||isNaN(r=+r))){if(r<=0||a<2)return PA(e);if(r>=1)return CA(e);var a,n=(a-1)*r,i=Math.floor(n),l=CA(sL(e,i).subarray(0,i+1)),o=PA(e.subarray(i+1));return l+(o-l)*(n-i)}}function Ooe(e,r,s=tL){if(!(!(a=e.length)||isNaN(r=+r))){if(r<=0||a<2)return+s(e[0],0,e);if(r>=1)return+s(e[a-1],a-1,e);var a,n=(a-1)*r,i=Math.floor(n),l=+s(e[i],i,e),o=+s(e[i+1],i+1,e);return l+(o-l)*(n-i)}}function Doe(e,r,s){e=+e,r=+r,s=(n=arguments.length)<2?(r=e,e=0,1):n<3?1:+s;for(var a=-1,n=Math.max(0,Math.ceil((r-e)/s))|0,i=new Array(n);++a<n;)i[a]=e+a*s;return i}function oi(e,r){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(r).domain(e);break}return this}function so(e,r){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof r=="function"?this.interpolator(r):this.range(r);break}}return this}const Xj=Symbol("implicit");function q4(){var e=new SA,r=[],s=[],a=Xj;function n(i){let l=e.get(i);if(l===void 0){if(a!==Xj)return a;e.set(i,l=r.push(i)-1)}return s[l%s.length]}return n.domain=function(i){if(!arguments.length)return r.slice();r=[],e=new SA;for(const l of i)e.has(l)||e.set(l,r.push(l)-1);return n},n.range=function(i){return arguments.length?(s=Array.from(i),n):s.slice()},n.unknown=function(i){return arguments.length?(a=i,n):a},n.copy=function(){return q4(r,s).unknown(a)},oi.apply(n,arguments),n}function K4(){var e=q4().unknown(void 0),r=e.domain,s=e.range,a=0,n=1,i,l,o=!1,c=0,d=0,u=.5;delete e.unknown;function m(){var x=r().length,h=n<a,p=h?n:a,f=h?a:n;i=(f-p)/Math.max(1,x-c+d*2),o&&(i=Math.floor(i)),p+=(f-p-i*(x-c))*u,l=i*(1-c),o&&(p=Math.round(p),l=Math.round(l));var b=Doe(x).map(function(j){return p+i*j});return s(h?b.reverse():b)}return e.domain=function(x){return arguments.length?(r(x),m()):r()},e.range=function(x){return arguments.length?([a,n]=x,a=+a,n=+n,m()):[a,n]},e.rangeRound=function(x){return[a,n]=x,a=+a,n=+n,o=!0,m()},e.bandwidth=function(){return l},e.step=function(){return i},e.round=function(x){return arguments.length?(o=!!x,m()):o},e.padding=function(x){return arguments.length?(c=Math.min(1,d=+x),m()):c},e.paddingInner=function(x){return arguments.length?(c=Math.min(1,x),m()):c},e.paddingOuter=function(x){return arguments.length?(d=+x,m()):d},e.align=function(x){return arguments.length?(u=Math.max(0,Math.min(1,x)),m()):u},e.copy=function(){return K4(r(),[a,n]).round(o).paddingInner(c).paddingOuter(d).align(u)},oi.apply(m(),arguments)}function aL(e){var r=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return aL(r())},e}function Moe(){return aL(K4.apply(null,arguments).paddingInner(1))}function Y4(e,r,s){e.prototype=r.prototype=s,s.constructor=e}function nL(e,r){var s=Object.create(e.prototype);for(var a in r)s[a]=r[a];return s}function nx(){}var f0=.7,pg=1/f0,_u="\\s*([+-]?\\d+)\\s*",g0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Qi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Loe=/^#([0-9a-f]{3,8})$/,Foe=new RegExp(`^rgb\\(${_u},${_u},${_u}\\)$`),Roe=new RegExp(`^rgb\\(${Qi},${Qi},${Qi}\\)$`),Boe=new RegExp(`^rgba\\(${_u},${_u},${_u},${g0}\\)$`),$oe=new RegExp(`^rgba\\(${Qi},${Qi},${Qi},${g0}\\)$`),zoe=new RegExp(`^hsl\\(${g0},${Qi},${Qi}\\)$`),Uoe=new RegExp(`^hsla\\(${g0},${Qi},${Qi},${g0}\\)$`),AA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Y4(nx,y0,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:TA,formatHex:TA,formatHex8:Hoe,formatHsl:Voe,formatRgb:EA,toString:EA});function TA(){return this.rgb().formatHex()}function Hoe(){return this.rgb().formatHex8()}function Voe(){return iL(this).formatHsl()}function EA(){return this.rgb().formatRgb()}function y0(e){var r,s;return e=(e+"").trim().toLowerCase(),(r=Loe.exec(e))?(s=r[1].length,r=parseInt(r[1],16),s===6?IA(r):s===3?new Va(r>>8&15|r>>4&240,r>>4&15|r&240,(r&15)<<4|r&15,1):s===8?mp(r>>24&255,r>>16&255,r>>8&255,(r&255)/255):s===4?mp(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|r&240,((r&15)<<4|r&15)/255):null):(r=Foe.exec(e))?new Va(r[1],r[2],r[3],1):(r=Roe.exec(e))?new Va(r[1]*255/100,r[2]*255/100,r[3]*255/100,1):(r=Boe.exec(e))?mp(r[1],r[2],r[3],r[4]):(r=$oe.exec(e))?mp(r[1]*255/100,r[2]*255/100,r[3]*255/100,r[4]):(r=zoe.exec(e))?DA(r[1],r[2]/100,r[3]/100,1):(r=Uoe.exec(e))?DA(r[1],r[2]/100,r[3]/100,r[4]):AA.hasOwnProperty(e)?IA(AA[e]):e==="transparent"?new Va(NaN,NaN,NaN,0):null}function IA(e){return new Va(e>>16&255,e>>8&255,e&255,1)}function mp(e,r,s,a){return a<=0&&(e=r=s=NaN),new Va(e,r,s,a)}function Woe(e){return e instanceof nx||(e=y0(e)),e?(e=e.rgb(),new Va(e.r,e.g,e.b,e.opacity)):new Va}function Jj(e,r,s,a){return arguments.length===1?Woe(e):new Va(e,r,s,a??1)}function Va(e,r,s,a){this.r=+e,this.g=+r,this.b=+s,this.opacity=+a}Y4(Va,Jj,nL(nx,{brighter(e){return e=e==null?pg:Math.pow(pg,e),new Va(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?f0:Math.pow(f0,e),new Va(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Va(qc(this.r),qc(this.g),qc(this.b),fg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:_A,formatHex:_A,formatHex8:Goe,formatRgb:OA,toString:OA}));function _A(){return`#${Lc(this.r)}${Lc(this.g)}${Lc(this.b)}`}function Goe(){return`#${Lc(this.r)}${Lc(this.g)}${Lc(this.b)}${Lc((isNaN(this.opacity)?1:this.opacity)*255)}`}function OA(){const e=fg(this.opacity);return`${e===1?"rgb(":"rgba("}${qc(this.r)}, ${qc(this.g)}, ${qc(this.b)}${e===1?")":`, ${e})`}`}function fg(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function qc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Lc(e){return e=qc(e),(e<16?"0":"")+e.toString(16)}function DA(e,r,s,a){return a<=0?e=r=s=NaN:s<=0||s>=1?e=r=NaN:r<=0&&(e=NaN),new vi(e,r,s,a)}function iL(e){if(e instanceof vi)return new vi(e.h,e.s,e.l,e.opacity);if(e instanceof nx||(e=y0(e)),!e)return new vi;if(e instanceof vi)return e;e=e.rgb();var r=e.r/255,s=e.g/255,a=e.b/255,n=Math.min(r,s,a),i=Math.max(r,s,a),l=NaN,o=i-n,c=(i+n)/2;return o?(r===i?l=(s-a)/o+(s<a)*6:s===i?l=(a-r)/o+2:l=(r-s)/o+4,o/=c<.5?i+n:2-i-n,l*=60):o=c>0&&c<1?0:l,new vi(l,o,c,e.opacity)}function qoe(e,r,s,a){return arguments.length===1?iL(e):new vi(e,r,s,a??1)}function vi(e,r,s,a){this.h=+e,this.s=+r,this.l=+s,this.opacity=+a}Y4(vi,qoe,nL(nx,{brighter(e){return e=e==null?pg:Math.pow(pg,e),new vi(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?f0:Math.pow(f0,e),new vi(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,r=isNaN(e)||isNaN(this.s)?0:this.s,s=this.l,a=s+(s<.5?s:1-s)*r,n=2*s-a;return new Va(j1(e>=240?e-240:e+120,n,a),j1(e,n,a),j1(e<120?e+240:e-120,n,a),this.opacity)},clamp(){return new vi(MA(this.h),hp(this.s),hp(this.l),fg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=fg(this.opacity);return`${e===1?"hsl(":"hsla("}${MA(this.h)}, ${hp(this.s)*100}%, ${hp(this.l)*100}%${e===1?")":`, ${e})`}`}}));function MA(e){return e=(e||0)%360,e<0?e+360:e}function hp(e){return Math.max(0,Math.min(1,e||0))}function j1(e,r,s){return(e<60?r+(s-r)*e/60:e<180?s:e<240?r+(s-r)*(240-e)/60:r)*255}const X4=e=>()=>e;function Koe(e,r){return function(s){return e+s*r}}function Yoe(e,r,s){return e=Math.pow(e,s),r=Math.pow(r,s)-e,s=1/s,function(a){return Math.pow(e+a*r,s)}}function Xoe(e){return(e=+e)==1?lL:function(r,s){return s-r?Yoe(r,s,e):X4(isNaN(r)?s:r)}}function lL(e,r){var s=r-e;return s?Koe(e,s):X4(isNaN(e)?r:e)}const LA=function e(r){var s=Xoe(r);function a(n,i){var l=s((n=Jj(n)).r,(i=Jj(i)).r),o=s(n.g,i.g),c=s(n.b,i.b),d=lL(n.opacity,i.opacity);return function(u){return n.r=l(u),n.g=o(u),n.b=c(u),n.opacity=d(u),n+""}}return a.gamma=e,a}(1);function Joe(e,r){r||(r=[]);var s=e?Math.min(r.length,e.length):0,a=r.slice(),n;return function(i){for(n=0;n<s;++n)a[n]=e[n]*(1-i)+r[n]*i;return a}}function Qoe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Zoe(e,r){var s=r?r.length:0,a=e?Math.min(s,e.length):0,n=new Array(a),i=new Array(s),l;for(l=0;l<a;++l)n[l]=jm(e[l],r[l]);for(;l<s;++l)i[l]=r[l];return function(o){for(l=0;l<a;++l)i[l]=n[l](o);return i}}function ece(e,r){var s=new Date;return e=+e,r=+r,function(a){return s.setTime(e*(1-a)+r*a),s}}function gg(e,r){return e=+e,r=+r,function(s){return e*(1-s)+r*s}}function tce(e,r){var s={},a={},n;(e===null||typeof e!="object")&&(e={}),(r===null||typeof r!="object")&&(r={});for(n in r)n in e?s[n]=jm(e[n],r[n]):a[n]=r[n];return function(i){for(n in s)a[n]=s[n](i);return a}}var Qj=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,w1=new RegExp(Qj.source,"g");function rce(e){return function(){return e}}function sce(e){return function(r){return e(r)+""}}function ace(e,r){var s=Qj.lastIndex=w1.lastIndex=0,a,n,i,l=-1,o=[],c=[];for(e=e+"",r=r+"";(a=Qj.exec(e))&&(n=w1.exec(r));)(i=n.index)>s&&(i=r.slice(s,i),o[l]?o[l]+=i:o[++l]=i),(a=a[0])===(n=n[0])?o[l]?o[l]+=n:o[++l]=n:(o[++l]=null,c.push({i:l,x:gg(a,n)})),s=w1.lastIndex;return s<r.length&&(i=r.slice(s),o[l]?o[l]+=i:o[++l]=i),o.length<2?c[0]?sce(c[0].x):rce(r):(r=c.length,function(d){for(var u=0,m;u<r;++u)o[(m=c[u]).i]=m.x(d);return o.join("")})}function jm(e,r){var s=typeof r,a;return r==null||s==="boolean"?X4(r):(s==="number"?gg:s==="string"?(a=y0(r))?(r=a,LA):ace:r instanceof y0?LA:r instanceof Date?ece:Qoe(r)?Joe:Array.isArray(r)?Zoe:typeof r.valueOf!="function"&&typeof r.toString!="function"||isNaN(r)?tce:gg)(e,r)}function J4(e,r){return e=+e,r=+r,function(s){return Math.round(e*(1-s)+r*s)}}function nce(e,r){r===void 0&&(r=e,e=jm);for(var s=0,a=r.length-1,n=r[0],i=new Array(a<0?0:a);s<a;)i[s]=e(n,n=r[++s]);return function(l){var o=Math.max(0,Math.min(a-1,Math.floor(l*=a)));return i[o](l-o)}}function ice(e){return function(){return e}}function yg(e){return+e}var FA=[0,1];function Ea(e){return e}function Zj(e,r){return(r-=e=+e)?function(s){return(s-e)/r}:ice(isNaN(r)?NaN:.5)}function lce(e,r){var s;return e>r&&(s=e,e=r,r=s),function(a){return Math.max(e,Math.min(r,a))}}function oce(e,r,s){var a=e[0],n=e[1],i=r[0],l=r[1];return n<a?(a=Zj(n,a),i=s(l,i)):(a=Zj(a,n),i=s(i,l)),function(o){return i(a(o))}}function cce(e,r,s){var a=Math.min(e.length,r.length)-1,n=new Array(a),i=new Array(a),l=-1;for(e[a]<e[0]&&(e=e.slice().reverse(),r=r.slice().reverse());++l<a;)n[l]=Zj(e[l],e[l+1]),i[l]=s(r[l],r[l+1]);return function(o){var c=ax(e,o,1,a)-1;return i[c](n[c](o))}}function ix(e,r){return r.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function db(){var e=FA,r=FA,s=jm,a,n,i,l=Ea,o,c,d;function u(){var x=Math.min(e.length,r.length);return l!==Ea&&(l=lce(e[0],e[x-1])),o=x>2?cce:oce,c=d=null,m}function m(x){return x==null||isNaN(x=+x)?i:(c||(c=o(e.map(a),r,s)))(a(l(x)))}return m.invert=function(x){return l(n((d||(d=o(r,e.map(a),gg)))(x)))},m.domain=function(x){return arguments.length?(e=Array.from(x,yg),u()):e.slice()},m.range=function(x){return arguments.length?(r=Array.from(x),u()):r.slice()},m.rangeRound=function(x){return r=Array.from(x),s=J4,u()},m.clamp=function(x){return arguments.length?(l=x?!0:Ea,u()):l!==Ea},m.interpolate=function(x){return arguments.length?(s=x,u()):s},m.unknown=function(x){return arguments.length?(i=x,m):i},function(x,h){return a=x,n=h,u()}}function Q4(){return db()(Ea,Ea)}function dce(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function bg(e,r){if((s=(e=r?e.toExponential(r-1):e.toExponential()).indexOf("e"))<0)return null;var s,a=e.slice(0,s);return[a.length>1?a[0]+a.slice(2):a,+e.slice(s+1)]}function am(e){return e=bg(Math.abs(e)),e?e[1]:NaN}function uce(e,r){return function(s,a){for(var n=s.length,i=[],l=0,o=e[0],c=0;n>0&&o>0&&(c+o+1>a&&(o=Math.max(1,a-c)),i.push(s.substring(n-=o,n+o)),!((c+=o+1)>a));)o=e[l=(l+1)%e.length];return i.reverse().join(r)}}function mce(e){return function(r){return r.replace(/[0-9]/g,function(s){return e[+s]})}}var hce=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function b0(e){if(!(r=hce.exec(e)))throw new Error("invalid format: "+e);var r;return new Z4({fill:r[1],align:r[2],sign:r[3],symbol:r[4],zero:r[5],width:r[6],comma:r[7],precision:r[8]&&r[8].slice(1),trim:r[9],type:r[10]})}b0.prototype=Z4.prototype;function Z4(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Z4.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function xce(e){e:for(var r=e.length,s=1,a=-1,n;s<r;++s)switch(e[s]){case".":a=n=s;break;case"0":a===0&&(a=s),n=s;break;default:if(!+e[s])break e;a>0&&(a=0);break}return a>0?e.slice(0,a)+e.slice(n+1):e}var oL;function pce(e,r){var s=bg(e,r);if(!s)return e+"";var a=s[0],n=s[1],i=n-(oL=Math.max(-8,Math.min(8,Math.floor(n/3)))*3)+1,l=a.length;return i===l?a:i>l?a+new Array(i-l+1).join("0"):i>0?a.slice(0,i)+"."+a.slice(i):"0."+new Array(1-i).join("0")+bg(e,Math.max(0,r+i-1))[0]}function RA(e,r){var s=bg(e,r);if(!s)return e+"";var a=s[0],n=s[1];return n<0?"0."+new Array(-n).join("0")+a:a.length>n+1?a.slice(0,n+1)+"."+a.slice(n+1):a+new Array(n-a.length+2).join("0")}const BA={"%":(e,r)=>(e*100).toFixed(r),b:e=>Math.round(e).toString(2),c:e=>e+"",d:dce,e:(e,r)=>e.toExponential(r),f:(e,r)=>e.toFixed(r),g:(e,r)=>e.toPrecision(r),o:e=>Math.round(e).toString(8),p:(e,r)=>RA(e*100,r),r:RA,s:pce,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function $A(e){return e}var zA=Array.prototype.map,UA=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function fce(e){var r=e.grouping===void 0||e.thousands===void 0?$A:uce(zA.call(e.grouping,Number),e.thousands+""),s=e.currency===void 0?"":e.currency[0]+"",a=e.currency===void 0?"":e.currency[1]+"",n=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?$A:mce(zA.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function d(m){m=b0(m);var x=m.fill,h=m.align,p=m.sign,f=m.symbol,b=m.zero,j=m.width,w=m.comma,y=m.precision,v=m.trim,N=m.type;N==="n"?(w=!0,N="g"):BA[N]||(y===void 0&&(y=12),v=!0,N="g"),(b||x==="0"&&h==="=")&&(b=!0,x="0",h="=");var S=f==="$"?s:f==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",k=f==="$"?a:/[%p]/.test(N)?l:"",C=BA[N],P=/[defgprs%]/.test(N);y=y===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y));function _(A){var D=S,F=k,X,ce,he;if(N==="c")F=C(A)+F,A="";else{A=+A;var L=A<0||1/A<0;if(A=isNaN(A)?c:C(Math.abs(A),y),v&&(A=xce(A)),L&&+A==0&&p!=="+"&&(L=!1),D=(L?p==="("?p:o:p==="-"||p==="("?"":p)+D,F=(N==="s"?UA[8+oL/3]:"")+F+(L&&p==="("?")":""),P){for(X=-1,ce=A.length;++X<ce;)if(he=A.charCodeAt(X),48>he||he>57){F=(he===46?n+A.slice(X+1):A.slice(X))+F,A=A.slice(0,X);break}}}w&&!b&&(A=r(A,1/0));var q=D.length+A.length+F.length,se=q<j?new Array(j-q+1).join(x):"";switch(w&&b&&(A=r(se+A,se.length?j-F.length:1/0),se=""),h){case"<":A=D+A+F+se;break;case"=":A=D+se+A+F;break;case"^":A=se.slice(0,q=se.length>>1)+D+A+F+se.slice(q);break;default:A=se+D+A+F;break}return i(A)}return _.toString=function(){return m+""},_}function u(m,x){var h=d((m=b0(m),m.type="f",m)),p=Math.max(-8,Math.min(8,Math.floor(am(x)/3)))*3,f=Math.pow(10,-p),b=UA[8+p/3];return function(j){return h(f*j)+b}}return{format:d,formatPrefix:u}}var xp,e3,cL;gce({thousands:",",grouping:[3],currency:["$",""]});function gce(e){return xp=fce(e),e3=xp.format,cL=xp.formatPrefix,xp}function yce(e){return Math.max(0,-am(Math.abs(e)))}function bce(e,r){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(am(r)/3)))*3-am(Math.abs(e)))}function vce(e,r){return e=Math.abs(e),r=Math.abs(r)-e,Math.max(0,am(r)-am(e))+1}function dL(e,r,s,a){var n=Yj(e,r,s),i;switch(a=b0(a??",f"),a.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(r));return a.precision==null&&!isNaN(i=bce(n,l))&&(a.precision=i),cL(a,l)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(i=vce(n,Math.max(Math.abs(e),Math.abs(r))))&&(a.precision=i-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(i=yce(n))&&(a.precision=i-(a.type==="%")*2);break}}return e3(a)}function uc(e){var r=e.domain;return e.ticks=function(s){var a=r();return qj(a[0],a[a.length-1],s??10)},e.tickFormat=function(s,a){var n=r();return dL(n[0],n[n.length-1],s??10,a)},e.nice=function(s){s==null&&(s=10);var a=r(),n=0,i=a.length-1,l=a[n],o=a[i],c,d,u=10;for(o<l&&(d=l,l=o,o=d,d=n,n=i,i=d);u-- >0;){if(d=Kj(l,o,s),d===c)return a[n]=l,a[i]=o,r(a);if(d>0)l=Math.floor(l/d)*d,o=Math.ceil(o/d)*d;else if(d<0)l=Math.ceil(l*d)/d,o=Math.floor(o*d)/d;else break;c=d}return e},e}function uL(){var e=Q4();return e.copy=function(){return ix(e,uL())},oi.apply(e,arguments),uc(e)}function mL(e){var r;function s(a){return a==null||isNaN(a=+a)?r:a}return s.invert=s,s.domain=s.range=function(a){return arguments.length?(e=Array.from(a,yg),s):e.slice()},s.unknown=function(a){return arguments.length?(r=a,s):r},s.copy=function(){return mL(e).unknown(r)},e=arguments.length?Array.from(e,yg):[0,1],uc(s)}function hL(e,r){e=e.slice();var s=0,a=e.length-1,n=e[s],i=e[a],l;return i<n&&(l=s,s=a,a=l,l=n,n=i,i=l),e[s]=r.floor(n),e[a]=r.ceil(i),e}function HA(e){return Math.log(e)}function VA(e){return Math.exp(e)}function jce(e){return-Math.log(-e)}function wce(e){return-Math.exp(-e)}function Nce(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Sce(e){return e===10?Nce:e===Math.E?Math.exp:r=>Math.pow(e,r)}function kce(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),r=>Math.log(r)/e)}function WA(e){return(r,s)=>-e(-r,s)}function t3(e){const r=e(HA,VA),s=r.domain;let a=10,n,i;function l(){return n=kce(a),i=Sce(a),s()[0]<0?(n=WA(n),i=WA(i),e(jce,wce)):e(HA,VA),r}return r.base=function(o){return arguments.length?(a=+o,l()):a},r.domain=function(o){return arguments.length?(s(o),l()):s()},r.ticks=o=>{const c=s();let d=c[0],u=c[c.length-1];const m=u<d;m&&([d,u]=[u,d]);let x=n(d),h=n(u),p,f;const b=o==null?10:+o;let j=[];if(!(a%1)&&h-x<b){if(x=Math.floor(x),h=Math.ceil(h),d>0){for(;x<=h;++x)for(p=1;p<a;++p)if(f=x<0?p/i(-x):p*i(x),!(f<d)){if(f>u)break;j.push(f)}}else for(;x<=h;++x)for(p=a-1;p>=1;--p)if(f=x>0?p/i(-x):p*i(x),!(f<d)){if(f>u)break;j.push(f)}j.length*2<b&&(j=qj(d,u,b))}else j=qj(x,h,Math.min(h-x,b)).map(i);return m?j.reverse():j},r.tickFormat=(o,c)=>{if(o==null&&(o=10),c==null&&(c=a===10?"s":","),typeof c!="function"&&(!(a%1)&&(c=b0(c)).precision==null&&(c.trim=!0),c=e3(c)),o===1/0)return c;const d=Math.max(1,a*o/r.ticks().length);return u=>{let m=u/i(Math.round(n(u)));return m*a<a-.5&&(m*=a),m<=d?c(u):""}},r.nice=()=>s(hL(s(),{floor:o=>i(Math.floor(n(o))),ceil:o=>i(Math.ceil(n(o)))})),r}function xL(){const e=t3(db()).domain([1,10]);return e.copy=()=>ix(e,xL()).base(e.base()),oi.apply(e,arguments),e}function GA(e){return function(r){return Math.sign(r)*Math.log1p(Math.abs(r/e))}}function qA(e){return function(r){return Math.sign(r)*Math.expm1(Math.abs(r))*e}}function r3(e){var r=1,s=e(GA(r),qA(r));return s.constant=function(a){return arguments.length?e(GA(r=+a),qA(r)):r},uc(s)}function pL(){var e=r3(db());return e.copy=function(){return ix(e,pL()).constant(e.constant())},oi.apply(e,arguments)}function KA(e){return function(r){return r<0?-Math.pow(-r,e):Math.pow(r,e)}}function Cce(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Pce(e){return e<0?-e*e:e*e}function s3(e){var r=e(Ea,Ea),s=1;function a(){return s===1?e(Ea,Ea):s===.5?e(Cce,Pce):e(KA(s),KA(1/s))}return r.exponent=function(n){return arguments.length?(s=+n,a()):s},uc(r)}function a3(){var e=s3(db());return e.copy=function(){return ix(e,a3()).exponent(e.exponent())},oi.apply(e,arguments),e}function Ace(){return a3.apply(null,arguments).exponent(.5)}function YA(e){return Math.sign(e)*e*e}function Tce(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function fL(){var e=Q4(),r=[0,1],s=!1,a;function n(i){var l=Tce(e(i));return isNaN(l)?a:s?Math.round(l):l}return n.invert=function(i){return e.invert(YA(i))},n.domain=function(i){return arguments.length?(e.domain(i),n):e.domain()},n.range=function(i){return arguments.length?(e.range((r=Array.from(i,yg)).map(YA)),n):r.slice()},n.rangeRound=function(i){return n.range(i).round(!0)},n.round=function(i){return arguments.length?(s=!!i,n):s},n.clamp=function(i){return arguments.length?(e.clamp(i),n):e.clamp()},n.unknown=function(i){return arguments.length?(a=i,n):a},n.copy=function(){return fL(e.domain(),r).round(s).clamp(e.clamp()).unknown(a)},oi.apply(n,arguments),uc(n)}function gL(){var e=[],r=[],s=[],a;function n(){var l=0,o=Math.max(1,r.length);for(s=new Array(o-1);++l<o;)s[l-1]=Ooe(e,l/o);return i}function i(l){return l==null||isNaN(l=+l)?a:r[ax(s,l)]}return i.invertExtent=function(l){var o=r.indexOf(l);return o<0?[NaN,NaN]:[o>0?s[o-1]:e[0],o<s.length?s[o]:e[e.length-1]]},i.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let o of l)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(qo),n()},i.range=function(l){return arguments.length?(r=Array.from(l),n()):r.slice()},i.unknown=function(l){return arguments.length?(a=l,i):a},i.quantiles=function(){return s.slice()},i.copy=function(){return gL().domain(e).range(r).unknown(a)},oi.apply(i,arguments)}function yL(){var e=0,r=1,s=1,a=[.5],n=[0,1],i;function l(c){return c!=null&&c<=c?n[ax(a,c,0,s)]:i}function o(){var c=-1;for(a=new Array(s);++c<s;)a[c]=((c+1)*r-(c-s)*e)/(s+1);return l}return l.domain=function(c){return arguments.length?([e,r]=c,e=+e,r=+r,o()):[e,r]},l.range=function(c){return arguments.length?(s=(n=Array.from(c)).length-1,o()):n.slice()},l.invertExtent=function(c){var d=n.indexOf(c);return d<0?[NaN,NaN]:d<1?[e,a[0]]:d>=s?[a[s-1],r]:[a[d-1],a[d]]},l.unknown=function(c){return arguments.length&&(i=c),l},l.thresholds=function(){return a.slice()},l.copy=function(){return yL().domain([e,r]).range(n).unknown(i)},oi.apply(uc(l),arguments)}function bL(){var e=[.5],r=[0,1],s,a=1;function n(i){return i!=null&&i<=i?r[ax(e,i,0,a)]:s}return n.domain=function(i){return arguments.length?(e=Array.from(i),a=Math.min(e.length,r.length-1),n):e.slice()},n.range=function(i){return arguments.length?(r=Array.from(i),a=Math.min(e.length,r.length-1),n):r.slice()},n.invertExtent=function(i){var l=r.indexOf(i);return[e[l-1],e[l]]},n.unknown=function(i){return arguments.length?(s=i,n):s},n.copy=function(){return bL().domain(e).range(r).unknown(s)},oi.apply(n,arguments)}const N1=new Date,S1=new Date;function Fs(e,r,s,a){function n(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return n.floor=i=>(e(i=new Date(+i)),i),n.ceil=i=>(e(i=new Date(i-1)),r(i,1),e(i),i),n.round=i=>{const l=n(i),o=n.ceil(i);return i-l<o-i?l:o},n.offset=(i,l)=>(r(i=new Date(+i),l==null?1:Math.floor(l)),i),n.range=(i,l,o)=>{const c=[];if(i=n.ceil(i),o=o==null?1:Math.floor(o),!(i<l)||!(o>0))return c;let d;do c.push(d=new Date(+i)),r(i,o),e(i);while(d<i&&i<l);return c},n.filter=i=>Fs(l=>{if(l>=l)for(;e(l),!i(l);)l.setTime(l-1)},(l,o)=>{if(l>=l)if(o<0)for(;++o<=0;)for(;r(l,-1),!i(l););else for(;--o>=0;)for(;r(l,1),!i(l););}),s&&(n.count=(i,l)=>(N1.setTime(+i),S1.setTime(+l),e(N1),e(S1),Math.floor(s(N1,S1))),n.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?n.filter(a?l=>a(l)%i===0:l=>n.count(0,l)%i===0):n)),n}const vg=Fs(()=>{},(e,r)=>{e.setTime(+e+r)},(e,r)=>r-e);vg.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Fs(r=>{r.setTime(Math.floor(r/e)*e)},(r,s)=>{r.setTime(+r+s*e)},(r,s)=>(s-r)/e):vg);vg.range;const gl=1e3,Jn=gl*60,yl=Jn*60,Hl=yl*24,n3=Hl*7,XA=Hl*30,k1=Hl*365,Fc=Fs(e=>{e.setTime(e-e.getMilliseconds())},(e,r)=>{e.setTime(+e+r*gl)},(e,r)=>(r-e)/gl,e=>e.getUTCSeconds());Fc.range;const i3=Fs(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*gl)},(e,r)=>{e.setTime(+e+r*Jn)},(e,r)=>(r-e)/Jn,e=>e.getMinutes());i3.range;const l3=Fs(e=>{e.setUTCSeconds(0,0)},(e,r)=>{e.setTime(+e+r*Jn)},(e,r)=>(r-e)/Jn,e=>e.getUTCMinutes());l3.range;const o3=Fs(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*gl-e.getMinutes()*Jn)},(e,r)=>{e.setTime(+e+r*yl)},(e,r)=>(r-e)/yl,e=>e.getHours());o3.range;const c3=Fs(e=>{e.setUTCMinutes(0,0,0)},(e,r)=>{e.setTime(+e+r*yl)},(e,r)=>(r-e)/yl,e=>e.getUTCHours());c3.range;const lx=Fs(e=>e.setHours(0,0,0,0),(e,r)=>e.setDate(e.getDate()+r),(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Jn)/Hl,e=>e.getDate()-1);lx.range;const ub=Fs(e=>{e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r)},(e,r)=>(r-e)/Hl,e=>e.getUTCDate()-1);ub.range;const vL=Fs(e=>{e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r)},(e,r)=>(r-e)/Hl,e=>Math.floor(e/Hl));vL.range;function _d(e){return Fs(r=>{r.setDate(r.getDate()-(r.getDay()+7-e)%7),r.setHours(0,0,0,0)},(r,s)=>{r.setDate(r.getDate()+s*7)},(r,s)=>(s-r-(s.getTimezoneOffset()-r.getTimezoneOffset())*Jn)/n3)}const mb=_d(0),jg=_d(1),Ece=_d(2),Ice=_d(3),nm=_d(4),_ce=_d(5),Oce=_d(6);mb.range;jg.range;Ece.range;Ice.range;nm.range;_ce.range;Oce.range;function Od(e){return Fs(r=>{r.setUTCDate(r.getUTCDate()-(r.getUTCDay()+7-e)%7),r.setUTCHours(0,0,0,0)},(r,s)=>{r.setUTCDate(r.getUTCDate()+s*7)},(r,s)=>(s-r)/n3)}const hb=Od(0),wg=Od(1),Dce=Od(2),Mce=Od(3),im=Od(4),Lce=Od(5),Fce=Od(6);hb.range;wg.range;Dce.range;Mce.range;im.range;Lce.range;Fce.range;const d3=Fs(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,r)=>{e.setMonth(e.getMonth()+r)},(e,r)=>r.getMonth()-e.getMonth()+(r.getFullYear()-e.getFullYear())*12,e=>e.getMonth());d3.range;const u3=Fs(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCMonth(e.getUTCMonth()+r)},(e,r)=>r.getUTCMonth()-e.getUTCMonth()+(r.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());u3.range;const Vl=Fs(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r)},(e,r)=>r.getFullYear()-e.getFullYear(),e=>e.getFullYear());Vl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Fs(r=>{r.setFullYear(Math.floor(r.getFullYear()/e)*e),r.setMonth(0,1),r.setHours(0,0,0,0)},(r,s)=>{r.setFullYear(r.getFullYear()+s*e)});Vl.range;const Wl=Fs(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r)},(e,r)=>r.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Wl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Fs(r=>{r.setUTCFullYear(Math.floor(r.getUTCFullYear()/e)*e),r.setUTCMonth(0,1),r.setUTCHours(0,0,0,0)},(r,s)=>{r.setUTCFullYear(r.getUTCFullYear()+s*e)});Wl.range;function jL(e,r,s,a,n,i){const l=[[Fc,1,gl],[Fc,5,5*gl],[Fc,15,15*gl],[Fc,30,30*gl],[i,1,Jn],[i,5,5*Jn],[i,15,15*Jn],[i,30,30*Jn],[n,1,yl],[n,3,3*yl],[n,6,6*yl],[n,12,12*yl],[a,1,Hl],[a,2,2*Hl],[s,1,n3],[r,1,XA],[r,3,3*XA],[e,1,k1]];function o(d,u,m){const x=u<d;x&&([d,u]=[u,d]);const h=m&&typeof m.range=="function"?m:c(d,u,m),p=h?h.range(d,+u+1):[];return x?p.reverse():p}function c(d,u,m){const x=Math.abs(u-d)/m,h=G4(([,,b])=>b).right(l,x);if(h===l.length)return e.every(Yj(d/k1,u/k1,m));if(h===0)return vg.every(Math.max(Yj(d,u,m),1));const[p,f]=l[x/l[h-1][2]<l[h][2]/x?h-1:h];return p.every(f)}return[o,c]}const[Rce,Bce]=jL(Wl,u3,hb,vL,c3,l3),[$ce,zce]=jL(Vl,d3,mb,lx,o3,i3);function C1(e){if(0<=e.y&&e.y<100){var r=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return r.setFullYear(e.y),r}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function P1(e){if(0<=e.y&&e.y<100){var r=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return r.setUTCFullYear(e.y),r}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function eh(e,r,s){return{y:e,m:r,d:s,H:0,M:0,S:0,L:0}}function Uce(e){var r=e.dateTime,s=e.date,a=e.time,n=e.periods,i=e.days,l=e.shortDays,o=e.months,c=e.shortMonths,d=th(n),u=rh(n),m=th(i),x=rh(i),h=th(l),p=rh(l),f=th(o),b=rh(o),j=th(c),w=rh(c),y={a:L,A:q,b:se,B:R,c:null,d:r8,e:r8,f:ude,g:jde,G:Nde,H:ode,I:cde,j:dde,L:wL,m:mde,M:hde,p:T,q:O,Q:n8,s:i8,S:xde,u:pde,U:fde,V:gde,w:yde,W:bde,x:null,X:null,y:vde,Y:wde,Z:Sde,"%":a8},v={a:K,A:U,b:ee,B:M,c:null,d:s8,e:s8,f:Ade,g:Rde,G:$de,H:kde,I:Cde,j:Pde,L:SL,m:Tde,M:Ede,p:H,q:B,Q:n8,s:i8,S:Ide,u:_de,U:Ode,V:Dde,w:Mde,W:Lde,x:null,X:null,y:Fde,Y:Bde,Z:zde,"%":a8},N={a:_,A,b:D,B:F,c:X,d:e8,e:e8,f:ade,g:ZA,G:QA,H:t8,I:t8,j:ede,L:sde,m:Zce,M:tde,p:P,q:Qce,Q:ide,s:lde,S:rde,u:qce,U:Kce,V:Yce,w:Gce,W:Xce,x:ce,X:he,y:ZA,Y:QA,Z:Jce,"%":nde};y.x=S(s,y),y.X=S(a,y),y.c=S(r,y),v.x=S(s,v),v.X=S(a,v),v.c=S(r,v);function S(Y,ie){return function(me){var de=[],Ge=-1,Me=0,it=Y.length,Ye,Le,z;for(me instanceof Date||(me=new Date(+me));++Ge<it;)Y.charCodeAt(Ge)===37&&(de.push(Y.slice(Me,Ge)),(Le=JA[Ye=Y.charAt(++Ge)])!=null?Ye=Y.charAt(++Ge):Le=Ye==="e"?" ":"0",(z=ie[Ye])&&(Ye=z(me,Le)),de.push(Ye),Me=Ge+1);return de.push(Y.slice(Me,Ge)),de.join("")}}function k(Y,ie){return function(me){var de=eh(1900,void 0,1),Ge=C(de,Y,me+="",0),Me,it;if(Ge!=me.length)return null;if("Q"in de)return new Date(de.Q);if("s"in de)return new Date(de.s*1e3+("L"in de?de.L:0));if(ie&&!("Z"in de)&&(de.Z=0),"p"in de&&(de.H=de.H%12+de.p*12),de.m===void 0&&(de.m="q"in de?de.q:0),"V"in de){if(de.V<1||de.V>53)return null;"w"in de||(de.w=1),"Z"in de?(Me=P1(eh(de.y,0,1)),it=Me.getUTCDay(),Me=it>4||it===0?wg.ceil(Me):wg(Me),Me=ub.offset(Me,(de.V-1)*7),de.y=Me.getUTCFullYear(),de.m=Me.getUTCMonth(),de.d=Me.getUTCDate()+(de.w+6)%7):(Me=C1(eh(de.y,0,1)),it=Me.getDay(),Me=it>4||it===0?jg.ceil(Me):jg(Me),Me=lx.offset(Me,(de.V-1)*7),de.y=Me.getFullYear(),de.m=Me.getMonth(),de.d=Me.getDate()+(de.w+6)%7)}else("W"in de||"U"in de)&&("w"in de||(de.w="u"in de?de.u%7:"W"in de?1:0),it="Z"in de?P1(eh(de.y,0,1)).getUTCDay():C1(eh(de.y,0,1)).getDay(),de.m=0,de.d="W"in de?(de.w+6)%7+de.W*7-(it+5)%7:de.w+de.U*7-(it+6)%7);return"Z"in de?(de.H+=de.Z/100|0,de.M+=de.Z%100,P1(de)):C1(de)}}function C(Y,ie,me,de){for(var Ge=0,Me=ie.length,it=me.length,Ye,Le;Ge<Me;){if(de>=it)return-1;if(Ye=ie.charCodeAt(Ge++),Ye===37){if(Ye=ie.charAt(Ge++),Le=N[Ye in JA?ie.charAt(Ge++):Ye],!Le||(de=Le(Y,me,de))<0)return-1}else if(Ye!=me.charCodeAt(de++))return-1}return de}function P(Y,ie,me){var de=d.exec(ie.slice(me));return de?(Y.p=u.get(de[0].toLowerCase()),me+de[0].length):-1}function _(Y,ie,me){var de=h.exec(ie.slice(me));return de?(Y.w=p.get(de[0].toLowerCase()),me+de[0].length):-1}function A(Y,ie,me){var de=m.exec(ie.slice(me));return de?(Y.w=x.get(de[0].toLowerCase()),me+de[0].length):-1}function D(Y,ie,me){var de=j.exec(ie.slice(me));return de?(Y.m=w.get(de[0].toLowerCase()),me+de[0].length):-1}function F(Y,ie,me){var de=f.exec(ie.slice(me));return de?(Y.m=b.get(de[0].toLowerCase()),me+de[0].length):-1}function X(Y,ie,me){return C(Y,r,ie,me)}function ce(Y,ie,me){return C(Y,s,ie,me)}function he(Y,ie,me){return C(Y,a,ie,me)}function L(Y){return l[Y.getDay()]}function q(Y){return i[Y.getDay()]}function se(Y){return c[Y.getMonth()]}function R(Y){return o[Y.getMonth()]}function T(Y){return n[+(Y.getHours()>=12)]}function O(Y){return 1+~~(Y.getMonth()/3)}function K(Y){return l[Y.getUTCDay()]}function U(Y){return i[Y.getUTCDay()]}function ee(Y){return c[Y.getUTCMonth()]}function M(Y){return o[Y.getUTCMonth()]}function H(Y){return n[+(Y.getUTCHours()>=12)]}function B(Y){return 1+~~(Y.getUTCMonth()/3)}return{format:function(Y){var ie=S(Y+="",y);return ie.toString=function(){return Y},ie},parse:function(Y){var ie=k(Y+="",!1);return ie.toString=function(){return Y},ie},utcFormat:function(Y){var ie=S(Y+="",v);return ie.toString=function(){return Y},ie},utcParse:function(Y){var ie=k(Y+="",!0);return ie.toString=function(){return Y},ie}}}var JA={"-":"",_:" ",0:"0"},Ys=/^\s*\d+/,Hce=/^%/,Vce=/[\\^$*+?|[\]().{}]/g;function ir(e,r,s){var a=e<0?"-":"",n=(a?-e:e)+"",i=n.length;return a+(i<s?new Array(s-i+1).join(r)+n:n)}function Wce(e){return e.replace(Vce,"\\$&")}function th(e){return new RegExp("^(?:"+e.map(Wce).join("|")+")","i")}function rh(e){return new Map(e.map((r,s)=>[r.toLowerCase(),s]))}function Gce(e,r,s){var a=Ys.exec(r.slice(s,s+1));return a?(e.w=+a[0],s+a[0].length):-1}function qce(e,r,s){var a=Ys.exec(r.slice(s,s+1));return a?(e.u=+a[0],s+a[0].length):-1}function Kce(e,r,s){var a=Ys.exec(r.slice(s,s+2));return a?(e.U=+a[0],s+a[0].length):-1}function Yce(e,r,s){var a=Ys.exec(r.slice(s,s+2));return a?(e.V=+a[0],s+a[0].length):-1}function Xce(e,r,s){var a=Ys.exec(r.slice(s,s+2));return a?(e.W=+a[0],s+a[0].length):-1}function QA(e,r,s){var a=Ys.exec(r.slice(s,s+4));return a?(e.y=+a[0],s+a[0].length):-1}function ZA(e,r,s){var a=Ys.exec(r.slice(s,s+2));return a?(e.y=+a[0]+(+a[0]>68?1900:2e3),s+a[0].length):-1}function Jce(e,r,s){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(r.slice(s,s+6));return a?(e.Z=a[1]?0:-(a[2]+(a[3]||"00")),s+a[0].length):-1}function Qce(e,r,s){var a=Ys.exec(r.slice(s,s+1));return a?(e.q=a[0]*3-3,s+a[0].length):-1}function Zce(e,r,s){var a=Ys.exec(r.slice(s,s+2));return a?(e.m=a[0]-1,s+a[0].length):-1}function e8(e,r,s){var a=Ys.exec(r.slice(s,s+2));return a?(e.d=+a[0],s+a[0].length):-1}function ede(e,r,s){var a=Ys.exec(r.slice(s,s+3));return a?(e.m=0,e.d=+a[0],s+a[0].length):-1}function t8(e,r,s){var a=Ys.exec(r.slice(s,s+2));return a?(e.H=+a[0],s+a[0].length):-1}function tde(e,r,s){var a=Ys.exec(r.slice(s,s+2));return a?(e.M=+a[0],s+a[0].length):-1}function rde(e,r,s){var a=Ys.exec(r.slice(s,s+2));return a?(e.S=+a[0],s+a[0].length):-1}function sde(e,r,s){var a=Ys.exec(r.slice(s,s+3));return a?(e.L=+a[0],s+a[0].length):-1}function ade(e,r,s){var a=Ys.exec(r.slice(s,s+6));return a?(e.L=Math.floor(a[0]/1e3),s+a[0].length):-1}function nde(e,r,s){var a=Hce.exec(r.slice(s,s+1));return a?s+a[0].length:-1}function ide(e,r,s){var a=Ys.exec(r.slice(s));return a?(e.Q=+a[0],s+a[0].length):-1}function lde(e,r,s){var a=Ys.exec(r.slice(s));return a?(e.s=+a[0],s+a[0].length):-1}function r8(e,r){return ir(e.getDate(),r,2)}function ode(e,r){return ir(e.getHours(),r,2)}function cde(e,r){return ir(e.getHours()%12||12,r,2)}function dde(e,r){return ir(1+lx.count(Vl(e),e),r,3)}function wL(e,r){return ir(e.getMilliseconds(),r,3)}function ude(e,r){return wL(e,r)+"000"}function mde(e,r){return ir(e.getMonth()+1,r,2)}function hde(e,r){return ir(e.getMinutes(),r,2)}function xde(e,r){return ir(e.getSeconds(),r,2)}function pde(e){var r=e.getDay();return r===0?7:r}function fde(e,r){return ir(mb.count(Vl(e)-1,e),r,2)}function NL(e){var r=e.getDay();return r>=4||r===0?nm(e):nm.ceil(e)}function gde(e,r){return e=NL(e),ir(nm.count(Vl(e),e)+(Vl(e).getDay()===4),r,2)}function yde(e){return e.getDay()}function bde(e,r){return ir(jg.count(Vl(e)-1,e),r,2)}function vde(e,r){return ir(e.getFullYear()%100,r,2)}function jde(e,r){return e=NL(e),ir(e.getFullYear()%100,r,2)}function wde(e,r){return ir(e.getFullYear()%1e4,r,4)}function Nde(e,r){var s=e.getDay();return e=s>=4||s===0?nm(e):nm.ceil(e),ir(e.getFullYear()%1e4,r,4)}function Sde(e){var r=e.getTimezoneOffset();return(r>0?"-":(r*=-1,"+"))+ir(r/60|0,"0",2)+ir(r%60,"0",2)}function s8(e,r){return ir(e.getUTCDate(),r,2)}function kde(e,r){return ir(e.getUTCHours(),r,2)}function Cde(e,r){return ir(e.getUTCHours()%12||12,r,2)}function Pde(e,r){return ir(1+ub.count(Wl(e),e),r,3)}function SL(e,r){return ir(e.getUTCMilliseconds(),r,3)}function Ade(e,r){return SL(e,r)+"000"}function Tde(e,r){return ir(e.getUTCMonth()+1,r,2)}function Ede(e,r){return ir(e.getUTCMinutes(),r,2)}function Ide(e,r){return ir(e.getUTCSeconds(),r,2)}function _de(e){var r=e.getUTCDay();return r===0?7:r}function Ode(e,r){return ir(hb.count(Wl(e)-1,e),r,2)}function kL(e){var r=e.getUTCDay();return r>=4||r===0?im(e):im.ceil(e)}function Dde(e,r){return e=kL(e),ir(im.count(Wl(e),e)+(Wl(e).getUTCDay()===4),r,2)}function Mde(e){return e.getUTCDay()}function Lde(e,r){return ir(wg.count(Wl(e)-1,e),r,2)}function Fde(e,r){return ir(e.getUTCFullYear()%100,r,2)}function Rde(e,r){return e=kL(e),ir(e.getUTCFullYear()%100,r,2)}function Bde(e,r){return ir(e.getUTCFullYear()%1e4,r,4)}function $de(e,r){var s=e.getUTCDay();return e=s>=4||s===0?im(e):im.ceil(e),ir(e.getUTCFullYear()%1e4,r,4)}function zde(){return"+0000"}function a8(){return"%"}function n8(e){return+e}function i8(e){return Math.floor(+e/1e3)}var Vd,CL,PL;Ude({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Ude(e){return Vd=Uce(e),CL=Vd.format,Vd.parse,PL=Vd.utcFormat,Vd.utcParse,Vd}function Hde(e){return new Date(e)}function Vde(e){return e instanceof Date?+e:+new Date(+e)}function m3(e,r,s,a,n,i,l,o,c,d){var u=Q4(),m=u.invert,x=u.domain,h=d(".%L"),p=d(":%S"),f=d("%I:%M"),b=d("%I %p"),j=d("%a %d"),w=d("%b %d"),y=d("%B"),v=d("%Y");function N(S){return(c(S)<S?h:o(S)<S?p:l(S)<S?f:i(S)<S?b:a(S)<S?n(S)<S?j:w:s(S)<S?y:v)(S)}return u.invert=function(S){return new Date(m(S))},u.domain=function(S){return arguments.length?x(Array.from(S,Vde)):x().map(Hde)},u.ticks=function(S){var k=x();return e(k[0],k[k.length-1],S??10)},u.tickFormat=function(S,k){return k==null?N:d(k)},u.nice=function(S){var k=x();return(!S||typeof S.range!="function")&&(S=r(k[0],k[k.length-1],S??10)),S?x(hL(k,S)):u},u.copy=function(){return ix(u,m3(e,r,s,a,n,i,l,o,c,d))},u}function Wde(){return oi.apply(m3($ce,zce,Vl,d3,mb,lx,o3,i3,Fc,CL).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Gde(){return oi.apply(m3(Rce,Bce,Wl,u3,hb,ub,c3,l3,Fc,PL).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function xb(){var e=0,r=1,s,a,n,i,l=Ea,o=!1,c;function d(m){return m==null||isNaN(m=+m)?c:l(n===0?.5:(m=(i(m)-s)*n,o?Math.max(0,Math.min(1,m)):m))}d.domain=function(m){return arguments.length?([e,r]=m,s=i(e=+e),a=i(r=+r),n=s===a?0:1/(a-s),d):[e,r]},d.clamp=function(m){return arguments.length?(o=!!m,d):o},d.interpolator=function(m){return arguments.length?(l=m,d):l};function u(m){return function(x){var h,p;return arguments.length?([h,p]=x,l=m(h,p),d):[l(0),l(1)]}}return d.range=u(jm),d.rangeRound=u(J4),d.unknown=function(m){return arguments.length?(c=m,d):c},function(m){return i=m,s=m(e),a=m(r),n=s===a?0:1/(a-s),d}}function mc(e,r){return r.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function AL(){var e=uc(xb()(Ea));return e.copy=function(){return mc(e,AL())},so.apply(e,arguments)}function TL(){var e=t3(xb()).domain([1,10]);return e.copy=function(){return mc(e,TL()).base(e.base())},so.apply(e,arguments)}function EL(){var e=r3(xb());return e.copy=function(){return mc(e,EL()).constant(e.constant())},so.apply(e,arguments)}function h3(){var e=s3(xb());return e.copy=function(){return mc(e,h3()).exponent(e.exponent())},so.apply(e,arguments)}function qde(){return h3.apply(null,arguments).exponent(.5)}function IL(){var e=[],r=Ea;function s(a){if(a!=null&&!isNaN(a=+a))return r((ax(e,a,1)-1)/(e.length-1))}return s.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let n of a)n!=null&&!isNaN(n=+n)&&e.push(n);return e.sort(qo),s},s.interpolator=function(a){return arguments.length?(r=a,s):r},s.range=function(){return e.map((a,n)=>r(n/(e.length-1)))},s.quantiles=function(a){return Array.from({length:a+1},(n,i)=>_oe(e,i/a))},s.copy=function(){return IL(r).domain(e)},so.apply(s,arguments)}function pb(){var e=0,r=.5,s=1,a=1,n,i,l,o,c,d=Ea,u,m=!1,x;function h(f){return isNaN(f=+f)?x:(f=.5+((f=+u(f))-i)*(a*f<a*i?o:c),d(m?Math.max(0,Math.min(1,f)):f))}h.domain=function(f){return arguments.length?([e,r,s]=f,n=u(e=+e),i=u(r=+r),l=u(s=+s),o=n===i?0:.5/(i-n),c=i===l?0:.5/(l-i),a=i<n?-1:1,h):[e,r,s]},h.clamp=function(f){return arguments.length?(m=!!f,h):m},h.interpolator=function(f){return arguments.length?(d=f,h):d};function p(f){return function(b){var j,w,y;return arguments.length?([j,w,y]=b,d=nce(f,[j,w,y]),h):[d(0),d(.5),d(1)]}}return h.range=p(jm),h.rangeRound=p(J4),h.unknown=function(f){return arguments.length?(x=f,h):x},function(f){return u=f,n=f(e),i=f(r),l=f(s),o=n===i?0:.5/(i-n),c=i===l?0:.5/(l-i),a=i<n?-1:1,h}}function _L(){var e=uc(pb()(Ea));return e.copy=function(){return mc(e,_L())},so.apply(e,arguments)}function OL(){var e=t3(pb()).domain([.1,1,10]);return e.copy=function(){return mc(e,OL()).base(e.base())},so.apply(e,arguments)}function DL(){var e=r3(pb());return e.copy=function(){return mc(e,DL()).constant(e.constant())},so.apply(e,arguments)}function x3(){var e=s3(pb());return e.copy=function(){return mc(e,x3()).exponent(e.exponent())},so.apply(e,arguments)}function Kde(){return x3.apply(null,arguments).exponent(.5)}const xh=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:K4,scaleDiverging:_L,scaleDivergingLog:OL,scaleDivergingPow:x3,scaleDivergingSqrt:Kde,scaleDivergingSymlog:DL,scaleIdentity:mL,scaleImplicit:Xj,scaleLinear:uL,scaleLog:xL,scaleOrdinal:q4,scalePoint:Moe,scalePow:a3,scaleQuantile:gL,scaleQuantize:yL,scaleRadial:fL,scaleSequential:AL,scaleSequentialLog:TL,scaleSequentialPow:h3,scaleSequentialQuantile:IL,scaleSequentialSqrt:qde,scaleSequentialSymlog:EL,scaleSqrt:Ace,scaleSymlog:pL,scaleThreshold:bL,scaleTime:Wde,scaleUtc:Gde,tickFormat:dL},Symbol.toStringTag,{value:"Module"}));var hc=e=>e.chartData,p3=we([hc],e=>{var r=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:r,dataStartIndex:0}}),ox=(e,r,s,a)=>a?p3(e):hc(e);function pd(e){if(Array.isArray(e)&&e.length===2){var[r,s]=e;if(Fr(r)&&Fr(s))return!0}return!1}function l8(e,r,s){return s?e:[Math.min(e[0],r[0]),Math.max(e[1],r[1])]}function ML(e,r){if(r&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[s,a]=e,n,i;if(Fr(s))n=s;else if(typeof s=="function")return;if(Fr(a))i=a;else if(typeof a=="function")return;var l=[n,i];if(pd(l))return l}}function Yde(e,r,s){if(!(!s&&r==null)){if(typeof e=="function"&&r!=null)try{var a=e(r,s);if(pd(a))return l8(a,r,s)}catch{}if(Array.isArray(e)&&e.length===2){var[n,i]=e,l,o;if(n==="auto")r!=null&&(l=Math.min(...r));else if(bt(n))l=n;else if(typeof n=="function")try{r!=null&&(l=n(r==null?void 0:r[0]))}catch{}else if(typeof n=="string"&&YP.test(n)){var c=YP.exec(n);if(c==null||r==null)l=void 0;else{var d=+c[1];l=r[0]-d}}else l=r==null?void 0:r[0];if(i==="auto")r!=null&&(o=Math.max(...r));else if(bt(i))o=i;else if(typeof i=="function")try{r!=null&&(o=i(r==null?void 0:r[1]))}catch{}else if(typeof i=="string"&&XP.test(i)){var u=XP.exec(i);if(u==null||r==null)o=void 0;else{var m=+u[1];o=r[1]+m}}else o=r==null?void 0:r[1];var x=[l,o];if(pd(x))return r==null?x:l8(x,r,s)}}}var wm=1e9,Xde={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},g3,Ur=!0,ii="[DecimalError] ",Kc=ii+"Invalid argument: ",f3=ii+"Exponent out of range: ",Nm=Math.floor,Pc=Math.pow,Jde=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,fn,zs=1e7,Or=7,LL=9007199254740991,Ng=Nm(LL/Or),Nt={};Nt.absoluteValue=Nt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Nt.comparedTo=Nt.cmp=function(e){var r,s,a,n,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(a=i.d.length,n=e.d.length,r=0,s=a<n?a:n;r<s;++r)if(i.d[r]!==e.d[r])return i.d[r]>e.d[r]^i.s<0?1:-1;return a===n?0:a>n^i.s<0?1:-1};Nt.decimalPlaces=Nt.dp=function(){var e=this,r=e.d.length-1,s=(r-e.e)*Or;if(r=e.d[r],r)for(;r%10==0;r/=10)s--;return s<0?0:s};Nt.dividedBy=Nt.div=function(e){return Al(this,new this.constructor(e))};Nt.dividedToIntegerBy=Nt.idiv=function(e){var r=this,s=r.constructor;return jr(Al(r,new s(e),0,1),s.precision)};Nt.equals=Nt.eq=function(e){return!this.cmp(e)};Nt.exponent=function(){return Ps(this)};Nt.greaterThan=Nt.gt=function(e){return this.cmp(e)>0};Nt.greaterThanOrEqualTo=Nt.gte=function(e){return this.cmp(e)>=0};Nt.isInteger=Nt.isint=function(){return this.e>this.d.length-2};Nt.isNegative=Nt.isneg=function(){return this.s<0};Nt.isPositive=Nt.ispos=function(){return this.s>0};Nt.isZero=function(){return this.s===0};Nt.lessThan=Nt.lt=function(e){return this.cmp(e)<0};Nt.lessThanOrEqualTo=Nt.lte=function(e){return this.cmp(e)<1};Nt.logarithm=Nt.log=function(e){var r,s=this,a=s.constructor,n=a.precision,i=n+5;if(e===void 0)e=new a(10);else if(e=new a(e),e.s<1||e.eq(fn))throw Error(ii+"NaN");if(s.s<1)throw Error(ii+(s.s?"NaN":"-Infinity"));return s.eq(fn)?new a(0):(Ur=!1,r=Al(v0(s,i),v0(e,i),i),Ur=!0,jr(r,n))};Nt.minus=Nt.sub=function(e){var r=this;return e=new r.constructor(e),r.s==e.s?BL(r,e):FL(r,(e.s=-e.s,e))};Nt.modulo=Nt.mod=function(e){var r,s=this,a=s.constructor,n=a.precision;if(e=new a(e),!e.s)throw Error(ii+"NaN");return s.s?(Ur=!1,r=Al(s,e,0,1).times(e),Ur=!0,s.minus(r)):jr(new a(s),n)};Nt.naturalExponential=Nt.exp=function(){return RL(this)};Nt.naturalLogarithm=Nt.ln=function(){return v0(this)};Nt.negated=Nt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Nt.plus=Nt.add=function(e){var r=this;return e=new r.constructor(e),r.s==e.s?FL(r,e):BL(r,(e.s=-e.s,e))};Nt.precision=Nt.sd=function(e){var r,s,a,n=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Kc+e);if(r=Ps(n)+1,a=n.d.length-1,s=a*Or+1,a=n.d[a],a){for(;a%10==0;a/=10)s--;for(a=n.d[0];a>=10;a/=10)s++}return e&&r>s?r:s};Nt.squareRoot=Nt.sqrt=function(){var e,r,s,a,n,i,l,o=this,c=o.constructor;if(o.s<1){if(!o.s)return new c(0);throw Error(ii+"NaN")}for(e=Ps(o),Ur=!1,n=Math.sqrt(+o),n==0||n==1/0?(r=Wi(o.d),(r.length+e)%2==0&&(r+="0"),n=Math.sqrt(r),e=Nm((e+1)/2)-(e<0||e%2),n==1/0?r="5e"+e:(r=n.toExponential(),r=r.slice(0,r.indexOf("e")+1)+e),a=new c(r)):a=new c(n.toString()),s=c.precision,n=l=s+3;;)if(i=a,a=i.plus(Al(o,i,l+2)).times(.5),Wi(i.d).slice(0,l)===(r=Wi(a.d)).slice(0,l)){if(r=r.slice(l-3,l+1),n==l&&r=="4999"){if(jr(i,s+1,0),i.times(i).eq(o)){a=i;break}}else if(r!="9999")break;l+=4}return Ur=!0,jr(a,s)};Nt.times=Nt.mul=function(e){var r,s,a,n,i,l,o,c,d,u=this,m=u.constructor,x=u.d,h=(e=new m(e)).d;if(!u.s||!e.s)return new m(0);for(e.s*=u.s,s=u.e+e.e,c=x.length,d=h.length,c<d&&(i=x,x=h,h=i,l=c,c=d,d=l),i=[],l=c+d,a=l;a--;)i.push(0);for(a=d;--a>=0;){for(r=0,n=c+a;n>a;)o=i[n]+h[a]*x[n-a-1]+r,i[n--]=o%zs|0,r=o/zs|0;i[n]=(i[n]+r)%zs|0}for(;!i[--l];)i.pop();return r?++s:i.shift(),e.d=i,e.e=s,Ur?jr(e,m.precision):e};Nt.toDecimalPlaces=Nt.todp=function(e,r){var s=this,a=s.constructor;return s=new a(s),e===void 0?s:(sl(e,0,wm),r===void 0?r=a.rounding:sl(r,0,8),jr(s,e+Ps(s)+1,r))};Nt.toExponential=function(e,r){var s,a=this,n=a.constructor;return e===void 0?s=fd(a,!0):(sl(e,0,wm),r===void 0?r=n.rounding:sl(r,0,8),a=jr(new n(a),e+1,r),s=fd(a,!0,e+1)),s};Nt.toFixed=function(e,r){var s,a,n=this,i=n.constructor;return e===void 0?fd(n):(sl(e,0,wm),r===void 0?r=i.rounding:sl(r,0,8),a=jr(new i(n),e+Ps(n)+1,r),s=fd(a.abs(),!1,e+Ps(a)+1),n.isneg()&&!n.isZero()?"-"+s:s)};Nt.toInteger=Nt.toint=function(){var e=this,r=e.constructor;return jr(new r(e),Ps(e)+1,r.rounding)};Nt.toNumber=function(){return+this};Nt.toPower=Nt.pow=function(e){var r,s,a,n,i,l,o=this,c=o.constructor,d=12,u=+(e=new c(e));if(!e.s)return new c(fn);if(o=new c(o),!o.s){if(e.s<1)throw Error(ii+"Infinity");return o}if(o.eq(fn))return o;if(a=c.precision,e.eq(fn))return jr(o,a);if(r=e.e,s=e.d.length-1,l=r>=s,i=o.s,l){if((s=u<0?-u:u)<=LL){for(n=new c(fn),r=Math.ceil(a/Or+4),Ur=!1;s%2&&(n=n.times(o),c8(n.d,r)),s=Nm(s/2),s!==0;)o=o.times(o),c8(o.d,r);return Ur=!0,e.s<0?new c(fn).div(n):jr(n,a)}}else if(i<0)throw Error(ii+"NaN");return i=i<0&&e.d[Math.max(r,s)]&1?-1:1,o.s=1,Ur=!1,n=e.times(v0(o,a+d)),Ur=!0,n=RL(n),n.s=i,n};Nt.toPrecision=function(e,r){var s,a,n=this,i=n.constructor;return e===void 0?(s=Ps(n),a=fd(n,s<=i.toExpNeg||s>=i.toExpPos)):(sl(e,1,wm),r===void 0?r=i.rounding:sl(r,0,8),n=jr(new i(n),e,r),s=Ps(n),a=fd(n,e<=s||s<=i.toExpNeg,e)),a};Nt.toSignificantDigits=Nt.tosd=function(e,r){var s=this,a=s.constructor;return e===void 0?(e=a.precision,r=a.rounding):(sl(e,1,wm),r===void 0?r=a.rounding:sl(r,0,8)),jr(new a(s),e,r)};Nt.toString=Nt.valueOf=Nt.val=Nt.toJSON=Nt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,r=Ps(e),s=e.constructor;return fd(e,r<=s.toExpNeg||r>=s.toExpPos)};function FL(e,r){var s,a,n,i,l,o,c,d,u=e.constructor,m=u.precision;if(!e.s||!r.s)return r.s||(r=new u(e)),Ur?jr(r,m):r;if(c=e.d,d=r.d,l=e.e,n=r.e,c=c.slice(),i=l-n,i){for(i<0?(a=c,i=-i,o=d.length):(a=d,n=l,o=c.length),l=Math.ceil(m/Or),o=l>o?l+1:o+1,i>o&&(i=o,a.length=1),a.reverse();i--;)a.push(0);a.reverse()}for(o=c.length,i=d.length,o-i<0&&(i=o,a=d,d=c,c=a),s=0;i;)s=(c[--i]=c[i]+d[i]+s)/zs|0,c[i]%=zs;for(s&&(c.unshift(s),++n),o=c.length;c[--o]==0;)c.pop();return r.d=c,r.e=n,Ur?jr(r,m):r}function sl(e,r,s){if(e!==~~e||e<r||e>s)throw Error(Kc+e)}function Wi(e){var r,s,a,n=e.length-1,i="",l=e[0];if(n>0){for(i+=l,r=1;r<n;r++)a=e[r]+"",s=Or-a.length,s&&(i+=wo(s)),i+=a;l=e[r],a=l+"",s=Or-a.length,s&&(i+=wo(s))}else if(l===0)return"0";for(;l%10===0;)l/=10;return i+l}var Al=function(){function e(a,n){var i,l=0,o=a.length;for(a=a.slice();o--;)i=a[o]*n+l,a[o]=i%zs|0,l=i/zs|0;return l&&a.unshift(l),a}function r(a,n,i,l){var o,c;if(i!=l)c=i>l?1:-1;else for(o=c=0;o<i;o++)if(a[o]!=n[o]){c=a[o]>n[o]?1:-1;break}return c}function s(a,n,i){for(var l=0;i--;)a[i]-=l,l=a[i]<n[i]?1:0,a[i]=l*zs+a[i]-n[i];for(;!a[0]&&a.length>1;)a.shift()}return function(a,n,i,l){var o,c,d,u,m,x,h,p,f,b,j,w,y,v,N,S,k,C,P=a.constructor,_=a.s==n.s?1:-1,A=a.d,D=n.d;if(!a.s)return new P(a);if(!n.s)throw Error(ii+"Division by zero");for(c=a.e-n.e,k=D.length,N=A.length,h=new P(_),p=h.d=[],d=0;D[d]==(A[d]||0);)++d;if(D[d]>(A[d]||0)&&--c,i==null?w=i=P.precision:l?w=i+(Ps(a)-Ps(n))+1:w=i,w<0)return new P(0);if(w=w/Or+2|0,d=0,k==1)for(u=0,D=D[0],w++;(d<N||u)&&w--;d++)y=u*zs+(A[d]||0),p[d]=y/D|0,u=y%D|0;else{for(u=zs/(D[0]+1)|0,u>1&&(D=e(D,u),A=e(A,u),k=D.length,N=A.length),v=k,f=A.slice(0,k),b=f.length;b<k;)f[b++]=0;C=D.slice(),C.unshift(0),S=D[0],D[1]>=zs/2&&++S;do u=0,o=r(D,f,k,b),o<0?(j=f[0],k!=b&&(j=j*zs+(f[1]||0)),u=j/S|0,u>1?(u>=zs&&(u=zs-1),m=e(D,u),x=m.length,b=f.length,o=r(m,f,x,b),o==1&&(u--,s(m,k<x?C:D,x))):(u==0&&(o=u=1),m=D.slice()),x=m.length,x<b&&m.unshift(0),s(f,m,b),o==-1&&(b=f.length,o=r(D,f,k,b),o<1&&(u++,s(f,k<b?C:D,b))),b=f.length):o===0&&(u++,f=[0]),p[d++]=u,o&&f[0]?f[b++]=A[v]||0:(f=[A[v]],b=1);while((v++<N||f[0]!==void 0)&&w--)}return p[0]||p.shift(),h.e=c,jr(h,l?i+Ps(h)+1:i)}}();function RL(e,r){var s,a,n,i,l,o,c=0,d=0,u=e.constructor,m=u.precision;if(Ps(e)>16)throw Error(f3+Ps(e));if(!e.s)return new u(fn);for(Ur=!1,o=m,l=new u(.03125);e.abs().gte(.1);)e=e.times(l),d+=5;for(a=Math.log(Pc(2,d))/Math.LN10*2+5|0,o+=a,s=n=i=new u(fn),u.precision=o;;){if(n=jr(n.times(e),o),s=s.times(++c),l=i.plus(Al(n,s,o)),Wi(l.d).slice(0,o)===Wi(i.d).slice(0,o)){for(;d--;)i=jr(i.times(i),o);return u.precision=m,r==null?(Ur=!0,jr(i,m)):i}i=l}}function Ps(e){for(var r=e.e*Or,s=e.d[0];s>=10;s/=10)r++;return r}function A1(e,r,s){if(r>e.LN10.sd())throw Ur=!0,s&&(e.precision=s),Error(ii+"LN10 precision limit exceeded");return jr(new e(e.LN10),r)}function wo(e){for(var r="";e--;)r+="0";return r}function v0(e,r){var s,a,n,i,l,o,c,d,u,m=1,x=10,h=e,p=h.d,f=h.constructor,b=f.precision;if(h.s<1)throw Error(ii+(h.s?"NaN":"-Infinity"));if(h.eq(fn))return new f(0);if(r==null?(Ur=!1,d=b):d=r,h.eq(10))return r==null&&(Ur=!0),A1(f,d);if(d+=x,f.precision=d,s=Wi(p),a=s.charAt(0),i=Ps(h),Math.abs(i)<15e14){for(;a<7&&a!=1||a==1&&s.charAt(1)>3;)h=h.times(e),s=Wi(h.d),a=s.charAt(0),m++;i=Ps(h),a>1?(h=new f("0."+s),i++):h=new f(a+"."+s.slice(1))}else return c=A1(f,d+2,b).times(i+""),h=v0(new f(a+"."+s.slice(1)),d-x).plus(c),f.precision=b,r==null?(Ur=!0,jr(h,b)):h;for(o=l=h=Al(h.minus(fn),h.plus(fn),d),u=jr(h.times(h),d),n=3;;){if(l=jr(l.times(u),d),c=o.plus(Al(l,new f(n),d)),Wi(c.d).slice(0,d)===Wi(o.d).slice(0,d))return o=o.times(2),i!==0&&(o=o.plus(A1(f,d+2,b).times(i+""))),o=Al(o,new f(m),d),f.precision=b,r==null?(Ur=!0,jr(o,b)):o;o=c,n+=2}}function o8(e,r){var s,a,n;for((s=r.indexOf("."))>-1&&(r=r.replace(".","")),(a=r.search(/e/i))>0?(s<0&&(s=a),s+=+r.slice(a+1),r=r.substring(0,a)):s<0&&(s=r.length),a=0;r.charCodeAt(a)===48;)++a;for(n=r.length;r.charCodeAt(n-1)===48;)--n;if(r=r.slice(a,n),r){if(n-=a,s=s-a-1,e.e=Nm(s/Or),e.d=[],a=(s+1)%Or,s<0&&(a+=Or),a<n){for(a&&e.d.push(+r.slice(0,a)),n-=Or;a<n;)e.d.push(+r.slice(a,a+=Or));r=r.slice(a),a=Or-r.length}else a-=n;for(;a--;)r+="0";if(e.d.push(+r),Ur&&(e.e>Ng||e.e<-Ng))throw Error(f3+s)}else e.s=0,e.e=0,e.d=[0];return e}function jr(e,r,s){var a,n,i,l,o,c,d,u,m=e.d;for(l=1,i=m[0];i>=10;i/=10)l++;if(a=r-l,a<0)a+=Or,n=r,d=m[u=0];else{if(u=Math.ceil((a+1)/Or),i=m.length,u>=i)return e;for(d=i=m[u],l=1;i>=10;i/=10)l++;a%=Or,n=a-Or+l}if(s!==void 0&&(i=Pc(10,l-n-1),o=d/i%10|0,c=r<0||m[u+1]!==void 0||d%i,c=s<4?(o||c)&&(s==0||s==(e.s<0?3:2)):o>5||o==5&&(s==4||c||s==6&&(a>0?n>0?d/Pc(10,l-n):0:m[u-1])%10&1||s==(e.s<0?8:7))),r<1||!m[0])return c?(i=Ps(e),m.length=1,r=r-i-1,m[0]=Pc(10,(Or-r%Or)%Or),e.e=Nm(-r/Or)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(a==0?(m.length=u,i=1,u--):(m.length=u+1,i=Pc(10,Or-a),m[u]=n>0?(d/Pc(10,l-n)%Pc(10,n)|0)*i:0),c)for(;;)if(u==0){(m[0]+=i)==zs&&(m[0]=1,++e.e);break}else{if(m[u]+=i,m[u]!=zs)break;m[u--]=0,i=1}for(a=m.length;m[--a]===0;)m.pop();if(Ur&&(e.e>Ng||e.e<-Ng))throw Error(f3+Ps(e));return e}function BL(e,r){var s,a,n,i,l,o,c,d,u,m,x=e.constructor,h=x.precision;if(!e.s||!r.s)return r.s?r.s=-r.s:r=new x(e),Ur?jr(r,h):r;if(c=e.d,m=r.d,a=r.e,d=e.e,c=c.slice(),l=d-a,l){for(u=l<0,u?(s=c,l=-l,o=m.length):(s=m,a=d,o=c.length),n=Math.max(Math.ceil(h/Or),o)+2,l>n&&(l=n,s.length=1),s.reverse(),n=l;n--;)s.push(0);s.reverse()}else{for(n=c.length,o=m.length,u=n<o,u&&(o=n),n=0;n<o;n++)if(c[n]!=m[n]){u=c[n]<m[n];break}l=0}for(u&&(s=c,c=m,m=s,r.s=-r.s),o=c.length,n=m.length-o;n>0;--n)c[o++]=0;for(n=m.length;n>l;){if(c[--n]<m[n]){for(i=n;i&&c[--i]===0;)c[i]=zs-1;--c[i],c[n]+=zs}c[n]-=m[n]}for(;c[--o]===0;)c.pop();for(;c[0]===0;c.shift())--a;return c[0]?(r.d=c,r.e=a,Ur?jr(r,h):r):new x(0)}function fd(e,r,s){var a,n=Ps(e),i=Wi(e.d),l=i.length;return r?(s&&(a=s-l)>0?i=i.charAt(0)+"."+i.slice(1)+wo(a):l>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(n<0?"e":"e+")+n):n<0?(i="0."+wo(-n-1)+i,s&&(a=s-l)>0&&(i+=wo(a))):n>=l?(i+=wo(n+1-l),s&&(a=s-n-1)>0&&(i=i+"."+wo(a))):((a=n+1)<l&&(i=i.slice(0,a)+"."+i.slice(a)),s&&(a=s-l)>0&&(n+1===l&&(i+="."),i+=wo(a))),e.s<0?"-"+i:i}function c8(e,r){if(e.length>r)return e.length=r,!0}function $L(e){var r,s,a;function n(i){var l=this;if(!(l instanceof n))return new n(i);if(l.constructor=n,i instanceof n){l.s=i.s,l.e=i.e,l.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Kc+i);if(i>0)l.s=1;else if(i<0)i=-i,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(i===~~i&&i<1e7){l.e=0,l.d=[i];return}return o8(l,i.toString())}else if(typeof i!="string")throw Error(Kc+i);if(i.charCodeAt(0)===45?(i=i.slice(1),l.s=-1):l.s=1,Jde.test(i))o8(l,i);else throw Error(Kc+i)}if(n.prototype=Nt,n.ROUND_UP=0,n.ROUND_DOWN=1,n.ROUND_CEIL=2,n.ROUND_FLOOR=3,n.ROUND_HALF_UP=4,n.ROUND_HALF_DOWN=5,n.ROUND_HALF_EVEN=6,n.ROUND_HALF_CEIL=7,n.ROUND_HALF_FLOOR=8,n.clone=$L,n.config=n.set=Qde,e===void 0&&(e={}),e)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],r=0;r<a.length;)e.hasOwnProperty(s=a[r++])||(e[s]=this[s]);return n.config(e),n}function Qde(e){if(!e||typeof e!="object")throw Error(ii+"Object expected");var r,s,a,n=["precision",1,wm,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(r=0;r<n.length;r+=3)if((a=e[s=n[r]])!==void 0)if(Nm(a)===a&&a>=n[r+1]&&a<=n[r+2])this[s]=a;else throw Error(Kc+s+": "+a);if((a=e[s="LN10"])!==void 0)if(a==Math.LN10)this[s]=new this(a);else throw Error(Kc+s+": "+a);return this}var g3=$L(Xde);fn=new g3(1);const hr=g3;var Zde=e=>e,zL={},UL=e=>e===zL,d8=e=>function r(){return arguments.length===0||arguments.length===1&&UL(arguments.length<=0?void 0:arguments[0])?r:e(...arguments)},HL=(e,r)=>e===1?r:d8(function(){for(var s=arguments.length,a=new Array(s),n=0;n<s;n++)a[n]=arguments[n];var i=a.filter(l=>l!==zL).length;return i>=e?r(...a):HL(e-i,d8(function(){for(var l=arguments.length,o=new Array(l),c=0;c<l;c++)o[c]=arguments[c];var d=a.map(u=>UL(u)?o.shift():u);return r(...d,...o)}))}),fb=e=>HL(e.length,e),ew=(e,r)=>{for(var s=[],a=e;a<r;++a)s[a-e]=a;return s},eue=fb((e,r)=>Array.isArray(r)?r.map(e):Object.keys(r).map(s=>r[s]).map(e)),tue=function(){for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];if(!s.length)return Zde;var n=s.reverse(),i=n[0],l=n.slice(1);return function(){return l.reduce((o,c)=>c(o),i(...arguments))}},tw=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),VL=e=>{var r=null,s=null;return function(){for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return r&&n.every((l,o)=>{var c;return l===((c=r)===null||c===void 0?void 0:c[o])})||(r=n,s=e(...n)),s}};function WL(e){var r;return e===0?r=1:r=Math.floor(new hr(e).abs().log(10).toNumber())+1,r}function GL(e,r,s){for(var a=new hr(e),n=0,i=[];a.lt(r)&&n<1e5;)i.push(a.toNumber()),a=a.add(s),n++;return i}fb((e,r,s)=>{var a=+e,n=+r;return a+s*(n-a)});fb((e,r,s)=>{var a=r-+e;return a=a||1/0,(s-e)/a});fb((e,r,s)=>{var a=r-+e;return a=a||1/0,Math.max(0,Math.min(1,(s-e)/a))});var qL=e=>{var[r,s]=e,[a,n]=[r,s];return r>s&&([a,n]=[s,r]),[a,n]},KL=(e,r,s)=>{if(e.lte(0))return new hr(0);var a=WL(e.toNumber()),n=new hr(10).pow(a),i=e.div(n),l=a!==1?.05:.1,o=new hr(Math.ceil(i.div(l).toNumber())).add(s).mul(l),c=o.mul(n);return r?new hr(c.toNumber()):new hr(Math.ceil(c.toNumber()))},rue=(e,r,s)=>{var a=new hr(1),n=new hr(e);if(!n.isint()&&s){var i=Math.abs(e);i<1?(a=new hr(10).pow(WL(e)-1),n=new hr(Math.floor(n.div(a).toNumber())).mul(a)):i>1&&(n=new hr(Math.floor(e)))}else e===0?n=new hr(Math.floor((r-1)/2)):s||(n=new hr(Math.floor(e)));var l=Math.floor((r-1)/2),o=tue(eue(c=>n.add(new hr(c-l).mul(a)).toNumber()),ew);return o(0,r)},YL=function(r,s,a,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((s-r)/(a-1)))return{step:new hr(0),tickMin:new hr(0),tickMax:new hr(0)};var l=KL(new hr(s).sub(r).div(a-1),n,i),o;r<=0&&s>=0?o=new hr(0):(o=new hr(r).add(s).div(2),o=o.sub(new hr(o).mod(l)));var c=Math.ceil(o.sub(r).div(l).toNumber()),d=Math.ceil(new hr(s).sub(o).div(l).toNumber()),u=c+d+1;return u>a?YL(r,s,a,n,i+1):(u<a&&(d=s>0?d+(a-u):d,c=s>0?c:c+(a-u)),{step:l,tickMin:o.sub(new hr(c).mul(l)),tickMax:o.add(new hr(d).mul(l))})};function sue(e){var[r,s]=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(a,2),[l,o]=qL([r,s]);if(l===-1/0||o===1/0){var c=o===1/0?[l,...ew(0,a-1).map(()=>1/0)]:[...ew(0,a-1).map(()=>-1/0),o];return r>s?tw(c):c}if(l===o)return rue(l,a,n);var{step:d,tickMin:u,tickMax:m}=YL(l,o,i,n,0),x=GL(u,m.add(new hr(.1).mul(d)),d);return r>s?tw(x):x}function aue(e,r){var[s,a]=e,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,l]=qL([s,a]);if(i===-1/0||l===1/0)return[s,a];if(i===l)return[i];var o=Math.max(r,2),c=KL(new hr(l).sub(i).div(o-1),n,0),d=[...GL(new hr(i),new hr(l),c),l];return n===!1&&(d=d.map(u=>Math.round(u))),s>a?tw(d):d}var nue=VL(sue),iue=VL(aue),XL=e=>e.rootProps.maxBarSize,lue=e=>e.rootProps.barGap,JL=e=>e.rootProps.barCategoryGap,oue=e=>e.rootProps.barSize,cx=e=>e.rootProps.stackOffset,y3=e=>e.options.chartName,b3=e=>e.rootProps.syncId,QL=e=>e.rootProps.syncMethod,v3=e=>e.options.eventEmitter,cue=e=>e.rootProps.baseValue,xs={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},ml={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},un={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},gb=(e,r)=>{if(!(!e||!r))return e!=null&&e.reversed?[r[1],r[0]]:r},due={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ml.angleAxisId,includeHidden:!1,name:void 0,reversed:ml.reversed,scale:ml.scale,tick:ml.tick,tickCount:void 0,ticks:void 0,type:ml.type,unit:void 0},uue={allowDataOverflow:un.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:un.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:un.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:un.scale,tick:un.tick,tickCount:un.tickCount,ticks:void 0,type:un.type,unit:void 0},mue={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:ml.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ml.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ml.scale,tick:ml.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},hue={allowDataOverflow:un.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:un.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:un.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:un.scale,tick:un.tick,tickCount:un.tickCount,ticks:void 0,type:"category",unit:void 0},j3=(e,r)=>e.polarAxis.angleAxis[r]!=null?e.polarAxis.angleAxis[r]:e.layout.layoutType==="radial"?mue:due,w3=(e,r)=>e.polarAxis.radiusAxis[r]!=null?e.polarAxis.radiusAxis[r]:e.layout.layoutType==="radial"?hue:uue,yb=e=>e.polarOptions,N3=we([eo,to,Ls],qM),ZL=we([yb,N3],(e,r)=>{if(e!=null)return ya(e.innerRadius,r,0)}),eF=we([yb,N3],(e,r)=>{if(e!=null)return ya(e.outerRadius,r,r*.8)}),xue=e=>{if(e==null)return[0,0];var{startAngle:r,endAngle:s}=e;return[r,s]},tF=we([yb],xue);we([j3,tF],gb);var rF=we([N3,ZL,eF],(e,r,s)=>{if(!(e==null||r==null||s==null))return[r,s]});we([w3,rF],gb);var sF=we([Kt,yb,ZL,eF,eo,to],(e,r,s,a,n,i)=>{if(!(e!=="centric"&&e!=="radial"||r==null||s==null||a==null)){var{cx:l,cy:o,startAngle:c,endAngle:d}=r;return{cx:ya(l,n,n/2),cy:ya(o,i,i/2),innerRadius:s,outerRadius:a,startAngle:c,endAngle:d,clockWise:!1}}}),Hr=(e,r)=>r,dx=(e,r,s)=>s;function bb(e){return e==null?void 0:e.id}function aF(e,r,s){var{chartData:a=[]}=r,{allowDuplicatedCategory:n,dataKey:i}=s,l=new Map;return e.forEach(o=>{var c,d=(c=o.data)!==null&&c!==void 0?c:a;if(!(d==null||d.length===0)){var u=bb(o);d.forEach((m,x)=>{var h=i==null||n?x:String(br(m,i,null)),p=br(m,o.dataKey,0),f;l.has(h)?f=l.get(h):f={},Object.assign(f,{[u]:p}),l.set(h,f)})}}),Array.from(l.values())}function vb(e){return e.stackId!=null&&e.dataKey!=null}var jb=(e,r)=>e===r?!0:e==null||r==null?!1:e[0]===r[0]&&e[1]===r[1];function wb(e,r){return Array.isArray(e)&&Array.isArray(r)&&e.length===0&&r.length===0?!0:e===r}function pue(e,r){if(e.length===r.length){for(var s=0;s<e.length;s++)if(e[s]!==r[s])return!1;return!0}return!1}var Rs=e=>{var r=Kt(e);return r==="horizontal"?"xAxis":r==="vertical"?"yAxis":r==="centric"?"angleAxis":"radiusAxis"},Sm=e=>e.tooltip.settings.axisId;function u8(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Sg(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?u8(Object(s),!0).forEach(function(a){fue(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):u8(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function fue(e,r,s){return(r=gue(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function gue(e){var r=yue(e,"string");return typeof r=="symbol"?r:r+""}function yue(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var rw=[0,"auto"],ln={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},nF=(e,r)=>e.cartesianAxis.xAxis[r],ao=(e,r)=>{var s=nF(e,r);return s??ln},on={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:rw,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:sx},iF=(e,r)=>e.cartesianAxis.yAxis[r],no=(e,r)=>{var s=iF(e,r);return s??on},bue={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},S3=(e,r)=>{var s=e.cartesianAxis.zAxis[r];return s??bue},Xr=(e,r,s)=>{switch(r){case"xAxis":return ao(e,s);case"yAxis":return no(e,s);case"zAxis":return S3(e,s);case"angleAxis":return j3(e,s);case"radiusAxis":return w3(e,s);default:throw new Error("Unexpected axis type: ".concat(r))}},vue=(e,r,s)=>{switch(r){case"xAxis":return ao(e,s);case"yAxis":return no(e,s);default:throw new Error("Unexpected axis type: ".concat(r))}},ux=(e,r,s)=>{switch(r){case"xAxis":return ao(e,s);case"yAxis":return no(e,s);case"angleAxis":return j3(e,s);case"radiusAxis":return w3(e,s);default:throw new Error("Unexpected axis type: ".concat(r))}},lF=e=>e.graphicalItems.cartesianItems.some(r=>r.type==="bar")||e.graphicalItems.polarItems.some(r=>r.type==="radialBar");function k3(e,r){return s=>{switch(e){case"xAxis":return"xAxisId"in s&&s.xAxisId===r;case"yAxis":return"yAxisId"in s&&s.yAxisId===r;case"zAxis":return"zAxisId"in s&&s.zAxisId===r;case"angleAxis":return"angleAxisId"in s&&s.angleAxisId===r;case"radiusAxis":return"radiusAxisId"in s&&s.radiusAxisId===r;default:return!1}}}var mx=e=>e.graphicalItems.cartesianItems,jue=we([Hr,dx],k3),C3=(e,r,s)=>e.filter(s).filter(a=>(r==null?void 0:r.includeHidden)===!0?!0:!a.hide),hx=we([mx,Xr,jue],C3,{memoizeOptions:{resultEqualityCheck:wb}}),oF=we([hx],e=>e.filter(r=>r.type==="area"||r.type==="bar").filter(vb)),cF=e=>e.filter(r=>!("stackId"in r)||r.stackId===void 0),wue=we([hx],cF),P3=e=>e.map(r=>r.data).filter(Boolean).flat(1),Nue=we([hx],P3,{memoizeOptions:{resultEqualityCheck:wb}}),A3=(e,r)=>{var{chartData:s=[],dataStartIndex:a,dataEndIndex:n}=r;return e.length>0?e:s.slice(a,n+1)},T3=we([Nue,ox],A3),E3=(e,r,s)=>(r==null?void 0:r.dataKey)!=null?e.map(a=>({value:br(a,r.dataKey)})):s.length>0?s.map(a=>a.dataKey).flatMap(a=>e.map(n=>({value:br(n,a)}))):e.map(a=>({value:a})),Nb=we([T3,Xr,hx],E3);function dF(e,r){switch(e){case"xAxis":return r.direction==="x";case"yAxis":return r.direction==="y";default:return!1}}function Jp(e){if(tl(e)||e instanceof Date){var r=Number(e);if(Fr(r))return r}}function m8(e){if(Array.isArray(e)){var r=[Jp(e[0]),Jp(e[1])];return pd(r)?r:void 0}var s=Jp(e);if(s!=null)return[s,s]}function Gl(e){return e.map(Jp).filter(Xse)}function Sue(e,r,s){return!s||typeof r!="number"||ai(r)?[]:s.length?Gl(s.flatMap(a=>{var n=br(e,a.dataKey),i,l;if(Array.isArray(n)?[i,l]=n:i=l=n,!(!Fr(i)||!Fr(l)))return[r-i,r+l]})):[]}var Bs=e=>{var r=Rs(e),s=Sm(e);return ux(e,r,s)},uF=we([Bs],e=>e==null?void 0:e.dataKey),kue=we([oF,ox,Bs],aF),mF=(e,r,s)=>{var a={},n=r.reduce((i,l)=>(l.stackId==null||(i[l.stackId]==null&&(i[l.stackId]=[]),i[l.stackId].push(l)),i),a);return Object.fromEntries(Object.entries(n).map(i=>{var[l,o]=i,c=o.map(bb);return[l,{stackedData:cie(e,c,s),graphicalItems:o}]}))},j0=we([kue,oF,cx],mF),hF=(e,r,s,a)=>{var{dataStartIndex:n,dataEndIndex:i}=r;if(a==null&&s!=="zAxis"){var l=hie(e,n,i);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},Cue=we([Xr],e=>e.allowDataOverflow),I3=e=>{var r;if(e==null||!("domain"in e))return rw;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var s=Gl(e.ticks);return[Math.min(...s),Math.max(...s)]}if(e.type==="category")return e.ticks.map(String)}return(r=e==null?void 0:e.domain)!==null&&r!==void 0?r:rw},_3=we([Xr],I3),O3=we([_3,Cue],ML),Pue=we([j0,hc,Hr,O3],hF,{memoizeOptions:{resultEqualityCheck:jb}}),Sb=e=>e.errorBars,Aue=(e,r,s)=>e.flatMap(a=>r[a.id]).filter(Boolean).filter(a=>dF(s,a)),kg=function(){for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];var n=s.filter(Boolean);if(n.length!==0){var i=n.flat(),l=Math.min(...i),o=Math.max(...i);return[l,o]}},D3=(e,r,s,a,n)=>{var i,l;if(s.length>0&&e.forEach(o=>{s.forEach(c=>{var d,u,m=(d=a[c.id])===null||d===void 0?void 0:d.filter(j=>dF(n,j)),x=br(o,(u=r.dataKey)!==null&&u!==void 0?u:c.dataKey),h=Sue(o,x,m);if(h.length>=2){var p=Math.min(...h),f=Math.max(...h);(i==null||p<i)&&(i=p),(l==null||f>l)&&(l=f)}var b=m8(x);b!=null&&(i=i==null?b[0]:Math.min(i,b[0]),l=l==null?b[1]:Math.max(l,b[1]))})}),(r==null?void 0:r.dataKey)!=null&&e.forEach(o=>{var c=m8(br(o,r.dataKey));c!=null&&(i=i==null?c[0]:Math.min(i,c[0]),l=l==null?c[1]:Math.max(l,c[1]))}),Fr(i)&&Fr(l))return[i,l]},Tue=we([T3,Xr,wue,Sb,Hr],D3,{memoizeOptions:{resultEqualityCheck:jb}});function Eue(e){var{value:r}=e;if(tl(r)||r instanceof Date)return r}var Iue=(e,r,s)=>{var a=e.map(Eue).filter(n=>n!=null);return s&&(r.dataKey==null||r.allowDuplicatedCategory&&gD(a))?eL(0,e.length):r.allowDuplicatedCategory?a:Array.from(new Set(a))},xF=e=>e.referenceElements.dots,km=(e,r,s)=>e.filter(a=>a.ifOverflow==="extendDomain").filter(a=>r==="xAxis"?a.xAxisId===s:a.yAxisId===s),_ue=we([xF,Hr,dx],km),pF=e=>e.referenceElements.areas,Oue=we([pF,Hr,dx],km),fF=e=>e.referenceElements.lines,Due=we([fF,Hr,dx],km),gF=(e,r)=>{var s=Gl(e.map(a=>r==="xAxis"?a.x:a.y));if(s.length!==0)return[Math.min(...s),Math.max(...s)]},Mue=we(_ue,Hr,gF),yF=(e,r)=>{var s=Gl(e.flatMap(a=>[r==="xAxis"?a.x1:a.y1,r==="xAxis"?a.x2:a.y2]));if(s.length!==0)return[Math.min(...s),Math.max(...s)]},Lue=we([Oue,Hr],yF);function Fue(e){var r;if(e.x!=null)return Gl([e.x]);var s=(r=e.segment)===null||r===void 0?void 0:r.map(a=>a.x);return s==null||s.length===0?[]:Gl(s)}function Rue(e){var r;if(e.y!=null)return Gl([e.y]);var s=(r=e.segment)===null||r===void 0?void 0:r.map(a=>a.y);return s==null||s.length===0?[]:Gl(s)}var bF=(e,r)=>{var s=e.flatMap(a=>r==="xAxis"?Fue(a):Rue(a));if(s.length!==0)return[Math.min(...s),Math.max(...s)]},Bue=we([Due,Hr],bF),$ue=we(Mue,Bue,Lue,(e,r,s)=>kg(e,s,r)),M3=(e,r,s,a,n,i,l,o)=>{if(s!=null)return s;var c=l==="vertical"&&o==="xAxis"||l==="horizontal"&&o==="yAxis",d=c?kg(a,i,n):kg(i,n);return Yde(r,d,e.allowDataOverflow)},zue=we([Xr,_3,O3,Pue,Tue,$ue,Kt,Hr],M3,{memoizeOptions:{resultEqualityCheck:jb}}),Uue=[0,1],L3=(e,r,s,a,n,i,l)=>{if(!((e==null||s==null||s.length===0)&&l===void 0)){var{dataKey:o,type:c}=e,d=ol(r,i);if(d&&o==null){var u;return eL(0,(u=s==null?void 0:s.length)!==null&&u!==void 0?u:0)}return c==="category"?Iue(a,e,d):n==="expand"?Uue:l}},F3=we([Xr,Kt,T3,Nb,cx,Hr,zue],L3),vF=(e,r,s,a,n)=>{if(e!=null){var{scale:i,type:l}=e;if(i==="auto")return r==="radial"&&n==="radiusAxis"?"band":r==="radial"&&n==="angleAxis"?"linear":l==="category"&&a&&(a.indexOf("LineChart")>=0||a.indexOf("AreaChart")>=0||a.indexOf("ComposedChart")>=0&&!s)?"point":l==="category"?"band":"linear";if(typeof i=="string"){var o="scale".concat(Z0(i));return o in xh?o:"point"}}},Cm=we([Xr,Kt,lF,y3,Hr],vF);function Hue(e){if(e!=null){if(e in xh)return xh[e]();var r="scale".concat(Z0(e));if(r in xh)return xh[r]()}}function R3(e,r,s,a){if(!(s==null||a==null)){if(typeof e.scale=="function")return e.scale.copy().domain(s).range(a);var n=Hue(r);if(n!=null){var i=n.domain(s).range(a);return aie(i),i}}}var B3=(e,r,s)=>{var a=I3(r);if(!(s!=="auto"&&s!=="linear")){if(r!=null&&r.tickCount&&Array.isArray(a)&&(a[0]==="auto"||a[1]==="auto")&&pd(e))return nue(e,r.tickCount,r.allowDecimals);if(r!=null&&r.tickCount&&r.type==="number"&&pd(e))return iue(e,r.tickCount,r.allowDecimals)}},$3=we([F3,ux,Cm],B3),z3=(e,r,s,a)=>{if(a!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&pd(r)&&Array.isArray(s)&&s.length>0){var n=r[0],i=s[0],l=r[1],o=s[s.length-1];return[Math.min(n,i),Math.max(l,o)]}return r},Vue=we([Xr,F3,$3,Hr],z3),Wue=we(Nb,Xr,(e,r)=>{if(!(!r||r.type!=="number")){var s=1/0,a=Array.from(Gl(e.map(o=>o.value))).sort((o,c)=>o-c);if(a.length<2)return 1/0;var n=a[a.length-1]-a[0];if(n===0)return 1/0;for(var i=0;i<a.length-1;i++){var l=a[i+1]-a[i];s=Math.min(s,l)}return s/n}}),jF=we(Wue,Kt,JL,Ls,(e,r,s,a)=>a,(e,r,s,a,n)=>{if(!Fr(e))return 0;var i=r==="vertical"?a.height:a.width;if(n==="gap")return e*i/2;if(n==="no-gap"){var l=ya(s,e*i),o=e*i/2;return o-l-(o-l)/i*l}return 0}),Gue=(e,r)=>{var s=ao(e,r);return s==null||typeof s.padding!="string"?0:jF(e,"xAxis",r,s.padding)},que=(e,r)=>{var s=no(e,r);return s==null||typeof s.padding!="string"?0:jF(e,"yAxis",r,s.padding)},Kue=we(ao,Gue,(e,r)=>{var s,a;if(e==null)return{left:0,right:0};var{padding:n}=e;return typeof n=="string"?{left:r,right:r}:{left:((s=n.left)!==null&&s!==void 0?s:0)+r,right:((a=n.right)!==null&&a!==void 0?a:0)+r}}),Yue=we(no,que,(e,r)=>{var s,a;if(e==null)return{top:0,bottom:0};var{padding:n}=e;return typeof n=="string"?{top:r,bottom:r}:{top:((s=n.top)!==null&&s!==void 0?s:0)+r,bottom:((a=n.bottom)!==null&&a!==void 0?a:0)+r}}),Xue=we([Ls,Kue,lb,ib,(e,r,s)=>s],(e,r,s,a,n)=>{var{padding:i}=a;return n?[i.left,s.width-i.right]:[e.left+r.left,e.left+e.width-r.right]}),Jue=we([Ls,Kt,Yue,lb,ib,(e,r,s)=>s],(e,r,s,a,n,i)=>{var{padding:l}=n;return i?[a.height-l.bottom,l.top]:r==="horizontal"?[e.top+e.height-s.bottom,e.top+s.top]:[e.top+s.top,e.top+e.height-s.bottom]}),xx=(e,r,s,a)=>{var n;switch(r){case"xAxis":return Xue(e,s,a);case"yAxis":return Jue(e,s,a);case"zAxis":return(n=S3(e,s))===null||n===void 0?void 0:n.range;case"angleAxis":return tF(e);case"radiusAxis":return rF(e,s);default:return}},wF=we([Xr,xx],gb),Pm=we([Xr,Cm,Vue,wF],R3);we([hx,Sb,Hr],Aue);function NF(e,r){return e.id<r.id?-1:e.id>r.id?1:0}var kb=(e,r)=>r,Cb=(e,r,s)=>s,Que=we(ab,kb,Cb,(e,r,s)=>e.filter(a=>a.orientation===r).filter(a=>a.mirror===s).sort(NF)),Zue=we(nb,kb,Cb,(e,r,s)=>e.filter(a=>a.orientation===r).filter(a=>a.mirror===s).sort(NF)),SF=(e,r)=>({width:e.width,height:r.height}),eme=(e,r)=>{var s=typeof r.width=="number"?r.width:sx;return{width:s,height:e.height}},kF=we(Ls,ao,SF),tme=(e,r,s)=>{switch(r){case"top":return e.top;case"bottom":return s-e.bottom;default:return 0}},rme=(e,r,s)=>{switch(r){case"left":return e.left;case"right":return s-e.right;default:return 0}},sme=we(to,Ls,Que,kb,Cb,(e,r,s,a,n)=>{var i={},l;return s.forEach(o=>{var c=SF(r,o);l==null&&(l=tme(r,a,e));var d=a==="top"&&!n||a==="bottom"&&n;i[o.id]=l-Number(d)*c.height,l+=(d?-1:1)*c.height}),i}),ame=we(eo,Ls,Zue,kb,Cb,(e,r,s,a,n)=>{var i={},l;return s.forEach(o=>{var c=eme(r,o);l==null&&(l=rme(r,a,e));var d=a==="left"&&!n||a==="right"&&n;i[o.id]=l-Number(d)*c.width,l+=(d?-1:1)*c.width}),i}),nme=(e,r)=>{var s=ao(e,r);if(s!=null)return sme(e,s.orientation,s.mirror)},ime=we([Ls,ao,nme,(e,r)=>r],(e,r,s,a)=>{if(r!=null){var n=s==null?void 0:s[a];return n==null?{x:e.left,y:0}:{x:e.left,y:n}}}),lme=(e,r)=>{var s=no(e,r);if(s!=null)return ame(e,s.orientation,s.mirror)},ome=we([Ls,no,lme,(e,r)=>r],(e,r,s,a)=>{if(r!=null){var n=s==null?void 0:s[a];return n==null?{x:0,y:e.top}:{x:n,y:e.top}}}),CF=we(Ls,no,(e,r)=>{var s=typeof r.width=="number"?r.width:sx;return{width:s,height:e.height}}),h8=(e,r,s)=>{switch(r){case"xAxis":return kF(e,s).width;case"yAxis":return CF(e,s).height;default:return}},PF=(e,r,s,a)=>{if(s!=null){var{allowDuplicatedCategory:n,type:i,dataKey:l}=s,o=ol(e,a),c=r.map(d=>d.value);if(l&&o&&i==="category"&&n&&gD(c))return c}},U3=we([Kt,Nb,Xr,Hr],PF),AF=(e,r,s,a)=>{if(!(s==null||s.dataKey==null)){var{type:n,scale:i}=s,l=ol(e,a);if(l&&(n==="number"||i!=="auto"))return r.map(o=>o.value)}},H3=we([Kt,Nb,ux,Hr],AF),x8=we([Kt,vue,Cm,Pm,U3,H3,xx,$3,Hr],(e,r,s,a,n,i,l,o,c)=>{if(r!=null){var d=ol(e,c);return{angle:r.angle,interval:r.interval,minTickGap:r.minTickGap,orientation:r.orientation,tick:r.tick,tickCount:r.tickCount,tickFormatter:r.tickFormatter,ticks:r.ticks,type:r.type,unit:r.unit,axisType:c,categoricalDomain:i,duplicateDomain:n,isCategorical:d,niceTicks:o,range:l,realScaleType:s,scale:a}}}),cme=(e,r,s,a,n,i,l,o,c)=>{if(!(r==null||a==null)){var d=ol(e,c),{type:u,ticks:m,tickCount:x}=r,h=s==="scaleBand"&&typeof a.bandwidth=="function"?a.bandwidth()/2:2,p=u==="category"&&a.bandwidth?a.bandwidth()/h:0;p=c==="angleAxis"&&i!=null&&i.length>=2?Vs(i[0]-i[1])*2*p:p;var f=m||n;if(f){var b=f.map((j,w)=>{var y=l?l.indexOf(j):j;return{index:w,coordinate:a(y)+p,value:j,offset:p}});return b.filter(j=>Fr(j.coordinate))}return d&&o?o.map((j,w)=>({coordinate:a(j)+p,value:j,index:w,offset:p})).filter(j=>Fr(j.coordinate)):a.ticks?a.ticks(x).map(j=>({coordinate:a(j)+p,value:j,offset:p})):a.domain().map((j,w)=>({coordinate:a(j)+p,value:l?l[j]:j,index:w,offset:p}))}},TF=we([Kt,ux,Cm,Pm,$3,xx,U3,H3,Hr],cme),dme=(e,r,s,a,n,i,l)=>{if(!(r==null||s==null||a==null||a[0]===a[1])){var o=ol(e,l),{tickCount:c}=r,d=0;return d=l==="angleAxis"&&(a==null?void 0:a.length)>=2?Vs(a[0]-a[1])*2*d:d,o&&i?i.map((u,m)=>({coordinate:s(u)+d,value:u,index:m,offset:d})):s.ticks?s.ticks(c).map(u=>({coordinate:s(u)+d,value:u,offset:d})):s.domain().map((u,m)=>({coordinate:s(u)+d,value:n?n[u]:u,index:m,offset:d}))}},al=we([Kt,ux,Pm,xx,U3,H3,Hr],dme),nl=we(Xr,Pm,(e,r)=>{if(!(e==null||r==null))return Sg(Sg({},e),{},{scale:r})}),ume=we([Xr,Cm,F3,wF],R3);we((e,r,s)=>S3(e,s),ume,(e,r)=>{if(!(e==null||r==null))return Sg(Sg({},e),{},{scale:r})});var mme=we([Kt,ab,nb],(e,r,s)=>{switch(e){case"horizontal":return r.some(a=>a.reversed)?"right-to-left":"left-to-right";case"vertical":return s.some(a=>a.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),EF=e=>e.options.defaultTooltipEventType,IF=e=>e.options.validateTooltipEventTypes;function _F(e,r,s){if(e==null)return r;var a=e?"axis":"item";return s==null?r:s.includes(a)?a:r}function V3(e,r){var s=EF(e),a=IF(e);return _F(r,s,a)}function hme(e){return St(r=>V3(r,e))}var OF=(e,r)=>{var s,a=Number(r);if(!(ai(a)||r==null))return a>=0?e==null||(s=e[a])===null||s===void 0?void 0:s.value:void 0},xme=e=>e.tooltip.settings,Co={active:!1,index:null,dataKey:void 0,coordinate:void 0},pme={itemInteraction:{click:Co,hover:Co},axisInteraction:{click:Co,hover:Co},keyboardInteraction:Co,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},DF=nn({name:"tooltip",initialState:pme,reducers:{addTooltipEntrySettings:{reducer(e,r){e.tooltipItemPayloads.push(r.payload)},prepare:Ds()},removeTooltipEntrySettings:{reducer(e,r){var s=Pl(e).tooltipItemPayloads.indexOf(r.payload);s>-1&&e.tooltipItemPayloads.splice(s,1)},prepare:Ds()},setTooltipSettingsState(e,r){e.settings=r.payload},setActiveMouseOverItemIndex(e,r){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=r.payload.activeIndex,e.itemInteraction.hover.dataKey=r.payload.activeDataKey,e.itemInteraction.hover.coordinate=r.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,r){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=r.payload.activeIndex,e.itemInteraction.click.dataKey=r.payload.activeDataKey,e.itemInteraction.click.coordinate=r.payload.activeCoordinate},setMouseOverAxisIndex(e,r){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=r.payload.activeIndex,e.axisInteraction.hover.dataKey=r.payload.activeDataKey,e.axisInteraction.hover.coordinate=r.payload.activeCoordinate},setMouseClickAxisIndex(e,r){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=r.payload.activeIndex,e.axisInteraction.click.dataKey=r.payload.activeDataKey,e.axisInteraction.click.coordinate=r.payload.activeCoordinate},setSyncInteraction(e,r){e.syncInteraction=r.payload},setKeyboardInteraction(e,r){e.keyboardInteraction.active=r.payload.active,e.keyboardInteraction.index=r.payload.activeIndex,e.keyboardInteraction.coordinate=r.payload.activeCoordinate,e.keyboardInteraction.dataKey=r.payload.activeDataKey}}}),{addTooltipEntrySettings:fme,removeTooltipEntrySettings:gme,setTooltipSettingsState:yme,setActiveMouseOverItemIndex:MF,mouseLeaveItem:bme,mouseLeaveChart:LF,setActiveClickItemIndex:vme,setMouseOverAxisIndex:FF,setMouseClickAxisIndex:jme,setSyncInteraction:sw,setKeyboardInteraction:aw}=DF.actions,wme=DF.reducer;function p8(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function pp(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?p8(Object(s),!0).forEach(function(a){Nme(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):p8(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Nme(e,r,s){return(r=Sme(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Sme(e){var r=kme(e,"string");return typeof r=="symbol"?r:r+""}function kme(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Cme(e,r,s){return r==="axis"?s==="click"?e.axisInteraction.click:e.axisInteraction.hover:s==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Pme(e){return e.index!=null}var RF=(e,r,s,a)=>{if(r==null)return Co;var n=Cme(e,r,s);if(n==null)return Co;if(n.active)return n;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(Pme(n)){if(i)return pp(pp({},n),{},{active:!0})}else if(a!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:a};return pp(pp({},Co),{},{coordinate:n.coordinate})},W3=(e,r)=>{var s=e==null?void 0:e.index;if(s==null)return null;var a=Number(s);if(!Fr(a))return s;var n=0,i=1/0;return r.length>0&&(i=r.length-1),String(Math.max(n,Math.min(a,i)))},BF=(e,r,s,a,n,i,l,o)=>{if(!(i==null||o==null)){var c=l[0],d=c==null?void 0:o(c.positions,i);if(d!=null)return d;var u=n==null?void 0:n[Number(i)];if(u)switch(s){case"horizontal":return{x:u.coordinate,y:(a.top+r)/2};default:return{x:(a.left+e)/2,y:u.coordinate}}}},$F=(e,r,s,a)=>{if(r==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var n;return s==="hover"?n=e.itemInteraction.hover.dataKey:n=e.itemInteraction.click.dataKey,n==null&&a!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var l;return((l=i.settings)===null||l===void 0?void 0:l.dataKey)===n})},px=e=>e.options.tooltipPayloadSearcher,Am=e=>e.tooltip;function f8(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function g8(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?f8(Object(s),!0).forEach(function(a){Ame(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):f8(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Ame(e,r,s){return(r=Tme(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Tme(e){var r=Eme(e,"string");return typeof r=="symbol"?r:r+""}function Eme(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Ime(e,r){return e??r}var zF=(e,r,s,a,n,i,l)=>{if(!(r==null||i==null)){var{chartData:o,computedData:c,dataStartIndex:d,dataEndIndex:u}=s,m=[];return e.reduce((x,h)=>{var p,{dataDefinedOnItem:f,settings:b}=h,j=Ime(f,o),w=Array.isArray(j)?NM(j,d,u):j,y=(p=b==null?void 0:b.dataKey)!==null&&p!==void 0?p:a,v=b==null?void 0:b.nameKey,N;if(a&&Array.isArray(w)&&!Array.isArray(w[0])&&l==="axis"?N=yD(w,a,n):N=i(w,r,c,v),Array.isArray(N))N.forEach(k=>{var C=g8(g8({},b),{},{name:k.name,unit:k.unit,color:void 0,fill:void 0});x.push(JP({tooltipEntrySettings:C,dataKey:k.dataKey,payload:k.payload,value:br(k.payload,k.dataKey),name:k.name}))});else{var S;x.push(JP({tooltipEntrySettings:b,dataKey:y,payload:N,value:br(N,y),name:(S=br(N,v))!==null&&S!==void 0?S:b==null?void 0:b.name}))}return x},m)}},G3=we([Bs,Kt,lF,y3,Rs],vF),_me=we([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,r)=>[...e,...r]),Ome=we([Rs,Sm],k3),fx=we([_me,Bs,Ome],C3,{memoizeOptions:{resultEqualityCheck:wb}}),Dme=we([fx],e=>e.filter(vb)),Mme=we([fx],P3,{memoizeOptions:{resultEqualityCheck:wb}}),Tm=we([Mme,hc],A3),Lme=we([Dme,hc,Bs],aF),q3=we([Tm,Bs,fx],E3),UF=we([Bs],I3),Fme=we([Bs],e=>e.allowDataOverflow),HF=we([UF,Fme],ML),Rme=we([fx],e=>e.filter(vb)),Bme=we([Lme,Rme,cx],mF),$me=we([Bme,hc,Rs,HF],hF),zme=we([fx],cF),Ume=we([Tm,Bs,zme,Sb,Rs],D3,{memoizeOptions:{resultEqualityCheck:jb}}),Hme=we([xF,Rs,Sm],km),Vme=we([Hme,Rs],gF),Wme=we([pF,Rs,Sm],km),Gme=we([Wme,Rs],yF),qme=we([fF,Rs,Sm],km),Kme=we([qme,Rs],bF),Yme=we([Vme,Kme,Gme],kg),Xme=we([Bs,UF,HF,$me,Ume,Yme,Kt,Rs],M3),VF=we([Bs,Kt,Tm,q3,cx,Rs,Xme],L3),Jme=we([VF,Bs,G3],B3),Qme=we([Bs,VF,Jme,Rs],z3),WF=e=>{var r=Rs(e),s=Sm(e),a=!1;return xx(e,r,s,a)},GF=we([Bs,WF],gb),qF=we([Bs,G3,Qme,GF],R3),Zme=we([Kt,q3,Bs,Rs],PF),ehe=we([Kt,q3,Bs,Rs],AF),the=(e,r,s,a,n,i,l,o)=>{if(r){var{type:c}=r,d=ol(e,o);if(a){var u=s==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,m=c==="category"&&a.bandwidth?a.bandwidth()/u:0;return m=o==="angleAxis"&&n!=null&&(n==null?void 0:n.length)>=2?Vs(n[0]-n[1])*2*m:m,d&&l?l.map((x,h)=>({coordinate:a(x)+m,value:x,index:h,offset:m})):a.domain().map((x,h)=>({coordinate:a(x)+m,value:i?i[x]:x,index:h,offset:m}))}}},io=we([Kt,Bs,G3,qF,WF,Zme,ehe,Rs],the),K3=we([EF,IF,xme],(e,r,s)=>_F(s.shared,e,r)),KF=e=>e.tooltip.settings.trigger,Y3=e=>e.tooltip.settings.defaultIndex,Pb=we([Am,K3,KF,Y3],RF),ec=we([Pb,Tm],W3),YF=we([io,ec],OF),XF=we([Pb],e=>{if(e)return e.dataKey}),JF=we([Am,K3,KF,Y3],$F),rhe=we([eo,to,Kt,Ls,io,Y3,JF,px],BF),she=we([Pb,rhe],(e,r)=>e!=null&&e.coordinate?e.coordinate:r),ahe=we([Pb],e=>e.active),nhe=we([JF,ec,hc,uF,YF,px,K3],zF),ihe=we([nhe],e=>{if(e!=null){var r=e.map(s=>s.payload).filter(s=>s!=null);return Array.from(new Set(r))}});function y8(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function b8(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?y8(Object(s),!0).forEach(function(a){lhe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):y8(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function lhe(e,r,s){return(r=ohe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function ohe(e){var r=che(e,"string");return typeof r=="symbol"?r:r+""}function che(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var dhe=()=>St(Bs),uhe=()=>{var e=dhe(),r=St(io),s=St(qF);return Zo(!e||!s?void 0:b8(b8({},e),{},{scale:s}),r)};function v8(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Wd(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?v8(Object(s),!0).forEach(function(a){mhe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):v8(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function mhe(e,r,s){return(r=hhe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function hhe(e){var r=xhe(e,"string");return typeof r=="symbol"?r:r+""}function xhe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var phe=(e,r,s,a)=>{var n=r.find(i=>i&&i.index===s);if(n){if(e==="horizontal")return{x:n.coordinate,y:a.chartY};if(e==="vertical")return{x:a.chartX,y:n.coordinate}}return{x:0,y:0}},fhe=(e,r,s,a)=>{var n=r.find(d=>d&&d.index===s);if(n){if(e==="centric"){var i=n.coordinate,{radius:l}=a;return Wd(Wd(Wd({},a),Cs(a.cx,a.cy,l,i)),{},{angle:i,radius:l})}var o=n.coordinate,{angle:c}=a;return Wd(Wd(Wd({},a),Cs(a.cx,a.cy,o,c)),{},{angle:c,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function ghe(e,r){var{chartX:s,chartY:a}=e;return s>=r.left&&s<=r.left+r.width&&a>=r.top&&a<=r.top+r.height}var QF=(e,r,s,a,n)=>{var i,l=-1,o=(i=r==null?void 0:r.length)!==null&&i!==void 0?i:0;if(o<=1||e==null)return 0;if(a==="angleAxis"&&n!=null&&Math.abs(Math.abs(n[1]-n[0])-360)<=1e-6)for(var c=0;c<o;c++){var d=c>0?s[c-1].coordinate:s[o-1].coordinate,u=s[c].coordinate,m=c>=o-1?s[0].coordinate:s[c+1].coordinate,x=void 0;if(Vs(u-d)!==Vs(m-u)){var h=[];if(Vs(m-u)===Vs(n[1]-n[0])){x=m;var p=u+n[1]-n[0];h[0]=Math.min(p,(p+d)/2),h[1]=Math.max(p,(p+d)/2)}else{x=d;var f=m+n[1]-n[0];h[0]=Math.min(u,(f+u)/2),h[1]=Math.max(u,(f+u)/2)}var b=[Math.min(u,(x+u)/2),Math.max(u,(x+u)/2)];if(e>b[0]&&e<=b[1]||e>=h[0]&&e<=h[1]){({index:l}=s[c]);break}}else{var j=Math.min(d,m),w=Math.max(d,m);if(e>(j+u)/2&&e<=(w+u)/2){({index:l}=s[c]);break}}}else if(r){for(var y=0;y<o;y++)if(y===0&&e<=(r[y].coordinate+r[y+1].coordinate)/2||y>0&&y<o-1&&e>(r[y].coordinate+r[y-1].coordinate)/2&&e<=(r[y].coordinate+r[y+1].coordinate)/2||y===o-1&&e>(r[y].coordinate+r[y-1].coordinate)/2){({index:l}=r[y]);break}}return l},ZF=()=>St(y3),X3=(e,r)=>r,eR=(e,r,s)=>s,J3=(e,r,s,a)=>a,yhe=we(io,e=>Qy(e,r=>r.coordinate)),Q3=we([Am,X3,eR,J3],RF),tR=we([Q3,Tm],W3),bhe=(e,r,s)=>{if(r!=null){var a=Am(e);return r==="axis"?s==="hover"?a.axisInteraction.hover.dataKey:a.axisInteraction.click.dataKey:s==="hover"?a.itemInteraction.hover.dataKey:a.itemInteraction.click.dataKey}},rR=we([Am,X3,eR,J3],$F),Cg=we([eo,to,Kt,Ls,io,J3,rR,px],BF),vhe=we([Q3,Cg],(e,r)=>{var s;return(s=e.coordinate)!==null&&s!==void 0?s:r}),sR=we([io,tR],OF),jhe=we([rR,tR,hc,uF,sR,px,X3],zF),whe=we([Q3],e=>({isActive:e.active,activeIndex:e.index})),Nhe=(e,r,s,a,n,i,l)=>{if(!(!e||!s||!a||!n)&&ghe(e,l)){var o=xie(e,r),c=QF(o,i,n,s,a),d=phe(r,n,c,e);return{activeIndex:String(c),activeCoordinate:d}}},She=(e,r,s,a,n,i,l)=>{if(!(!e||!a||!n||!i||!s)){var o=poe(e,s);if(o){var c=pie(o,r),d=QF(c,l,i,a,n),u=fhe(r,i,d,o);return{activeIndex:String(d),activeCoordinate:u}}}},khe=(e,r,s,a,n,i,l,o)=>{if(!(!e||!r||!a||!n||!i))return r==="horizontal"||r==="vertical"?Nhe(e,r,a,n,i,l,o):She(e,r,s,a,n,i,l)},Che=we(e=>e.zIndex.zIndexMap,(e,r)=>r,(e,r,s)=>s,(e,r,s)=>{if(r!=null){var a=e[r];if(a!=null)return s?a.panoramaElementId:a.elementId}}),Phe=we(e=>e.zIndex.zIndexMap,e=>{var r=Object.keys(e).map(a=>parseInt(a,10)).concat(Object.values(xs)),s=Array.from(new Set(r));return s.sort((a,n)=>a-n)},{memoizeOptions:{resultEqualityCheck:pue}});function j8(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function w8(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?j8(Object(s),!0).forEach(function(a){Ahe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):j8(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Ahe(e,r,s){return(r=The(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function The(e){var r=Ehe(e,"string");return typeof r=="symbol"?r:r+""}function Ehe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Ihe={},_he={zIndexMap:Object.values(xs).reduce((e,r)=>w8(w8({},e),{},{[r]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),Ihe)},Ohe=new Set(Object.values(xs));function Dhe(e){return Ohe.has(e)}var aR=nn({name:"zIndex",initialState:_he,reducers:{registerZIndexPortal:{reducer:(e,r)=>{var{zIndex:s}=r.payload;e.zIndexMap[s]?e.zIndexMap[s].consumers+=1:e.zIndexMap[s]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:Ds()},unregisterZIndexPortal:{reducer:(e,r)=>{var{zIndex:s}=r.payload;e.zIndexMap[s]&&(e.zIndexMap[s].consumers-=1,e.zIndexMap[s].consumers<=0&&!Dhe(s)&&delete e.zIndexMap[s])},prepare:Ds()},registerZIndexPortalId:{reducer:(e,r)=>{var{zIndex:s,elementId:a,isPanorama:n}=r.payload;e.zIndexMap[s]?n?e.zIndexMap[s].panoramaElementId=a:e.zIndexMap[s].elementId=a:e.zIndexMap[s]={consumers:0,elementId:n?void 0:a,panoramaElementId:n?a:void 0}},prepare:Ds()},unregisterZIndexPortalId:{reducer:(e,r)=>{var{zIndex:s}=r.payload;e.zIndexMap[s]&&(r.payload.isPanorama?e.zIndexMap[s].panoramaElementId=void 0:e.zIndexMap[s].elementId=void 0)},prepare:Ds()}}}),{registerZIndexPortal:Mhe,unregisterZIndexPortal:Lhe,registerZIndexPortalId:Fhe,unregisterZIndexPortalId:Rhe}=aR.actions,Bhe=aR.reducer;function Ba(e){var{zIndex:r,children:s}=e,a=Uie(),n=a&&r!==void 0&&r!==0,i=Ks(),l=Er();g.useLayoutEffect(()=>n?(l(Mhe({zIndex:r})),()=>{l(Lhe({zIndex:r}))}):Id,[l,r,n]);var o=St(d=>Che(d,r,i));if(!n)return s;if(!o)return null;var c=document.getElementById(o);return c?by.createPortal(s,c):null}function nw(){return nw=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},nw.apply(null,arguments)}function N8(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function fp(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?N8(Object(s),!0).forEach(function(a){$he(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):N8(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function $he(e,r,s){return(r=zhe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function zhe(e){var r=Uhe(e,"string");return typeof r=="symbol"?r:r+""}function Uhe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Hhe(e){var{cursor:r,cursorComp:s,cursorProps:a}=e;return g.isValidElement(r)?g.cloneElement(r,a):g.createElement(s,a)}function Vhe(e){var r,{coordinate:s,payload:a,index:n,offset:i,tooltipAxisBandSize:l,layout:o,cursor:c,tooltipEventType:d,chartName:u}=e,m=s,x=a,h=n;if(!c||!m||u!=="ScatterChart"&&d!=="axis")return null;var p,f,b;if(u==="ScatterChart")p=m,f=Ile,b=xs.cursorLine;else if(u==="BarChart")p=_le(o,m,i,l),f=GM,b=xs.cursorRectangle;else if(o==="radial"&&vD(m)){var{cx:j,cy:w,radius:y,startAngle:v,endAngle:N}=KM(m);p={cx:j,cy:w,startAngle:v,endAngle:N,innerRadius:y,outerRadius:y},f=XM,b=xs.cursorLine}else p={points:boe(o,m,i)},f=Iu,b=xs.cursorLine;var S=typeof c=="object"&&"className"in c?c.className:void 0,k=fp(fp(fp(fp({stroke:"#ccc",pointerEvents:"none"},i),p),ud(c)),{},{payload:x,payloadIndex:h,className:ar("recharts-tooltip-cursor",S)});return g.createElement(Ba,{zIndex:(r=e.zIndex)!==null&&r!==void 0?r:b},g.createElement(Hhe,{cursor:c,cursorComp:f,cursorProps:k}))}function Whe(e){var r=uhe(),s=FM(),a=ym(),n=ZF();return r==null||s==null||a==null||n==null?null:g.createElement(Vhe,nw({},e,{offset:s,layout:a,tooltipAxisBandSize:r,chartName:n}))}var nR=g.createContext(null),Ghe=()=>g.useContext(nR),iR={exports:{}};(function(e){var r=Object.prototype.hasOwnProperty,s="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(s=!1));function n(c,d,u){this.fn=c,this.context=d,this.once=u||!1}function i(c,d,u,m,x){if(typeof u!="function")throw new TypeError("The listener must be a function");var h=new n(u,m||c,x),p=s?s+d:d;return c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],h]:c._events[p].push(h):(c._events[p]=h,c._eventsCount++),c}function l(c,d){--c._eventsCount===0?c._events=new a:delete c._events[d]}function o(){this._events=new a,this._eventsCount=0}o.prototype.eventNames=function(){var d=[],u,m;if(this._eventsCount===0)return d;for(m in u=this._events)r.call(u,m)&&d.push(s?m.slice(1):m);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(u)):d},o.prototype.listeners=function(d){var u=s?s+d:d,m=this._events[u];if(!m)return[];if(m.fn)return[m.fn];for(var x=0,h=m.length,p=new Array(h);x<h;x++)p[x]=m[x].fn;return p},o.prototype.listenerCount=function(d){var u=s?s+d:d,m=this._events[u];return m?m.fn?1:m.length:0},o.prototype.emit=function(d,u,m,x,h,p){var f=s?s+d:d;if(!this._events[f])return!1;var b=this._events[f],j=arguments.length,w,y;if(b.fn){switch(b.once&&this.removeListener(d,b.fn,void 0,!0),j){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,u),!0;case 3:return b.fn.call(b.context,u,m),!0;case 4:return b.fn.call(b.context,u,m,x),!0;case 5:return b.fn.call(b.context,u,m,x,h),!0;case 6:return b.fn.call(b.context,u,m,x,h,p),!0}for(y=1,w=new Array(j-1);y<j;y++)w[y-1]=arguments[y];b.fn.apply(b.context,w)}else{var v=b.length,N;for(y=0;y<v;y++)switch(b[y].once&&this.removeListener(d,b[y].fn,void 0,!0),j){case 1:b[y].fn.call(b[y].context);break;case 2:b[y].fn.call(b[y].context,u);break;case 3:b[y].fn.call(b[y].context,u,m);break;case 4:b[y].fn.call(b[y].context,u,m,x);break;default:if(!w)for(N=1,w=new Array(j-1);N<j;N++)w[N-1]=arguments[N];b[y].fn.apply(b[y].context,w)}}return!0},o.prototype.on=function(d,u,m){return i(this,d,u,m,!1)},o.prototype.once=function(d,u,m){return i(this,d,u,m,!0)},o.prototype.removeListener=function(d,u,m,x){var h=s?s+d:d;if(!this._events[h])return this;if(!u)return l(this,h),this;var p=this._events[h];if(p.fn)p.fn===u&&(!x||p.once)&&(!m||p.context===m)&&l(this,h);else{for(var f=0,b=[],j=p.length;f<j;f++)(p[f].fn!==u||x&&!p[f].once||m&&p[f].context!==m)&&b.push(p[f]);b.length?this._events[h]=b.length===1?b[0]:b:l(this,h)}return this},o.prototype.removeAllListeners=function(d){var u;return d?(u=s?s+d:d,this._events[u]&&l(this,u)):(this._events=new a,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=s,o.EventEmitter=o,e.exports=o})(iR);var qhe=iR.exports;const Khe=li(qhe);var w0=new Khe,iw="recharts.syncEvent.tooltip",S8="recharts.syncEvent.brush";function Ab(e,r){if(r){var s=Number.parseInt(r,10);if(!ai(s))return e==null?void 0:e[s]}}var Yhe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},lR=nn({name:"options",initialState:Yhe,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Xhe=lR.reducer,{createEventEmitter:Jhe}=lR.actions;function Qhe(e){return e.tooltip.syncInteraction}var Zhe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},oR=nn({name:"chartData",initialState:Zhe,reducers:{setChartData(e,r){if(e.chartData=r.payload,r.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}r.payload.length>0&&e.dataEndIndex!==r.payload.length-1&&(e.dataEndIndex=r.payload.length-1)},setComputedData(e,r){e.computedData=r.payload},setDataStartEndIndexes(e,r){var{startIndex:s,endIndex:a}=r.payload;s!=null&&(e.dataStartIndex=s),a!=null&&(e.dataEndIndex=a)}}}),{setChartData:k8,setDataStartEndIndexes:e0e,setComputedData:GSe}=oR.actions,t0e=oR.reducer,r0e=["x","y"];function C8(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Gd(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?C8(Object(s),!0).forEach(function(a){s0e(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):C8(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function s0e(e,r,s){return(r=a0e(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function a0e(e){var r=n0e(e,"string");return typeof r=="symbol"?r:r+""}function n0e(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function i0e(e,r){if(e==null)return{};var s,a,n=l0e(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function l0e(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function o0e(){var e=St(b3),r=St(v3),s=Er(),a=St(QL),n=St(io),i=ym(),l=ob(),o=St(c=>c.rootProps.className);g.useEffect(()=>{if(e==null)return Id;var c=(d,u,m)=>{if(r!==m&&e===d){if(a==="index"){var x;if(l&&u!==null&&u!==void 0&&(x=u.payload)!==null&&x!==void 0&&x.coordinate&&u.payload.sourceViewBox){var h=u.payload.coordinate,{x:p,y:f}=h,b=i0e(h,r0e),{x:j,y:w,width:y,height:v}=u.payload.sourceViewBox,N=Gd(Gd({},b),{},{x:l.x+(y?(p-j)/y:0)*l.width,y:l.y+(v?(f-w)/v:0)*l.height});s(Gd(Gd({},u),{},{payload:Gd(Gd({},u.payload),{},{coordinate:N})}))}else s(u);return}if(n!=null){var S;if(typeof a=="function"){var k={activeTooltipIndex:u.payload.index==null?void 0:Number(u.payload.index),isTooltipActive:u.payload.active,activeIndex:u.payload.index==null?void 0:Number(u.payload.index),activeLabel:u.payload.label,activeDataKey:u.payload.dataKey,activeCoordinate:u.payload.coordinate},C=a(n,k);S=n[C]}else a==="value"&&(S=n.find(he=>String(he.value)===u.payload.label));var{coordinate:P}=u.payload;if(S==null||u.payload.active===!1||P==null||l==null){s(sw({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:_,y:A}=P,D=Math.min(_,l.x+l.width),F=Math.min(A,l.y+l.height),X={x:i==="horizontal"?S.coordinate:D,y:i==="horizontal"?F:S.coordinate},ce=sw({active:u.payload.active,coordinate:X,dataKey:u.payload.dataKey,index:String(S.index),label:u.payload.label,sourceViewBox:u.payload.sourceViewBox});s(ce)}}};return w0.on(iw,c),()=>{w0.off(iw,c)}},[o,s,r,e,a,n,i,l])}function c0e(){var e=St(b3),r=St(v3),s=Er();g.useEffect(()=>{if(e==null)return Id;var a=(n,i,l)=>{r!==l&&e===n&&s(e0e(i))};return w0.on(S8,a),()=>{w0.off(S8,a)}},[s,r,e])}function d0e(){var e=Er();g.useEffect(()=>{e(Jhe())},[e]),o0e(),c0e()}function u0e(e,r,s,a,n,i){var l=St(h=>bhe(h,e,r)),o=St(v3),c=St(b3),d=St(QL),u=St(Qhe),m=u==null?void 0:u.active,x=ob();g.useEffect(()=>{if(!m&&c!=null&&o!=null){var h=sw({active:i,coordinate:s,dataKey:l,index:n,label:typeof a=="number"?String(a):a,sourceViewBox:x});w0.emit(iw,c,h,o)}},[m,s,l,n,a,o,c,d,i,x])}function P8(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function A8(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?P8(Object(s),!0).forEach(function(a){m0e(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):P8(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function m0e(e,r,s){return(r=h0e(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function h0e(e){var r=x0e(e,"string");return typeof r=="symbol"?r:r+""}function x0e(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function p0e(e){return e.dataKey}function f0e(e,r){return g.isValidElement(e)?g.cloneElement(e,r):typeof e=="function"?g.createElement(e,r):g.createElement(cle,r)}var T8=[],g0e={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!ro.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Gi(e){var r,s,a=os(e,g0e),{active:n,allowEscapeViewBox:i,animationDuration:l,animationEasing:o,content:c,filterNull:d,isAnimationActive:u,offset:m,payloadUniqBy:x,position:h,reverseDirection:p,useTranslate3d:f,wrapperStyle:b,cursor:j,shared:w,trigger:y,defaultIndex:v,portal:N,axisId:S}=a,k=Er(),C=typeof v=="number"?String(v):v;g.useEffect(()=>{k(yme({shared:w,trigger:y,axisId:S,active:n,defaultIndex:C}))},[k,w,y,S,n,C]);var P=ob(),_=zM(),A=hme(w),{activeIndex:D,isActive:F}=(r=St(H=>whe(H,A,y,C)))!==null&&r!==void 0?r:{},X=St(H=>jhe(H,A,y,C)),ce=St(H=>sR(H,A,y,C)),he=St(H=>vhe(H,A,y,C)),L=X,q=Ghe(),se=(s=n??F)!==null&&s!==void 0?s:!1,[R,T]=XD([L,se]),O=A==="axis"?ce:void 0;u0e(A,y,he,O,D,se);var K=N??q;if(K==null||P==null||A==null)return null;var U=L??T8;se||(U=T8),d&&U.length&&(U=RD(U.filter(H=>H.value!=null&&(H.hide!==!0||a.includeHidden)),x,p0e));var ee=U.length>0,M=g.createElement(fle,{allowEscapeViewBox:i,animationDuration:l,animationEasing:o,isAnimationActive:u,active:se,coordinate:he,hasPayload:ee,offset:m,position:h,reverseDirection:p,useTranslate3d:f,viewBox:P,wrapperStyle:b,lastBoundingBox:R,innerRef:T,hasPortalFromProps:!!N},f0e(c,A8(A8({},a),{},{payload:U,label:O,active:se,activeIndex:D,coordinate:he,accessibilityLayer:_})));return g.createElement(g.Fragment,null,by.createPortal(M,K),se&&g.createElement(Whe,{cursor:j,tooltipEventType:A,coordinate:he,payload:U,index:D}))}var tc=e=>null;tc.displayName="Cell";function y0e(e,r,s){return(r=b0e(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function b0e(e){var r=v0e(e,"string");return typeof r=="symbol"?r:r+""}function v0e(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}class j0e{constructor(r){y0e(this,"cache",new Map),this.maxSize=r}get(r){var s=this.cache.get(r);return s!==void 0&&(this.cache.delete(r),this.cache.set(r,s)),s}set(r,s){if(this.cache.has(r))this.cache.delete(r);else if(this.cache.size>=this.maxSize){var a=this.cache.keys().next().value;this.cache.delete(a)}this.cache.set(r,s)}clear(){this.cache.clear()}size(){return this.cache.size}}function E8(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function w0e(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?E8(Object(s),!0).forEach(function(a){N0e(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):E8(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function N0e(e,r,s){return(r=S0e(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function S0e(e){var r=k0e(e,"string");return typeof r=="symbol"?r:r+""}function k0e(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var C0e={cacheSize:2e3,enableCache:!0},cR=w0e({},C0e),I8=new j0e(cR.cacheSize),P0e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},_8="recharts_measurement_span";function A0e(e,r){var s=r.fontSize||"",a=r.fontFamily||"",n=r.fontWeight||"",i=r.fontStyle||"",l=r.letterSpacing||"",o=r.textTransform||"";return"".concat(e,"|").concat(s,"|").concat(a,"|").concat(n,"|").concat(i,"|").concat(l,"|").concat(o)}var O8=(e,r)=>{try{var s=document.getElementById(_8);s||(s=document.createElement("span"),s.setAttribute("id",_8),s.setAttribute("aria-hidden","true"),document.body.appendChild(s)),Object.assign(s.style,P0e,r),s.textContent="".concat(e);var a=s.getBoundingClientRect();return{width:a.width,height:a.height}}catch{return{width:0,height:0}}},Ih=function(r){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(r==null||ro.isSsr)return{width:0,height:0};if(!cR.enableCache)return O8(r,s);var a=A0e(r,s),n=I8.get(a);if(n)return n;var i=O8(r,s);return I8.set(a,i),i},D8=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,M8=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,T0e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,E0e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,dR={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},I0e=Object.keys(dR),pu="NaN";function _0e(e,r){return e*dR[r]}class $a{static parse(r){var s,[,a,n]=(s=E0e.exec(r))!==null&&s!==void 0?s:[];return new $a(parseFloat(a),n??"")}constructor(r,s){this.num=r,this.unit=s,this.num=r,this.unit=s,ai(r)&&(this.unit=""),s!==""&&!T0e.test(s)&&(this.num=NaN,this.unit=""),I0e.includes(s)&&(this.num=_0e(r,s),this.unit="px")}add(r){return this.unit!==r.unit?new $a(NaN,""):new $a(this.num+r.num,this.unit)}subtract(r){return this.unit!==r.unit?new $a(NaN,""):new $a(this.num-r.num,this.unit)}multiply(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new $a(NaN,""):new $a(this.num*r.num,this.unit||r.unit)}divide(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new $a(NaN,""):new $a(this.num/r.num,this.unit||r.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ai(this.num)}}function uR(e){if(e.includes(pu))return pu;for(var r=e;r.includes("*")||r.includes("/");){var s,[,a,n,i]=(s=D8.exec(r))!==null&&s!==void 0?s:[],l=$a.parse(a??""),o=$a.parse(i??""),c=n==="*"?l.multiply(o):l.divide(o);if(c.isNaN())return pu;r=r.replace(D8,c.toString())}for(;r.includes("+")||/.-\d+(?:\.\d+)?/.test(r);){var d,[,u,m,x]=(d=M8.exec(r))!==null&&d!==void 0?d:[],h=$a.parse(u??""),p=$a.parse(x??""),f=m==="+"?h.add(p):h.subtract(p);if(f.isNaN())return pu;r=r.replace(M8,f.toString())}return r}var L8=/\(([^()]*)\)/;function O0e(e){for(var r=e,s;(s=L8.exec(r))!=null;){var[,a]=s;r=r.replace(L8,uR(a))}return r}function D0e(e){var r=e.replace(/\s+/g,"");return r=O0e(r),r=uR(r),r}function M0e(e){try{return D0e(e)}catch{return pu}}function T1(e){var r=M0e(e.slice(5,-1));return r===pu?"":r}var L0e=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],F0e=["dx","dy","angle","className","breakAll"];function lw(){return lw=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},lw.apply(null,arguments)}function F8(e,r){if(e==null)return{};var s,a,n=R0e(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function R0e(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var mR=/[ \f\n\r\t\v\u2028\u2029]+/,hR=e=>{var{children:r,breakAll:s,style:a}=e;try{var n=[];Lr(r)||(s?n=r.toString().split(""):n=r.toString().split(mR));var i=n.map(o=>({word:o,width:Ih(o,a).width})),l=s?0:Ih("",a).width;return{wordsWithComputedWidth:i,spaceWidth:l}}catch{return null}};function B0e(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var xR=(e,r,s,a)=>e.reduce((n,i)=>{var{word:l,width:o}=i,c=n[n.length-1];if(c&&o!=null&&(r==null||a||c.width+o+s<Number(r)))c.words.push(l),c.width+=o+s;else{var d={words:[l],width:o};n.push(d)}return n},[]),pR=e=>e.reduce((r,s)=>r.width>s.width?r:s),$0e="",R8=(e,r,s,a,n,i,l,o)=>{var c=e.slice(0,r),d=hR({breakAll:s,style:a,children:c+$0e});if(!d)return[!1,[]];var u=xR(d.wordsWithComputedWidth,i,l,o),m=u.length>n||pR(u).width>Number(i);return[m,u]},z0e=(e,r,s,a,n)=>{var{maxLines:i,children:l,style:o,breakAll:c}=e,d=bt(i),u=String(l),m=xR(r,a,s,n);if(!d||n)return m;var x=m.length>i||pR(m).width>Number(a);if(!x)return m;for(var h=0,p=u.length-1,f=0,b;h<=p&&f<=u.length-1;){var j=Math.floor((h+p)/2),w=j-1,[y,v]=R8(u,w,c,o,i,a,s,n),[N]=R8(u,j,c,o,i,a,s,n);if(!y&&!N&&(h=j+1),y&&N&&(p=j-1),!y&&N){b=v;break}f++}return b||m},B8=e=>{var r=Lr(e)?[]:e.toString().split(mR);return[{words:r,width:void 0}]},U0e=e=>{var{width:r,scaleToFit:s,children:a,style:n,breakAll:i,maxLines:l}=e;if((r||s)&&!ro.isSsr){var o,c,d=hR({breakAll:i,children:a,style:n});if(d){var{wordsWithComputedWidth:u,spaceWidth:m}=d;o=u,c=m}else return B8(a);return z0e({breakAll:i,children:a,maxLines:l,style:n},o,c,r,!!s)}return B8(a)},fR="#808080",H0e={breakAll:!1,capHeight:"0.71em",fill:fR,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Tb=g.forwardRef((e,r)=>{var s=os(e,H0e),{x:a,y:n,lineHeight:i,capHeight:l,fill:o,scaleToFit:c,textAnchor:d,verticalAnchor:u}=s,m=F8(s,L0e),x=g.useMemo(()=>U0e({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:c,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,c,m.style,m.width]),{dx:h,dy:p,angle:f,className:b,breakAll:j}=m,w=F8(m,F0e);if(!tl(a)||!tl(n)||x.length===0)return null;var y=Number(a)+(bt(h)?h:0),v=Number(n)+(bt(p)?p:0);if(!Fr(y)||!Fr(v))return null;var N;switch(u){case"start":N=T1("calc(".concat(l,")"));break;case"middle":N=T1("calc(".concat((x.length-1)/2," * -").concat(i," + (").concat(l," / 2))"));break;default:N=T1("calc(".concat(x.length-1," * -").concat(i,")"));break}var S=[];if(c){var k=x[0].width,{width:C}=m;S.push("scale(".concat(bt(C)&&bt(k)?C/k:1,")"))}return f&&S.push("rotate(".concat(f,", ").concat(y,", ").concat(v,")")),S.length&&(w.transform=S.join(" ")),g.createElement("text",lw({},wa(w),{ref:r,x:y,y:v,className:ar("recharts-text",b),textAnchor:d,fill:o.includes("url")?fR:o}),x.map((P,_)=>{var A=P.words.join(j?"":" ");return g.createElement("tspan",{x:y,dy:_===0?N:i,key:"".concat(A,"-").concat(_)},A)}))});Tb.displayName="Text";var V0e=["labelRef"];function W0e(e,r){if(e==null)return{};var s,a,n=G0e(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function G0e(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function $8(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function cs(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?$8(Object(s),!0).forEach(function(a){q0e(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):$8(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function q0e(e,r,s){return(r=K0e(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function K0e(e){var r=Y0e(e,"string");return typeof r=="symbol"?r:r+""}function Y0e(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function hl(){return hl=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},hl.apply(null,arguments)}var gR=g.createContext(null),X0e=e=>{var{x:r,y:s,upperWidth:a,lowerWidth:n,width:i,height:l,children:o}=e,c=g.useMemo(()=>({x:r,y:s,upperWidth:a,lowerWidth:n,width:i,height:l}),[r,s,a,n,i,l]);return g.createElement(gR.Provider,{value:c},o)},yR=()=>{var e=g.useContext(gR),r=ob();return e||LM(r)},J0e=g.createContext(null),Q0e=()=>{var e=g.useContext(J0e),r=St(sF);return e||r},Z0e=e=>{var{value:r,formatter:s}=e,a=Lr(e.children)?r:e.children;return typeof s=="function"?s(a):a},Z3=e=>e!=null&&typeof e=="function",exe=(e,r)=>{var s=Vs(r-e),a=Math.min(Math.abs(r-e),360);return s*a},txe=(e,r,s,a,n)=>{var{offset:i,className:l}=e,{cx:o,cy:c,innerRadius:d,outerRadius:u,startAngle:m,endAngle:x,clockWise:h}=n,p=(d+u)/2,f=exe(m,x),b=f>=0?1:-1,j,w;switch(r){case"insideStart":j=m+b*i,w=h;break;case"insideEnd":j=x-b*i,w=!h;break;case"end":j=x+b*i,w=h;break;default:throw new Error("Unsupported position ".concat(r))}w=f<=0?w:!w;var y=Cs(o,c,p,j),v=Cs(o,c,p,j+(w?1:-1)*359),N="M".concat(y.x,",").concat(y.y,`
    A`).concat(p,",").concat(p,",0,1,").concat(w?0:1,`,
    `).concat(v.x,",").concat(v.y),S=Lr(e.id)?u0("recharts-radial-line-"):e.id;return g.createElement("text",hl({},a,{dominantBaseline:"central",className:ar("recharts-radial-bar-label",l)}),g.createElement("defs",null,g.createElement("path",{id:S,d:N})),g.createElement("textPath",{xlinkHref:"#".concat(S)},s))},rxe=(e,r,s)=>{var{cx:a,cy:n,innerRadius:i,outerRadius:l,startAngle:o,endAngle:c}=e,d=(o+c)/2;if(s==="outside"){var{x:u,y:m}=Cs(a,n,l+r,d);return{x:u,y:m,textAnchor:u>=a?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:a,y:n,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:a,y:n,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:a,y:n,textAnchor:"middle",verticalAnchor:"end"};var x=(i+l)/2,{x:h,y:p}=Cs(a,n,x,d);return{x:h,y:p,textAnchor:"middle",verticalAnchor:"middle"}},ow=e=>"cx"in e&&bt(e.cx),sxe=(e,r)=>{var{parentViewBox:s,offset:a,position:n}=e,i;s!=null&&!ow(s)&&(i=s);var{x:l,y:o,upperWidth:c,lowerWidth:d,height:u}=r,m=l,x=l+(c-d)/2,h=(m+x)/2,p=(c+d)/2,f=m+c/2,b=u>=0?1:-1,j=b*a,w=b>0?"end":"start",y=b>0?"start":"end",v=c>=0?1:-1,N=v*a,S=v>0?"end":"start",k=v>0?"start":"end";if(n==="top"){var C={x:m+c/2,y:o-j,textAnchor:"middle",verticalAnchor:w};return cs(cs({},C),i?{height:Math.max(o-i.y,0),width:c}:{})}if(n==="bottom"){var P={x:x+d/2,y:o+u+j,textAnchor:"middle",verticalAnchor:y};return cs(cs({},P),i?{height:Math.max(i.y+i.height-(o+u),0),width:d}:{})}if(n==="left"){var _={x:h-N,y:o+u/2,textAnchor:S,verticalAnchor:"middle"};return cs(cs({},_),i?{width:Math.max(_.x-i.x,0),height:u}:{})}if(n==="right"){var A={x:h+p+N,y:o+u/2,textAnchor:k,verticalAnchor:"middle"};return cs(cs({},A),i?{width:Math.max(i.x+i.width-A.x,0),height:u}:{})}var D=i?{width:p,height:u}:{};return n==="insideLeft"?cs({x:h+N,y:o+u/2,textAnchor:k,verticalAnchor:"middle"},D):n==="insideRight"?cs({x:h+p-N,y:o+u/2,textAnchor:S,verticalAnchor:"middle"},D):n==="insideTop"?cs({x:m+c/2,y:o+j,textAnchor:"middle",verticalAnchor:y},D):n==="insideBottom"?cs({x:x+d/2,y:o+u-j,textAnchor:"middle",verticalAnchor:w},D):n==="insideTopLeft"?cs({x:m+N,y:o+j,textAnchor:k,verticalAnchor:y},D):n==="insideTopRight"?cs({x:m+c-N,y:o+j,textAnchor:S,verticalAnchor:y},D):n==="insideBottomLeft"?cs({x:x+N,y:o+u-j,textAnchor:k,verticalAnchor:w},D):n==="insideBottomRight"?cs({x:x+d-N,y:o+u-j,textAnchor:S,verticalAnchor:w},D):n&&typeof n=="object"&&(bt(n.x)||zl(n.x))&&(bt(n.y)||zl(n.y))?cs({x:l+ya(n.x,p),y:o+ya(n.y,u),textAnchor:"end",verticalAnchor:"end"},D):cs({x:f,y:o+u/2,textAnchor:"middle",verticalAnchor:"middle"},D)},axe={offset:5,zIndex:xs.label};function No(e){var r=os(e,axe),{viewBox:s,position:a,value:n,children:i,content:l,className:o="",textBreakAll:c,labelRef:d}=r,u=Q0e(),m=yR(),x=a==="center"?m:u??m,h,p,f;if(s==null?h=x:ow(s)?h=s:h=LM(s),!h||Lr(n)&&Lr(i)&&!g.isValidElement(l)&&typeof l!="function")return null;var b=cs(cs({},r),{},{viewBox:h});if(g.isValidElement(l)){var{labelRef:j}=b,w=W0e(b,V0e);return g.cloneElement(l,w)}if(typeof l=="function"){if(p=g.createElement(l,b),g.isValidElement(p))return p}else p=Z0e(r);var y=wa(r);if(ow(h)){if(a==="insideStart"||a==="insideEnd"||a==="end")return txe(r,a,p,y,h);f=rxe(h,r.offset,r.position)}else f=sxe(r,h);return g.createElement(Ba,{zIndex:r.zIndex},g.createElement(Tb,hl({ref:d,className:ar("recharts-label",o)},y,f,{textAnchor:B0e(y.textAnchor)?y.textAnchor:f.textAnchor,breakAll:c}),p))}No.displayName="Label";var nxe=(e,r,s)=>{if(!e)return null;var a={viewBox:r,labelRef:s};return e===!0?g.createElement(No,hl({key:"label-implicit"},a)):tl(e)?g.createElement(No,hl({key:"label-implicit",value:e},a)):g.isValidElement(e)?e.type===No?g.cloneElement(e,cs({key:"label-implicit"},a)):g.createElement(No,hl({key:"label-implicit",content:e},a)):Z3(e)?g.createElement(No,hl({key:"label-implicit",content:e},a)):e&&typeof e=="object"?g.createElement(No,hl({},e,{key:"label-implicit"},a)):null};function ixe(e){var{label:r,labelRef:s}=e,a=yR();return nxe(r,a,s)||null}var bR={},vR={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){return s[s.length-1]}e.last=r})(vR);var jR={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){return Array.isArray(s)?s:Array.from(s)}e.toArray=r})(jR);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=vR,s=jR,a=Xy;function n(i){if(a.isArrayLike(i))return r.last(s.toArray(i))}e.last=n})(bR);var lxe=bR.last;const oxe=li(lxe);var cxe=["valueAccessor"],dxe=["dataKey","clockWise","id","textBreakAll","zIndex"];function Pg(){return Pg=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Pg.apply(null,arguments)}function z8(e,r){if(e==null)return{};var s,a,n=uxe(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function uxe(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var mxe=e=>Array.isArray(e.value)?oxe(e.value):e.value,wR=g.createContext(void 0),e5=wR.Provider,NR=g.createContext(void 0),hxe=NR.Provider;function xxe(){return g.useContext(wR)}function pxe(){return g.useContext(NR)}function Qp(e){var{valueAccessor:r=mxe}=e,s=z8(e,cxe),{dataKey:a,clockWise:n,id:i,textBreakAll:l,zIndex:o}=s,c=z8(s,dxe),d=xxe(),u=pxe(),m=d||u;return!m||!m.length?null:g.createElement(Ba,{zIndex:o??xs.label},g.createElement(ls,{className:"recharts-label-list"},m.map((x,h)=>{var p,f=Lr(a)?r(x,h):br(x&&x.payload,a),b=Lr(i)?{}:{id:"".concat(i,"-").concat(h)};return g.createElement(No,Pg({key:"label-".concat(h)},wa(x),c,b,{fill:(p=s.fill)!==null&&p!==void 0?p:x.fill,parentViewBox:x.parentViewBox,value:f,textBreakAll:l,viewBox:x.viewBox,index:h,zIndex:0}))})))}Qp.displayName="LabelList";function Eb(e){var{label:r}=e;return r?r===!0?g.createElement(Qp,{key:"labelList-implicit"}):g.isValidElement(r)||Z3(r)?g.createElement(Qp,{key:"labelList-implicit",content:r}):typeof r=="object"?g.createElement(Qp,Pg({key:"labelList-implicit"},r,{type:String(r.type)})):null:null}function cw(){return cw=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},cw.apply(null,arguments)}var SR=e=>{var{cx:r,cy:s,r:a,className:n}=e,i=ar("recharts-dot",n);return bt(r)&&bt(s)&&bt(a)?g.createElement("circle",cw({},La(e),S4(e),{className:i,cx:r,cy:s,r:a})):null},kR=e=>e.graphicalItems.polarItems,fxe=we([Hr,dx],k3),Ib=we([kR,Xr,fxe],C3),gxe=we([Ib],P3),_b=we([gxe,p3],A3),yxe=we([_b,Xr,Ib],E3);we([_b,Xr,Ib],(e,r,s)=>s.length>0?e.flatMap(a=>s.flatMap(n=>{var i,l=br(a,(i=r.dataKey)!==null&&i!==void 0?i:n.dataKey);return{value:l,errorDomain:[]}})).filter(Boolean):(r==null?void 0:r.dataKey)!=null?e.map(a=>({value:br(a,r.dataKey),errorDomain:[]})):e.map(a=>({value:a,errorDomain:[]})));var U8=()=>{},bxe=we([_b,Xr,Ib,Sb,Hr],D3),vxe=we([Xr,_3,O3,U8,bxe,U8,Kt,Hr],M3),CR=we([Xr,Kt,_b,yxe,cx,Hr,vxe],L3),jxe=we([CR,Xr,Cm],B3);we([Xr,CR,jxe,Hr],z3);var wxe={radiusAxis:{},angleAxis:{}},PR=nn({name:"polarAxis",initialState:wxe,reducers:{addRadiusAxis(e,r){e.radiusAxis[r.payload.id]=r.payload},removeRadiusAxis(e,r){delete e.radiusAxis[r.payload.id]},addAngleAxis(e,r){e.angleAxis[r.payload.id]=r.payload},removeAngleAxis(e,r){delete e.angleAxis[r.payload.id]}}}),{addRadiusAxis:qSe,removeRadiusAxis:KSe,addAngleAxis:YSe,removeAngleAxis:XSe}=PR.actions,Nxe=PR.reducer;function H8(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function V8(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?H8(Object(s),!0).forEach(function(a){Sxe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):H8(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Sxe(e,r,s){return(r=kxe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function kxe(e){var r=Cxe(e,"string");return typeof r=="symbol"?r:r+""}function Cxe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Pxe=(e,r)=>r,t5=we([kR,Pxe],(e,r)=>e.filter(s=>s.type==="pie").find(s=>s.id===r)),Axe=[],r5=(e,r,s)=>(s==null?void 0:s.length)===0?Axe:s,AR=we([p3,t5,r5],(e,r,s)=>{var{chartData:a}=e;if(r!=null){var n;if((r==null?void 0:r.data)!=null&&r.data.length>0?n=r.data:n=a,(!n||!n.length)&&s!=null&&(n=s.map(i=>V8(V8({},r.presentationProps),i.props))),n!=null)return n}}),Txe=we([AR,t5,r5],(e,r,s)=>{if(!(e==null||r==null))return e.map((a,n)=>{var i,l=br(a,r.nameKey,r.name),o;return s!=null&&(i=s[n])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?o=s[n].props.fill:typeof a=="object"&&a!=null&&"fill"in a?o=a.fill:o=r.fill,{value:dc(l,r.dataKey),color:o,payload:a,type:r.legendType}})}),Exe=we([AR,t5,r5,Ls],(e,r,s,a)=>{if(!(r==null||e==null))return Ppe({offset:a,pieSettings:r,displayedData:e,cells:s})}),TR={exports:{}},Nr={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s5=Symbol.for("react.transitional.element"),a5=Symbol.for("react.portal"),Ob=Symbol.for("react.fragment"),Db=Symbol.for("react.strict_mode"),Mb=Symbol.for("react.profiler"),Lb=Symbol.for("react.consumer"),Fb=Symbol.for("react.context"),Rb=Symbol.for("react.forward_ref"),Bb=Symbol.for("react.suspense"),$b=Symbol.for("react.suspense_list"),zb=Symbol.for("react.memo"),Ub=Symbol.for("react.lazy"),Ixe=Symbol.for("react.view_transition"),_xe=Symbol.for("react.client.reference");function ci(e){if(typeof e=="object"&&e!==null){var r=e.$$typeof;switch(r){case s5:switch(e=e.type,e){case Ob:case Mb:case Db:case Bb:case $b:case Ixe:return e;default:switch(e=e&&e.$$typeof,e){case Fb:case Rb:case Ub:case zb:return e;case Lb:return e;default:return r}}case a5:return r}}}Nr.ContextConsumer=Lb;Nr.ContextProvider=Fb;Nr.Element=s5;Nr.ForwardRef=Rb;Nr.Fragment=Ob;Nr.Lazy=Ub;Nr.Memo=zb;Nr.Portal=a5;Nr.Profiler=Mb;Nr.StrictMode=Db;Nr.Suspense=Bb;Nr.SuspenseList=$b;Nr.isContextConsumer=function(e){return ci(e)===Lb};Nr.isContextProvider=function(e){return ci(e)===Fb};Nr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===s5};Nr.isForwardRef=function(e){return ci(e)===Rb};Nr.isFragment=function(e){return ci(e)===Ob};Nr.isLazy=function(e){return ci(e)===Ub};Nr.isMemo=function(e){return ci(e)===zb};Nr.isPortal=function(e){return ci(e)===a5};Nr.isProfiler=function(e){return ci(e)===Mb};Nr.isStrictMode=function(e){return ci(e)===Db};Nr.isSuspense=function(e){return ci(e)===Bb};Nr.isSuspenseList=function(e){return ci(e)===$b};Nr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Ob||e===Mb||e===Db||e===Bb||e===$b||typeof e=="object"&&e!==null&&(e.$$typeof===Ub||e.$$typeof===zb||e.$$typeof===Fb||e.$$typeof===Lb||e.$$typeof===Rb||e.$$typeof===_xe||e.getModuleId!==void 0)};Nr.typeOf=ci;TR.exports=Nr;var Oxe=TR.exports,W8=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",G8=null,E1=null,ER=e=>{if(e===G8&&Array.isArray(E1))return E1;var r=[];return g.Children.forEach(e,s=>{Lr(s)||(Oxe.isFragment(s)?r=r.concat(ER(s.props.children)):r.push(s))}),E1=r,G8=e,r};function n5(e,r){var s=[],a=[];return Array.isArray(r)?a=r.map(n=>W8(n)):a=[W8(r)],ER(e).forEach(n=>{var i=md(n,"type.displayName")||md(n,"type.name");i&&a.indexOf(i)!==-1&&s.push(n)}),s}var i5=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,IR={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){var n;if(typeof s!="object"||s==null)return!1;if(Object.getPrototypeOf(s)===null)return!0;if(Object.prototype.toString.call(s)!=="[object Object]"){const i=s[Symbol.toStringTag];return i==null||!((n=Object.getOwnPropertyDescriptor(s,Symbol.toStringTag))!=null&&n.writable)?!1:s.toString()===`[object ${i}]`}let a=s;for(;Object.getPrototypeOf(a)!==null;)a=Object.getPrototypeOf(a);return Object.getPrototypeOf(s)===a}e.isPlainObject=r})(IR);var Dxe=IR.isPlainObject;const Mxe=li(Dxe);function q8(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function K8(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?q8(Object(s),!0).forEach(function(a){Lxe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):q8(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Lxe(e,r,s){return(r=Fxe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Fxe(e){var r=Rxe(e,"string");return typeof r=="symbol"?r:r+""}function Rxe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Ag(){return Ag=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Ag.apply(null,arguments)}var Y8=(e,r,s,a,n)=>{var i=s-a,l;return l="M ".concat(e,",").concat(r),l+="L ".concat(e+s,",").concat(r),l+="L ".concat(e+s-i/2,",").concat(r+n),l+="L ".concat(e+s-i/2-a,",").concat(r+n),l+="L ".concat(e,",").concat(r," Z"),l},Bxe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},$xe=e=>{var r=os(e,Bxe),{x:s,y:a,upperWidth:n,lowerWidth:i,height:l,className:o}=r,{animationEasing:c,animationDuration:d,animationBegin:u,isUpdateAnimationActive:m}=r,x=g.useRef(null),[h,p]=g.useState(-1),f=g.useRef(n),b=g.useRef(i),j=g.useRef(l),w=g.useRef(s),y=g.useRef(a),v=vm(e,"trapezoid-");if(g.useEffect(()=>{if(x.current&&x.current.getTotalLength)try{var X=x.current.getTotalLength();X&&p(X)}catch{}},[]),s!==+s||a!==+a||n!==+n||i!==+i||l!==+l||n===0&&i===0||l===0)return null;var N=ar("recharts-trapezoid",o);if(!m)return g.createElement("g",null,g.createElement("path",Ag({},wa(r),{className:N,d:Y8(s,a,n,i,l)})));var S=f.current,k=b.current,C=j.current,P=w.current,_=y.current,A="0px ".concat(h===-1?1:h,"px"),D="".concat(h,"px 0px"),F=UM(["strokeDasharray"],d,c);return g.createElement(bm,{animationId:v,key:v,canBegin:h>0,duration:d,easing:c,isActive:m,begin:u},X=>{var ce=dr(S,n,X),he=dr(k,i,X),L=dr(C,l,X),q=dr(P,s,X),se=dr(_,a,X);x.current&&(f.current=ce,b.current=he,j.current=L,w.current=q,y.current=se);var R=X>0?{transition:F,strokeDasharray:D}:{strokeDasharray:A};return g.createElement("path",Ag({},wa(r),{className:N,d:Y8(q,se,ce,he,L),ref:x,style:K8(K8({},R),r.style)}))})},zxe=["option","shapeType","propTransformer","activeClassName","isActive"];function Uxe(e,r){if(e==null)return{};var s,a,n=Hxe(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Hxe(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function X8(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Tg(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?X8(Object(s),!0).forEach(function(a){Vxe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):X8(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Vxe(e,r,s){return(r=Wxe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Wxe(e){var r=Gxe(e,"string");return typeof r=="symbol"?r:r+""}function Gxe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function qxe(e,r){return Tg(Tg({},r),e)}function Kxe(e,r){return e==="symbols"}function J8(e){var{shapeType:r,elementProps:s}=e;switch(r){case"rectangle":return g.createElement(GM,s);case"trapezoid":return g.createElement($xe,s);case"sector":return g.createElement(XM,s);case"symbols":if(Kxe(r))return g.createElement(N4,s);break;case"curve":return g.createElement(Iu,s);default:return null}}function Yxe(e){return g.isValidElement(e)?e.props:e}function l5(e){var{option:r,shapeType:s,propTransformer:a=qxe,activeClassName:n="recharts-active-shape",isActive:i}=e,l=Uxe(e,zxe),o;if(g.isValidElement(r))o=g.cloneElement(r,Tg(Tg({},l),Yxe(r)));else if(typeof r=="function")o=r(l);else if(Mxe(r)&&typeof r!="boolean"){var c=a(r,l);o=g.createElement(J8,{shapeType:s,elementProps:c})}else{var d=l;o=g.createElement(J8,{shapeType:s,elementProps:d})}return i?g.createElement(ls,{className:n},o):o}var o5=(e,r)=>{var s=Er();return(a,n)=>i=>{e==null||e(a,n,i),s(MF({activeIndex:String(n),activeDataKey:r,activeCoordinate:a.tooltipPosition}))}},c5=e=>{var r=Er();return(s,a)=>n=>{e==null||e(s,a,n),r(bme())}},d5=(e,r)=>{var s=Er();return(a,n)=>i=>{e==null||e(a,n,i),s(vme({activeIndex:String(n),activeDataKey:r,activeCoordinate:a.tooltipPosition}))}};function Hb(e){var{fn:r,args:s}=e,a=Er(),n=Ks();return g.useLayoutEffect(()=>{if(!n){var i=r(s);return a(fme(i)),()=>{a(gme(i))}}},[r,s,a,n]),null}function u5(e){var{legendPayload:r}=e,s=Er(),a=Ks();return g.useLayoutEffect(()=>a?Id:(s(BM(r)),()=>{s($M(r))}),[s,a,r]),null}function Xxe(e){var{legendPayload:r}=e,s=Er(),a=St(Kt);return g.useLayoutEffect(()=>a!=="centric"&&a!=="radial"?Id:(s(BM(r)),()=>{s($M(r))}),[s,a,r]),null}var I1,Jxe=()=>{var[e]=g.useState(()=>u0("uid-"));return e},Qxe=(I1=PE.useId)!==null&&I1!==void 0?I1:Jxe;function _R(e,r){var s=Qxe();return r||(e?"".concat(e,"-").concat(s):s)}var Zxe=g.createContext(void 0),Vb=e=>{var{id:r,type:s,children:a}=e,n=_R("recharts-".concat(s),r);return g.createElement(Zxe.Provider,{value:n},a(n))},epe={cartesianItems:[],polarItems:[]},OR=nn({name:"graphicalItems",initialState:epe,reducers:{addCartesianGraphicalItem:{reducer(e,r){e.cartesianItems.push(r.payload)},prepare:Ds()},replaceCartesianGraphicalItem:{reducer(e,r){var{prev:s,next:a}=r.payload,n=Pl(e).cartesianItems.indexOf(s);n>-1&&(e.cartesianItems[n]=a)},prepare:Ds()},removeCartesianGraphicalItem:{reducer(e,r){var s=Pl(e).cartesianItems.indexOf(r.payload);s>-1&&e.cartesianItems.splice(s,1)},prepare:Ds()},addPolarGraphicalItem:{reducer(e,r){e.polarItems.push(r.payload)},prepare:Ds()},removePolarGraphicalItem:{reducer(e,r){var s=Pl(e).polarItems.indexOf(r.payload);s>-1&&e.polarItems.splice(s,1)},prepare:Ds()}}}),{addCartesianGraphicalItem:tpe,replaceCartesianGraphicalItem:rpe,removeCartesianGraphicalItem:spe,addPolarGraphicalItem:ape,removePolarGraphicalItem:npe}=OR.actions,ipe=OR.reducer;function m5(e){var r=Er(),s=g.useRef(null);return g.useLayoutEffect(()=>{s.current===null?r(tpe(e)):s.current!==e&&r(rpe({prev:s.current,next:e})),s.current=e},[r,e]),g.useLayoutEffect(()=>()=>{s.current&&(r(spe(s.current)),s.current=null)},[r]),null}function lpe(e){var r=Er();return g.useLayoutEffect(()=>(r(ape(e)),()=>{r(npe(e))}),[r,e]),null}var ope=["onMouseEnter","onClick","onMouseLeave"],cpe=["id"],dpe=["id"];function h5(e,r){if(e==null)return{};var s,a,n=upe(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function upe(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function Q8(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function $r(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?Q8(Object(s),!0).forEach(function(a){mpe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Q8(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function mpe(e,r,s){return(r=hpe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function hpe(e){var r=xpe(e,"string");return typeof r=="symbol"?r:r+""}function xpe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function rc(){return rc=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},rc.apply(null,arguments)}function ppe(e){var r=g.useMemo(()=>n5(e.children,tc),[e.children]),s=St(a=>Txe(a,e.id,r));return s==null?null:g.createElement(Xxe,{legendPayload:s})}function fpe(e){var{dataKey:r,nameKey:s,sectors:a,stroke:n,strokeWidth:i,fill:l,name:o,hide:c,tooltipType:d}=e;return{dataDefinedOnItem:a.map(u=>u.tooltipPayload),positions:a.map(u=>u.tooltipPosition),settings:{stroke:n,strokeWidth:i,fill:l,dataKey:r,nameKey:s,name:dc(o,r),hide:c,type:d,color:l,unit:""}}}var gpe=(e,r)=>e>r?"start":e<r?"end":"middle",ype=(e,r,s)=>ya(typeof r=="function"?r(e):r,s,s*.8),bpe=(e,r,s)=>{var{top:a,left:n,width:i,height:l}=r,o=qM(i,l),c=n+ya(e.cx,i,i/2),d=a+ya(e.cy,l,l/2),u=ya(e.innerRadius,o,0),m=ype(s,e.outerRadius,o),x=e.maxRadius||Math.sqrt(i*i+l*l)/2;return{cx:c,cy:d,innerRadius:u,outerRadius:m,maxRadius:x}},vpe=(e,r)=>{var s=Vs(r-e),a=Math.min(Math.abs(r-e),360);return s*a};function jpe(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var wpe=(e,r)=>{if(g.isValidElement(e))return g.cloneElement(e,r);if(typeof e=="function")return e(r);var s=ar("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return g.createElement(Iu,rc({},r,{type:"linear",className:s}))},Npe=(e,r,s)=>{if(g.isValidElement(e))return g.cloneElement(e,r);var a=s;if(typeof e=="function"&&(a=e(r),g.isValidElement(a)))return a;var n=ar("recharts-pie-label-text",jpe(e));return g.createElement(Tb,rc({},r,{alignmentBaseline:"middle",className:n}),a)};function Spe(e){var{sectors:r,props:s,showLabels:a}=e,{label:n,labelLine:i,dataKey:l}=s;if(!a||!n||!r)return null;var o=La(s),c=ud(n),d=ud(i),u=typeof n=="object"&&"offsetRadius"in n&&typeof n.offsetRadius=="number"&&n.offsetRadius||20,m=r.map((x,h)=>{var p=(x.startAngle+x.endAngle)/2,f=Cs(x.cx,x.cy,x.outerRadius+u,p),b=$r($r($r($r({},o),x),{},{stroke:"none"},c),{},{index:h,textAnchor:gpe(f.x,x.cx)},f),j=$r($r($r($r({},o),x),{},{fill:"none",stroke:x.fill},d),{},{index:h,points:[Cs(x.cx,x.cy,x.outerRadius,p),f],key:"line"});return g.createElement(Ba,{zIndex:xs.label,key:"label-".concat(x.startAngle,"-").concat(x.endAngle,"-").concat(x.midAngle,"-").concat(h)},g.createElement(ls,null,i&&wpe(i,j),Npe(n,b,br(x,l))))});return g.createElement(ls,{className:"recharts-pie-labels"},m)}function kpe(e){var{sectors:r,props:s,showLabels:a}=e,{label:n}=s;return typeof n=="object"&&n!=null&&"position"in n?g.createElement(Eb,{label:n}):g.createElement(Spe,{sectors:r,props:s,showLabels:a})}function Cpe(e){var{sectors:r,activeShape:s,inactiveShape:a,allOtherPieProps:n}=e,i=St(ec),{onMouseEnter:l,onClick:o,onMouseLeave:c}=n,d=h5(n,ope),u=o5(l,n.dataKey),m=c5(c),x=d5(o,n.dataKey);return r==null||r.length===0?null:g.createElement(g.Fragment,null,r.map((h,p)=>{if((h==null?void 0:h.startAngle)===0&&(h==null?void 0:h.endAngle)===0&&r.length!==1)return null;var f=s&&String(p)===i,b=i?a:null,j=f?s:b,w=$r($r({},h),{},{stroke:h.stroke,tabIndex:-1,[AM]:p,[TM]:n.dataKey});return g.createElement(ls,rc({key:"sector-".concat(h==null?void 0:h.startAngle,"-").concat(h==null?void 0:h.endAngle,"-").concat(h.midAngle,"-").concat(p),tabIndex:-1,className:"recharts-pie-sector"},ex(d,h,p),{onMouseEnter:u(h,p),onMouseLeave:m(h,p),onClick:x(h,p)}),g.createElement(l5,rc({option:j,isActive:f,shapeType:"sector"},w)))}))}function Ppe(e){var r,{pieSettings:s,displayedData:a,cells:n,offset:i}=e,{cornerRadius:l,startAngle:o,endAngle:c,dataKey:d,nameKey:u,tooltipType:m}=s,x=Math.abs(s.minAngle),h=vpe(o,c),p=Math.abs(h),f=a.length<=1?0:(r=s.paddingAngle)!==null&&r!==void 0?r:0,b=a.filter(S=>br(S,d,0)!==0).length,j=(p>=360?b:b-1)*f,w=p-b*x-j,y=a.reduce((S,k)=>{var C=br(k,d,0);return S+(bt(C)?C:0)},0),v;if(y>0){var N;v=a.map((S,k)=>{var C=br(S,d,0),P=br(S,u,k),_=bpe(s,i,S),A=(bt(C)?C:0)/y,D,F=$r($r({},S),n&&n[k]&&n[k].props);k?D=N.endAngle+Vs(h)*f*(C!==0?1:0):D=o;var X=D+Vs(h)*((C!==0?x:0)+A*w),ce=(D+X)/2,he=(_.innerRadius+_.outerRadius)/2,L=[{name:P,value:C,payload:F,dataKey:d,type:m}],q=Cs(_.cx,_.cy,he,ce);return N=$r($r($r($r({},s.presentationProps),{},{percent:A,cornerRadius:typeof l=="string"?parseFloat(l):l,name:P,tooltipPayload:L,midAngle:ce,middleRadius:he,tooltipPosition:q},F),_),{},{value:C,startAngle:D,endAngle:X,payload:F,paddingAngle:Vs(h)*f}),N})}return v}function Ape(e){var{showLabels:r,sectors:s,children:a}=e,n=g.useMemo(()=>!r||!s?[]:s.map(i=>({value:i.value,payload:i.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:i.cx,cy:i.cy,innerRadius:i.innerRadius,outerRadius:i.outerRadius,startAngle:i.startAngle,endAngle:i.endAngle,clockWise:!1},fill:i.fill})),[s,r]);return g.createElement(hxe,{value:r?n:void 0},a)}function Tpe(e){var{props:r,previousSectorsRef:s}=e,{sectors:a,isAnimationActive:n,animationBegin:i,animationDuration:l,animationEasing:o,activeShape:c,inactiveShape:d,onAnimationStart:u,onAnimationEnd:m}=r,x=vm(r,"recharts-pie-"),h=s.current,[p,f]=g.useState(!1),b=g.useCallback(()=>{typeof m=="function"&&m(),f(!1)},[m]),j=g.useCallback(()=>{typeof u=="function"&&u(),f(!0)},[u]);return g.createElement(Ape,{showLabels:!p,sectors:a},g.createElement(bm,{animationId:x,begin:i,duration:l,isActive:n,easing:o,onAnimationStart:j,onAnimationEnd:b,key:x},w=>{var y=[],v=a&&a[0],N=v==null?void 0:v.startAngle;return a==null||a.forEach((S,k)=>{var C=h&&h[k],P=k>0?md(S,"paddingAngle",0):0;if(C){var _=dr(C.endAngle-C.startAngle,S.endAngle-S.startAngle,w),A=$r($r({},S),{},{startAngle:N+P,endAngle:N+_+P});y.push(A),N=A.endAngle}else{var{endAngle:D,startAngle:F}=S,X=dr(0,D-F,w),ce=$r($r({},S),{},{startAngle:N+P,endAngle:N+X+P});y.push(ce),N=ce.endAngle}}),s.current=y,g.createElement(ls,null,g.createElement(Cpe,{sectors:y,activeShape:c,inactiveShape:d,allOtherPieProps:r}))}),g.createElement(kpe,{showLabels:!p,sectors:a,props:r}),r.children)}var Epe={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!ro.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:xs.area};function Ipe(e){var{id:r}=e,s=h5(e,cpe),{hide:a,className:n,rootTabIndex:i}=e,l=g.useMemo(()=>n5(e.children,tc),[e.children]),o=St(u=>Exe(u,r,l)),c=g.useRef(null),d=ar("recharts-pie",n);return a||o==null?(c.current=null,g.createElement(ls,{tabIndex:i,className:d})):g.createElement(Ba,{zIndex:e.zIndex},g.createElement(Hb,{fn:fpe,args:$r($r({},e),{},{sectors:o})}),g.createElement(ls,{tabIndex:i,className:d},g.createElement(Tpe,{props:$r($r({},s),{},{sectors:o}),previousSectorsRef:c})))}function N0(e){var r=os(e,Epe),{id:s}=r,a=h5(r,dpe),n=La(a);return g.createElement(Vb,{id:s,type:"pie"},i=>g.createElement(g.Fragment,null,g.createElement(lpe,{type:"pie",id:i,data:a.data,dataKey:a.dataKey,hide:a.hide,angleAxisId:0,radiusAxisId:0,name:a.name,nameKey:a.nameKey,tooltipType:a.tooltipType,legendType:a.legendType,fill:a.fill,cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,paddingAngle:a.paddingAngle,minAngle:a.minAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius,cornerRadius:a.cornerRadius,presentationProps:n,maxRadius:r.maxRadius}),g.createElement(ppe,rc({},a,{id:i})),g.createElement(Ipe,rc({},a,{id:i}))))}N0.displayName="Pie";var _pe=["points"];function Z8(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function _1(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?Z8(Object(s),!0).forEach(function(a){Ope(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Z8(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Ope(e,r,s){return(r=Dpe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Dpe(e){var r=Mpe(e,"string");return typeof r=="symbol"?r:r+""}function Mpe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Eg(){return Eg=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Eg.apply(null,arguments)}function Lpe(e,r){if(e==null)return{};var s,a,n=Fpe(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Fpe(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function Rpe(e){var{option:r,dotProps:s,className:a}=e;if(g.isValidElement(r))return g.cloneElement(r,s);if(typeof r=="function")return r(s);var n=ar(a,typeof r!="boolean"?r.className:""),i=s??{},{points:l}=i,o=Lpe(i,_pe);return g.createElement(SR,Eg({},o,{className:n}))}function Bpe(e,r){return e==null?!1:r?!0:e.length===1}function DR(e){var{points:r,dot:s,className:a,dotClassName:n,dataKey:i,baseProps:l,needClip:o,clipPathId:c,zIndex:d=xs.scatter}=e;if(!Bpe(r,s))return null;var u=i5(s),m=lse(s),x=r.map((p,f)=>{var b,j,w=_1(_1(_1({r:3},l),m),{},{index:f,cx:(b=p.x)!==null&&b!==void 0?b:void 0,cy:(j=p.y)!==null&&j!==void 0?j:void 0,dataKey:i,value:p.value,payload:p.payload,points:r});return g.createElement(Rpe,{key:"dot-".concat(f),option:s,dotProps:w,className:n})}),h={};return o&&c!=null&&(h.clipPath="url(#clipPath-".concat(u?"":"dots-").concat(c,")")),g.createElement(Ba,{zIndex:d},g.createElement(ls,Eg({className:a},h),x))}function eT(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function tT(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?eT(Object(s),!0).forEach(function(a){$pe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):eT(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function $pe(e,r,s){return(r=zpe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function zpe(e){var r=Upe(e,"string");return typeof r=="symbol"?r:r+""}function Upe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Hpe={xAxis:{},yAxis:{},zAxis:{}},MR=nn({name:"cartesianAxis",initialState:Hpe,reducers:{addXAxis:{reducer(e,r){e.xAxis[r.payload.id]=r.payload},prepare:Ds()},removeXAxis:{reducer(e,r){delete e.xAxis[r.payload.id]},prepare:Ds()},addYAxis:{reducer(e,r){e.yAxis[r.payload.id]=r.payload},prepare:Ds()},removeYAxis:{reducer(e,r){delete e.yAxis[r.payload.id]},prepare:Ds()},addZAxis:{reducer(e,r){e.zAxis[r.payload.id]=r.payload},prepare:Ds()},removeZAxis:{reducer(e,r){delete e.zAxis[r.payload.id]},prepare:Ds()},updateYAxisWidth(e,r){var{id:s,width:a}=r.payload,n=e.yAxis[s];if(n){var i=n.widthHistory||[];if(i.length===3&&i[0]===i[2]&&a===i[1]&&a!==n.width&&Math.abs(a-i[0])<=1)return;var l=[...i,a].slice(-3);e.yAxis[s]=tT(tT({},e.yAxis[s]),{},{width:a,widthHistory:l})}}}}),{addXAxis:Vpe,removeXAxis:Wpe,addYAxis:Gpe,removeYAxis:qpe,addZAxis:JSe,removeZAxis:QSe,updateYAxisWidth:Kpe}=MR.actions,Ype=MR.reducer,Xpe=we([Ls],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),Jpe=we([Xpe,eo,to],(e,r,s)=>{if(!(!e||r==null||s==null))return{x:e.left,y:e.top,width:Math.max(0,r-e.left-e.right),height:Math.max(0,s-e.top-e.bottom)}}),Wb=()=>St(Jpe),Qpe=()=>St(ihe);function rT(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function O1(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?rT(Object(s),!0).forEach(function(a){Zpe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):rT(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Zpe(e,r,s){return(r=efe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function efe(e){var r=tfe(e,"string");return typeof r=="symbol"?r:r+""}function tfe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var rfe=e=>{var{point:r,childIndex:s,mainColor:a,activeDot:n,dataKey:i}=e;if(n===!1||r.x==null||r.y==null)return null;var l={index:s,dataKey:i,cx:r.x,cy:r.y,r:4,fill:a??"none",strokeWidth:2,stroke:"#fff",payload:r.payload,value:r.value},o=O1(O1(O1({},l),ud(n)),S4(n)),c;return g.isValidElement(n)?c=g.cloneElement(n,o):typeof n=="function"?c=n(o):c=g.createElement(SR,o),g.createElement(ls,{className:"recharts-active-dot"},c)};function dw(e){var{points:r,mainColor:s,activeDot:a,itemDataKey:n,zIndex:i=xs.activeDot}=e,l=St(ec),o=Qpe();if(r==null||o==null)return null;var c=r.find(d=>o.includes(d.payload));return Lr(c)?null:g.createElement(Ba,{zIndex:i},g.createElement(rfe,{point:c,childIndex:Number(l),mainColor:s,dataKey:n,activeDot:a}))}var sfe="Invariant failed";function afe(e,r){throw new Error(sfe)}var nfe=["x","y"];function uw(){return uw=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},uw.apply(null,arguments)}function sT(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function sh(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?sT(Object(s),!0).forEach(function(a){ife(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):sT(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function ife(e,r,s){return(r=lfe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function lfe(e){var r=ofe(e,"string");return typeof r=="symbol"?r:r+""}function ofe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function cfe(e,r){if(e==null)return{};var s,a,n=dfe(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function dfe(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function ufe(e,r){var{x:s,y:a}=e,n=cfe(e,nfe),i="".concat(s),l=parseInt(i,10),o="".concat(a),c=parseInt(o,10),d="".concat(r.height||n.height),u=parseInt(d,10),m="".concat(r.width||n.width),x=parseInt(m,10);return sh(sh(sh(sh(sh({},r),n),l?{x:l}:{}),c?{y:c}:{}),{},{height:u,width:x,name:r.name,radius:r.radius})}function Ig(e){return g.createElement(l5,uw({shapeType:"rectangle",propTransformer:ufe,activeClassName:"recharts-active-bar"},e))}var mfe=function(r){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(a,n)=>{if(bt(r))return r;var i=bt(a)||Lr(a);return i?r(a,n):(i||afe(),s)}},hfe={},LR=nn({name:"errorBars",initialState:hfe,reducers:{addErrorBar:(e,r)=>{var{itemId:s,errorBar:a}=r.payload;e[s]||(e[s]=[]),e[s].push(a)},replaceErrorBar:(e,r)=>{var{itemId:s,prev:a,next:n}=r.payload;e[s]&&(e[s]=e[s].map(i=>i.dataKey===a.dataKey&&i.direction===a.direction?n:i))},removeErrorBar:(e,r)=>{var{itemId:s,errorBar:a}=r.payload;e[s]&&(e[s]=e[s].filter(n=>n.dataKey!==a.dataKey||n.direction!==a.direction))}}}),{addErrorBar:ZSe,replaceErrorBar:eke,removeErrorBar:tke}=LR.actions,xfe=LR.reducer,pfe=["children"];function ffe(e,r){if(e==null)return{};var s,a,n=gfe(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function gfe(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var yfe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},bfe=g.createContext(yfe);function FR(e){var{children:r}=e,s=ffe(e,pfe);return g.createElement(bfe.Provider,{value:s},r)}function Gb(e,r){var s,a,n=St(d=>ao(d,e)),i=St(d=>no(d,r)),l=(s=n==null?void 0:n.allowDataOverflow)!==null&&s!==void 0?s:ln.allowDataOverflow,o=(a=i==null?void 0:i.allowDataOverflow)!==null&&a!==void 0?a:on.allowDataOverflow,c=l||o;return{needClip:c,needClipX:l,needClipY:o}}function x5(e){var{xAxisId:r,yAxisId:s,clipPathId:a}=e,n=Wb(),{needClipX:i,needClipY:l,needClip:o}=Gb(r,s);if(!o||!n)return null;var{x:c,y:d,width:u,height:m}=n;return g.createElement("clipPath",{id:"clipPath-".concat(a)},g.createElement("rect",{x:i?c:c-u/2,y:l?d:d-m/2,width:i?u:u*2,height:l?m:m*2}))}function vfe(e,r){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&Fr(e.zIndex)?e.zIndex:r}var jfe=["onMouseEnter","onMouseLeave","onClick"],wfe=["value","background","tooltipPosition"],Nfe=["id"],Sfe=["onMouseEnter","onClick","onMouseLeave"];function ql(){return ql=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},ql.apply(null,arguments)}function aT(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Ta(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?aT(Object(s),!0).forEach(function(a){kfe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):aT(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function kfe(e,r,s){return(r=Cfe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Cfe(e){var r=Pfe(e,"string");return typeof r=="symbol"?r:r+""}function Pfe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function _g(e,r){if(e==null)return{};var s,a,n=Afe(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Afe(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var Tfe=e=>{var{dataKey:r,name:s,fill:a,legendType:n,hide:i}=e;return[{inactive:i,dataKey:r,type:n,color:a,value:dc(s,r),payload:e}]};function Efe(e){var{dataKey:r,stroke:s,strokeWidth:a,fill:n,name:i,hide:l,unit:o}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:s,strokeWidth:a,fill:n,dataKey:r,nameKey:void 0,name:dc(i,r),hide:l,type:e.tooltipType,color:e.fill,unit:o}}}function Ife(e){var r=St(ec),{data:s,dataKey:a,background:n,allOtherBarProps:i}=e,{onMouseEnter:l,onMouseLeave:o,onClick:c}=i,d=_g(i,jfe),u=o5(l,a),m=c5(o),x=d5(c,a);if(!n||s==null)return null;var h=ud(n);return g.createElement(Ba,{zIndex:vfe(n,xs.barBackground)},s.map((p,f)=>{var{value:b,background:j,tooltipPosition:w}=p,y=_g(p,wfe);if(!j)return null;var v=u(p,f),N=m(p,f),S=x(p,f),k=Ta(Ta(Ta(Ta(Ta({option:n,isActive:String(f)===r},y),{},{fill:"#eee"},j),h),ex(d,p,f)),{},{onMouseEnter:v,onMouseLeave:N,onClick:S,dataKey:a,index:f,className:"recharts-bar-background-rectangle"});return g.createElement(Ig,ql({key:"background-bar-".concat(f)},k))}))}function _fe(e){var{showLabels:r,children:s,rects:a}=e,n=a==null?void 0:a.map(i=>{var l={x:i.x,y:i.y,width:i.width,lowerWidth:i.width,upperWidth:i.width,height:i.height};return Ta(Ta({},l),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:l,fill:i.fill})});return g.createElement(e5,{value:r?n:void 0},s)}function Ofe(e){var{shape:r,activeBar:s,baseProps:a,entry:n,index:i,dataKey:l}=e,o=St(ec),c=St(XF),d=s&&String(i)===o&&(c==null||l===c),u=d?s:r;return d?g.createElement(Ba,{zIndex:xs.activeBar},g.createElement(Ig,ql({},a,{name:String(a.name)},n,{isActive:d,option:u,index:i,dataKey:l}))):g.createElement(Ig,ql({},a,{name:String(a.name)},n,{isActive:d,option:u,index:i,dataKey:l}))}function Dfe(e){var{shape:r,baseProps:s,entry:a,index:n,dataKey:i}=e;return g.createElement(Ig,ql({},s,{name:String(s.name)},a,{isActive:!1,option:r,index:n,dataKey:i}))}function Mfe(e){var r,{data:s,props:a}=e,n=(r=La(a))!==null&&r!==void 0?r:{},{id:i}=n,l=_g(n,Nfe),{shape:o,dataKey:c,activeBar:d}=a,{onMouseEnter:u,onClick:m,onMouseLeave:x}=a,h=_g(a,Sfe),p=o5(u,c),f=c5(x),b=d5(m,c);return s?g.createElement(g.Fragment,null,s.map((j,w)=>g.createElement(ls,ql({key:"rectangle-".concat(j==null?void 0:j.x,"-").concat(j==null?void 0:j.y,"-").concat(j==null?void 0:j.value,"-").concat(w),className:"recharts-bar-rectangle"},ex(h,j,w),{onMouseEnter:p(j,w),onMouseLeave:f(j,w),onClick:b(j,w)}),d?g.createElement(Ofe,{shape:o,activeBar:d,baseProps:l,entry:j,index:w,dataKey:c}):g.createElement(Dfe,{shape:o,baseProps:l,entry:j,index:w,dataKey:c})))):null}function Lfe(e){var{props:r,previousRectanglesRef:s}=e,{data:a,layout:n,isAnimationActive:i,animationBegin:l,animationDuration:o,animationEasing:c,onAnimationEnd:d,onAnimationStart:u}=r,m=s.current,x=vm(r,"recharts-bar-"),[h,p]=g.useState(!1),f=!h,b=g.useCallback(()=>{typeof d=="function"&&d(),p(!1)},[d]),j=g.useCallback(()=>{typeof u=="function"&&u(),p(!0)},[u]);return g.createElement(_fe,{showLabels:f,rects:a},g.createElement(bm,{animationId:x,begin:l,duration:o,isActive:i,easing:c,onAnimationEnd:b,onAnimationStart:j,key:x},w=>{var y=w===1?a:a==null?void 0:a.map((v,N)=>{var S=m&&m[N];if(S)return Ta(Ta({},v),{},{x:dr(S.x,v.x,w),y:dr(S.y,v.y,w),width:dr(S.width,v.width,w),height:dr(S.height,v.height,w)});if(n==="horizontal"){var k=dr(0,v.height,w),C=dr(v.stackedBarStart,v.y,w);return Ta(Ta({},v),{},{y:C,height:k})}var P=dr(0,v.width,w),_=dr(v.stackedBarStart,v.x,w);return Ta(Ta({},v),{},{width:P,x:_})});return w>0&&(s.current=y??null),y==null?null:g.createElement(ls,null,g.createElement(Mfe,{props:r,data:y}))}),g.createElement(Eb,{label:r.label}),r.children)}function Ffe(e){var r=g.useRef(null);return g.createElement(Lfe,{previousRectanglesRef:r,props:e})}var RR=0,Rfe=(e,r)=>{var s=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:s,errorVal:br(e,r)}};class Bfe extends g.PureComponent{render(){var{hide:r,data:s,dataKey:a,className:n,xAxisId:i,yAxisId:l,needClip:o,background:c,id:d}=this.props;if(r||s==null)return null;var u=ar("recharts-bar",n),m=d;return g.createElement(ls,{className:u,id:d},o&&g.createElement("defs",null,g.createElement(x5,{clipPathId:m,xAxisId:i,yAxisId:l})),g.createElement(ls,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(m,")"):void 0},g.createElement(Ife,{data:s,dataKey:a,background:c,allOtherBarProps:this.props}),g.createElement(Ffe,this.props)))}}var $fe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!ro.isSsr,legendType:"rect",minPointSize:RR,xAxisId:0,yAxisId:0,zIndex:xs.bar};function zfe(e){var{xAxisId:r,yAxisId:s,hide:a,legendType:n,minPointSize:i,activeBar:l,animationBegin:o,animationDuration:c,animationEasing:d,isAnimationActive:u}=e,{needClip:m}=Gb(r,s),x=ym(),h=Ks(),p=n5(e.children,tc),f=St(w=>pge(w,r,s,h,e.id,p));if(x!=="vertical"&&x!=="horizontal")return null;var b,j=f==null?void 0:f[0];return j==null||j.height==null||j.width==null?b=0:b=x==="vertical"?j.height/2:j.width/2,g.createElement(FR,{xAxisId:r,yAxisId:s,data:f,dataPointFormatter:Rfe,errorBarOffset:b},g.createElement(Bfe,ql({},e,{layout:x,needClip:m,data:f,xAxisId:r,yAxisId:s,hide:a,legendType:n,minPointSize:i,activeBar:l,animationBegin:o,animationDuration:c,animationEasing:d,isAnimationActive:u})))}function Ufe(e){var{layout:r,barSettings:{dataKey:s,minPointSize:a},pos:n,bandSize:i,xAxis:l,yAxis:o,xAxisTicks:c,yAxisTicks:d,stackedData:u,displayedData:m,offset:x,cells:h,parentViewBox:p,dataStartIndex:f}=e,b=r==="horizontal"?o:l,j=u?b.scale.domain():null,w=die({numericAxis:b}),y=b.scale(w);return m.map((v,N)=>{var S,k,C,P,_,A;u?S=nie(u[N+f],j):(S=br(v,s),Array.isArray(S)||(S=[w,S]));var D=mfe(a,RR)(S[1],N);if(r==="horizontal"){var F,[X,ce]=[o.scale(S[0]),o.scale(S[1])];k=KP({axis:l,ticks:c,bandSize:i,offset:n.offset,entry:v,index:N}),C=(F=ce??X)!==null&&F!==void 0?F:void 0,P=n.size;var he=X-ce;if(_=ai(he)?0:he,A={x:k,y:x.top,width:P,height:x.height},Math.abs(D)>0&&Math.abs(_)<Math.abs(D)){var L=Vs(_||D)*(Math.abs(D)-Math.abs(_));C-=L,_+=L}}else{var[q,se]=[l.scale(S[0]),l.scale(S[1])];if(k=q,C=KP({axis:o,ticks:d,bandSize:i,offset:n.offset,entry:v,index:N}),P=se-q,_=n.size,A={x:x.left,y:C,width:x.width,height:_},Math.abs(D)>0&&Math.abs(P)<Math.abs(D)){var R=Vs(P||D)*(Math.abs(D)-Math.abs(P));P+=R}}if(k==null||C==null||P==null||_==null)return null;var T=Ta(Ta({},v),{},{stackedBarStart:y,x:k,y:C,width:P,height:_,value:u?S:S[1],payload:v,background:A,tooltipPosition:{x:k+P/2,y:C+_/2},parentViewBox:p},h&&h[N]&&h[N].props);return T}).filter(Boolean)}function Hfe(e){var r=os(e,$fe),s=Ks();return g.createElement(Vb,{id:r.id,type:"bar"},a=>g.createElement(g.Fragment,null,g.createElement(u5,{legendPayload:Tfe(r)}),g.createElement(Hb,{fn:Efe,args:r}),g.createElement(m5,{type:"bar",id:a,data:void 0,xAxisId:r.xAxisId,yAxisId:r.yAxisId,zAxisId:0,dataKey:r.dataKey,stackId:CM(r.stackId),hide:r.hide,barSize:r.barSize,minPointSize:r.minPointSize,maxBarSize:r.maxBarSize,isPanorama:s}),g.createElement(Ba,{zIndex:r.zIndex},g.createElement(zfe,ql({},r,{id:a})))))}var p5=g.memo(Hfe);p5.displayName="Bar";function nT(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function gp(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?nT(Object(s),!0).forEach(function(a){Vfe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):nT(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Vfe(e,r,s){return(r=Wfe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Wfe(e){var r=Gfe(e,"string");return typeof r=="symbol"?r:r+""}function Gfe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var qfe=(e,r)=>r,Kfe=(e,r,s)=>s,Yfe=(e,r,s,a)=>a,Xfe=(e,r,s,a,n)=>n,gx=we([mx,Xfe],(e,r)=>e.filter(s=>s.type==="bar").find(s=>s.id===r)),Jfe=we([gx],e=>e==null?void 0:e.maxBarSize),Qfe=(e,r,s,a,n,i)=>i,iT=(e,r,s)=>{var a=s??e;if(!Lr(a))return ya(a,r,0)},Zfe=we([Kt,mx,qfe,Kfe,Yfe],(e,r,s,a,n)=>r.filter(i=>e==="horizontal"?i.xAxisId===s:i.yAxisId===a).filter(i=>i.isPanorama===n).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),ege=(e,r,s,a)=>{var n=Kt(e);return n==="horizontal"?j0(e,"yAxis",s,a):j0(e,"xAxis",r,a)},tge=(e,r,s)=>{var a=Kt(e);return a==="horizontal"?h8(e,"xAxis",r):h8(e,"yAxis",s)},rge=(e,r,s)=>{var a={},n=e.filter(vb),i=e.filter(d=>d.stackId==null),l=n.reduce((d,u)=>(d[u.stackId]||(d[u.stackId]=[]),d[u.stackId].push(u),d),a),o=Object.entries(l).map(d=>{var[u,m]=d,x=m.map(p=>p.dataKey),h=iT(r,s,m[0].barSize);return{stackId:u,dataKeys:x,barSize:h}}),c=i.map(d=>{var u=[d.dataKey].filter(x=>x!=null),m=iT(r,s,d.barSize);return{stackId:void 0,dataKeys:u,barSize:m}});return[...o,...c]},sge=we([Zfe,oue,tge],rge),age=(e,r,s,a,n)=>{var i,l,o=gx(e,r,s,a,n);if(o!=null){var c=Kt(e),d=XL(e),{maxBarSize:u}=o,m=Lr(u)?d:u,x,h;return c==="horizontal"?(x=nl(e,"xAxis",r,a),h=al(e,"xAxis",r,a)):(x=nl(e,"yAxis",s,a),h=al(e,"yAxis",s,a)),(i=(l=Zo(x,h,!0))!==null&&l!==void 0?l:m)!==null&&i!==void 0?i:0}},BR=(e,r,s,a)=>{var n=Kt(e),i,l;return n==="horizontal"?(i=nl(e,"xAxis",r,a),l=al(e,"xAxis",r,a)):(i=nl(e,"yAxis",s,a),l=al(e,"yAxis",s,a)),Zo(i,l)};function nge(e,r,s,a,n){var i=a.length;if(!(i<1)){var l=ya(e,s,0,!0),o,c=[];if(Fr(a[0].barSize)){var d=!1,u=s/i,m=a.reduce((j,w)=>j+(w.barSize||0),0);m+=(i-1)*l,m>=s&&(m-=(i-1)*l,l=0),m>=s&&u>0&&(d=!0,u*=.9,m=i*u);var x=(s-m)/2>>0,h={offset:x-l,size:0};o=a.reduce((j,w)=>{var y,v={stackId:w.stackId,dataKeys:w.dataKeys,position:{offset:h.offset+h.size+l,size:d?u:(y=w.barSize)!==null&&y!==void 0?y:0}},N=[...j,v];return h=N[N.length-1].position,N},c)}else{var p=ya(r,s,0,!0);s-2*p-(i-1)*l<=0&&(l=0);var f=(s-2*p-(i-1)*l)/i;f>1&&(f>>=0);var b=Fr(n)?Math.min(f,n):f;o=a.reduce((j,w,y)=>[...j,{stackId:w.stackId,dataKeys:w.dataKeys,position:{offset:p+(f+l)*y+(f-b)/2,size:b}}],c)}return o}}var ige=(e,r,s,a,n,i,l)=>{var o=Lr(l)?r:l,c=nge(s,a,n!==i?n:i,e,o);return n!==i&&c!=null&&(c=c.map(d=>gp(gp({},d),{},{position:gp(gp({},d.position),{},{offset:d.position.offset-n/2})}))),c},lge=we([sge,XL,lue,JL,age,BR,Jfe],ige),oge=(e,r,s,a)=>nl(e,"xAxis",r,a),cge=(e,r,s,a)=>nl(e,"yAxis",s,a),dge=(e,r,s,a)=>al(e,"xAxis",r,a),uge=(e,r,s,a)=>al(e,"yAxis",s,a),mge=we([lge,gx],(e,r)=>{if(!(e==null||r==null)){var s=e.find(a=>a.stackId===r.stackId&&r.dataKey!=null&&a.dataKeys.includes(r.dataKey));if(s!=null)return s.position}}),hge=(e,r)=>{var s=bb(r);if(!(!e||s==null||r==null)){var{stackId:a}=r;if(a!=null){var n=e[a];if(n){var{stackedData:i}=n;if(i)return i.find(l=>l.key===s)}}}},xge=we([ege,gx],hge),pge=we([Ls,U4,oge,cge,dge,uge,mge,Kt,ox,BR,xge,gx,Qfe],(e,r,s,a,n,i,l,o,c,d,u,m,x)=>{var{chartData:h,dataStartIndex:p,dataEndIndex:f}=c;if(!(m==null||l==null||r==null||o!=="horizontal"&&o!=="vertical"||s==null||a==null||n==null||i==null||d==null)){var{data:b}=m,j;if(b!=null&&b.length>0?j=b:j=h==null?void 0:h.slice(p,f+1),j!=null)return Ufe({layout:o,barSettings:m,pos:l,parentViewBox:r,bandSize:d,xAxis:s,yAxis:a,xAxisTicks:n,yAxisTicks:i,stackedData:u,displayedData:j,offset:e,cells:x,dataStartIndex:p})}}),$R=e=>{var{chartData:r}=e,s=Er(),a=Ks();return g.useEffect(()=>a?()=>{}:(s(k8(r)),()=>{s(k8(void 0))}),[r,s,a]),null},lT={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},zR=nn({name:"brush",initialState:lT,reducers:{setBrushSettings(e,r){return r.payload==null?lT:r.payload}}}),{setBrushSettings:rke}=zR.actions,fge=zR.reducer;function gge(e,r,s){return(r=yge(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function yge(e){var r=bge(e,"string");return typeof r=="symbol"?r:r+""}function bge(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}class f5{static create(r){return new f5(r)}constructor(r){this.scale=r}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(r){var{bandAware:s,position:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var n=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+n}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(r)+i}default:return this.scale(r)}if(s){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}isInRange(r){var s=this.range(),a=s[0],n=s[s.length-1];return a<=n?r>=a&&r<=n:r>=n&&r<=a}}gge(f5,"EPS",1e-4);function vge(e){return(e%180+180)%180}var jge=function(r){var{width:s,height:a}=r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=vge(n),l=i*Math.PI/180,o=Math.atan(a/s),c=l>o&&l<Math.PI-o?a/Math.sin(l):s/Math.cos(l);return Math.abs(c)},wge={dots:[],areas:[],lines:[]},UR=nn({name:"referenceElements",initialState:wge,reducers:{addDot:(e,r)=>{e.dots.push(r.payload)},removeDot:(e,r)=>{var s=Pl(e).dots.findIndex(a=>a===r.payload);s!==-1&&e.dots.splice(s,1)},addArea:(e,r)=>{e.areas.push(r.payload)},removeArea:(e,r)=>{var s=Pl(e).areas.findIndex(a=>a===r.payload);s!==-1&&e.areas.splice(s,1)},addLine:(e,r)=>{e.lines.push(r.payload)},removeLine:(e,r)=>{var s=Pl(e).lines.findIndex(a=>a===r.payload);s!==-1&&e.lines.splice(s,1)}}}),{addDot:ske,removeDot:ake,addArea:nke,removeArea:ike,addLine:lke,removeLine:oke}=UR.actions,Nge=UR.reducer,Sge=g.createContext(void 0),kge=e=>{var{children:r}=e,[s]=g.useState("".concat(u0("recharts"),"-clip")),a=Wb();if(a==null)return null;var{x:n,y:i,width:l,height:o}=a;return g.createElement(Sge.Provider,{value:s},g.createElement("defs",null,g.createElement("clipPath",{id:s},g.createElement("rect",{x:n,y:i,height:o,width:l}))),r)};function lm(e,r){for(var s in e)if({}.hasOwnProperty.call(e,s)&&(!{}.hasOwnProperty.call(r,s)||e[s]!==r[s]))return!1;for(var a in r)if({}.hasOwnProperty.call(r,a)&&!{}.hasOwnProperty.call(e,a))return!1;return!0}function HR(e,r){if(r<1)return[];if(r===1)return e;for(var s=[],a=0;a<e.length;a+=r)s.push(e[a]);return s}function Cge(e,r,s){var a={width:e.width+r.width,height:e.height+r.height};return jge(a,s)}function Pge(e,r,s){var a=s==="width",{x:n,y:i,width:l,height:o}=e;return r===1?{start:a?n:i,end:a?n+l:i+o}:{start:a?n+l:i+o,end:a?n:i}}function Og(e,r,s,a,n){if(e*r<e*a||e*r>e*n)return!1;var i=s();return e*(r-e*i/2-a)>=0&&e*(r+e*i/2-n)<=0}function Age(e,r){return HR(e,r+1)}function Tge(e,r,s,a,n){for(var i=(a||[]).slice(),{start:l,end:o}=r,c=0,d=1,u=l,m=function(){var p=a==null?void 0:a[c];if(p===void 0)return{v:HR(a,d)};var f=c,b,j=()=>(b===void 0&&(b=s(p,f)),b),w=p.coordinate,y=c===0||Og(e,w,j,u,o);y||(c=0,u=l,d+=1),y&&(u=w+e*(j()/2+n),c+=d)},x;d<=i.length;)if(x=m(),x)return x.v;return[]}function oT(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function ma(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?oT(Object(s),!0).forEach(function(a){Ege(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):oT(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Ege(e,r,s){return(r=Ige(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Ige(e){var r=_ge(e,"string");return typeof r=="symbol"?r:r+""}function _ge(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Oge(e,r,s,a,n){for(var i=(a||[]).slice(),l=i.length,{start:o}=r,{end:c}=r,d=function(x){var h=i[x],p,f=()=>(p===void 0&&(p=s(h,x)),p);if(x===l-1){var b=e*(h.coordinate+e*f()/2-c);i[x]=h=ma(ma({},h),{},{tickCoord:b>0?h.coordinate-b*e:h.coordinate})}else i[x]=h=ma(ma({},h),{},{tickCoord:h.coordinate});if(h.tickCoord!=null){var j=Og(e,h.tickCoord,f,o,c);j&&(c=h.tickCoord-e*(f()/2+n),i[x]=ma(ma({},h),{},{isShow:!0}))}},u=l-1;u>=0;u--)d(u);return i}function Dge(e,r,s,a,n,i){var l=(a||[]).slice(),o=l.length,{start:c,end:d}=r;if(i){var u=a[o-1],m=s(u,o-1),x=e*(u.coordinate+e*m/2-d);if(l[o-1]=u=ma(ma({},u),{},{tickCoord:x>0?u.coordinate-x*e:u.coordinate}),u.tickCoord!=null){var h=Og(e,u.tickCoord,()=>m,c,d);h&&(d=u.tickCoord-e*(m/2+n),l[o-1]=ma(ma({},u),{},{isShow:!0}))}}for(var p=i?o-1:o,f=function(w){var y=l[w],v,N=()=>(v===void 0&&(v=s(y,w)),v);if(w===0){var S=e*(y.coordinate-e*N()/2-c);l[w]=y=ma(ma({},y),{},{tickCoord:S<0?y.coordinate-S*e:y.coordinate})}else l[w]=y=ma(ma({},y),{},{tickCoord:y.coordinate});if(y.tickCoord!=null){var k=Og(e,y.tickCoord,N,c,d);k&&(c=y.tickCoord+e*(N()/2+n),l[w]=ma(ma({},y),{},{isShow:!0}))}},b=0;b<p;b++)f(b);return l}function g5(e,r,s){var{tick:a,ticks:n,viewBox:i,minTickGap:l,orientation:o,interval:c,tickFormatter:d,unit:u,angle:m}=e;if(!n||!n.length||!a)return[];if(bt(c)||ro.isSsr){var x;return(x=Age(n,bt(c)?c:0))!==null&&x!==void 0?x:[]}var h=[],p=o==="top"||o==="bottom"?"width":"height",f=u&&p==="width"?Ih(u,{fontSize:r,letterSpacing:s}):{width:0,height:0},b=(y,v)=>{var N=typeof d=="function"?d(y.value,v):y.value;return p==="width"?Cge(Ih(N,{fontSize:r,letterSpacing:s}),f,m):Ih(N,{fontSize:r,letterSpacing:s})[p]},j=n.length>=2?Vs(n[1].coordinate-n[0].coordinate):1,w=Pge(i,j,p);return c==="equidistantPreserveStart"?Tge(j,w,b,n,l):(c==="preserveStart"||c==="preserveStartEnd"?h=Dge(j,w,b,n,l,c==="preserveStartEnd"):h=Oge(j,w,b,n,l),h.filter(y=>y.isShow))}var Mge=e=>{var{ticks:r,label:s,labelGapWithTick:a=5,tickSize:n=0,tickMargin:i=0}=e,l=0;if(r){Array.from(r).forEach(u=>{if(u){var m=u.getBoundingClientRect();m.width>l&&(l=m.width)}});var o=s?s.getBoundingClientRect().width:0,c=n+i,d=l+c+o+(s?a:0);return Math.round(d)}return 0},Lge=["axisLine","width","height","className","hide","ticks","axisType"],Fge=["viewBox"],Rge=["viewBox"];function mw(e,r){if(e==null)return{};var s,a,n=Bge(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Bge(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function gd(){return gd=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},gd.apply(null,arguments)}function cT(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function ws(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?cT(Object(s),!0).forEach(function(a){$ge(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):cT(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function $ge(e,r,s){return(r=zge(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function zge(e){var r=Uge(e,"string");return typeof r=="symbol"?r:r+""}function Uge(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var y5={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:xs.axis};function Hge(e){var{x:r,y:s,width:a,height:n,orientation:i,mirror:l,axisLine:o,otherSvgProps:c}=e;if(!o)return null;var d=ws(ws(ws({},c),La(o)),{},{fill:"none"});if(i==="top"||i==="bottom"){var u=+(i==="top"&&!l||i==="bottom"&&l);d=ws(ws({},d),{},{x1:r,y1:s+u*n,x2:r+a,y2:s+u*n})}else{var m=+(i==="left"&&!l||i==="right"&&l);d=ws(ws({},d),{},{x1:r+m*a,y1:s,x2:r+m*a,y2:s+n})}return g.createElement("line",gd({},d,{className:ar("recharts-cartesian-axis-line",md(o,"className"))}))}function Vge(e,r,s,a,n,i,l,o,c){var d,u,m,x,h,p,f=o?-1:1,b=e.tickSize||l,j=bt(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":d=u=e.coordinate,x=s+ +!o*n,m=x-f*b,p=m-f*c,h=j;break;case"left":m=x=e.coordinate,u=r+ +!o*a,d=u-f*b,h=d-f*c,p=j;break;case"right":m=x=e.coordinate,u=r+ +o*a,d=u+f*b,h=d+f*c,p=j;break;default:d=u=e.coordinate,x=s+ +o*n,m=x+f*b,p=m+f*c,h=j;break}return{line:{x1:d,y1:m,x2:u,y2:x},tick:{x:h,y:p}}}function Wge(e,r){switch(e){case"left":return r?"start":"end";case"right":return r?"end":"start";default:return"middle"}}function Gge(e,r){switch(e){case"left":case"right":return"middle";case"top":return r?"start":"end";default:return r?"end":"start"}}function qge(e){var{option:r,tickProps:s,value:a}=e,n,i=ar(s.className,"recharts-cartesian-axis-tick-value");if(g.isValidElement(r))n=g.cloneElement(r,ws(ws({},s),{},{className:i}));else if(typeof r=="function")n=r(ws(ws({},s),{},{className:i}));else{var l="recharts-cartesian-axis-tick-value";typeof r!="boolean"&&(l=ar(l,r==null?void 0:r.className)),n=g.createElement(Tb,gd({},s,{className:l}),a)}return n}var Kge=g.forwardRef((e,r)=>{var{ticks:s=[],tick:a,tickLine:n,stroke:i,tickFormatter:l,unit:o,padding:c,tickTextProps:d,orientation:u,mirror:m,x,y:h,width:p,height:f,tickSize:b,tickMargin:j,fontSize:w,letterSpacing:y,getTicksConfig:v,events:N,axisType:S}=e,k=g5(ws(ws({},v),{},{ticks:s}),w,y),C=Wge(u,m),P=Gge(u,m),_=La(v),A=ud(a),D={};typeof n=="object"&&(D=n);var F=ws(ws({},_),{},{fill:"none"},D),X=k.map(L=>ws({entry:L},Vge(L,x,h,p,f,u,b,m,j))),ce=X.map(L=>{var{entry:q,line:se}=L;return g.createElement(ls,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(q.value,"-").concat(q.coordinate,"-").concat(q.tickCoord)},n&&g.createElement("line",gd({},F,se,{className:ar("recharts-cartesian-axis-tick-line",md(n,"className"))})))}),he=X.map((L,q)=>{var{entry:se,tick:R}=L,T=ws(ws(ws(ws({textAnchor:C,verticalAnchor:P},_),{},{stroke:"none",fill:i},A),R),{},{index:q,payload:se,visibleTicksCount:k.length,tickFormatter:l,padding:c},d);return g.createElement(ls,gd({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(se.value,"-").concat(se.coordinate,"-").concat(se.tickCoord)},ex(N,se,q)),a&&g.createElement(qge,{option:a,tickProps:T,value:"".concat(typeof l=="function"?l(se.value,q):se.value).concat(o||"")}))});return g.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(S,"-ticks")},he.length>0&&g.createElement(Ba,{zIndex:xs.label},g.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(S,"-tick-labels"),ref:r},he)),ce.length>0&&g.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(S,"-tick-lines")},ce))}),Yge=g.forwardRef((e,r)=>{var{axisLine:s,width:a,height:n,className:i,hide:l,ticks:o,axisType:c}=e,d=mw(e,Lge),[u,m]=g.useState(""),[x,h]=g.useState(""),p=g.useRef(null);g.useImperativeHandle(r,()=>({getCalculatedWidth:()=>{var b;return Mge({ticks:p.current,label:(b=e.labelRef)===null||b===void 0?void 0:b.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var f=g.useCallback(b=>{if(b){var j=b.getElementsByClassName("recharts-cartesian-axis-tick-value");p.current=j;var w=j[0];if(w){var y=window.getComputedStyle(w),v=y.fontSize,N=y.letterSpacing;(v!==u||N!==x)&&(m(v),h(N))}}},[u,x]);return l||a!=null&&a<=0||n!=null&&n<=0?null:g.createElement(Ba,{zIndex:e.zIndex},g.createElement(ls,{className:ar("recharts-cartesian-axis",i)},g.createElement(Hge,{x:e.x,y:e.y,width:a,height:n,orientation:e.orientation,mirror:e.mirror,axisLine:s,otherSvgProps:La(e)}),g.createElement(Kge,{ref:f,axisType:c,events:d,fontSize:u,getTicksConfig:e,height:e.height,letterSpacing:x,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:o,unit:e.unit,width:e.width,x:e.x,y:e.y}),g.createElement(X0e,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},g.createElement(ixe,{label:e.label,labelRef:e.labelRef}),e.children)))}),Xge=g.memo(Yge,(e,r)=>{var{viewBox:s}=e,a=mw(e,Fge),{viewBox:n}=r,i=mw(r,Rge);return lm(s,n)&&lm(a,i)}),b5=g.forwardRef((e,r)=>{var s=os(e,y5);return g.createElement(Xge,gd({},s,{ref:r}))});b5.displayName="CartesianAxis";var Jge=["x1","y1","x2","y2","key"],Qge=["offset"],Zge=["xAxisId","yAxisId"],eye=["xAxisId","yAxisId"];function dT(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function xa(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?dT(Object(s),!0).forEach(function(a){tye(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):dT(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function tye(e,r,s){return(r=rye(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function rye(e){var r=sye(e,"string");return typeof r=="symbol"?r:r+""}function sye(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Rc(){return Rc=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Rc.apply(null,arguments)}function Dg(e,r){if(e==null)return{};var s,a,n=aye(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function aye(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var nye=e=>{var{fill:r}=e;if(!r||r==="none")return null;var{fillOpacity:s,x:a,y:n,width:i,height:l,ry:o}=e;return g.createElement("rect",{x:a,y:n,ry:o,width:i,height:l,stroke:"none",fill:r,fillOpacity:s,className:"recharts-cartesian-grid-bg"})};function VR(e){var{option:r,lineItemProps:s}=e,a;if(g.isValidElement(r))a=g.cloneElement(r,s);else if(typeof r=="function")a=r(s);else{var n,{x1:i,y1:l,x2:o,y2:c,key:d}=s,u=Dg(s,Jge),m=(n=La(u))!==null&&n!==void 0?n:{},{offset:x}=m,h=Dg(m,Qge);a=g.createElement("line",Rc({},h,{x1:i,y1:l,x2:o,y2:c,fill:"none",key:d}))}return a}function iye(e){var{x:r,width:s,horizontal:a=!0,horizontalPoints:n}=e;if(!a||!n||!n.length)return null;var{xAxisId:i,yAxisId:l}=e,o=Dg(e,Zge),c=n.map((d,u)=>{var m=xa(xa({},o),{},{x1:r,y1:d,x2:r+s,y2:d,key:"line-".concat(u),index:u});return g.createElement(VR,{key:"line-".concat(u),option:a,lineItemProps:m})});return g.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function lye(e){var{y:r,height:s,vertical:a=!0,verticalPoints:n}=e;if(!a||!n||!n.length)return null;var{xAxisId:i,yAxisId:l}=e,o=Dg(e,eye),c=n.map((d,u)=>{var m=xa(xa({},o),{},{x1:d,y1:r,x2:d,y2:r+s,key:"line-".concat(u),index:u});return g.createElement(VR,{option:a,lineItemProps:m,key:"line-".concat(u)})});return g.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function oye(e){var{horizontalFill:r,fillOpacity:s,x:a,y:n,width:i,height:l,horizontalPoints:o,horizontal:c=!0}=e;if(!c||!r||!r.length||o==null)return null;var d=o.map(m=>Math.round(m+n-n)).sort((m,x)=>m-x);n!==d[0]&&d.unshift(0);var u=d.map((m,x)=>{var h=!d[x+1],p=h?n+l-m:d[x+1]-m;if(p<=0)return null;var f=x%r.length;return g.createElement("rect",{key:"react-".concat(x),y:m,x:a,height:p,width:i,stroke:"none",fill:r[f],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return g.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function cye(e){var{vertical:r=!0,verticalFill:s,fillOpacity:a,x:n,y:i,width:l,height:o,verticalPoints:c}=e;if(!r||!s||!s.length)return null;var d=c.map(m=>Math.round(m+n-n)).sort((m,x)=>m-x);n!==d[0]&&d.unshift(0);var u=d.map((m,x)=>{var h=!d[x+1],p=h?n+l-m:d[x+1]-m;if(p<=0)return null;var f=x%s.length;return g.createElement("rect",{key:"react-".concat(x),x:m,y:i,width:p,height:o,stroke:"none",fill:s[f],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return g.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var dye=(e,r)=>{var{xAxis:s,width:a,height:n,offset:i}=e;return SM(g5(xa(xa(xa({},y5),s),{},{ticks:kM(s),viewBox:{x:0,y:0,width:a,height:n}})),i.left,i.left+i.width,r)},uye=(e,r)=>{var{yAxis:s,width:a,height:n,offset:i}=e;return SM(g5(xa(xa(xa({},y5),s),{},{ticks:kM(s),viewBox:{x:0,y:0,width:a,height:n}})),i.top,i.top+i.height,r)},mye={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:xs.grid};function Yc(e){var r=V4(),s=W4(),a=FM(),n=xa(xa({},os(e,mye)),{},{x:bt(e.x)?e.x:a.left,y:bt(e.y)?e.y:a.top,width:bt(e.width)?e.width:a.width,height:bt(e.height)?e.height:a.height}),{xAxisId:i,yAxisId:l,x:o,y:c,width:d,height:u,syncWithTicks:m,horizontalValues:x,verticalValues:h}=n,p=Ks(),f=St(P=>x8(P,"xAxis",i,p)),b=St(P=>x8(P,"yAxis",l,p));if(!rl(d)||!rl(u)||!bt(o)||!bt(c))return null;var j=n.verticalCoordinatesGenerator||dye,w=n.horizontalCoordinatesGenerator||uye,{horizontalPoints:y,verticalPoints:v}=n;if((!y||!y.length)&&typeof w=="function"){var N=x&&x.length,S=w({yAxis:b?xa(xa({},b),{},{ticks:N?x:b.ticks}):void 0,width:r??d,height:s??u,offset:a},N?!0:m);og(Array.isArray(S),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(y=S)}if((!v||!v.length)&&typeof j=="function"){var k=h&&h.length,C=j({xAxis:f?xa(xa({},f),{},{ticks:k?h:f.ticks}):void 0,width:r??d,height:s??u,offset:a},k?!0:m);og(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof C,"]")),Array.isArray(C)&&(v=C)}return g.createElement(Ba,{zIndex:n.zIndex},g.createElement("g",{className:"recharts-cartesian-grid"},g.createElement(nye,{fill:n.fill,fillOpacity:n.fillOpacity,x:n.x,y:n.y,width:n.width,height:n.height,ry:n.ry}),g.createElement(oye,Rc({},n,{horizontalPoints:y})),g.createElement(cye,Rc({},n,{verticalPoints:v})),g.createElement(iye,Rc({},n,{offset:a,horizontalPoints:y,xAxis:f,yAxis:b})),g.createElement(lye,Rc({},n,{offset:a,verticalPoints:v,xAxis:f,yAxis:b}))))}Yc.displayName="CartesianGrid";var WR=(e,r,s,a)=>nl(e,"xAxis",r,a),GR=(e,r,s,a)=>al(e,"xAxis",r,a),qR=(e,r,s,a)=>nl(e,"yAxis",s,a),KR=(e,r,s,a)=>al(e,"yAxis",s,a),hye=we([Kt,WR,qR,GR,KR],(e,r,s,a,n)=>ol(e,"xAxis")?Zo(r,a,!1):Zo(s,n,!1)),xye=(e,r,s,a,n)=>n;function pye(e){return e.type==="line"}var fye=we([mx,xye],(e,r)=>e.filter(pye).find(s=>s.id===r)),gye=we([Kt,WR,qR,GR,KR,fye,hye,ox],(e,r,s,a,n,i,l,o)=>{var{chartData:c,dataStartIndex:d,dataEndIndex:u}=o;if(!(i==null||r==null||s==null||a==null||n==null||a.length===0||n.length===0||l==null)){var{dataKey:m,data:x}=i,h;if(x!=null&&x.length>0?h=x:h=c==null?void 0:c.slice(d,u+1),h!=null)return Fye({layout:e,xAxis:r,yAxis:s,xAxisTicks:a,yAxisTicks:n,dataKey:m,bandSize:l,displayedData:h})}});function YR(e){var r=ud(e),s=3,a=2;if(r!=null){var{r:n,strokeWidth:i}=r,l=Number(n),o=Number(i);return(Number.isNaN(l)||l<0)&&(l=s),(Number.isNaN(o)||o<0)&&(o=a),{r:l,strokeWidth:o}}return{r:s,strokeWidth:a}}var yye=["id"],bye=["type","layout","connectNulls","needClip","shape"],vye=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function S0(){return S0=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},S0.apply(null,arguments)}function uT(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function $i(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?uT(Object(s),!0).forEach(function(a){jye(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):uT(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function jye(e,r,s){return(r=wye(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function wye(e){var r=Nye(e,"string");return typeof r=="symbol"?r:r+""}function Nye(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function v5(e,r){if(e==null)return{};var s,a,n=Sye(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Sye(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var kye=e=>{var{dataKey:r,name:s,stroke:a,legendType:n,hide:i}=e;return[{inactive:i,dataKey:r,type:n,color:a,value:dc(s,r),payload:e}]};function Cye(e){var{dataKey:r,data:s,stroke:a,strokeWidth:n,fill:i,name:l,hide:o,unit:c}=e;return{dataDefinedOnItem:s,positions:void 0,settings:{stroke:a,strokeWidth:n,fill:i,dataKey:r,nameKey:void 0,name:dc(l,r),hide:o,type:e.tooltipType,color:e.stroke,unit:c}}}var XR=(e,r)=>"".concat(r,"px ").concat(e-r,"px");function Pye(e,r){for(var s=e.length%2!==0?[...e,0]:e,a=[],n=0;n<r;++n)a=[...a,...s];return a}var Aye=(e,r,s)=>{var a=s.reduce((m,x)=>m+x);if(!a)return XR(r,e);for(var n=Math.floor(e/a),i=e%a,l=r-e,o=[],c=0,d=0;c<s.length;d+=s[c],++c)if(d+s[c]>i){o=[...s.slice(0,c),i-d];break}var u=o.length%2===0?[0,l]:[l];return[...Pye(s,n),...o,...u].map(m=>"".concat(m,"px")).join(", ")};function Tye(e){var{clipPathId:r,points:s,props:a}=e,{dot:n,dataKey:i,needClip:l}=a,{id:o}=a,c=v5(a,yye),d=La(c);return g.createElement(DR,{points:s,dot:n,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:i,baseProps:d,needClip:l,clipPathId:r})}function Eye(e){var{showLabels:r,children:s,points:a}=e,n=g.useMemo(()=>a==null?void 0:a.map(i=>{var l,o,c={x:(l=i.x)!==null&&l!==void 0?l:0,y:(o=i.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return $i($i({},c),{},{value:i.value,payload:i.payload,viewBox:c,parentViewBox:void 0,fill:void 0})}),[a]);return g.createElement(e5,{value:r?n:void 0},s)}function mT(e){var{clipPathId:r,pathRef:s,points:a,strokeDasharray:n,props:i}=e,{type:l,layout:o,connectNulls:c,needClip:d,shape:u}=i,m=v5(i,bye),x=$i($i({},wa(m)),{},{fill:"none",className:"recharts-line-curve",clipPath:d?"url(#clipPath-".concat(r,")"):void 0,points:a,type:l,layout:o,connectNulls:c,strokeDasharray:n??i.strokeDasharray});return g.createElement(g.Fragment,null,(a==null?void 0:a.length)>1&&g.createElement(l5,S0({shapeType:"curve",option:u},x,{pathRef:s})),g.createElement(Tye,{points:a,clipPathId:r,props:i}))}function Iye(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function _ye(e){var{clipPathId:r,props:s,pathRef:a,previousPointsRef:n,longestAnimatedLengthRef:i}=e,{points:l,strokeDasharray:o,isAnimationActive:c,animationBegin:d,animationDuration:u,animationEasing:m,animateNewValues:x,width:h,height:p,onAnimationEnd:f,onAnimationStart:b}=s,j=n.current,w=vm(s,"recharts-line-"),[y,v]=g.useState(!1),N=!y,S=g.useCallback(()=>{typeof f=="function"&&f(),v(!1)},[f]),k=g.useCallback(()=>{typeof b=="function"&&b(),v(!0)},[b]),C=Iye(a.current),P=i.current;return g.createElement(Eye,{points:l,showLabels:N},s.children,g.createElement(bm,{animationId:w,begin:d,duration:u,isActive:c,easing:m,onAnimationEnd:S,onAnimationStart:k,key:w},_=>{var A=dr(P,C+P,_),D=Math.min(A,C),F;if(c)if(o){var X="".concat(o).split(/[,\s]+/gim).map(L=>parseFloat(L));F=Aye(D,C,X)}else F=XR(C,D);else F=o==null?void 0:String(o);if(j){var ce=j.length/l.length,he=_===1?l:l.map((L,q)=>{var se=Math.floor(q*ce);if(j[se]){var R=j[se];return $i($i({},L),{},{x:dr(R.x,L.x,_),y:dr(R.y,L.y,_)})}return x?$i($i({},L),{},{x:dr(h*2,L.x,_),y:dr(p/2,L.y,_)}):$i($i({},L),{},{x:L.x,y:L.y})});return n.current=he,g.createElement(mT,{props:s,points:he,clipPathId:r,pathRef:a,strokeDasharray:F})}return _>0&&C>0&&(n.current=l,i.current=D),g.createElement(mT,{props:s,points:l,clipPathId:r,pathRef:a,strokeDasharray:F})}),g.createElement(Eb,{label:s.label}))}function Oye(e){var{clipPathId:r,props:s}=e,a=g.useRef(null),n=g.useRef(0),i=g.useRef(null);return g.createElement(_ye,{props:s,clipPathId:r,previousPointsRef:a,longestAnimatedLengthRef:n,pathRef:i})}var Dye=(e,r)=>{var s,a;return{x:(s=e.x)!==null&&s!==void 0?s:void 0,y:(a=e.y)!==null&&a!==void 0?a:void 0,value:e.value,errorVal:br(e.payload,r)}};class Mye extends g.Component{render(){var{hide:r,dot:s,points:a,className:n,xAxisId:i,yAxisId:l,top:o,left:c,width:d,height:u,id:m,needClip:x,zIndex:h}=this.props;if(r)return null;var p=ar("recharts-line",n),f=m,{r:b,strokeWidth:j}=YR(s),w=i5(s),y=b*2+j;return g.createElement(Ba,{zIndex:h},g.createElement(ls,{className:p},x&&g.createElement("defs",null,g.createElement(x5,{clipPathId:f,xAxisId:i,yAxisId:l}),!w&&g.createElement("clipPath",{id:"clipPath-dots-".concat(f)},g.createElement("rect",{x:c-y/2,y:o-y/2,width:d+y,height:u+y}))),g.createElement(FR,{xAxisId:i,yAxisId:l,data:a,dataPointFormatter:Dye,errorBarOffset:0},g.createElement(Oye,{props:this.props,clipPathId:f}))),g.createElement(dw,{activeDot:this.props.activeDot,points:a,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var JR={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!ro.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:xs.line};function Lye(e){var r=os(e,JR),{activeDot:s,animateNewValues:a,animationBegin:n,animationDuration:i,animationEasing:l,connectNulls:o,dot:c,hide:d,isAnimationActive:u,label:m,legendType:x,xAxisId:h,yAxisId:p,id:f}=r,b=v5(r,vye),{needClip:j}=Gb(h,p),w=Wb(),y=ym(),v=Ks(),N=St(_=>gye(_,h,p,v,f));if(y!=="horizontal"&&y!=="vertical"||N==null||w==null)return null;var{height:S,width:k,x:C,y:P}=w;return g.createElement(Mye,S0({},b,{id:f,connectNulls:o,dot:c,activeDot:s,animateNewValues:a,animationBegin:n,animationDuration:i,animationEasing:l,isAnimationActive:u,hide:d,label:m,legendType:x,xAxisId:h,yAxisId:p,points:N,layout:y,height:S,width:k,left:C,top:P,needClip:j}))}function Fye(e){var{layout:r,xAxis:s,yAxis:a,xAxisTicks:n,yAxisTicks:i,dataKey:l,bandSize:o,displayedData:c}=e;return c.map((d,u)=>{var m=br(d,l);if(r==="horizontal"){var x=lg({axis:s,ticks:n,bandSize:o,entry:d,index:u}),h=Lr(m)?null:a.scale(m);return{x,y:h,value:m,payload:d}}var p=Lr(m)?null:s.scale(m),f=lg({axis:a,ticks:i,bandSize:o,entry:d,index:u});return p==null||f==null?null:{x:p,y:f,value:m,payload:d}}).filter(Boolean)}function Rye(e){var r=os(e,JR),s=Ks();return g.createElement(Vb,{id:r.id,type:"line"},a=>g.createElement(g.Fragment,null,g.createElement(u5,{legendPayload:kye(r)}),g.createElement(Hb,{fn:Cye,args:r}),g.createElement(m5,{type:"line",id:a,data:r.data,xAxisId:r.xAxisId,yAxisId:r.yAxisId,zAxisId:0,dataKey:r.dataKey,hide:r.hide,isPanorama:s}),g.createElement(Lye,S0({},r,{id:a}))))}var QR=g.memo(Rye);QR.displayName="Line";var ZR=(e,r,s,a)=>nl(e,"xAxis",r,a),eB=(e,r,s,a)=>al(e,"xAxis",r,a),tB=(e,r,s,a)=>nl(e,"yAxis",s,a),rB=(e,r,s,a)=>al(e,"yAxis",s,a),Bye=we([Kt,ZR,tB,eB,rB],(e,r,s,a,n)=>ol(e,"xAxis")?Zo(r,a,!1):Zo(s,n,!1)),$ye=(e,r,s,a,n)=>n,sB=we([mx,$ye],(e,r)=>e.filter(s=>s.type==="area").find(s=>s.id===r)),zye=(e,r,s,a,n)=>{var i,l=sB(e,r,s,a,n);if(l!=null){var o=Kt(e),c=ol(o,"xAxis"),d;if(c?d=j0(e,"yAxis",s,a):d=j0(e,"xAxis",r,a),d!=null){var{stackId:u}=l,m=bb(l);if(!(u==null||m==null)){var x=(i=d[u])===null||i===void 0?void 0:i.stackedData;return x==null?void 0:x.find(h=>h.key===m)}}}},Uye=we([Kt,ZR,tB,eB,rB,zye,ox,Bye,sB,cue],(e,r,s,a,n,i,l,o,c,d)=>{var{chartData:u,dataStartIndex:m,dataEndIndex:x}=l;if(!(c==null||e!=="horizontal"&&e!=="vertical"||r==null||s==null||a==null||n==null||a.length===0||n.length===0||o==null)){var{data:h}=c,p;if(h&&h.length>0?p=h:p=u==null?void 0:u.slice(m,x+1),p!=null)return lbe({layout:e,xAxis:r,yAxis:s,xAxisTicks:a,yAxisTicks:n,dataStartIndex:m,areaSettings:c,stackedData:i,displayedData:p,chartBaseValue:d,bandSize:o})}}),Hye=["id"],Vye=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function Xc(){return Xc=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Xc.apply(null,arguments)}function aB(e,r){if(e==null)return{};var s,a,n=Wye(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Wye(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function hT(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function fu(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?hT(Object(s),!0).forEach(function(a){Gye(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):hT(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Gye(e,r,s){return(r=qye(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function qye(e){var r=Kye(e,"string");return typeof r=="symbol"?r:r+""}function Kye(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Mg(e,r){return e&&e!=="none"?e:r}var Yye=e=>{var{dataKey:r,name:s,stroke:a,fill:n,legendType:i,hide:l}=e;return[{inactive:l,dataKey:r,type:i,color:Mg(a,n),value:dc(s,r),payload:e}]};function Xye(e){var{dataKey:r,data:s,stroke:a,strokeWidth:n,fill:i,name:l,hide:o,unit:c}=e;return{dataDefinedOnItem:s,positions:void 0,settings:{stroke:a,strokeWidth:n,fill:i,dataKey:r,nameKey:void 0,name:dc(l,r),hide:o,type:e.tooltipType,color:Mg(a,i),unit:c}}}function Jye(e){var{clipPathId:r,points:s,props:a}=e,{needClip:n,dot:i,dataKey:l}=a,o=La(a);return g.createElement(DR,{points:s,dot:i,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:l,baseProps:o,needClip:n,clipPathId:r})}function Qye(e){var{showLabels:r,children:s,points:a}=e,n=a.map(i=>{var l,o,c={x:(l=i.x)!==null&&l!==void 0?l:0,y:(o=i.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return fu(fu({},c),{},{value:i.value,payload:i.payload,parentViewBox:void 0,viewBox:c,fill:void 0})});return g.createElement(e5,{value:r?n:void 0},s)}function xT(e){var{points:r,baseLine:s,needClip:a,clipPathId:n,props:i}=e,{layout:l,type:o,stroke:c,connectNulls:d,isRange:u}=i,{id:m}=i,x=aB(i,Hye),h=La(x),p=wa(x);return g.createElement(g.Fragment,null,(r==null?void 0:r.length)>1&&g.createElement(ls,{clipPath:a?"url(#clipPath-".concat(n,")"):void 0},g.createElement(Iu,Xc({},p,{id:m,points:r,connectNulls:d,type:o,baseLine:s,layout:l,stroke:"none",className:"recharts-area-area"})),c!=="none"&&g.createElement(Iu,Xc({},h,{className:"recharts-area-curve",layout:l,type:o,connectNulls:d,fill:"none",points:r})),c!=="none"&&u&&g.createElement(Iu,Xc({},h,{className:"recharts-area-curve",layout:l,type:o,connectNulls:d,fill:"none",points:s}))),g.createElement(Jye,{points:r,props:x,clipPathId:n}))}function Zye(e){var{alpha:r,baseLine:s,points:a,strokeWidth:n}=e,i=a[0].y,l=a[a.length-1].y;if(!Fr(i)||!Fr(l))return null;var o=r*Math.abs(i-l),c=Math.max(...a.map(d=>d.x||0));return bt(s)?c=Math.max(s,c):s&&Array.isArray(s)&&s.length&&(c=Math.max(...s.map(d=>d.x||0),c)),bt(c)?g.createElement("rect",{x:0,y:i<l?i:i-o,width:c+(n?parseInt("".concat(n),10):1),height:Math.floor(o)}):null}function ebe(e){var{alpha:r,baseLine:s,points:a,strokeWidth:n}=e,i=a[0].x,l=a[a.length-1].x;if(!Fr(i)||!Fr(l))return null;var o=r*Math.abs(i-l),c=Math.max(...a.map(d=>d.y||0));return bt(s)?c=Math.max(s,c):s&&Array.isArray(s)&&s.length&&(c=Math.max(...s.map(d=>d.y||0),c)),bt(c)?g.createElement("rect",{x:i<l?i:i-o,y:0,width:o,height:Math.floor(c+(n?parseInt("".concat(n),10):1))}):null}function tbe(e){var{alpha:r,layout:s,points:a,baseLine:n,strokeWidth:i}=e;return s==="vertical"?g.createElement(Zye,{alpha:r,points:a,baseLine:n,strokeWidth:i}):g.createElement(ebe,{alpha:r,points:a,baseLine:n,strokeWidth:i})}function rbe(e){var{needClip:r,clipPathId:s,props:a,previousPointsRef:n,previousBaselineRef:i}=e,{points:l,baseLine:o,isAnimationActive:c,animationBegin:d,animationDuration:u,animationEasing:m,onAnimationStart:x,onAnimationEnd:h}=a,p=vm(a,"recharts-area-"),[f,b]=g.useState(!1),j=!f,w=g.useCallback(()=>{typeof h=="function"&&h(),b(!1)},[h]),y=g.useCallback(()=>{typeof x=="function"&&x(),b(!0)},[x]),v=n.current,N=i.current;return g.createElement(Qye,{showLabels:j,points:l},a.children,g.createElement(bm,{animationId:p,begin:d,duration:u,isActive:c,easing:m,onAnimationEnd:w,onAnimationStart:y,key:p},S=>{if(v){var k=v.length/l.length,C=S===1?l:l.map((_,A)=>{var D=Math.floor(A*k);if(v[D]){var F=v[D];return fu(fu({},_),{},{x:dr(F.x,_.x,S),y:dr(F.y,_.y,S)})}return _}),P;return bt(o)?P=dr(N,o,S):Lr(o)||ai(o)?P=dr(N,0,S):P=o.map((_,A)=>{var D=Math.floor(A*k);if(Array.isArray(N)&&N[D]){var F=N[D];return fu(fu({},_),{},{x:dr(F.x,_.x,S),y:dr(F.y,_.y,S)})}return _}),S>0&&(n.current=C,i.current=P),g.createElement(xT,{points:C,baseLine:P,needClip:r,clipPathId:s,props:a})}return S>0&&(n.current=l,i.current=o),g.createElement(ls,null,c&&g.createElement("defs",null,g.createElement("clipPath",{id:"animationClipPath-".concat(s)},g.createElement(tbe,{alpha:S,points:l,baseLine:o,layout:a.layout,strokeWidth:a.strokeWidth}))),g.createElement(ls,{clipPath:"url(#animationClipPath-".concat(s,")")},g.createElement(xT,{points:l,baseLine:o,needClip:r,clipPathId:s,props:a})))}),g.createElement(Eb,{label:a.label}))}function sbe(e){var{needClip:r,clipPathId:s,props:a}=e,n=g.useRef(null),i=g.useRef();return g.createElement(rbe,{needClip:r,clipPathId:s,props:a,previousPointsRef:n,previousBaselineRef:i})}class abe extends g.PureComponent{render(){var{hide:r,dot:s,points:a,className:n,top:i,left:l,needClip:o,xAxisId:c,yAxisId:d,width:u,height:m,id:x,baseLine:h,zIndex:p}=this.props;if(r)return null;var f=ar("recharts-area",n),b=x,{r:j,strokeWidth:w}=YR(s),y=i5(s),v=j*2+w;return g.createElement(Ba,{zIndex:p},g.createElement(ls,{className:f},o&&g.createElement("defs",null,g.createElement(x5,{clipPathId:b,xAxisId:c,yAxisId:d}),!y&&g.createElement("clipPath",{id:"clipPath-dots-".concat(b)},g.createElement("rect",{x:l-v/2,y:i-v/2,width:u+v,height:m+v}))),g.createElement(sbe,{needClip:o,clipPathId:b,props:this.props})),g.createElement(dw,{points:a,mainColor:Mg(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(h)&&g.createElement(dw,{points:h,mainColor:Mg(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var nB={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!ro.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0,zIndex:xs.area};function nbe(e){var r,s=os(e,nB),{activeDot:a,animationBegin:n,animationDuration:i,animationEasing:l,connectNulls:o,dot:c,fill:d,fillOpacity:u,hide:m,isAnimationActive:x,legendType:h,stroke:p,xAxisId:f,yAxisId:b}=s,j=aB(s,Vye),w=ym(),y=ZF(),{needClip:v}=Gb(f,b),N=Ks(),{points:S,isRange:k,baseLine:C}=(r=St(X=>Uye(X,f,b,N,e.id)))!==null&&r!==void 0?r:{},P=Wb();if(w!=="horizontal"&&w!=="vertical"||P==null||y!=="AreaChart"&&y!=="ComposedChart")return null;var{height:_,width:A,x:D,y:F}=P;return!S||!S.length?null:g.createElement(abe,Xc({},j,{activeDot:a,animationBegin:n,animationDuration:i,animationEasing:l,baseLine:C,connectNulls:o,dot:c,fill:d,fillOpacity:u,height:_,hide:m,layout:w,isAnimationActive:x,isRange:k,legendType:h,needClip:v,points:S,stroke:p,width:A,left:D,top:F,xAxisId:f,yAxisId:b}))}var ibe=(e,r,s,a,n)=>{var i=s??r;if(bt(i))return i;var l=e==="horizontal"?n:a,o=l.scale.domain();if(l.type==="number"){var c=Math.max(o[0],o[1]),d=Math.min(o[0],o[1]);return i==="dataMin"?d:i==="dataMax"||c<0?c:Math.max(Math.min(o[0],o[1]),0)}return i==="dataMin"?o[0]:i==="dataMax"?o[1]:o[0]};function lbe(e){var{areaSettings:{connectNulls:r,baseValue:s,dataKey:a},stackedData:n,layout:i,chartBaseValue:l,xAxis:o,yAxis:c,displayedData:d,dataStartIndex:u,xAxisTicks:m,yAxisTicks:x,bandSize:h}=e,p=n&&n.length,f=ibe(i,l,s,o,c),b=i==="horizontal",j=!1,w=d.map((v,N)=>{var S;p?S=n[u+N]:(S=br(v,a),Array.isArray(S)?j=!0:S=[f,S]);var k=S[1]==null||p&&!r&&br(v,a)==null;return b?{x:lg({axis:o,ticks:m,bandSize:h,entry:v,index:N}),y:k?null:c.scale(S[1]),value:S,payload:v}:{x:k?null:o.scale(S[1]),y:lg({axis:c,ticks:x,bandSize:h,entry:v,index:N}),value:S,payload:v}}),y;return p||j?y=w.map(v=>{var N=Array.isArray(v.value)?v.value[0]:null;return b?{x:v.x,y:N!=null&&v.y!=null?c.scale(N):null,payload:v.payload}:{x:N!=null?o.scale(N):null,y:v.y,payload:v.payload}}):y=b?c.scale(f):o.scale(f),{points:w,baseLine:y,isRange:j}}function obe(e){var r=os(e,nB),s=Ks();return g.createElement(Vb,{id:r.id,type:"area"},a=>g.createElement(g.Fragment,null,g.createElement(u5,{legendPayload:Yye(r)}),g.createElement(Hb,{fn:Xye,args:r}),g.createElement(m5,{type:"area",id:a,data:r.data,dataKey:r.dataKey,xAxisId:r.xAxisId,yAxisId:r.yAxisId,zAxisId:0,stackId:CM(r.stackId),hide:r.hide,barSize:void 0,baseValue:r.baseValue,isPanorama:s,connectNulls:r.connectNulls}),g.createElement(nbe,Xc({},r,{id:a}))))}var k0=g.memo(obe);k0.displayName="Area";var cbe=["dangerouslySetInnerHTML","ticks"],dbe=["id"],ube=["domain"],mbe=["domain"];function hw(){return hw=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},hw.apply(null,arguments)}function Lg(e,r){if(e==null)return{};var s,a,n=hbe(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function hbe(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function xbe(e){var r=Er();return g.useLayoutEffect(()=>(r(Vpe(e)),()=>{r(Wpe(e))}),[e,r]),null}var pbe=e=>{var{xAxisId:r,className:s}=e,a=St(U4),n=Ks(),i="xAxis",l=St(b=>Pm(b,i,r,n)),o=St(b=>TF(b,i,r,n)),c=St(b=>kF(b,r)),d=St(b=>ime(b,r)),u=St(b=>nF(b,r));if(c==null||d==null||u==null)return null;var{dangerouslySetInnerHTML:m,ticks:x}=e,h=Lg(e,cbe),{id:p}=u,f=Lg(u,dbe);return g.createElement(b5,hw({},h,f,{scale:l,x:d.x,y:d.y,width:c.width,height:c.height,className:ar("recharts-".concat(i," ").concat(i),s),viewBox:a,ticks:o,axisType:i}))},fbe={allowDataOverflow:ln.allowDataOverflow,allowDecimals:ln.allowDecimals,allowDuplicatedCategory:ln.allowDuplicatedCategory,height:ln.height,hide:!1,mirror:ln.mirror,orientation:ln.orientation,padding:ln.padding,reversed:ln.reversed,scale:ln.scale,tickCount:ln.tickCount,type:ln.type,xAxisId:0},gbe=e=>{var r,s,a,n,i,l=os(e,fbe);return g.createElement(g.Fragment,null,g.createElement(xbe,{interval:(r=l.interval)!==null&&r!==void 0?r:"preserveEnd",id:l.xAxisId,scale:l.scale,type:l.type,padding:l.padding,allowDataOverflow:l.allowDataOverflow,domain:l.domain,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,includeHidden:(s=l.includeHidden)!==null&&s!==void 0?s:!1,reversed:l.reversed,ticks:l.ticks,height:l.height,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(a=l.angle)!==null&&a!==void 0?a:0,minTickGap:(n=l.minTickGap)!==null&&n!==void 0?n:5,tick:(i=l.tick)!==null&&i!==void 0?i:!0,tickFormatter:l.tickFormatter}),g.createElement(pbe,l))},ybe=(e,r)=>{var{domain:s}=e,a=Lg(e,ube),{domain:n}=r,i=Lg(r,mbe);return lm(a,i)?Array.isArray(s)&&s.length===2&&Array.isArray(n)&&n.length===2?s[0]===n[0]&&s[1]===n[1]:lm({domain:s},{domain:n}):!1},Jc=g.memo(gbe,ybe);Jc.displayName="XAxis";var bbe=["dangerouslySetInnerHTML","ticks"],vbe=["id"],jbe=["domain"],wbe=["domain"];function xw(){return xw=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},xw.apply(null,arguments)}function Fg(e,r){if(e==null)return{};var s,a,n=Nbe(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Nbe(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function Sbe(e){var r=Er();return g.useLayoutEffect(()=>(r(Gpe(e)),()=>{r(qpe(e))}),[e,r]),null}var kbe=e=>{var{yAxisId:r,className:s,width:a,label:n}=e,i=g.useRef(null),l=g.useRef(null),o=St(U4),c=Ks(),d=Er(),u="yAxis",m=St(N=>Pm(N,u,r,c)),x=St(N=>CF(N,r)),h=St(N=>ome(N,r)),p=St(N=>TF(N,u,r,c)),f=St(N=>iF(N,r));if(g.useLayoutEffect(()=>{if(!(a!=="auto"||!x||Z3(n)||g.isValidElement(n)||f==null)){var N=i.current;if(N){var S=N.getCalculatedWidth();Math.round(x.width)!==Math.round(S)&&d(Kpe({id:r,width:S}))}}},[p,x,d,n,r,a,f]),x==null||h==null||f==null)return null;var{dangerouslySetInnerHTML:b,ticks:j}=e,w=Fg(e,bbe),{id:y}=f,v=Fg(f,vbe);return g.createElement(b5,xw({},w,v,{ref:i,labelRef:l,scale:m,x:h.x,y:h.y,tickTextProps:a==="auto"?{width:void 0}:{width:a},width:x.width,height:x.height,className:ar("recharts-".concat(u," ").concat(u),s),viewBox:o,ticks:p,axisType:u}))},Cbe={allowDataOverflow:on.allowDataOverflow,allowDecimals:on.allowDecimals,allowDuplicatedCategory:on.allowDuplicatedCategory,hide:!1,mirror:on.mirror,orientation:on.orientation,padding:on.padding,reversed:on.reversed,scale:on.scale,tickCount:on.tickCount,type:on.type,width:on.width,yAxisId:0},Pbe=e=>{var r,s,a,n,i,l=os(e,Cbe);return g.createElement(g.Fragment,null,g.createElement(Sbe,{interval:(r=l.interval)!==null&&r!==void 0?r:"preserveEnd",id:l.yAxisId,scale:l.scale,type:l.type,domain:l.domain,allowDataOverflow:l.allowDataOverflow,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,padding:l.padding,includeHidden:(s=l.includeHidden)!==null&&s!==void 0?s:!1,reversed:l.reversed,ticks:l.ticks,width:l.width,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(a=l.angle)!==null&&a!==void 0?a:0,minTickGap:(n=l.minTickGap)!==null&&n!==void 0?n:5,tick:(i=l.tick)!==null&&i!==void 0?i:!0,tickFormatter:l.tickFormatter}),g.createElement(kbe,l))},Abe=(e,r)=>{var{domain:s}=e,a=Fg(e,jbe),{domain:n}=r,i=Fg(r,wbe);return lm(a,i)?Array.isArray(s)&&s.length===2&&Array.isArray(n)&&n.length===2?s[0]===n[0]&&s[1]===n[1]:lm({domain:s},{domain:n}):!1},Qc=g.memo(Pbe,Abe);Qc.displayName="YAxis";var Tbe={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yx=g;function Ebe(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var Ibe=typeof Object.is=="function"?Object.is:Ebe,_be=yx.useSyncExternalStore,Obe=yx.useRef,Dbe=yx.useEffect,Mbe=yx.useMemo,Lbe=yx.useDebugValue;Tbe.useSyncExternalStoreWithSelector=function(e,r,s,a,n){var i=Obe(null);if(i.current===null){var l={hasValue:!1,value:null};i.current=l}else l=i.current;i=Mbe(function(){function c(h){if(!d){if(d=!0,u=h,h=a(h),n!==void 0&&l.hasValue){var p=l.value;if(n(p,h))return m=p}return m=h}if(p=m,Ibe(u,h))return p;var f=a(h);return n!==void 0&&n(p,f)?(u=h,p):(u=h,m=f)}var d=!1,u,m,x=s===void 0?null:s;return[function(){return c(r())},x===null?void 0:function(){return c(x())}]},[r,s,a,n]);var o=_be(e,i[0],i[1]);return Dbe(function(){l.hasValue=!0,l.value=o},[o]),Lbe(o),o};function Fbe(e){e()}function Rbe(){let e=null,r=null;return{clear(){e=null,r=null},notify(){Fbe(()=>{let s=e;for(;s;)s.callback(),s=s.next})},get(){const s=[];let a=e;for(;a;)s.push(a),a=a.next;return s},subscribe(s){let a=!0;const n=r={callback:s,next:null,prev:r};return n.prev?n.prev.next=n:e=n,function(){!a||e===null||(a=!1,n.next?n.next.prev=n.prev:r=n.prev,n.prev?n.prev.next=n.next:e=n.next)}}}}var pT={notify(){},get:()=>[]};function Bbe(e,r){let s,a=pT,n=0,i=!1;function l(f){u();const b=a.subscribe(f);let j=!1;return()=>{j||(j=!0,b(),m())}}function o(){a.notify()}function c(){p.onStateChange&&p.onStateChange()}function d(){return i}function u(){n++,s||(s=e.subscribe(c),a=Rbe())}function m(){n--,s&&n===0&&(s(),s=void 0,a.clear(),a=pT)}function x(){i||(i=!0,u())}function h(){i&&(i=!1,m())}const p={addNestedSub:l,notifyNestedSubs:o,handleChangeWrapper:c,isSubscribed:d,trySubscribe:x,tryUnsubscribe:h,getListeners:()=>a};return p}var $be=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",zbe=$be(),Ube=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Hbe=Ube(),Vbe=()=>zbe||Hbe?g.useLayoutEffect:g.useEffect,Wbe=Vbe(),D1=Symbol.for("react-redux-context"),M1=typeof globalThis<"u"?globalThis:{};function Gbe(){if(!g.createContext)return{};const e=M1[D1]??(M1[D1]=new Map);let r=e.get(g.createContext);return r||(r=g.createContext(null),e.set(g.createContext,r)),r}var qbe=Gbe();function Kbe(e){const{children:r,context:s,serverState:a,store:n}=e,i=g.useMemo(()=>{const c=Bbe(n);return{store:n,subscription:c,getServerState:a?()=>a:void 0}},[n,a]),l=g.useMemo(()=>n.getState(),[n]);Wbe(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),l!==n.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,l]);const o=s||qbe;return g.createElement(o.Provider,{value:i},r)}var Ybe=Kbe,Xbe=(e,r)=>r,j5=we([Xbe,Kt,sF,Rs,GF,io,yhe,Ls],khe),w5=e=>{var r=e.currentTarget.getBoundingClientRect(),s=r.width/e.currentTarget.offsetWidth,a=r.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-r.left)/s),chartY:Math.round((e.clientY-r.top)/a)}},iB=ni("mouseClick"),lB=rx();lB.startListening({actionCreator:iB,effect:(e,r)=>{var s=e.payload,a=j5(r.getState(),w5(s));(a==null?void 0:a.activeIndex)!=null&&r.dispatch(jme({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}});var pw=ni("mouseMove"),oB=rx();oB.startListening({actionCreator:pw,effect:(e,r)=>{var s=e.payload,a=r.getState(),n=V3(a,a.tooltip.settings.shared),i=j5(a,w5(s));n==="axis"&&((i==null?void 0:i.activeIndex)!=null?r.dispatch(FF({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):r.dispatch(LF()))}});var fT={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0},cB=nn({name:"rootProps",initialState:fT,reducers:{updateOptions:(e,r)=>{var s;e.accessibilityLayer=r.payload.accessibilityLayer,e.barCategoryGap=r.payload.barCategoryGap,e.barGap=(s=r.payload.barGap)!==null&&s!==void 0?s:fT.barGap,e.barSize=r.payload.barSize,e.maxBarSize=r.payload.maxBarSize,e.stackOffset=r.payload.stackOffset,e.syncId=r.payload.syncId,e.syncMethod=r.payload.syncMethod,e.className=r.payload.className,e.baseValue=r.payload.baseValue}}}),Jbe=cB.reducer,{updateOptions:Qbe}=cB.actions,dB=nn({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,r)=>r.payload}}),{updatePolarOptions:Zbe}=dB.actions,eve=dB.reducer,uB=ni("keyDown"),mB=ni("focus"),N5=rx();N5.startListening({actionCreator:uB,effect:(e,r)=>{var s=r.getState(),a=s.rootProps.accessibilityLayer!==!1;if(a){var{keyboardInteraction:n}=s.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var l=Number(W3(n,Tm(s))),o=io(s);if(i==="Enter"){var c=Cg(s,"axis","hover",String(n.index));r.dispatch(aw({active:!n.active,activeIndex:n.index,activeDataKey:n.dataKey,activeCoordinate:c}));return}var d=mme(s),u=d==="left-to-right"?1:-1,m=i==="ArrowRight"?1:-1,x=l+m*u;if(!(o==null||x>=o.length||x<0)){var h=Cg(s,"axis","hover",String(x));r.dispatch(aw({active:!0,activeIndex:x.toString(),activeDataKey:void 0,activeCoordinate:h}))}}}}});N5.startListening({actionCreator:mB,effect:(e,r)=>{var s=r.getState(),a=s.rootProps.accessibilityLayer!==!1;if(a){var{keyboardInteraction:n}=s.tooltip;if(!n.active&&n.index==null){var i="0",l=Cg(s,"axis","hover",String(i));r.dispatch(aw({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:l}))}}}});var Bn=ni("externalEvent"),hB=rx();hB.startListening({actionCreator:Bn,effect:(e,r)=>{if(e.payload.handler!=null){var s=r.getState(),a={activeCoordinate:she(s),activeDataKey:XF(s),activeIndex:ec(s),activeLabel:YF(s),activeTooltipIndex:ec(s),isTooltipActive:ahe(s)};e.payload.handler(a,e.payload.reactEvent)}}});var tve=we([Am],e=>e.tooltipItemPayloads),rve=we([tve,px,(e,r,s)=>r,(e,r,s)=>s],(e,r,s,a)=>{var n=e.find(o=>o.settings.dataKey===a);if(n!=null){var{positions:i}=n;if(i!=null){var l=r(i,s);return l}}}),xB=ni("touchMove"),pB=rx();pB.startListening({actionCreator:xB,effect:(e,r)=>{var s=e.payload;if(!(s.touches==null||s.touches.length===0)){var a=r.getState(),n=V3(a,a.tooltip.settings.shared);if(n==="axis"){var i=j5(a,w5({clientX:s.touches[0].clientX,clientY:s.touches[0].clientY,currentTarget:s.currentTarget}));(i==null?void 0:i.activeIndex)!=null&&r.dispatch(FF({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(n==="item"){var l,o=s.touches[0];if(document.elementFromPoint==null)return;var c=document.elementFromPoint(o.clientX,o.clientY);if(!c||!c.getAttribute)return;var d=c.getAttribute(AM),u=(l=c.getAttribute(TM))!==null&&l!==void 0?l:void 0,m=rve(r.getState(),d,u);r.dispatch(MF({activeDataKey:u,activeIndex:d,activeCoordinate:m}))}}}});var sve=QD({brush:fge,cartesianAxis:Ype,chartData:t0e,errorBars:xfe,graphicalItems:ipe,layout:Zne,legend:Wie,options:Xhe,polarAxis:Nxe,polarOptions:eve,referenceElements:Nge,rootProps:Jbe,tooltip:wme,zIndex:Bhe}),ave=function(r){return Sne({reducer:sve,preloadedState:r,middleware:s=>s({serializableCheck:!1}).concat([lB.middleware,oB.middleware,N5.middleware,hB.middleware,pB.middleware]),enhancers:s=>{var a=s;return typeof s=="function"&&(a=s()),a.concat(dM({type:"raf"}))},devTools:ro.devToolsEnabled})};function fB(e){var{preloadedState:r,children:s,reduxStoreName:a}=e,n=Ks(),i=g.useRef(null);if(n)return s;i.current==null&&(i.current=ave(r));var l=D4;return g.createElement(Ybe,{context:l,store:i.current},s)}function gB(e){var{layout:r,margin:s}=e,a=Er(),n=Ks();return g.useEffect(()=>{n||(a(Xne(r)),a(Yne(s)))},[a,n,r,s]),null}function yB(e){var r=Er();return g.useEffect(()=>{r(Qbe(e))},[r,e]),null}function gT(e){var{zIndex:r,isPanorama:s}=e,a=s?"recharts-zindex-panorama-":"recharts-zindex-",n=_R("".concat(a).concat(r)),i=Er();return g.useLayoutEffect(()=>(i(Fhe({zIndex:r,elementId:n,isPanorama:s})),()=>{i(Rhe({zIndex:r,isPanorama:s}))}),[i,r,n,s]),g.createElement("g",{id:n})}function yT(e){var{children:r,isPanorama:s}=e,a=St(Phe);if(!a||a.length===0)return r;var n=a.filter(l=>l<0),i=a.filter(l=>l>0);return g.createElement(g.Fragment,null,n.map(l=>g.createElement(gT,{key:l,zIndex:l,isPanorama:s})),r,i.map(l=>g.createElement(gT,{key:l,zIndex:l,isPanorama:s})))}var nve=["children"];function ive(e,r){if(e==null)return{};var s,a,n=lve(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function lve(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function Rg(){return Rg=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Rg.apply(null,arguments)}var ove={width:"100%",height:"100%",display:"block"},cve=g.forwardRef((e,r)=>{var s=V4(),a=W4(),n=zM();if(!rl(s)||!rl(a))return null;var{children:i,otherAttributes:l,title:o,desc:c}=e,d,u;return l!=null&&(typeof l.tabIndex=="number"?d=l.tabIndex:d=n?0:void 0,typeof l.role=="string"?u=l.role:u=n?"application":void 0),g.createElement(y4,Rg({},l,{title:o,desc:c,role:u,tabIndex:d,width:s,height:a,style:ove,ref:r}),i)}),dve=e=>{var{children:r}=e,s=St(lb);if(!s)return null;var{width:a,height:n,y:i,x:l}=s;return g.createElement(y4,{width:a,height:n,x:l,y:i},r)},bT=g.forwardRef((e,r)=>{var{children:s}=e,a=ive(e,nve),n=Ks();return n?g.createElement(dve,null,g.createElement(yT,{isPanorama:!0},s)):g.createElement(cve,Rg({ref:r},a),g.createElement(yT,{isPanorama:!1},s))});function uve(){var e=Er(),[r,s]=g.useState(null),a=St(fie);return g.useEffect(()=>{if(r!=null){var n=r.getBoundingClientRect(),i=n.width/r.offsetWidth;Fr(i)&&i!==a&&e(Qne(i))}},[r,e,a]),s}function vT(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function mve(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?vT(Object(s),!0).forEach(function(a){hve(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):vT(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function hve(e,r,s){return(r=xve(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function xve(e){var r=pve(e,"string");return typeof r=="symbol"?r:r+""}function pve(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function yd(){return yd=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},yd.apply(null,arguments)}var fve=()=>(d0e(),null);function Bg(e){if(typeof e=="number")return e;if(typeof e=="string"){var r=parseFloat(e);if(!Number.isNaN(r))return r}return 0}var gve=g.forwardRef((e,r)=>{var s,a,n=g.useRef(null),[i,l]=g.useState({containerWidth:Bg((s=e.style)===null||s===void 0?void 0:s.width),containerHeight:Bg((a=e.style)===null||a===void 0?void 0:a.height)}),o=g.useCallback((d,u)=>{l(m=>{var x=Math.round(d),h=Math.round(u);return m.containerWidth===x&&m.containerHeight===h?m:{containerWidth:x,containerHeight:h}})},[]),c=g.useCallback(d=>{if(typeof r=="function"&&r(d),d!=null&&typeof ResizeObserver<"u"){var{width:u,height:m}=d.getBoundingClientRect();o(u,m);var x=p=>{var{width:f,height:b}=p[0].contentRect;o(f,b)},h=new ResizeObserver(x);h.observe(d),n.current=h}},[r,o]);return g.useEffect(()=>()=>{var d=n.current;d!=null&&d.disconnect()},[o]),g.createElement(g.Fragment,null,g.createElement(cb,{width:i.containerWidth,height:i.containerHeight}),g.createElement("div",yd({ref:c},e)))}),yve=g.forwardRef((e,r)=>{var{width:s,height:a}=e,[n,i]=g.useState({containerWidth:Bg(s),containerHeight:Bg(a)}),l=g.useCallback((c,d)=>{i(u=>{var m=Math.round(c),x=Math.round(d);return u.containerWidth===m&&u.containerHeight===x?u:{containerWidth:m,containerHeight:x}})},[]),o=g.useCallback(c=>{if(typeof r=="function"&&r(c),c!=null){var{width:d,height:u}=c.getBoundingClientRect();l(d,u)}},[r,l]);return g.createElement(g.Fragment,null,g.createElement(cb,{width:n.containerWidth,height:n.containerHeight}),g.createElement("div",yd({ref:o},e)))}),bve=g.forwardRef((e,r)=>{var{width:s,height:a}=e;return g.createElement(g.Fragment,null,g.createElement(cb,{width:s,height:a}),g.createElement("div",yd({ref:r},e)))}),vve=g.forwardRef((e,r)=>{var{width:s,height:a}=e;return zl(s)||zl(a)?g.createElement(yve,yd({},e,{ref:r})):g.createElement(bve,yd({},e,{ref:r}))});function jve(e){return e===!0?gve:vve}var wve=g.forwardRef((e,r)=>{var{children:s,className:a,height:n,onClick:i,onContextMenu:l,onDoubleClick:o,onMouseDown:c,onMouseEnter:d,onMouseLeave:u,onMouseMove:m,onMouseUp:x,onTouchEnd:h,onTouchMove:p,onTouchStart:f,style:b,width:j,responsive:w,dispatchTouchEvents:y=!0}=e,v=g.useRef(null),N=Er(),[S,k]=g.useState(null),[C,P]=g.useState(null),_=uve(),A=H4(),D=(A==null?void 0:A.width)>0?A.width:j,F=(A==null?void 0:A.height)>0?A.height:n,X=g.useCallback(Y=>{_(Y),typeof r=="function"&&r(Y),k(Y),P(Y),Y!=null&&(v.current=Y)},[_,r,k,P]),ce=g.useCallback(Y=>{N(iB(Y)),N(Bn({handler:i,reactEvent:Y}))},[N,i]),he=g.useCallback(Y=>{N(pw(Y)),N(Bn({handler:d,reactEvent:Y}))},[N,d]),L=g.useCallback(Y=>{N(LF()),N(Bn({handler:u,reactEvent:Y}))},[N,u]),q=g.useCallback(Y=>{N(pw(Y)),N(Bn({handler:m,reactEvent:Y}))},[N,m]),se=g.useCallback(()=>{N(mB())},[N]),R=g.useCallback(Y=>{N(uB(Y.key))},[N]),T=g.useCallback(Y=>{N(Bn({handler:l,reactEvent:Y}))},[N,l]),O=g.useCallback(Y=>{N(Bn({handler:o,reactEvent:Y}))},[N,o]),K=g.useCallback(Y=>{N(Bn({handler:c,reactEvent:Y}))},[N,c]),U=g.useCallback(Y=>{N(Bn({handler:x,reactEvent:Y}))},[N,x]),ee=g.useCallback(Y=>{N(Bn({handler:f,reactEvent:Y}))},[N,f]),M=g.useCallback(Y=>{y&&N(xB(Y)),N(Bn({handler:p,reactEvent:Y}))},[N,y,p]),H=g.useCallback(Y=>{N(Bn({handler:h,reactEvent:Y}))},[N,h]),B=jve(w);return g.createElement(nR.Provider,{value:S},g.createElement(Q9.Provider,{value:C},g.createElement(B,{width:D??(b==null?void 0:b.width),height:F??(b==null?void 0:b.height),className:ar("recharts-wrapper",a),style:mve({position:"relative",cursor:"default",width:D,height:F},b),onClick:ce,onContextMenu:T,onDoubleClick:O,onFocus:se,onKeyDown:R,onMouseDown:K,onMouseEnter:he,onMouseLeave:L,onMouseMove:q,onMouseUp:U,onTouchEnd:H,onTouchMove:M,onTouchStart:ee,ref:X},g.createElement(fve,null),s)))}),Nve=["width","height","responsive","children","className","style","compact","title","desc"];function Sve(e,r){if(e==null)return{};var s,a,n=kve(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function kve(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var bB=g.forwardRef((e,r)=>{var{width:s,height:a,responsive:n,children:i,className:l,style:o,compact:c,title:d,desc:u}=e,m=Sve(e,Nve),x=La(m);return c?g.createElement(g.Fragment,null,g.createElement(cb,{width:s,height:a}),g.createElement(bT,{otherAttributes:x,title:d,desc:u},i)):g.createElement(wve,{className:l,style:o,width:s,height:a,responsive:n??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},g.createElement(bT,{otherAttributes:x,title:d,desc:u,ref:r},g.createElement(kge,null,i)))});function fw(){return fw=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},fw.apply(null,arguments)}var Cve={top:5,right:5,bottom:5,left:5},Pve={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Cve,reverseStackOrder:!1,syncMethod:"index",responsive:!1},S5=g.forwardRef(function(r,s){var a,n=os(r.categoricalChartProps,Pve),{chartName:i,defaultTooltipEventType:l,validateTooltipEventTypes:o,tooltipPayloadSearcher:c,categoricalChartProps:d}=r,u={chartName:i,defaultTooltipEventType:l,validateTooltipEventTypes:o,tooltipPayloadSearcher:c,eventEmitter:void 0};return g.createElement(fB,{preloadedState:{options:u},reduxStoreName:(a=d.id)!==null&&a!==void 0?a:i},g.createElement($R,{chartData:d.data}),g.createElement(gB,{layout:n.layout,margin:n.margin}),g.createElement(yB,{baseValue:n.baseValue,accessibilityLayer:n.accessibilityLayer,barCategoryGap:n.barCategoryGap,maxBarSize:n.maxBarSize,stackOffset:n.stackOffset,barGap:n.barGap,barSize:n.barSize,syncId:n.syncId,syncMethod:n.syncMethod,className:n.className}),g.createElement(bB,fw({},n,{ref:s})))}),Ave=["axis"],Tve=g.forwardRef((e,r)=>g.createElement(S5,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Ave,tooltipPayloadSearcher:Ab,categoricalChartProps:e,ref:r})),Eve=["axis","item"],vB=g.forwardRef((e,r)=>g.createElement(S5,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Eve,tooltipPayloadSearcher:Ab,categoricalChartProps:e,ref:r}));function Ive(e){var r=Er();return g.useEffect(()=>{r(Zbe(e))},[r,e]),null}var _ve=["layout"];function gw(){return gw=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},gw.apply(null,arguments)}function Ove(e,r){if(e==null)return{};var s,a,n=Dve(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Dve(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var Mve={top:5,right:5,bottom:5,left:5},Lve={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Mve,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1},Fve=g.forwardRef(function(r,s){var a,n=os(r.categoricalChartProps,Lve),{layout:i}=n,l=Ove(n,_ve),{chartName:o,defaultTooltipEventType:c,validateTooltipEventTypes:d,tooltipPayloadSearcher:u}=r,m={chartName:o,defaultTooltipEventType:c,validateTooltipEventTypes:d,tooltipPayloadSearcher:u,eventEmitter:void 0};return g.createElement(fB,{preloadedState:{options:m},reduxStoreName:(a=n.id)!==null&&a!==void 0?a:o},g.createElement($R,{chartData:n.data}),g.createElement(gB,{layout:i,margin:n.margin}),g.createElement(yB,{baseValue:void 0,accessibilityLayer:n.accessibilityLayer,barCategoryGap:n.barCategoryGap,maxBarSize:n.maxBarSize,stackOffset:n.stackOffset,barGap:n.barGap,barSize:n.barSize,syncId:n.syncId,syncMethod:n.syncMethod,className:n.className}),g.createElement(Ive,{cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius}),g.createElement(bB,gw({},l,{ref:s})))}),Rve=["item"],Bve={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},$g=g.forwardRef((e,r)=>{var s=os(e,Bve);return g.createElement(Fve,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Rve,tooltipPayloadSearcher:Ab,categoricalChartProps:s,ref:r})}),$ve=["axis"],k5=g.forwardRef((e,r)=>g.createElement(S5,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:$ve,tooltipPayloadSearcher:Ab,categoricalChartProps:e,ref:r}));const zve=[{title:"Review pending KYC",to:"/admin/partners",icon:Xa,color:"from-amber-500 to-orange-500",bgColor:"bg-amber-50",iconColor:"text-amber-600",description:"Verify partner documents"},{title:"Monitor live bookings",to:"/admin/customer-bookings",icon:as,color:"from-blue-500 to-cyan-500",bgColor:"bg-blue-50",iconColor:"text-blue-600",description:"Track active orders"},{title:"Update spare inventory",to:"/admin/spares",icon:fs,color:"from-purple-500 to-pink-500",bgColor:"bg-purple-50",iconColor:"text-purple-600",description:"Manage stock levels"},{title:"Check AMC renewals",to:"/admin/amc",icon:Dt,color:"from-emerald-500 to-teal-500",bgColor:"bg-emerald-50",iconColor:"text-emerald-600",description:"Review contracts"},{title:"Optimize lead allocation",to:"/admin/leads",icon:lr,color:"from-indigo-500 to-blue-500",bgColor:"bg-indigo-50",iconColor:"text-indigo-600",description:"Assign leads efficiently"},{title:"Send broadcast notification",to:"/admin/notifications",icon:Sn,color:"from-rose-500 to-pink-500",bgColor:"bg-rose-50",iconColor:"text-rose-600",description:"Notify all users"}],yp=({icon:e,title:r,description:s,iconColor:a="text-slate-400",bgColor:n="bg-slate-50"})=>t.jsxs("div",{className:"flex flex-col items-center justify-center h-[250px] py-8",children:[t.jsxs("div",{className:`w-20 h-20 ${n} rounded-full flex items-center justify-center mb-4 relative`,children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-100 to-slate-200 rounded-full opacity-50"}),t.jsx(e,{className:`${a} text-3xl relative z-10`})]}),t.jsx("h3",{className:"text-lg font-semibold text-slate-700 mb-2",children:r}),t.jsx("p",{className:"text-sm text-slate-500 text-center max-w-xs",children:s})]}),Uve=()=>{var k,C,P,_,A,D,F,X,ce,he,L,q,se,R,T,O,K,U,ee,M,H,B,Y,ie;const{data:e,isLoading:r,error:s}=cr(me=>He.fetchDashboard(me),[]),{data:a,isLoading:n,error:i}=cr(me=>He.fetchDashboardCounts(me),[]),{data:l}=cr(me=>He.fetchPartnerRevenueStats(me),[]),[o,c]=g.useState({monthlyBookings:[],monthlyRevenue:[],bookingStatusDistribution:[],partnerStatusDistribution:[],kycStatusDistribution:[]}),d=((k=a==null?void 0:a.data)==null?void 0:k.counts)||(a==null?void 0:a.counts)||{},u=((C=a==null?void 0:a.data)==null?void 0:C.bookingStats)||(a==null?void 0:a.bookingStats)||((A=(_=(P=a==null?void 0:a.data)==null?void 0:P.charts)==null?void 0:_.bookingStats)==null?void 0:A[0])||{},m=((F=(D=a==null?void 0:a.data)==null?void 0:D.charts)==null?void 0:F.monthlyBookings)||((X=a==null?void 0:a.data)==null?void 0:X.monthlyBookingData)||[],x=((he=(ce=a==null?void 0:a.data)==null?void 0:ce.charts)==null?void 0:he.monthlyRevenue)||((L=a==null?void 0:a.data)==null?void 0:L.monthlyRevenueData)||[],h=(e==null?void 0:e.partnerStats)||((q=e==null?void 0:e.data)==null?void 0:q.partnerStats)||{},p=(e==null?void 0:e.kycStats)||((se=e==null?void 0:e.data)==null?void 0:se.kycStats)||{};e!=null&&e.registrationStats||(R=e==null?void 0:e.data)!=null&&R.registrationStats,g.useEffect(()=>{var me,de;if(!(n||r))try{const Ge=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Me={},it=new Date;for(let pe=5;pe>=0;pe--){const ve=new Date(it.getFullYear(),it.getMonth()-pe,1),ke=`${ve.getFullYear()}-${ve.getMonth()+1}`;Me[ke]={month:Ge[ve.getMonth()],bookings:0}}Array.isArray(m)&&m.length>0&&m.forEach(pe=>{if(pe&&pe._id&&pe._id.year&&pe._id.month){const ve=`${pe._id.year}-${pe._id.month}`;Me[ve]&&(Me[ve].bookings=pe.count||pe.bookings||0)}else if(pe&&pe.month){const ve=Object.keys(Me).find(ke=>Me[ke].month===pe.month);ve&&(Me[ve].bookings=pe.bookings||pe.count||0)}});const Ye={};for(let pe=5;pe>=0;pe--){const ve=new Date(it.getFullYear(),it.getMonth()-pe,1),ke=`${ve.getFullYear()}-${ve.getMonth()+1}`;Ye[ke]={month:Ge[ve.getMonth()],revenue:0}}Array.isArray(x)&&x.length>0&&x.forEach(pe=>{if(pe&&pe._id&&pe._id.year&&pe._id.month){const ve=`${pe._id.year}-${pe._id.month}`;Ye[ve]&&(Ye[ve].revenue=pe.revenue||pe.totalRevenue||0)}else if(pe&&pe.month){const ve=Object.keys(Ye).find(ke=>Ye[ke].month===pe.month);ve&&(Ye[ve].revenue=pe.revenue||pe.totalRevenue||0)}});const Le=[];if(u&&typeof u=="object"){const pe={completed:"#10b981",pending:"#f59e0b",accepted:"#3b82f6",in_progress:"#8b5cf6",inProgress:"#8b5cf6",cancelled:"#ef4444",canceled:"#ef4444",rejected:"#dc2626",assigned:"#6366f1",started:"#ec4899"};Array.isArray(u)?u.forEach(ve=>{ve&&typeof ve=="object"&&Object.entries(ve).forEach(([ke,Qe])=>{typeof Qe=="number"&&Qe>0&&ke!=="total"&&Le.push({name:ke.charAt(0).toUpperCase()+ke.slice(1).replace(/([A-Z])/g," $1").trim(),value:Qe,color:pe[ke]||pe[ke.toLowerCase()]||"#6b7280"})})}):Object.entries(u).forEach(([ve,ke])=>{if(typeof ke=="number"&&ke>0&&ve!=="total"&&ve!=="bookings"){const Qe=ve.charAt(0).toUpperCase()+ve.slice(1).replace(/([A-Z])/g," $1").trim();Le.push({name:Qe,value:ke,color:pe[ve]||pe[ve.toLowerCase()]||"#6b7280"})}})}const z=[],xe=(h==null?void 0:h.byStatus)||((me=h==null?void 0:h.data)==null?void 0:me.byStatus)||{};if(xe&&typeof xe=="object"&&Object.keys(xe).length>0){const pe={active:"#10b981",pending:"#f59e0b",inactive:"#6b7280",suspended:"#ef4444",verified:"#10b981",unverified:"#f59e0b",null:"#3b82f6",undefined:"#3b82f6"},ve={active:"Active",pending:"Pending",inactive:"Inactive",suspended:"Suspended",verified:"Verified",unverified:"Unverified",null:"Active",undefined:"Active"};Object.entries(xe).forEach(([ke,Qe])=>{if(Qe&&Qe>0&&ke!=="total"){const ft=ke===null||ke==="null"||ke==="undefined"||ke===void 0?"active":ke.toLowerCase(),je=ve[ft]||ve[ke]||(ke===null||ke==="null"||ke===void 0?"Active":ke.charAt(0).toUpperCase()+ke.slice(1));z.push({name:je,value:Qe,color:pe[ft]||pe[ke]||pe[ke==null?void 0:ke.toLowerCase()]||"#3b82f6"})}})}const re=[],ge=(p==null?void 0:p.byStatus)||((de=p==null?void 0:p.data)==null?void 0:de.byStatus)||{};if(ge&&typeof ge=="object"&&Object.keys(ge).length>0){const pe={Verified:"#10b981",verified:"#10b981",Pending:"#f59e0b",pending:"#f59e0b",Rejected:"#ef4444",rejected:"#ef4444","Not Submitted":"#6b7280","not submitted":"#6b7280","Not submitted":"#6b7280",null:"#6b7280","":"#6b7280"};Object.entries(ge).forEach(([ve,ke])=>{if(ke&&ke>0&&ve!=="total"){const Qe=ve===null||ve==="null"||ve===""?"Not Submitted":ve.charAt(0).toUpperCase()+ve.slice(1);re.push({name:Qe,value:ke,color:pe[ve]||pe[ve==null?void 0:ve.toLowerCase()]||"#6b7280"})}})}if(re.length===0&&(p!=null&&p.verificationStats)){const pe=p.verificationStats;(pe.verified>0||pe.pending>0)&&(pe.verified>0&&re.push({name:"Verified",value:pe.verified,color:"#10b981"}),pe.pending>0&&re.push({name:"Pending",value:pe.pending,color:"#f59e0b"}))}c({monthlyBookings:Object.values(Me),monthlyRevenue:Object.values(Ye),bookingStatusDistribution:Le,partnerStatusDistribution:z,kycStatusDistribution:re})}catch(Ge){console.error("Error processing chart data:",Ge),c({monthlyBookings:[],monthlyRevenue:[],bookingStatusDistribution:[],partnerStatusDistribution:[],kycStatusDistribution:[]})}},[a,n,r,e,u,h,p,m,x]);const f=()=>{if(!(h!=null&&h.byStatus))return null;const me=h.byStatus,de=Object.entries(me).filter(([Me])=>!(Me==="total"||Me===null||Me===void 0||Me==="null"||Me==="undefined")).map(([Me,it])=>({key:Me,value:it})).filter(Me=>Me.value>0),Ge=me[null]||me.null||me[void 0]||me.undefined||0;return de.length===0&&Ge>0?`${Ge} active`:de.length>0?de.slice(0,2).map(({key:it,value:Ye})=>{const Le=it==="active"||it==="Active"?"active":it==="pending"||it==="Pending"?"pending":it==="inactive"||it==="Inactive"?"inactive":it==="suspended"||it==="Suspended"?"suspended":it.toLowerCase();return`${Ye} ${Le}`}).join(", "):Ge>0?`${Ge} active`:null},b=()=>{const me=(d==null?void 0:d.bookings)??(u==null?void 0:u.total)??0,de=(u==null?void 0:u.completed)??0;if(me>0&&de>0){const Ge=Math.round(de/me*100);return`${de} completed (${Ge}%)`}return u!=null&&u.completed?`${u.completed} completed`:null},j=(l==null?void 0:l.stats)||{},w=[{label:"Total Bookings",value:(d==null?void 0:d.bookings)??(u==null?void 0:u.total)??0,trend:b(),description:"Across all categories and cities",icon:as,color:"bg-blue-500",gradient:"from-blue-500 to-blue-600"},{label:"Total Partners",value:(d==null?void 0:d.partners)??(h==null?void 0:h.total)??0,trend:f(),description:"Active and pending partners",icon:Mr,color:"bg-indigo-500",gradient:"from-indigo-500 to-indigo-600"},{label:"Total Revenue",value:`${((j.totalRevenue||0)/1e3).toFixed(0)}K`,trend:`Reg: ${((j.totalRegistrationFees||0)/1e3).toFixed(0)}K | MG: ${((j.totalMGPlanRevenue||0)/1e3).toFixed(0)}K`,description:"Revenue from approved partners",icon:Xt,color:"bg-emerald-500",gradient:"from-emerald-500 to-emerald-600",intent:"positive"},{label:"Registration Fees",value:`${((j.totalRegistrationFees||0)/1e3).toFixed(0)}K`,trend:`SD: ${((j.totalSecurityDeposit||0)/1e3).toFixed(0)}K | TK: ${((j.totalToolkitFees||0)/1e3).toFixed(0)}K`,description:"Revenue from approved partners only",icon:vt,color:"bg-purple-500",gradient:"from-purple-500 to-purple-600",intent:"positive"},{label:"MG Plan Revenue",value:`${((j.totalMGPlanRevenue||0)/1e3).toFixed(0)}K`,trend:j.totalMGPlanRevenue>0?"From subscriptions":"No subscriptions yet",description:"Minimum guarantee plans",icon:lr,color:"bg-indigo-500",gradient:"from-indigo-500 to-indigo-600",intent:"positive"},{label:"Total Users",value:(d==null?void 0:d.users)??0,trend:null,description:"Registered customers",icon:vr,color:"bg-cyan-500",gradient:"from-cyan-500 to-cyan-600"},{label:"KYC Pending",value:((T=p==null?void 0:p.verificationStats)==null?void 0:T.pending)??((O=p==null?void 0:p.byStatus)==null?void 0:O.Pending)??((K=p==null?void 0:p.byStatus)==null?void 0:K.pending)??0,trend:(U=p==null?void 0:p.verificationStats)!=null&&U.verified?`${p.verificationStats.verified} verified`:null,description:"Awaiting verification",intent:(((ee=p==null?void 0:p.verificationStats)==null?void 0:ee.pending)??((M=p==null?void 0:p.byStatus)==null?void 0:M.Pending)??((H=p==null?void 0:p.byStatus)==null?void 0:H.pending)??0)>10?"warning":"positive",icon:Xa,color:"bg-amber-500",gradient:"from-amber-500 to-amber-600"}],y=((B=p==null?void 0:p.verificationStats)==null?void 0:B.pending)??((Y=p==null?void 0:p.byStatus)==null?void 0:Y.Pending)??((ie=p==null?void 0:p.byStatus)==null?void 0:ie.pending)??0,v=(u==null?void 0:u.pending)??0,N=[{name:"Partner Control",status:y>10?"Needs attention":"On track",icon:y>10?xj:vt,description:y>10?`${y} KYC verifications pending.`:"All partner wallet reconciliations and KYCs are on schedule.",tone:y>10?"warning":"success"},{name:"Customer Bookings",status:v>0?`${v} pending`:"Within SLA",icon:v>5?xj:vt,description:v>5?`${v} bookings pending assignment.`:"All in-progress bookings are meeting SLA thresholds.",tone:v>5?"warning":"success"},{name:"Service Management",status:d!=null&&d.subServices?`${d.subServices} services`:"Active",icon:ns,description:d!=null&&d.subServices?`${d.subServices} sub-services available across all categories.`:"Service catalog is active.",tone:"success"}],S=()=>{var me;return r||n?t.jsx("div",{className:"flex justify-center items-center py-24",children:t.jsxs("div",{className:"flex flex-col items-center gap-4",children:[t.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"}),t.jsx("p",{className:"text-sm text-slate-500",children:"Syncing live metrics..."})]})}):s||i?t.jsxs("div",{className:"bg-rose-50 border border-rose-200 text-rose-600 px-6 py-4 rounded-2xl",children:["Unable to fetch dashboard analytics. ",s||i]}):t.jsxs("div",{className:"space-y-6 sm:space-y-8",children:[t.jsx("div",{className:"bg-gradient-to-br from-primary/10 via-primary/5 to-transparent rounded-2xl p-6 sm:p-8 border border-primary/20",children:t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-800 mb-2",children:"Welcome Back! "}),t.jsx("p",{className:"text-sm sm:text-base text-slate-600",children:new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),t.jsx("div",{className:"flex items-center gap-3",children:t.jsxs("div",{className:"px-4 py-2 bg-white rounded-lg shadow-sm border border-slate-200",children:[t.jsx("p",{className:"text-xs text-slate-500",children:"Total Revenue"}),t.jsxs("p",{className:"text-lg font-bold text-slate-800",children:["",((((me=l==null?void 0:l.stats)==null?void 0:me.totalRevenue)||(u==null?void 0:u.totalRevenue)||(d==null?void 0:d.totalRevenue)||0)/1e5).toFixed(1),"L"]}),(l==null?void 0:l.stats)&&t.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Reg: ",((l.stats.totalRegistrationFees||0)/1e3).toFixed(0),"K | MG: ",((l.stats.totalMGPlanRevenue||0)/1e3).toFixed(0),"K"]})]})})]})}),t.jsx("div",{className:"grid gap-4 sm:gap-5 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:w.map(de=>t.jsx(Xn,{...de},de.label))}),t.jsxs("div",{className:"grid gap-6 sm:gap-8 lg:grid-cols-2",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-md hover:shadow-xl transition-shadow duration-300 p-4 sm:p-6 border border-slate-200 relative overflow-hidden group",children:[t.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-blue-500/5 rounded-full -mr-16 -mt-16 group-hover:bg-blue-500/10 transition-colors"}),t.jsxs("div",{className:"relative",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[t.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:t.jsx(as,{className:"text-blue-600 text-lg"})}),t.jsx("h2",{className:"text-lg sm:text-xl font-bold text-slate-800",children:"Monthly Bookings Trend"})]}),o.monthlyBookings.length>0&&o.monthlyBookings.some(de=>de.bookings>0)?t.jsx(Vi,{width:"100%",height:250,children:t.jsxs(vB,{data:o.monthlyBookings,children:[t.jsx(Yc,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),t.jsx(Jc,{dataKey:"month",stroke:"#64748b"}),t.jsx(Qc,{stroke:"#64748b"}),t.jsx(Gi,{contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),t.jsx(Eu,{}),t.jsx(p5,{dataKey:"bookings",fill:"#3b82f6",name:"Bookings",radius:[8,8,0,0]})]})}):t.jsx(yp,{icon:i0,title:"No Booking Data",description:"Booking data will appear here once customers start making bookings.",iconColor:"text-blue-400",bgColor:"bg-blue-50"})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-md hover:shadow-xl transition-shadow duration-300 p-4 sm:p-6 border border-slate-200 relative overflow-hidden group",children:[t.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-emerald-500/5 rounded-full -mr-16 -mt-16 group-hover:bg-emerald-500/10 transition-colors"}),t.jsxs("div",{className:"relative",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[t.jsx("div",{className:"p-2 bg-emerald-100 rounded-lg",children:t.jsx(Xt,{className:"text-emerald-600 text-lg"})}),t.jsx("h2",{className:"text-lg sm:text-xl font-bold text-slate-800",children:"Monthly Revenue Trend"})]}),o.monthlyRevenue.length>0&&o.monthlyRevenue.some(de=>de.revenue>0)?t.jsx(Vi,{width:"100%",height:250,children:t.jsxs(k5,{data:o.monthlyRevenue,children:[t.jsx("defs",{children:t.jsxs("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[t.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.3}),t.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]})}),t.jsx(Yc,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),t.jsx(Jc,{dataKey:"month",stroke:"#64748b"}),t.jsx(Qc,{stroke:"#64748b"}),t.jsx(Gi,{contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},formatter:de=>`${(de/1e3).toFixed(1)}K`}),t.jsx(Eu,{}),t.jsx(k0,{type:"monotone",dataKey:"revenue",stroke:"#10b981",fillOpacity:1,fill:"url(#colorRevenue)",name:"Revenue"})]})}):t.jsx(yp,{icon:lr,title:"No Revenue Data",description:"Revenue trends will be displayed here once transactions are recorded.",iconColor:"text-emerald-400",bgColor:"bg-emerald-50"})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-md hover:shadow-xl transition-shadow duration-300 p-4 sm:p-6 border border-slate-200 relative overflow-hidden group",children:[t.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-purple-500/5 rounded-full -mr-16 -mt-16 group-hover:bg-purple-500/10 transition-colors"}),t.jsxs("div",{className:"relative",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[t.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:t.jsx(lr,{className:"text-purple-600 text-lg"})}),t.jsx("h2",{className:"text-lg sm:text-xl font-bold text-slate-800",children:"Booking Status Distribution"})]}),o.bookingStatusDistribution.length>0?t.jsx(Vi,{width:"100%",height:250,children:t.jsxs($g,{children:[t.jsx(N0,{data:o.bookingStatusDistribution,cx:"50%",cy:"50%",labelLine:!1,label:({name:de,percent:Ge})=>`${de} ${(Ge*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:o.bookingStatusDistribution.map((de,Ge)=>t.jsx(tc,{fill:de.color},`cell-${Ge}`))}),t.jsx(Gi,{contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}})]})}):t.jsx(yp,{icon:t4,title:"No Booking Status Data",description:"Booking status breakdown will appear here once bookings are created.",iconColor:"text-purple-400",bgColor:"bg-purple-50"})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-md hover:shadow-xl transition-shadow duration-300 p-4 sm:p-6 border border-slate-200 relative overflow-hidden group",children:[t.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-indigo-500/5 rounded-full -mr-16 -mt-16 group-hover:bg-indigo-500/10 transition-colors"}),t.jsxs("div",{className:"relative",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[t.jsx("div",{className:"p-2 bg-indigo-100 rounded-lg",children:t.jsx(Mr,{className:"text-indigo-600 text-lg"})}),t.jsx("h2",{className:"text-lg sm:text-xl font-bold text-slate-800",children:"Partner Status Distribution"})]}),o.partnerStatusDistribution.length>0?t.jsx(Vi,{width:"100%",height:250,children:t.jsxs($g,{children:[t.jsx(N0,{data:o.partnerStatusDistribution,cx:"50%",cy:"50%",labelLine:!1,label:({name:de,percent:Ge})=>`${de} ${(Ge*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:o.partnerStatusDistribution.map((de,Ge)=>t.jsx(tc,{fill:de.color},`cell-${Ge}`))}),t.jsx(Gi,{contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}})]})}):t.jsx(yp,{icon:Mr,title:"No Partner Data",description:"Partner status distribution will be shown here once partners are registered.",iconColor:"text-indigo-400",bgColor:"bg-indigo-50"})]})]})]}),t.jsxs("div",{className:"grid lg:grid-cols-2 gap-6 sm:gap-8",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500",children:"Module Health"}),t.jsx("div",{className:"space-y-4",children:N.map(de=>{const Ge=de.icon,Me=de.tone==="warning"?"text-amber-500":de.tone==="info"?"text-primary":"text-emerald-500";return t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl px-5 py-4 shadow-sm hover:shadow-md transition-shadow",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${Me} bg-slate-100`,children:t.jsx(Ge,{})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-900",children:de.name}),t.jsx("p",{className:`text-xs font-semibold uppercase tracking-wider ${Me}`,children:de.status})]})]}),t.jsx("p",{className:"text-sm text-slate-500 mt-3 leading-relaxed",children:de.description})]},de.name)})})]}),t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-5 sm:p-6 hover:shadow-lg transition-all duration-300 relative overflow-hidden",children:[t.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-primary/5 to-primary/10 rounded-full -mr-16 -mt-16"}),t.jsxs("div",{className:"relative z-10",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[t.jsx("div",{className:"p-2 bg-gradient-to-br from-primary to-primary-dark rounded-lg",children:t.jsx(ds,{className:"text-white text-lg"})}),t.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"Quick Actions"})]}),t.jsx("div",{className:"grid gap-3",children:zve.map(de=>{const Ge=de.icon;return t.jsxs(Ut,{to:de.to,className:"group flex items-center gap-4 px-4 py-4 rounded-xl border border-slate-200 hover:border-transparent hover:shadow-lg transition-all duration-300 relative overflow-hidden bg-white hover:bg-gradient-to-r hover:from-white hover:to-slate-50",children:[t.jsx("div",{className:`w-12 h-12 rounded-xl bg-gradient-to-br ${de.color} flex items-center justify-center flex-shrink-0 shadow-sm group-hover:scale-110 group-hover:shadow-md transition-all duration-300`,children:t.jsx(Ge,{className:"text-white text-lg"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h3",{className:"text-sm font-semibold text-slate-900 group-hover:text-primary transition-colors",children:de.title}),de.description&&t.jsx("p",{className:"text-xs text-slate-500 mt-0.5",children:de.description})]}),t.jsx("div",{className:"flex-shrink-0",children:t.jsx(ds,{className:"text-slate-400 group-hover:text-primary group-hover:translate-x-1 transition-all duration-300 text-lg"})}),t.jsx("div",{className:`absolute inset-0 bg-gradient-to-r ${de.color} opacity-0 group-hover:opacity-5 transition-opacity duration-300 rounded-xl`})]},de.title)})})]})]})]})]})};return t.jsxs("div",{children:[t.jsx(gs,{title:"Operations Overview",subtitle:"Real-time health snapshot across partners, bookings, workflows, and financial controls."}),S()]})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var zg={};zg.version="0.18.5";var jB=1252,Hve=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],wB=function(e){Hve.indexOf(e)!=-1&&(jB=e)};function Vve(){wB(1252)}var C0=function(e){wB(e)};function Wve(){C0(1200),Vve()}var bp=function(r){return String.fromCharCode(r)},jT=function(r){return String.fromCharCode(r)},Ug,Io="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function P0(e){for(var r="",s=0,a=0,n=0,i=0,l=0,o=0,c=0,d=0;d<e.length;)s=e.charCodeAt(d++),i=s>>2,a=e.charCodeAt(d++),l=(s&3)<<4|a>>4,n=e.charCodeAt(d++),o=(a&15)<<2|n>>6,c=n&63,isNaN(a)?o=c=64:isNaN(n)&&(c=64),r+=Io.charAt(i)+Io.charAt(l)+Io.charAt(o)+Io.charAt(c);return r}function Kl(e){var r="",s=0,a=0,n=0,i=0,l=0,o=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var d=0;d<e.length;)i=Io.indexOf(e.charAt(d++)),l=Io.indexOf(e.charAt(d++)),s=i<<2|l>>4,r+=String.fromCharCode(s),o=Io.indexOf(e.charAt(d++)),a=(l&15)<<4|o>>2,o!==64&&(r+=String.fromCharCode(a)),c=Io.indexOf(e.charAt(d++)),n=(o&3)<<6|c,c!==64&&(r+=String.fromCharCode(n));return r}var or=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),lo=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(r,s){return s?new Buffer(r,s):new Buffer(r)}:Buffer.from.bind(Buffer)}return function(){}}();function bd(e){return or?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function wT(e){return or?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var ji=function(r){return or?lo(r,"binary"):r.split("").map(function(s){return s.charCodeAt(0)&255})};function qb(e){if(typeof ArrayBuffer>"u")return ji(e);for(var r=new ArrayBuffer(e.length),s=new Uint8Array(r),a=0;a!=e.length;++a)s[a]=e.charCodeAt(a)&255;return r}function bx(e){if(Array.isArray(e))return e.map(function(a){return String.fromCharCode(a)}).join("");for(var r=[],s=0;s<e.length;++s)r[s]=String.fromCharCode(e[s]);return r.join("")}function Gve(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}var ta=or?function(e){return Buffer.concat(e.map(function(r){return Buffer.isBuffer(r)?r:lo(r)}))}:function(e){if(typeof Uint8Array<"u"){var r=0,s=0;for(r=0;r<e.length;++r)s+=e[r].length;var a=new Uint8Array(s),n=0;for(r=0,s=0;r<e.length;s+=n,++r)if(n=e[r].length,e[r]instanceof Uint8Array)a.set(e[r],s);else{if(typeof e[r]=="string")throw"wtf";a.set(new Uint8Array(e[r]),s)}return a}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function qve(e){for(var r=[],s=0,a=e.length+250,n=bd(e.length+255),i=0;i<e.length;++i){var l=e.charCodeAt(i);if(l<128)n[s++]=l;else if(l<2048)n[s++]=192|l>>6&31,n[s++]=128|l&63;else if(l>=55296&&l<57344){l=(l&1023)+64;var o=e.charCodeAt(++i)&1023;n[s++]=240|l>>8&7,n[s++]=128|l>>2&63,n[s++]=128|o>>6&15|(l&3)<<4,n[s++]=128|o&63}else n[s++]=224|l>>12&15,n[s++]=128|l>>6&63,n[s++]=128|l&63;s>a&&(r.push(n.slice(0,s)),s=0,n=bd(65535),a=65530)}return r.push(n.slice(0,s)),ta(r)}var _h=/\u0000/g,vp=/[\u0001-\u0006]/g;function Ou(e){for(var r="",s=e.length-1;s>=0;)r+=e.charAt(s--);return r}function Ni(e,r){var s=""+e;return s.length>=r?s:ss("0",r-s.length)+s}function C5(e,r){var s=""+e;return s.length>=r?s:ss(" ",r-s.length)+s}function Hg(e,r){var s=""+e;return s.length>=r?s:s+ss(" ",r-s.length)}function Kve(e,r){var s=""+Math.round(e);return s.length>=r?s:ss("0",r-s.length)+s}function Yve(e,r){var s=""+e;return s.length>=r?s:ss("0",r-s.length)+s}var NT=Math.pow(2,32);function qd(e,r){if(e>NT||e<-NT)return Kve(e,r);var s=Math.round(e);return Yve(s,r)}function Vg(e,r){return r=r||0,e.length>=7+r&&(e.charCodeAt(r)|32)===103&&(e.charCodeAt(r+1)|32)===101&&(e.charCodeAt(r+2)|32)===110&&(e.charCodeAt(r+3)|32)===101&&(e.charCodeAt(r+4)|32)===114&&(e.charCodeAt(r+5)|32)===97&&(e.charCodeAt(r+6)|32)===108}var ST=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],L1=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function Xve(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var is={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},kT={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},Jve={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Wg(e,r,s){for(var a=e<0?-1:1,n=e*a,i=0,l=1,o=0,c=1,d=0,u=0,m=Math.floor(n);d<r&&(m=Math.floor(n),o=m*l+i,u=m*d+c,!(n-m<5e-8));)n=1/(n-m),i=l,l=o,c=d,d=u;if(u>r&&(d>r?(u=c,o=i):(u=d,o=l)),!s)return[0,a*o,u];var x=Math.floor(a*o/u);return[x,a*o-x*u,u]}function jp(e,r,s){if(e>2958465||e<0)return null;var a=e|0,n=Math.floor(86400*(e-a)),i=0,l=[],o={D:a,T:n,u:86400*(e-a)-n,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),r&&r.date1904&&(a+=1462),o.u>.9999&&(o.u=0,++n==86400&&(o.T=n=0,++a,++o.D)),a===60)l=s?[1317,10,29]:[1900,2,29],i=3;else if(a===0)l=s?[1317,8,29]:[1900,1,0],i=6;else{a>60&&--a;var c=new Date(1900,0,1);c.setDate(c.getDate()+a-1),l=[c.getFullYear(),c.getMonth()+1,c.getDate()],i=c.getDay(),a<60&&(i=(i+6)%7),s&&(i=a1e(c,l))}return o.y=l[0],o.m=l[1],o.d=l[2],o.S=n%60,n=Math.floor(n/60),o.M=n%60,n=Math.floor(n/60),o.H=n,o.q=i,o}var NB=new Date(1899,11,31,0,0,0),Qve=NB.getTime(),Zve=new Date(1900,2,1,0,0,0);function SB(e,r){var s=e.getTime();return r?s-=1461*24*60*60*1e3:e>=Zve&&(s+=24*60*60*1e3),(s-(Qve+(e.getTimezoneOffset()-NB.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function P5(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function e1e(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function t1e(e){var r=e<0?12:11,s=P5(e.toFixed(12));return s.length<=r||(s=e.toPrecision(10),s.length<=r)?s:e.toExponential(5)}function r1e(e){var r=P5(e.toFixed(11));return r.length>(e<0?12:11)||r==="0"||r==="-0"?e.toPrecision(6):r}function s1e(e){var r=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),s;return r>=-4&&r<=-1?s=e.toPrecision(10+r):Math.abs(r)<=9?s=t1e(e):r===10?s=e.toFixed(10).substr(0,12):s=r1e(e),P5(e1e(s.toUpperCase()))}function yw(e,r){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):s1e(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return sc(14,SB(e,r&&r.date1904),r)}throw new Error("unsupported value in General format: "+e)}function a1e(e,r){r[0]-=581;var s=e.getDay();return e<60&&(s=(s+6)%7),s}function n1e(e,r,s,a){var n="",i=0,l=0,o=s.y,c,d=0;switch(e){case 98:o=s.y+543;case 121:switch(r.length){case 1:case 2:c=o%100,d=2;break;default:c=o%1e4,d=4;break}break;case 109:switch(r.length){case 1:case 2:c=s.m,d=r.length;break;case 3:return L1[s.m-1][1];case 5:return L1[s.m-1][0];default:return L1[s.m-1][2]}break;case 100:switch(r.length){case 1:case 2:c=s.d,d=r.length;break;case 3:return ST[s.q][0];default:return ST[s.q][1]}break;case 104:switch(r.length){case 1:case 2:c=1+(s.H+11)%12,d=r.length;break;default:throw"bad hour format: "+r}break;case 72:switch(r.length){case 1:case 2:c=s.H,d=r.length;break;default:throw"bad hour format: "+r}break;case 77:switch(r.length){case 1:case 2:c=s.M,d=r.length;break;default:throw"bad minute format: "+r}break;case 115:if(r!="s"&&r!="ss"&&r!=".0"&&r!=".00"&&r!=".000")throw"bad second format: "+r;return s.u===0&&(r=="s"||r=="ss")?Ni(s.S,r.length):(a>=2?l=a===3?1e3:100:l=a===1?10:1,i=Math.round(l*(s.S+s.u)),i>=60*l&&(i=0),r==="s"?i===0?"0":""+i/l:(n=Ni(i,2+a),r==="ss"?n.substr(0,2):"."+n.substr(2,r.length-1)));case 90:switch(r){case"[h]":case"[hh]":c=s.D*24+s.H;break;case"[m]":case"[mm]":c=(s.D*24+s.H)*60+s.M;break;case"[s]":case"[ss]":c=((s.D*24+s.H)*60+s.M)*60+Math.round(s.S+s.u);break;default:throw"bad abstime format: "+r}d=r.length===3?1:2;break;case 101:c=o,d=1;break}var u=d>0?Ni(c,d):"";return u}function _o(e){var r=3;if(e.length<=r)return e;for(var s=e.length%r,a=e.substr(0,s);s!=e.length;s+=r)a+=(a.length>0?",":"")+e.substr(s,r);return a}var kB=/%/g;function i1e(e,r,s){var a=r.replace(kB,""),n=r.length-a.length;return Tl(e,a,s*Math.pow(10,2*n))+ss("%",n)}function l1e(e,r,s){for(var a=r.length-1;r.charCodeAt(a-1)===44;)--a;return Tl(e,r.substr(0,a),s/Math.pow(10,3*(r.length-a)))}function CB(e,r){var s,a=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(r==0)return"0.0E+0";if(r<0)return"-"+CB(e,-r);var n=e.indexOf(".");n===-1&&(n=e.indexOf("E"));var i=Math.floor(Math.log(r)*Math.LOG10E)%n;if(i<0&&(i+=n),s=(r/Math.pow(10,i)).toPrecision(a+1+(n+i)%n),s.indexOf("e")===-1){var l=Math.floor(Math.log(r)*Math.LOG10E);for(s.indexOf(".")===-1?s=s.charAt(0)+"."+s.substr(1)+"E+"+(l-s.length+i):s+="E+"+(l-i);s.substr(0,2)==="0.";)s=s.charAt(0)+s.substr(2,n)+"."+s.substr(2+n),s=s.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");s=s.replace(/\+-/,"-")}s=s.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,d,u){return c+d+u.substr(0,(n+i)%n)+"."+u.substr(i)+"E"})}else s=r.toExponential(a);return e.match(/E\+00$/)&&s.match(/e[+-]\d$/)&&(s=s.substr(0,s.length-1)+"0"+s.charAt(s.length-1)),e.match(/E\-/)&&s.match(/e\+/)&&(s=s.replace(/e\+/,"e")),s.replace("e","E")}var PB=/# (\?+)( ?)\/( ?)(\d+)/;function o1e(e,r,s){var a=parseInt(e[4],10),n=Math.round(r*a),i=Math.floor(n/a),l=n-i*a,o=a;return s+(i===0?"":""+i)+" "+(l===0?ss(" ",e[1].length+1+e[4].length):C5(l,e[1].length)+e[2]+"/"+e[3]+Ni(o,e[4].length))}function c1e(e,r,s){return s+(r===0?"":""+r)+ss(" ",e[1].length+2+e[4].length)}var AB=/^#*0*\.([0#]+)/,TB=/\).*[0#]/,EB=/\(###\) ###\\?-####/;function Pa(e){for(var r="",s,a=0;a!=e.length;++a)switch(s=e.charCodeAt(a)){case 35:break;case 63:r+=" ";break;case 48:r+="0";break;default:r+=String.fromCharCode(s)}return r}function CT(e,r){var s=Math.pow(10,r);return""+Math.round(e*s)/s}function PT(e,r){var s=e-Math.floor(e),a=Math.pow(10,r);return r<(""+Math.round(s*a)).length?0:Math.round(s*a)}function d1e(e,r){return r<(""+Math.round((e-Math.floor(e))*Math.pow(10,r))).length?1:0}function u1e(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function $n(e,r,s){if(e.charCodeAt(0)===40&&!r.match(TB)){var a=r.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return s>=0?$n("n",a,s):"("+$n("n",a,-s)+")"}if(r.charCodeAt(r.length-1)===44)return l1e(e,r,s);if(r.indexOf("%")!==-1)return i1e(e,r,s);if(r.indexOf("E")!==-1)return CB(r,s);if(r.charCodeAt(0)===36)return"$"+$n(e,r.substr(r.charAt(1)==" "?2:1),s);var n,i,l,o,c=Math.abs(s),d=s<0?"-":"";if(r.match(/^00+$/))return d+qd(c,r.length);if(r.match(/^[#?]+$/))return n=qd(s,0),n==="0"&&(n=""),n.length>r.length?n:Pa(r.substr(0,r.length-n.length))+n;if(i=r.match(PB))return o1e(i,c,d);if(r.match(/^#+0+$/))return d+qd(c,r.length-r.indexOf("0"));if(i=r.match(AB))return n=CT(s,i[1].length).replace(/^([^\.]+)$/,"$1."+Pa(i[1])).replace(/\.$/,"."+Pa(i[1])).replace(/\.(\d*)$/,function(p,f){return"."+f+ss("0",Pa(i[1]).length-f.length)}),r.indexOf("0.")!==-1?n:n.replace(/^0\./,".");if(r=r.replace(/^#+([0.])/,"$1"),i=r.match(/^(0*)\.(#*)$/))return d+CT(c,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=r.match(/^#{1,3},##0(\.?)$/))return d+_o(qd(c,0));if(i=r.match(/^#,##0\.([#0]*0)$/))return s<0?"-"+$n(e,r,-s):_o(""+(Math.floor(s)+d1e(s,i[1].length)))+"."+Ni(PT(s,i[1].length),i[1].length);if(i=r.match(/^#,#*,#0/))return $n(e,r.replace(/^#,#*,/,""),s);if(i=r.match(/^([0#]+)(\\?-([0#]+))+$/))return n=Ou($n(e,r.replace(/[\\-]/g,""),s)),l=0,Ou(Ou(r.replace(/\\/g,"")).replace(/[0#]/g,function(p){return l<n.length?n.charAt(l++):p==="0"?"0":""}));if(r.match(EB))return n=$n(e,"##########",s),"("+n.substr(0,3)+") "+n.substr(3,3)+"-"+n.substr(6);var u="";if(i=r.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(i[4].length,7),o=Wg(c,Math.pow(10,l)-1,!1),n=""+d,u=Tl("n",i[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),n+=u+i[2]+"/"+i[3],u=Hg(o[2],l),u.length<i[4].length&&(u=Pa(i[4].substr(i[4].length-u.length))+u),n+=u,n;if(i=r.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(i[1].length,i[4].length),7),o=Wg(c,Math.pow(10,l)-1,!0),d+(o[0]||(o[1]?"":"0"))+" "+(o[1]?C5(o[1],l)+i[2]+"/"+i[3]+Hg(o[2],l):ss(" ",2*l+1+i[2].length+i[3].length));if(i=r.match(/^[#0?]+$/))return n=qd(s,0),r.length<=n.length?n:Pa(r.substr(0,r.length-n.length))+n;if(i=r.match(/^([#0?]+)\.([#0]+)$/)){n=""+s.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),l=n.indexOf(".");var m=r.indexOf(".")-l,x=r.length-n.length-m;return Pa(r.substr(0,m)+n+r.substr(r.length-x))}if(i=r.match(/^00,000\.([#0]*0)$/))return l=PT(s,i[1].length),s<0?"-"+$n(e,r,-s):_o(u1e(s)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(p){return"00,"+(p.length<3?Ni(0,3-p.length):"")+p})+"."+Ni(l,i[1].length);switch(r){case"###,##0.00":return $n(e,"#,##0.00",s);case"###,###":case"##,###":case"#,###":var h=_o(qd(c,0));return h!=="0"?d+h:"";case"###,###.00":return $n(e,"###,##0.00",s).replace(/^0\./,".");case"#,###.00":return $n(e,"#,##0.00",s).replace(/^0\./,".")}throw new Error("unsupported format |"+r+"|")}function m1e(e,r,s){for(var a=r.length-1;r.charCodeAt(a-1)===44;)--a;return Tl(e,r.substr(0,a),s/Math.pow(10,3*(r.length-a)))}function h1e(e,r,s){var a=r.replace(kB,""),n=r.length-a.length;return Tl(e,a,s*Math.pow(10,2*n))+ss("%",n)}function IB(e,r){var s,a=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(r==0)return"0.0E+0";if(r<0)return"-"+IB(e,-r);var n=e.indexOf(".");n===-1&&(n=e.indexOf("E"));var i=Math.floor(Math.log(r)*Math.LOG10E)%n;if(i<0&&(i+=n),s=(r/Math.pow(10,i)).toPrecision(a+1+(n+i)%n),!s.match(/[Ee]/)){var l=Math.floor(Math.log(r)*Math.LOG10E);s.indexOf(".")===-1?s=s.charAt(0)+"."+s.substr(1)+"E+"+(l-s.length+i):s+="E+"+(l-i),s=s.replace(/\+-/,"-")}s=s.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,d,u){return c+d+u.substr(0,(n+i)%n)+"."+u.substr(i)+"E"})}else s=r.toExponential(a);return e.match(/E\+00$/)&&s.match(/e[+-]\d$/)&&(s=s.substr(0,s.length-1)+"0"+s.charAt(s.length-1)),e.match(/E\-/)&&s.match(/e\+/)&&(s=s.replace(/e\+/,"e")),s.replace("e","E")}function Fi(e,r,s){if(e.charCodeAt(0)===40&&!r.match(TB)){var a=r.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return s>=0?Fi("n",a,s):"("+Fi("n",a,-s)+")"}if(r.charCodeAt(r.length-1)===44)return m1e(e,r,s);if(r.indexOf("%")!==-1)return h1e(e,r,s);if(r.indexOf("E")!==-1)return IB(r,s);if(r.charCodeAt(0)===36)return"$"+Fi(e,r.substr(r.charAt(1)==" "?2:1),s);var n,i,l,o,c=Math.abs(s),d=s<0?"-":"";if(r.match(/^00+$/))return d+Ni(c,r.length);if(r.match(/^[#?]+$/))return n=""+s,s===0&&(n=""),n.length>r.length?n:Pa(r.substr(0,r.length-n.length))+n;if(i=r.match(PB))return c1e(i,c,d);if(r.match(/^#+0+$/))return d+Ni(c,r.length-r.indexOf("0"));if(i=r.match(AB))return n=(""+s).replace(/^([^\.]+)$/,"$1."+Pa(i[1])).replace(/\.$/,"."+Pa(i[1])),n=n.replace(/\.(\d*)$/,function(p,f){return"."+f+ss("0",Pa(i[1]).length-f.length)}),r.indexOf("0.")!==-1?n:n.replace(/^0\./,".");if(r=r.replace(/^#+([0.])/,"$1"),i=r.match(/^(0*)\.(#*)$/))return d+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=r.match(/^#{1,3},##0(\.?)$/))return d+_o(""+c);if(i=r.match(/^#,##0\.([#0]*0)$/))return s<0?"-"+Fi(e,r,-s):_o(""+s)+"."+ss("0",i[1].length);if(i=r.match(/^#,#*,#0/))return Fi(e,r.replace(/^#,#*,/,""),s);if(i=r.match(/^([0#]+)(\\?-([0#]+))+$/))return n=Ou(Fi(e,r.replace(/[\\-]/g,""),s)),l=0,Ou(Ou(r.replace(/\\/g,"")).replace(/[0#]/g,function(p){return l<n.length?n.charAt(l++):p==="0"?"0":""}));if(r.match(EB))return n=Fi(e,"##########",s),"("+n.substr(0,3)+") "+n.substr(3,3)+"-"+n.substr(6);var u="";if(i=r.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(i[4].length,7),o=Wg(c,Math.pow(10,l)-1,!1),n=""+d,u=Tl("n",i[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),n+=u+i[2]+"/"+i[3],u=Hg(o[2],l),u.length<i[4].length&&(u=Pa(i[4].substr(i[4].length-u.length))+u),n+=u,n;if(i=r.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(i[1].length,i[4].length),7),o=Wg(c,Math.pow(10,l)-1,!0),d+(o[0]||(o[1]?"":"0"))+" "+(o[1]?C5(o[1],l)+i[2]+"/"+i[3]+Hg(o[2],l):ss(" ",2*l+1+i[2].length+i[3].length));if(i=r.match(/^[#0?]+$/))return n=""+s,r.length<=n.length?n:Pa(r.substr(0,r.length-n.length))+n;if(i=r.match(/^([#0]+)\.([#0]+)$/)){n=""+s.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),l=n.indexOf(".");var m=r.indexOf(".")-l,x=r.length-n.length-m;return Pa(r.substr(0,m)+n+r.substr(r.length-x))}if(i=r.match(/^00,000\.([#0]*0)$/))return s<0?"-"+Fi(e,r,-s):_o(""+s).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(p){return"00,"+(p.length<3?Ni(0,3-p.length):"")+p})+"."+Ni(0,i[1].length);switch(r){case"###,###":case"##,###":case"#,###":var h=_o(""+c);return h!=="0"?d+h:"";default:if(r.match(/\.[0#?]*$/))return Fi(e,r.slice(0,r.lastIndexOf(".")),s)+Pa(r.slice(r.lastIndexOf(".")))}throw new Error("unsupported format |"+r+"|")}function Tl(e,r,s){return(s|0)===s?Fi(e,r,s):$n(e,r,s)}function x1e(e){for(var r=[],s=!1,a=0,n=0;a<e.length;++a)switch(e.charCodeAt(a)){case 34:s=!s;break;case 95:case 42:case 92:++a;break;case 59:r[r.length]=e.substr(n,a-n),n=a+1}if(r[r.length]=e.substr(n),s===!0)throw new Error("Format |"+e+"| unterminated string ");return r}var _B=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function OB(e){for(var r=0,s="",a="";r<e.length;)switch(s=e.charAt(r)){case"G":Vg(e,r)&&(r+=6),r++;break;case'"':for(;e.charCodeAt(++r)!==34&&r<e.length;);++r;break;case"\\":r+=2;break;case"_":r+=2;break;case"@":++r;break;case"B":case"b":if(e.charAt(r+1)==="1"||e.charAt(r+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(r,3).toUpperCase()==="A/P"||e.substr(r,5).toUpperCase()==="AM/PM"||e.substr(r,5).toUpperCase()==="/")return!0;++r;break;case"[":for(a=s;e.charAt(r++)!=="]"&&r<e.length;)a+=e.charAt(r);if(a.match(_B))return!0;break;case".":case"0":case"#":for(;r<e.length&&("0#?.,E+-%".indexOf(s=e.charAt(++r))>-1||s=="\\"&&e.charAt(r+1)=="-"&&"0#".indexOf(e.charAt(r+2))>-1););break;case"?":for(;e.charAt(++r)===s;);break;case"*":++r,(e.charAt(r)==" "||e.charAt(r)=="*")&&++r;break;case"(":case")":++r;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;r<e.length&&"0123456789".indexOf(e.charAt(++r))>-1;);break;case" ":++r;break;default:++r;break}return!1}function p1e(e,r,s,a){for(var n=[],i="",l=0,o="",c="t",d,u,m,x="H";l<e.length;)switch(o=e.charAt(l)){case"G":if(!Vg(e,l))throw new Error("unrecognized character "+o+" in "+e);n[n.length]={t:"G",v:"General"},l+=7;break;case'"':for(i="";(m=e.charCodeAt(++l))!==34&&l<e.length;)i+=String.fromCharCode(m);n[n.length]={t:"t",v:i},++l;break;case"\\":var h=e.charAt(++l),p=h==="("||h===")"?h:"t";n[n.length]={t:p,v:h},++l;break;case"_":n[n.length]={t:"t",v:" "},l+=2;break;case"@":n[n.length]={t:"T",v:r},++l;break;case"B":case"b":if(e.charAt(l+1)==="1"||e.charAt(l+1)==="2"){if(d==null&&(d=jp(r,s,e.charAt(l+1)==="2"),d==null))return"";n[n.length]={t:"X",v:e.substr(l,2)},c=o,l+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(r<0||d==null&&(d=jp(r,s),d==null))return"";for(i=o;++l<e.length&&e.charAt(l).toLowerCase()===o;)i+=o;o==="m"&&c.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=x),n[n.length]={t:o,v:i},c=o;break;case"A":case"a":case"":var f={t:o,v:o};if(d==null&&(d=jp(r,s)),e.substr(l,3).toUpperCase()==="A/P"?(d!=null&&(f.v=d.H>=12?"P":"A"),f.t="T",x="h",l+=3):e.substr(l,5).toUpperCase()==="AM/PM"?(d!=null&&(f.v=d.H>=12?"PM":"AM"),f.t="T",l+=5,x="h"):e.substr(l,5).toUpperCase()==="/"?(d!=null&&(f.v=d.H>=12?"":""),f.t="T",l+=5,x="h"):(f.t="t",++l),d==null&&f.t==="T")return"";n[n.length]=f,c=o;break;case"[":for(i=o;e.charAt(l++)!=="]"&&l<e.length;)i+=e.charAt(l);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(_B)){if(d==null&&(d=jp(r,s),d==null))return"";n[n.length]={t:"Z",v:i.toLowerCase()},c=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",OB(e)||(n[n.length]={t:"t",v:i}));break;case".":if(d!=null){for(i=o;++l<e.length&&(o=e.charAt(l))==="0";)i+=o;n[n.length]={t:"s",v:i};break}case"0":case"#":for(i=o;++l<e.length&&"0#?.,E+-%".indexOf(o=e.charAt(l))>-1;)i+=o;n[n.length]={t:"n",v:i};break;case"?":for(i=o;e.charAt(++l)===o;)i+=o;n[n.length]={t:o,v:i},c=o;break;case"*":++l,(e.charAt(l)==" "||e.charAt(l)=="*")&&++l;break;case"(":case")":n[n.length]={t:a===1?"t":o,v:o},++l;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=o;l<e.length&&"0123456789".indexOf(e.charAt(++l))>-1;)i+=e.charAt(l);n[n.length]={t:"D",v:i};break;case" ":n[n.length]={t:o,v:o},++l;break;case"$":n[n.length]={t:"t",v:"$"},++l;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+e);n[n.length]={t:"t",v:o},++l;break}var b=0,j=0,w;for(l=n.length-1,c="t";l>=0;--l)switch(n[l].t){case"h":case"H":n[l].t=x,c="h",b<1&&(b=1);break;case"s":(w=n[l].v.match(/\.0+$/))&&(j=Math.max(j,w[0].length-1)),b<3&&(b=3);case"d":case"y":case"M":case"e":c=n[l].t;break;case"m":c==="s"&&(n[l].t="M",b<2&&(b=2));break;case"X":break;case"Z":b<1&&n[l].v.match(/[Hh]/)&&(b=1),b<2&&n[l].v.match(/[Mm]/)&&(b=2),b<3&&n[l].v.match(/[Ss]/)&&(b=3)}switch(b){case 0:break;case 1:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M),d.M>=60&&(d.M=0,++d.H);break;case 2:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M);break}var y="",v;for(l=0;l<n.length;++l)switch(n[l].t){case"t":case"T":case" ":case"D":break;case"X":n[l].v="",n[l].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":n[l].v=n1e(n[l].t.charCodeAt(0),n[l].v,d,j),n[l].t="t";break;case"n":case"?":for(v=l+1;n[v]!=null&&((o=n[v].t)==="?"||o==="D"||(o===" "||o==="t")&&n[v+1]!=null&&(n[v+1].t==="?"||n[v+1].t==="t"&&n[v+1].v==="/")||n[l].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(n[v].v==="/"||n[v].v===" "&&n[v+1]!=null&&n[v+1].t=="?"));)n[l].v+=n[v].v,n[v]={v:"",t:";"},++v;y+=n[l].v,l=v-1;break;case"G":n[l].t="t",n[l].v=yw(r,s);break}var N="",S,k;if(y.length>0){y.charCodeAt(0)==40?(S=r<0&&y.charCodeAt(0)===45?-r:r,k=Tl("n",y,S)):(S=r<0&&a>1?-r:r,k=Tl("n",y,S),S<0&&n[0]&&n[0].t=="t"&&(k=k.substr(1),n[0].v="-"+n[0].v)),v=k.length-1;var C=n.length;for(l=0;l<n.length;++l)if(n[l]!=null&&n[l].t!="t"&&n[l].v.indexOf(".")>-1){C=l;break}var P=n.length;if(C===n.length&&k.indexOf("E")===-1){for(l=n.length-1;l>=0;--l)n[l]==null||"n?".indexOf(n[l].t)===-1||(v>=n[l].v.length-1?(v-=n[l].v.length,n[l].v=k.substr(v+1,n[l].v.length)):v<0?n[l].v="":(n[l].v=k.substr(0,v+1),v=-1),n[l].t="t",P=l);v>=0&&P<n.length&&(n[P].v=k.substr(0,v+1)+n[P].v)}else if(C!==n.length&&k.indexOf("E")===-1){for(v=k.indexOf(".")-1,l=C;l>=0;--l)if(!(n[l]==null||"n?".indexOf(n[l].t)===-1)){for(u=n[l].v.indexOf(".")>-1&&l===C?n[l].v.indexOf(".")-1:n[l].v.length-1,N=n[l].v.substr(u+1);u>=0;--u)v>=0&&(n[l].v.charAt(u)==="0"||n[l].v.charAt(u)==="#")&&(N=k.charAt(v--)+N);n[l].v=N,n[l].t="t",P=l}for(v>=0&&P<n.length&&(n[P].v=k.substr(0,v+1)+n[P].v),v=k.indexOf(".")+1,l=C;l<n.length;++l)if(!(n[l]==null||"n?(".indexOf(n[l].t)===-1&&l!==C)){for(u=n[l].v.indexOf(".")>-1&&l===C?n[l].v.indexOf(".")+1:0,N=n[l].v.substr(0,u);u<n[l].v.length;++u)v<k.length&&(N+=k.charAt(v++));n[l].v=N,n[l].t="t",P=l}}}for(l=0;l<n.length;++l)n[l]!=null&&"n?".indexOf(n[l].t)>-1&&(S=a>1&&r<0&&l>0&&n[l-1].v==="-"?-r:r,n[l].v=Tl(n[l].t,n[l].v,S),n[l].t="t");var _="";for(l=0;l!==n.length;++l)n[l]!=null&&(_+=n[l].v);return _}var AT=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function TT(e,r){if(r==null)return!1;var s=parseFloat(r[2]);switch(r[1]){case"=":if(e==s)return!0;break;case">":if(e>s)return!0;break;case"<":if(e<s)return!0;break;case"<>":if(e!=s)return!0;break;case">=":if(e>=s)return!0;break;case"<=":if(e<=s)return!0;break}return!1}function f1e(e,r){var s=x1e(e),a=s.length,n=s[a-1].indexOf("@");if(a<4&&n>-1&&--a,s.length>4)throw new Error("cannot find right format for |"+s.join("|")+"|");if(typeof r!="number")return[4,s.length===4||n>-1?s[s.length-1]:"@"];switch(s.length){case 1:s=n>-1?["General","General","General",s[0]]:[s[0],s[0],s[0],"@"];break;case 2:s=n>-1?[s[0],s[0],s[0],s[1]]:[s[0],s[1],s[0],"@"];break;case 3:s=n>-1?[s[0],s[1],s[0],s[2]]:[s[0],s[1],s[2],"@"];break}var i=r>0?s[0]:r<0?s[1]:s[2];if(s[0].indexOf("[")===-1&&s[1].indexOf("[")===-1)return[a,i];if(s[0].match(/\[[=<>]/)!=null||s[1].match(/\[[=<>]/)!=null){var l=s[0].match(AT),o=s[1].match(AT);return TT(r,l)?[a,s[0]]:TT(r,o)?[a,s[1]]:[a,s[l!=null&&o!=null?2:1]]}return[a,i]}function sc(e,r,s){s==null&&(s={});var a="";switch(typeof e){case"string":e=="m/d/yy"&&s.dateNF?a=s.dateNF:a=e;break;case"number":e==14&&s.dateNF?a=s.dateNF:a=(s.table!=null?s.table:is)[e],a==null&&(a=s.table&&s.table[kT[e]]||is[kT[e]]),a==null&&(a=Jve[e]||"General");break}if(Vg(a,0))return yw(r,s);r instanceof Date&&(r=SB(r,s.date1904));var n=f1e(a,r);if(Vg(n[1]))return yw(r,s);if(r===!0)r="TRUE";else if(r===!1)r="FALSE";else if(r===""||r==null)return"";return p1e(n[1],r,s,n[0])}function DB(e,r){if(typeof r!="number"){r=+r||-1;for(var s=0;s<392;++s){if(is[s]==null){r<0&&(r=s);continue}if(is[s]==e){r=s;break}}r<0&&(r=391)}return is[r]=e,r}function Kb(e){for(var r=0;r!=392;++r)e[r]!==void 0&&DB(e[r],r)}function Yb(){is=Xve()}var MB=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function g1e(e){var r=typeof e=="number"?is[e]:e;return r=r.replace(MB,"(\\d+)"),new RegExp("^"+r+"$")}function y1e(e,r,s){var a=-1,n=-1,i=-1,l=-1,o=-1,c=-1;(r.match(MB)||[]).forEach(function(m,x){var h=parseInt(s[x+1],10);switch(m.toLowerCase().charAt(0)){case"y":a=h;break;case"d":i=h;break;case"h":l=h;break;case"s":c=h;break;case"m":l>=0?o=h:n=h;break}}),c>=0&&o==-1&&n>=0&&(o=n,n=-1);var d=(""+(a>=0?a:new Date().getFullYear())).slice(-4)+"-"+("00"+(n>=1?n:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);d.length==7&&(d="0"+d),d.length==8&&(d="20"+d);var u=("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return l==-1&&o==-1&&c==-1?d:a==-1&&n==-1&&i==-1?u:d+"T"+u}var b1e=function(){var e={};e.version="1.2.0";function r(){for(var k=0,C=new Array(256),P=0;P!=256;++P)k=P,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,C[P]=k;return typeof Int32Array<"u"?new Int32Array(C):C}var s=r();function a(k){var C=0,P=0,_=0,A=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(_=0;_!=256;++_)A[_]=k[_];for(_=0;_!=256;++_)for(P=k[_],C=256+_;C<4096;C+=256)P=A[C]=P>>>8^k[P&255];var D=[];for(_=1;_!=16;++_)D[_-1]=typeof Int32Array<"u"?A.subarray(_*256,_*256+256):A.slice(_*256,_*256+256);return D}var n=a(s),i=n[0],l=n[1],o=n[2],c=n[3],d=n[4],u=n[5],m=n[6],x=n[7],h=n[8],p=n[9],f=n[10],b=n[11],j=n[12],w=n[13],y=n[14];function v(k,C){for(var P=C^-1,_=0,A=k.length;_<A;)P=P>>>8^s[(P^k.charCodeAt(_++))&255];return~P}function N(k,C){for(var P=C^-1,_=k.length-15,A=0;A<_;)P=y[k[A++]^P&255]^w[k[A++]^P>>8&255]^j[k[A++]^P>>16&255]^b[k[A++]^P>>>24]^f[k[A++]]^p[k[A++]]^h[k[A++]]^x[k[A++]]^m[k[A++]]^u[k[A++]]^d[k[A++]]^c[k[A++]]^o[k[A++]]^l[k[A++]]^i[k[A++]]^s[k[A++]];for(_+=15;A<_;)P=P>>>8^s[(P^k[A++])&255];return~P}function S(k,C){for(var P=C^-1,_=0,A=k.length,D=0,F=0;_<A;)D=k.charCodeAt(_++),D<128?P=P>>>8^s[(P^D)&255]:D<2048?(P=P>>>8^s[(P^(192|D>>6&31))&255],P=P>>>8^s[(P^(128|D&63))&255]):D>=55296&&D<57344?(D=(D&1023)+64,F=k.charCodeAt(_++)&1023,P=P>>>8^s[(P^(240|D>>8&7))&255],P=P>>>8^s[(P^(128|D>>2&63))&255],P=P>>>8^s[(P^(128|F>>6&15|(D&3)<<4))&255],P=P>>>8^s[(P^(128|F&63))&255]):(P=P>>>8^s[(P^(224|D>>12&15))&255],P=P>>>8^s[(P^(128|D>>6&63))&255],P=P>>>8^s[(P^(128|D&63))&255]);return~P}return e.table=s,e.bstr=v,e.buf=N,e.str=S,e}(),gr=function(){var r={};r.version="1.2.1";function s(W,te){for(var J=W.split("/"),Z=te.split("/"),ne=0,le=0,Ne=Math.min(J.length,Z.length);ne<Ne;++ne){if(le=J[ne].length-Z[ne].length)return le;if(J[ne]!=Z[ne])return J[ne]<Z[ne]?-1:1}return J.length-Z.length}function a(W){if(W.charAt(W.length-1)=="/")return W.slice(0,-1).indexOf("/")===-1?W:a(W.slice(0,-1));var te=W.lastIndexOf("/");return te===-1?W:W.slice(0,te+1)}function n(W){if(W.charAt(W.length-1)=="/")return n(W.slice(0,-1));var te=W.lastIndexOf("/");return te===-1?W:W.slice(te+1)}function i(W,te){typeof te=="string"&&(te=new Date(te));var J=te.getHours();J=J<<6|te.getMinutes(),J=J<<5|te.getSeconds()>>>1,W.write_shift(2,J);var Z=te.getFullYear()-1980;Z=Z<<4|te.getMonth()+1,Z=Z<<5|te.getDate(),W.write_shift(2,Z)}function l(W){var te=W.read_shift(2)&65535,J=W.read_shift(2)&65535,Z=new Date,ne=J&31;J>>>=5;var le=J&15;J>>>=4,Z.setMilliseconds(0),Z.setFullYear(J+1980),Z.setMonth(le-1),Z.setDate(ne);var Ne=te&31;te>>>=5;var ze=te&63;return te>>>=6,Z.setHours(te),Z.setMinutes(ze),Z.setSeconds(Ne<<1),Z}function o(W){mn(W,0);for(var te={},J=0;W.l<=W.length-4;){var Z=W.read_shift(2),ne=W.read_shift(2),le=W.l+ne,Ne={};switch(Z){case 21589:J=W.read_shift(1),J&1&&(Ne.mtime=W.read_shift(4)),ne>5&&(J&2&&(Ne.atime=W.read_shift(4)),J&4&&(Ne.ctime=W.read_shift(4))),Ne.mtime&&(Ne.mt=new Date(Ne.mtime*1e3));break}W.l=le,te[Z]=Ne}return te}var c;function d(){return c||(c={})}function u(W,te){if(W[0]==80&&W[1]==75)return V(W,te);if((W[0]|32)==109&&(W[1]|32)==105)return xt(W,te);if(W.length<512)throw new Error("CFB file size "+W.length+" < 512");var J=3,Z=512,ne=0,le=0,Ne=0,ze=0,Se=0,Pe=[],Ae=W.slice(0,512);mn(Ae,0);var Ze=m(Ae);switch(J=Ze[0],J){case 3:Z=512;break;case 4:Z=4096;break;case 0:if(Ze[1]==0)return V(W,te);default:throw new Error("Major Version: Expected 3 or 4 saw "+J)}Z!==512&&(Ae=W.slice(0,Z),mn(Ae,28));var lt=W.slice(0,Z);x(Ae,J);var yt=Ae.read_shift(4,"i");if(J===3&&yt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+yt);Ae.l+=4,Ne=Ae.read_shift(4,"i"),Ae.l+=4,Ae.chk("00100000","Mini Stream Cutoff Size: "),ze=Ae.read_shift(4,"i"),ne=Ae.read_shift(4,"i"),Se=Ae.read_shift(4,"i"),le=Ae.read_shift(4,"i");for(var Xe=-1,ut=0;ut<109&&(Xe=Ae.read_shift(4,"i"),!(Xe<0));++ut)Pe[ut]=Xe;var G=h(W,Z);b(Se,le,G,Z,Pe);var Ct=w(G,Ne,Pe,Z);Ct[Ne].name="!Directory",ne>0&&ze!==F&&(Ct[ze].name="!MiniFAT"),Ct[Pe[0]].name="!FAT",Ct.fat_addrs=Pe,Ct.ssz=Z;var qe={},Ee=[],at=[],gt=[];y(Ne,Ct,G,Ee,ne,qe,at,ze),p(at,gt,Ee),Ee.shift();var _i={FileIndex:at,FullPaths:gt};return te&&te.raw&&(_i.raw={header:lt,sectors:G}),_i}function m(W){if(W[W.l]==80&&W[W.l+1]==75)return[0,0];W.chk(X,"Header Signature: "),W.l+=16;var te=W.read_shift(2,"u");return[W.read_shift(2,"u"),te]}function x(W,te){var J=9;switch(W.l+=2,J=W.read_shift(2)){case 9:if(te!=3)throw new Error("Sector Shift: Expected 9 saw "+J);break;case 12:if(te!=4)throw new Error("Sector Shift: Expected 12 saw "+J);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+J)}W.chk("0600","Mini Sector Shift: "),W.chk("000000000000","Reserved: ")}function h(W,te){for(var J=Math.ceil(W.length/te)-1,Z=[],ne=1;ne<J;++ne)Z[ne-1]=W.slice(ne*te,(ne+1)*te);return Z[J-1]=W.slice(J*te),Z}function p(W,te,J){for(var Z=0,ne=0,le=0,Ne=0,ze=0,Se=J.length,Pe=[],Ae=[];Z<Se;++Z)Pe[Z]=Ae[Z]=Z,te[Z]=J[Z];for(;ze<Ae.length;++ze)Z=Ae[ze],ne=W[Z].L,le=W[Z].R,Ne=W[Z].C,Pe[Z]===Z&&(ne!==-1&&Pe[ne]!==ne&&(Pe[Z]=Pe[ne]),le!==-1&&Pe[le]!==le&&(Pe[Z]=Pe[le])),Ne!==-1&&(Pe[Ne]=Z),ne!==-1&&Z!=Pe[Z]&&(Pe[ne]=Pe[Z],Ae.lastIndexOf(ne)<ze&&Ae.push(ne)),le!==-1&&Z!=Pe[Z]&&(Pe[le]=Pe[Z],Ae.lastIndexOf(le)<ze&&Ae.push(le));for(Z=1;Z<Se;++Z)Pe[Z]===Z&&(le!==-1&&Pe[le]!==le?Pe[Z]=Pe[le]:ne!==-1&&Pe[ne]!==ne&&(Pe[Z]=Pe[ne]));for(Z=1;Z<Se;++Z)if(W[Z].type!==0){if(ze=Z,ze!=Pe[ze])do ze=Pe[ze],te[Z]=te[ze]+"/"+te[Z];while(ze!==0&&Pe[ze]!==-1&&ze!=Pe[ze]);Pe[Z]=-1}for(te[0]+="/",Z=1;Z<Se;++Z)W[Z].type!==2&&(te[Z]+="/")}function f(W,te,J){for(var Z=W.start,ne=W.size,le=[],Ne=Z;J&&ne>0&&Ne>=0;)le.push(te.slice(Ne*D,Ne*D+D)),ne-=D,Ne=Ac(J,Ne*4);return le.length===0?Be(0):ta(le).slice(0,W.size)}function b(W,te,J,Z,ne){var le=F;if(W===F){if(te!==0)throw new Error("DIFAT chain shorter than expected")}else if(W!==-1){var Ne=J[W],ze=(Z>>>2)-1;if(!Ne)return;for(var Se=0;Se<ze&&(le=Ac(Ne,Se*4))!==F;++Se)ne.push(le);b(Ac(Ne,Z-4),te-1,J,Z,ne)}}function j(W,te,J,Z,ne){var le=[],Ne=[];ne||(ne=[]);var ze=Z-1,Se=0,Pe=0;for(Se=te;Se>=0;){ne[Se]=!0,le[le.length]=Se,Ne.push(W[Se]);var Ae=J[Math.floor(Se*4/Z)];if(Pe=Se*4&ze,Z<4+Pe)throw new Error("FAT boundary crossed: "+Se+" 4 "+Z);if(!W[Ae])break;Se=Ac(W[Ae],Pe)}return{nodes:le,data:FT([Ne])}}function w(W,te,J,Z){var ne=W.length,le=[],Ne=[],ze=[],Se=[],Pe=Z-1,Ae=0,Ze=0,lt=0,yt=0;for(Ae=0;Ae<ne;++Ae)if(ze=[],lt=Ae+te,lt>=ne&&(lt-=ne),!Ne[lt]){Se=[];var Xe=[];for(Ze=lt;Ze>=0;){Xe[Ze]=!0,Ne[Ze]=!0,ze[ze.length]=Ze,Se.push(W[Ze]);var ut=J[Math.floor(Ze*4/Z)];if(yt=Ze*4&Pe,Z<4+yt)throw new Error("FAT boundary crossed: "+Ze+" 4 "+Z);if(!W[ut]||(Ze=Ac(W[ut],yt),Xe[Ze]))break}le[lt]={nodes:ze,data:FT([Se])}}return le}function y(W,te,J,Z,ne,le,Ne,ze){for(var Se=0,Pe=Z.length?2:0,Ae=te[W].data,Ze=0,lt=0,yt;Ze<Ae.length;Ze+=128){var Xe=Ae.slice(Ze,Ze+128);mn(Xe,64),lt=Xe.read_shift(2),yt=_5(Xe,0,lt-Pe),Z.push(yt);var ut={name:yt,type:Xe.read_shift(1),color:Xe.read_shift(1),L:Xe.read_shift(4,"i"),R:Xe.read_shift(4,"i"),C:Xe.read_shift(4,"i"),clsid:Xe.read_shift(16),state:Xe.read_shift(4,"i"),start:0,size:0},G=Xe.read_shift(2)+Xe.read_shift(2)+Xe.read_shift(2)+Xe.read_shift(2);G!==0&&(ut.ct=v(Xe,Xe.l-8));var Ct=Xe.read_shift(2)+Xe.read_shift(2)+Xe.read_shift(2)+Xe.read_shift(2);Ct!==0&&(ut.mt=v(Xe,Xe.l-8)),ut.start=Xe.read_shift(4,"i"),ut.size=Xe.read_shift(4,"i"),ut.size<0&&ut.start<0&&(ut.size=ut.type=0,ut.start=F,ut.name=""),ut.type===5?(Se=ut.start,ne>0&&Se!==F&&(te[Se].name="!StreamData")):ut.size>=4096?(ut.storage="fat",te[ut.start]===void 0&&(te[ut.start]=j(J,ut.start,te.fat_addrs,te.ssz)),te[ut.start].name=ut.name,ut.content=te[ut.start].data.slice(0,ut.size)):(ut.storage="minifat",ut.size<0?ut.size=0:Se!==F&&ut.start!==F&&te[Se]&&(ut.content=f(ut,te[Se].data,(te[ze]||{}).data))),ut.content&&mn(ut.content,0),le[yt]=ut,Ne.push(ut)}}function v(W,te){return new Date((xn(W,te+4)/1e7*Math.pow(2,32)+xn(W,te)/1e7-11644473600)*1e3)}function N(W,te){return d(),u(c.readFileSync(W),te)}function S(W,te){var J=te&&te.type;switch(J||or&&Buffer.isBuffer(W)&&(J="buffer"),J||"base64"){case"file":return N(W,te);case"base64":return u(ji(Kl(W)),te);case"binary":return u(ji(W),te)}return u(W,te)}function k(W,te){var J=te||{},Z=J.root||"Root Entry";if(W.FullPaths||(W.FullPaths=[]),W.FileIndex||(W.FileIndex=[]),W.FullPaths.length!==W.FileIndex.length)throw new Error("inconsistent CFB structure");W.FullPaths.length===0&&(W.FullPaths[0]=Z+"/",W.FileIndex[0]={name:Z,type:5}),J.CLSID&&(W.FileIndex[0].clsid=J.CLSID),C(W)}function C(W){var te="Sh33tJ5";if(!gr.find(W,"/"+te)){var J=Be(4);J[0]=55,J[1]=J[3]=50,J[2]=54,W.FileIndex.push({name:te,type:2,content:J,size:4,L:69,R:69,C:69}),W.FullPaths.push(W.FullPaths[0]+te),P(W)}}function P(W,te){k(W);for(var J=!1,Z=!1,ne=W.FullPaths.length-1;ne>=0;--ne){var le=W.FileIndex[ne];switch(le.type){case 0:Z?J=!0:(W.FileIndex.pop(),W.FullPaths.pop());break;case 1:case 2:case 5:Z=!0,isNaN(le.R*le.L*le.C)&&(J=!0),le.R>-1&&le.L>-1&&le.R==le.L&&(J=!0);break;default:J=!0;break}}if(!(!J&&!te)){var Ne=new Date(1987,1,19),ze=0,Se=Object.create?Object.create(null):{},Pe=[];for(ne=0;ne<W.FullPaths.length;++ne)Se[W.FullPaths[ne]]=!0,W.FileIndex[ne].type!==0&&Pe.push([W.FullPaths[ne],W.FileIndex[ne]]);for(ne=0;ne<Pe.length;++ne){var Ae=a(Pe[ne][0]);Z=Se[Ae],Z||(Pe.push([Ae,{name:n(Ae).replace("/",""),type:1,clsid:he,ct:Ne,mt:Ne,content:null}]),Se[Ae]=!0)}for(Pe.sort(function(yt,Xe){return s(yt[0],Xe[0])}),W.FullPaths=[],W.FileIndex=[],ne=0;ne<Pe.length;++ne)W.FullPaths[ne]=Pe[ne][0],W.FileIndex[ne]=Pe[ne][1];for(ne=0;ne<Pe.length;++ne){var Ze=W.FileIndex[ne],lt=W.FullPaths[ne];if(Ze.name=n(lt).replace("/",""),Ze.L=Ze.R=Ze.C=-(Ze.color=1),Ze.size=Ze.content?Ze.content.length:0,Ze.start=0,Ze.clsid=Ze.clsid||he,ne===0)Ze.C=Pe.length>1?1:-1,Ze.size=0,Ze.type=5;else if(lt.slice(-1)=="/"){for(ze=ne+1;ze<Pe.length&&a(W.FullPaths[ze])!=lt;++ze);for(Ze.C=ze>=Pe.length?-1:ze,ze=ne+1;ze<Pe.length&&a(W.FullPaths[ze])!=a(lt);++ze);Ze.R=ze>=Pe.length?-1:ze,Ze.type=1}else a(W.FullPaths[ne+1]||"")==a(lt)&&(Ze.R=ne+1),Ze.type=2}}}function _(W,te){var J=te||{};if(J.fileType=="mad")return Ht(W,J);switch(P(W),J.fileType){case"zip":return Ue(W,J)}var Z=function(yt){for(var Xe=0,ut=0,G=0;G<yt.FileIndex.length;++G){var Ct=yt.FileIndex[G];if(Ct.content){var qe=Ct.content.length;qe>0&&(qe<4096?Xe+=qe+63>>6:ut+=qe+511>>9)}}for(var Ee=yt.FullPaths.length+3>>2,at=Xe+7>>3,gt=Xe+127>>7,_i=at+ut+Ee+gt,la=_i+127>>7,Oi=la<=109?0:Math.ceil((la-109)/127);_i+la+Oi+127>>7>la;)Oi=++la<=109?0:Math.ceil((la-109)/127);var oa=[1,Oi,la,gt,Ee,ut,Xe,0];return yt.FileIndex[0].size=Xe<<6,oa[7]=(yt.FileIndex[0].start=oa[0]+oa[1]+oa[2]+oa[3]+oa[4]+oa[5])+(oa[6]+7>>3),oa}(W),ne=Be(Z[7]<<9),le=0,Ne=0;{for(le=0;le<8;++le)ne.write_shift(1,ce[le]);for(le=0;le<8;++le)ne.write_shift(2,0);for(ne.write_shift(2,62),ne.write_shift(2,3),ne.write_shift(2,65534),ne.write_shift(2,9),ne.write_shift(2,6),le=0;le<3;++le)ne.write_shift(2,0);for(ne.write_shift(4,0),ne.write_shift(4,Z[2]),ne.write_shift(4,Z[0]+Z[1]+Z[2]+Z[3]-1),ne.write_shift(4,0),ne.write_shift(4,4096),ne.write_shift(4,Z[3]?Z[0]+Z[1]+Z[2]-1:F),ne.write_shift(4,Z[3]),ne.write_shift(-4,Z[1]?Z[0]-1:F),ne.write_shift(4,Z[1]),le=0;le<109;++le)ne.write_shift(-4,le<Z[2]?Z[1]+le:-1)}if(Z[1])for(Ne=0;Ne<Z[1];++Ne){for(;le<236+Ne*127;++le)ne.write_shift(-4,le<Z[2]?Z[1]+le:-1);ne.write_shift(-4,Ne===Z[1]-1?F:Ne+1)}var ze=function(yt){for(Ne+=yt;le<Ne-1;++le)ne.write_shift(-4,le+1);yt&&(++le,ne.write_shift(-4,F))};for(Ne=le=0,Ne+=Z[1];le<Ne;++le)ne.write_shift(-4,L.DIFSECT);for(Ne+=Z[2];le<Ne;++le)ne.write_shift(-4,L.FATSECT);ze(Z[3]),ze(Z[4]);for(var Se=0,Pe=0,Ae=W.FileIndex[0];Se<W.FileIndex.length;++Se)Ae=W.FileIndex[Se],Ae.content&&(Pe=Ae.content.length,!(Pe<4096)&&(Ae.start=Ne,ze(Pe+511>>9)));for(ze(Z[6]+7>>3);ne.l&511;)ne.write_shift(-4,L.ENDOFCHAIN);for(Ne=le=0,Se=0;Se<W.FileIndex.length;++Se)Ae=W.FileIndex[Se],Ae.content&&(Pe=Ae.content.length,!(!Pe||Pe>=4096)&&(Ae.start=Ne,ze(Pe+63>>6)));for(;ne.l&511;)ne.write_shift(-4,L.ENDOFCHAIN);for(le=0;le<Z[4]<<2;++le){var Ze=W.FullPaths[le];if(!Ze||Ze.length===0){for(Se=0;Se<17;++Se)ne.write_shift(4,0);for(Se=0;Se<3;++Se)ne.write_shift(4,-1);for(Se=0;Se<12;++Se)ne.write_shift(4,0);continue}Ae=W.FileIndex[le],le===0&&(Ae.start=Ae.size?Ae.start-1:F);var lt=le===0&&J.root||Ae.name;if(Pe=2*(lt.length+1),ne.write_shift(64,lt,"utf16le"),ne.write_shift(2,Pe),ne.write_shift(1,Ae.type),ne.write_shift(1,Ae.color),ne.write_shift(-4,Ae.L),ne.write_shift(-4,Ae.R),ne.write_shift(-4,Ae.C),Ae.clsid)ne.write_shift(16,Ae.clsid,"hex");else for(Se=0;Se<4;++Se)ne.write_shift(4,0);ne.write_shift(4,Ae.state||0),ne.write_shift(4,0),ne.write_shift(4,0),ne.write_shift(4,0),ne.write_shift(4,0),ne.write_shift(4,Ae.start),ne.write_shift(4,Ae.size),ne.write_shift(4,0)}for(le=1;le<W.FileIndex.length;++le)if(Ae=W.FileIndex[le],Ae.size>=4096)if(ne.l=Ae.start+1<<9,or&&Buffer.isBuffer(Ae.content))Ae.content.copy(ne,ne.l,0,Ae.size),ne.l+=Ae.size+511&-512;else{for(Se=0;Se<Ae.size;++Se)ne.write_shift(1,Ae.content[Se]);for(;Se&511;++Se)ne.write_shift(1,0)}for(le=1;le<W.FileIndex.length;++le)if(Ae=W.FileIndex[le],Ae.size>0&&Ae.size<4096)if(or&&Buffer.isBuffer(Ae.content))Ae.content.copy(ne,ne.l,0,Ae.size),ne.l+=Ae.size+63&-64;else{for(Se=0;Se<Ae.size;++Se)ne.write_shift(1,Ae.content[Se]);for(;Se&63;++Se)ne.write_shift(1,0)}if(or)ne.l=ne.length;else for(;ne.l<ne.length;)ne.write_shift(1,0);return ne}function A(W,te){var J=W.FullPaths.map(function(Se){return Se.toUpperCase()}),Z=J.map(function(Se){var Pe=Se.split("/");return Pe[Pe.length-(Se.slice(-1)=="/"?2:1)]}),ne=!1;te.charCodeAt(0)===47?(ne=!0,te=J[0].slice(0,-1)+te):ne=te.indexOf("/")!==-1;var le=te.toUpperCase(),Ne=ne===!0?J.indexOf(le):Z.indexOf(le);if(Ne!==-1)return W.FileIndex[Ne];var ze=!le.match(vp);for(le=le.replace(_h,""),ze&&(le=le.replace(vp,"!")),Ne=0;Ne<J.length;++Ne)if((ze?J[Ne].replace(vp,"!"):J[Ne]).replace(_h,"")==le||(ze?Z[Ne].replace(vp,"!"):Z[Ne]).replace(_h,"")==le)return W.FileIndex[Ne];return null}var D=64,F=-2,X="d0cf11e0a1b11ae1",ce=[208,207,17,224,161,177,26,225],he="00000000000000000000000000000000",L={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:F,FREESECT:-1,HEADER_SIGNATURE:X,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:he,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function q(W,te,J){d();var Z=_(W,J);c.writeFileSync(te,Z)}function se(W){for(var te=new Array(W.length),J=0;J<W.length;++J)te[J]=String.fromCharCode(W[J]);return te.join("")}function R(W,te){var J=_(W,te);switch(te&&te.type||"buffer"){case"file":return d(),c.writeFileSync(te.filename,J),J;case"binary":return typeof J=="string"?J:se(J);case"base64":return P0(typeof J=="string"?J:se(J));case"buffer":if(or)return Buffer.isBuffer(J)?J:lo(J);case"array":return typeof J=="string"?ji(J):J}return J}var T;function O(W){try{var te=W.InflateRaw,J=new te;if(J._processChunk(new Uint8Array([3,0]),J._finishFlushFlag),J.bytesRead)T=W;else throw new Error("zlib does not expose bytesRead")}catch(Z){console.error("cannot use native zlib: "+(Z.message||Z))}}function K(W,te){if(!T)return dt(W,te);var J=T.InflateRaw,Z=new J,ne=Z._processChunk(W.slice(W.l),Z._finishFlushFlag);return W.l+=Z.bytesRead,ne}function U(W){return T?T.deflateRawSync(W):Lt(W)}var ee=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],M=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],H=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function B(W){var te=(W<<1|W<<11)&139536|(W<<5|W<<15)&558144;return(te>>16|te>>8|te)&255}for(var Y=typeof Uint8Array<"u",ie=Y?new Uint8Array(256):[],me=0;me<256;++me)ie[me]=B(me);function de(W,te){var J=ie[W&255];return te<=8?J>>>8-te:(J=J<<8|ie[W>>8&255],te<=16?J>>>16-te:(J=J<<8|ie[W>>16&255],J>>>24-te))}function Ge(W,te){var J=te&7,Z=te>>>3;return(W[Z]|(J<=6?0:W[Z+1]<<8))>>>J&3}function Me(W,te){var J=te&7,Z=te>>>3;return(W[Z]|(J<=5?0:W[Z+1]<<8))>>>J&7}function it(W,te){var J=te&7,Z=te>>>3;return(W[Z]|(J<=4?0:W[Z+1]<<8))>>>J&15}function Ye(W,te){var J=te&7,Z=te>>>3;return(W[Z]|(J<=3?0:W[Z+1]<<8))>>>J&31}function Le(W,te){var J=te&7,Z=te>>>3;return(W[Z]|(J<=1?0:W[Z+1]<<8))>>>J&127}function z(W,te,J){var Z=te&7,ne=te>>>3,le=(1<<J)-1,Ne=W[ne]>>>Z;return J<8-Z||(Ne|=W[ne+1]<<8-Z,J<16-Z)||(Ne|=W[ne+2]<<16-Z,J<24-Z)||(Ne|=W[ne+3]<<24-Z),Ne&le}function xe(W,te,J){var Z=te&7,ne=te>>>3;return Z<=5?W[ne]|=(J&7)<<Z:(W[ne]|=J<<Z&255,W[ne+1]=(J&7)>>8-Z),te+3}function re(W,te,J){var Z=te&7,ne=te>>>3;return J=(J&1)<<Z,W[ne]|=J,te+1}function ge(W,te,J){var Z=te&7,ne=te>>>3;return J<<=Z,W[ne]|=J&255,J>>>=8,W[ne+1]=J,te+8}function pe(W,te,J){var Z=te&7,ne=te>>>3;return J<<=Z,W[ne]|=J&255,J>>>=8,W[ne+1]=J&255,W[ne+2]=J>>>8,te+16}function ve(W,te){var J=W.length,Z=2*J>te?2*J:te+5,ne=0;if(J>=te)return W;if(or){var le=wT(Z);if(W.copy)W.copy(le);else for(;ne<W.length;++ne)le[ne]=W[ne];return le}else if(Y){var Ne=new Uint8Array(Z);if(Ne.set)Ne.set(W);else for(;ne<J;++ne)Ne[ne]=W[ne];return Ne}return W.length=Z,W}function ke(W){for(var te=new Array(W),J=0;J<W;++J)te[J]=0;return te}function Qe(W,te,J){var Z=1,ne=0,le=0,Ne=0,ze=0,Se=W.length,Pe=Y?new Uint16Array(32):ke(32);for(le=0;le<32;++le)Pe[le]=0;for(le=Se;le<J;++le)W[le]=0;Se=W.length;var Ae=Y?new Uint16Array(Se):ke(Se);for(le=0;le<Se;++le)Pe[ne=W[le]]++,Z<ne&&(Z=ne),Ae[le]=0;for(Pe[0]=0,le=1;le<=Z;++le)Pe[le+16]=ze=ze+Pe[le-1]<<1;for(le=0;le<Se;++le)ze=W[le],ze!=0&&(Ae[le]=Pe[ze+16]++);var Ze=0;for(le=0;le<Se;++le)if(Ze=W[le],Ze!=0)for(ze=de(Ae[le],Z)>>Z-Ze,Ne=(1<<Z+4-Ze)-1;Ne>=0;--Ne)te[ze|Ne<<Ze]=Ze&15|le<<4;return Z}var ft=Y?new Uint16Array(512):ke(512),je=Y?new Uint16Array(32):ke(32);if(!Y){for(var Fe=0;Fe<512;++Fe)ft[Fe]=0;for(Fe=0;Fe<32;++Fe)je[Fe]=0}(function(){for(var W=[],te=0;te<32;te++)W.push(5);Qe(W,je,32);var J=[];for(te=0;te<=143;te++)J.push(8);for(;te<=255;te++)J.push(9);for(;te<=279;te++)J.push(7);for(;te<=287;te++)J.push(8);Qe(J,ft,288)})();var Tt=function(){for(var te=Y?new Uint8Array(32768):[],J=0,Z=0;J<H.length-1;++J)for(;Z<H[J+1];++Z)te[Z]=J;for(;Z<32768;++Z)te[Z]=29;var ne=Y?new Uint8Array(259):[];for(J=0,Z=0;J<M.length-1;++J)for(;Z<M[J+1];++Z)ne[Z]=J;function le(ze,Se){for(var Pe=0;Pe<ze.length;){var Ae=Math.min(65535,ze.length-Pe),Ze=Pe+Ae==ze.length;for(Se.write_shift(1,+Ze),Se.write_shift(2,Ae),Se.write_shift(2,~Ae&65535);Ae-- >0;)Se[Se.l++]=ze[Pe++]}return Se.l}function Ne(ze,Se){for(var Pe=0,Ae=0,Ze=Y?new Uint16Array(32768):[];Ae<ze.length;){var lt=Math.min(65535,ze.length-Ae);if(lt<10){for(Pe=xe(Se,Pe,+(Ae+lt==ze.length)),Pe&7&&(Pe+=8-(Pe&7)),Se.l=Pe/8|0,Se.write_shift(2,lt),Se.write_shift(2,~lt&65535);lt-- >0;)Se[Se.l++]=ze[Ae++];Pe=Se.l*8;continue}Pe=xe(Se,Pe,+(Ae+lt==ze.length)+2);for(var yt=0;lt-- >0;){var Xe=ze[Ae];yt=(yt<<5^Xe)&32767;var ut=-1,G=0;if((ut=Ze[yt])&&(ut|=Ae&-32768,ut>Ae&&(ut-=32768),ut<Ae))for(;ze[ut+G]==ze[Ae+G]&&G<250;)++G;if(G>2){Xe=ne[G],Xe<=22?Pe=ge(Se,Pe,ie[Xe+1]>>1)-1:(ge(Se,Pe,3),Pe+=5,ge(Se,Pe,ie[Xe-23]>>5),Pe+=3);var Ct=Xe<8?0:Xe-4>>2;Ct>0&&(pe(Se,Pe,G-M[Xe]),Pe+=Ct),Xe=te[Ae-ut],Pe=ge(Se,Pe,ie[Xe]>>3),Pe-=3;var qe=Xe<4?0:Xe-2>>1;qe>0&&(pe(Se,Pe,Ae-ut-H[Xe]),Pe+=qe);for(var Ee=0;Ee<G;++Ee)Ze[yt]=Ae&32767,yt=(yt<<5^ze[Ae])&32767,++Ae;lt-=G-1}else Xe<=143?Xe=Xe+48:Pe=re(Se,Pe,1),Pe=ge(Se,Pe,ie[Xe]),Ze[yt]=Ae&32767,++Ae}Pe=ge(Se,Pe,0)-1}return Se.l=(Pe+7)/8|0,Se.l}return function(Se,Pe){return Se.length<8?le(Se,Pe):Ne(Se,Pe)}}();function Lt(W){var te=Be(50+Math.floor(W.length*1.1)),J=Tt(W,te);return te.slice(0,J)}var ye=Y?new Uint16Array(32768):ke(32768),I=Y?new Uint16Array(32768):ke(32768),ae=Y?new Uint16Array(128):ke(128),Ce=1,We=1;function At(W,te){var J=Ye(W,te)+257;te+=5;var Z=Ye(W,te)+1;te+=5;var ne=it(W,te)+4;te+=4;for(var le=0,Ne=Y?new Uint8Array(19):ke(19),ze=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Se=1,Pe=Y?new Uint8Array(8):ke(8),Ae=Y?new Uint8Array(8):ke(8),Ze=Ne.length,lt=0;lt<ne;++lt)Ne[ee[lt]]=le=Me(W,te),Se<le&&(Se=le),Pe[le]++,te+=3;var yt=0;for(Pe[0]=0,lt=1;lt<=Se;++lt)Ae[lt]=yt=yt+Pe[lt-1]<<1;for(lt=0;lt<Ze;++lt)(yt=Ne[lt])!=0&&(ze[lt]=Ae[yt]++);var Xe=0;for(lt=0;lt<Ze;++lt)if(Xe=Ne[lt],Xe!=0){yt=ie[ze[lt]]>>8-Xe;for(var ut=(1<<7-Xe)-1;ut>=0;--ut)ae[yt|ut<<Xe]=Xe&7|lt<<3}var G=[];for(Se=1;G.length<J+Z;)switch(yt=ae[Le(W,te)],te+=yt&7,yt>>>=3){case 16:for(le=3+Ge(W,te),te+=2,yt=G[G.length-1];le-- >0;)G.push(yt);break;case 17:for(le=3+Me(W,te),te+=3;le-- >0;)G.push(0);break;case 18:for(le=11+Le(W,te),te+=7;le-- >0;)G.push(0);break;default:G.push(yt),Se<yt&&(Se=yt);break}var Ct=G.slice(0,J),qe=G.slice(J);for(lt=J;lt<286;++lt)Ct[lt]=0;for(lt=Z;lt<30;++lt)qe[lt]=0;return Ce=Qe(Ct,ye,286),We=Qe(qe,I,30),te}function pt(W,te){if(W[0]==3&&!(W[1]&3))return[bd(te),2];for(var J=0,Z=0,ne=wT(te||1<<18),le=0,Ne=ne.length>>>0,ze=0,Se=0;!(Z&1);){if(Z=Me(W,J),J+=3,Z>>>1)Z>>1==1?(ze=9,Se=5):(J=At(W,J),ze=Ce,Se=We);else{J&7&&(J+=8-(J&7));var Pe=W[J>>>3]|W[(J>>>3)+1]<<8;if(J+=32,Pe>0)for(!te&&Ne<le+Pe&&(ne=ve(ne,le+Pe),Ne=ne.length);Pe-- >0;)ne[le++]=W[J>>>3],J+=8;continue}for(;;){!te&&Ne<le+32767&&(ne=ve(ne,le+32767),Ne=ne.length);var Ae=z(W,J,ze),Ze=Z>>>1==1?ft[Ae]:ye[Ae];if(J+=Ze&15,Ze>>>=4,!(Ze>>>8&255))ne[le++]=Ze;else{if(Ze==256)break;Ze-=257;var lt=Ze<8?0:Ze-4>>2;lt>5&&(lt=0);var yt=le+M[Ze];lt>0&&(yt+=z(W,J,lt),J+=lt),Ae=z(W,J,Se),Ze=Z>>>1==1?je[Ae]:I[Ae],J+=Ze&15,Ze>>>=4;var Xe=Ze<4?0:Ze-2>>1,ut=H[Ze];for(Xe>0&&(ut+=z(W,J,Xe),J+=Xe),!te&&Ne<yt&&(ne=ve(ne,yt+100),Ne=ne.length);le<yt;)ne[le]=ne[le-ut],++le}}}return te?[ne,J+7>>>3]:[ne.slice(0,le),J+7>>>3]}function dt(W,te){var J=W.slice(W.l||0),Z=pt(J,te);return W.l+=Z[1],Z[0]}function fe(W,te){if(W)typeof console<"u"&&console.error(te);else throw new Error(te)}function V(W,te){var J=W;mn(J,0);var Z=[],ne=[],le={FileIndex:Z,FullPaths:ne};k(le,{root:te.root});for(var Ne=J.length-4;(J[Ne]!=80||J[Ne+1]!=75||J[Ne+2]!=5||J[Ne+3]!=6)&&Ne>=0;)--Ne;J.l=Ne+4,J.l+=4;var ze=J.read_shift(2);J.l+=6;var Se=J.read_shift(4);for(J.l=Se,Ne=0;Ne<ze;++Ne){J.l+=20;var Pe=J.read_shift(4),Ae=J.read_shift(4),Ze=J.read_shift(2),lt=J.read_shift(2),yt=J.read_shift(2);J.l+=8;var Xe=J.read_shift(4),ut=o(J.slice(J.l+Ze,J.l+Ze+lt));J.l+=Ze+lt+yt;var G=J.l;J.l=Xe+4,oe(J,Pe,Ae,le,ut),J.l=G}return le}function oe(W,te,J,Z,ne){W.l+=2;var le=W.read_shift(2),Ne=W.read_shift(2),ze=l(W);if(le&8257)throw new Error("Unsupported ZIP encryption");for(var Se=W.read_shift(4),Pe=W.read_shift(4),Ae=W.read_shift(4),Ze=W.read_shift(2),lt=W.read_shift(2),yt="",Xe=0;Xe<Ze;++Xe)yt+=String.fromCharCode(W[W.l++]);if(lt){var ut=o(W.slice(W.l,W.l+lt));(ut[21589]||{}).mt&&(ze=ut[21589].mt),((ne||{})[21589]||{}).mt&&(ze=ne[21589].mt)}W.l+=lt;var G=W.slice(W.l,W.l+Pe);switch(Ne){case 8:G=K(W,Ae);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Ne)}var Ct=!1;le&8&&(Se=W.read_shift(4),Se==134695760&&(Se=W.read_shift(4),Ct=!0),Pe=W.read_shift(4),Ae=W.read_shift(4)),Pe!=te&&fe(Ct,"Bad compressed size: "+te+" != "+Pe),Ae!=J&&fe(Ct,"Bad uncompressed size: "+J+" != "+Ae),ot(Z,yt,G,{unsafe:!0,mt:ze})}function Ue(W,te){var J=te||{},Z=[],ne=[],le=Be(1),Ne=J.compression?8:0,ze=0,Se=0,Pe=0,Ae=0,Ze=0,lt=W.FullPaths[0],yt=lt,Xe=W.FileIndex[0],ut=[],G=0;for(Se=1;Se<W.FullPaths.length;++Se)if(yt=W.FullPaths[Se].slice(lt.length),Xe=W.FileIndex[Se],!(!Xe.size||!Xe.content||yt=="Sh33tJ5")){var Ct=Ae,qe=Be(yt.length);for(Pe=0;Pe<yt.length;++Pe)qe.write_shift(1,yt.charCodeAt(Pe)&127);qe=qe.slice(0,qe.l),ut[Ze]=b1e.buf(Xe.content,0);var Ee=Xe.content;Ne==8&&(Ee=U(Ee)),le=Be(30),le.write_shift(4,67324752),le.write_shift(2,20),le.write_shift(2,ze),le.write_shift(2,Ne),Xe.mt?i(le,Xe.mt):le.write_shift(4,0),le.write_shift(-4,ut[Ze]),le.write_shift(4,Ee.length),le.write_shift(4,Xe.content.length),le.write_shift(2,qe.length),le.write_shift(2,0),Ae+=le.length,Z.push(le),Ae+=qe.length,Z.push(qe),Ae+=Ee.length,Z.push(Ee),le=Be(46),le.write_shift(4,33639248),le.write_shift(2,0),le.write_shift(2,20),le.write_shift(2,ze),le.write_shift(2,Ne),le.write_shift(4,0),le.write_shift(-4,ut[Ze]),le.write_shift(4,Ee.length),le.write_shift(4,Xe.content.length),le.write_shift(2,qe.length),le.write_shift(2,0),le.write_shift(2,0),le.write_shift(2,0),le.write_shift(2,0),le.write_shift(4,0),le.write_shift(4,Ct),G+=le.l,ne.push(le),G+=qe.length,ne.push(qe),++Ze}return le=Be(22),le.write_shift(4,101010256),le.write_shift(2,0),le.write_shift(2,0),le.write_shift(2,Ze),le.write_shift(2,Ze),le.write_shift(4,G),le.write_shift(4,Ae),le.write_shift(2,0),ta([ta(Z),ta(ne),le])}var Je={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Ve(W,te){if(W.ctype)return W.ctype;var J=W.name||"",Z=J.match(/\.([^\.]+)$/);return Z&&Je[Z[1]]||te&&(Z=(J=te).match(/[\.\\]([^\.\\])+$/),Z&&Je[Z[1]])?Je[Z[1]]:"application/octet-stream"}function ue(W){for(var te=P0(W),J=[],Z=0;Z<te.length;Z+=76)J.push(te.slice(Z,Z+76));return J.join(`\r
`)+`\r
`}function Re(W){var te=W.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Pe){var Ae=Pe.charCodeAt(0).toString(16).toUpperCase();return"="+(Ae.length==1?"0"+Ae:Ae)});te=te.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),te.charAt(0)==`
`&&(te="=0D"+te.slice(1)),te=te.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var J=[],Z=te.split(`\r
`),ne=0;ne<Z.length;++ne){var le=Z[ne];if(le.length==0){J.push("");continue}for(var Ne=0;Ne<le.length;){var ze=76,Se=le.slice(Ne,Ne+ze);Se.charAt(ze-1)=="="?ze--:Se.charAt(ze-2)=="="?ze-=2:Se.charAt(ze-3)=="="&&(ze-=3),Se=le.slice(Ne,Ne+ze),Ne+=ze,Ne<le.length&&(Se+="="),J.push(Se)}}return J.join(`\r
`)}function rt(W){for(var te=[],J=0;J<W.length;++J){for(var Z=W[J];J<=W.length&&Z.charAt(Z.length-1)=="=";)Z=Z.slice(0,Z.length-1)+W[++J];te.push(Z)}for(var ne=0;ne<te.length;++ne)te[ne]=te[ne].replace(/[=][0-9A-Fa-f]{2}/g,function(le){return String.fromCharCode(parseInt(le.slice(1),16))});return ji(te.join(`\r
`))}function ht(W,te,J){for(var Z="",ne="",le="",Ne,ze=0;ze<10;++ze){var Se=te[ze];if(!Se||Se.match(/^\s*$/))break;var Pe=Se.match(/^(.*?):\s*([^\s].*)$/);if(Pe)switch(Pe[1].toLowerCase()){case"content-location":Z=Pe[2].trim();break;case"content-type":le=Pe[2].trim();break;case"content-transfer-encoding":ne=Pe[2].trim();break}}switch(++ze,ne.toLowerCase()){case"base64":Ne=ji(Kl(te.slice(ze).join("")));break;case"quoted-printable":Ne=rt(te.slice(ze));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+ne)}var Ae=ot(W,Z.slice(J.length),Ne,{unsafe:!0});le&&(Ae.ctype=le)}function xt(W,te){if(se(W.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var J=te&&te.root||"",Z=(or&&Buffer.isBuffer(W)?W.toString("binary"):se(W)).split(`\r
`),ne=0,le="";for(ne=0;ne<Z.length;++ne)if(le=Z[ne],!!/^Content-Location:/i.test(le)&&(le=le.slice(le.indexOf("file")),J||(J=le.slice(0,le.lastIndexOf("/")+1)),le.slice(0,J.length)!=J))for(;J.length>0&&(J=J.slice(0,J.length-1),J=J.slice(0,J.lastIndexOf("/")+1),le.slice(0,J.length)!=J););var Ne=(Z[1]||"").match(/boundary="(.*?)"/);if(!Ne)throw new Error("MAD cannot find boundary");var ze="--"+(Ne[1]||""),Se=[],Pe=[],Ae={FileIndex:Se,FullPaths:Pe};k(Ae);var Ze,lt=0;for(ne=0;ne<Z.length;++ne){var yt=Z[ne];yt!==ze&&yt!==ze+"--"||(lt++&&ht(Ae,Z.slice(Ze,ne),J),Ze=ne)}return Ae}function Ht(W,te){var J=te||{},Z=J.boundary||"SheetJS";Z="------="+Z;for(var ne=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+Z.slice(2)+'"',"","",""],le=W.FullPaths[0],Ne=le,ze=W.FileIndex[0],Se=1;Se<W.FullPaths.length;++Se)if(Ne=W.FullPaths[Se].slice(le.length),ze=W.FileIndex[Se],!(!ze.size||!ze.content||Ne=="Sh33tJ5")){Ne=Ne.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(G){return"_x"+G.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(G){return"_u"+G.charCodeAt(0).toString(16)+"_"});for(var Pe=ze.content,Ae=or&&Buffer.isBuffer(Pe)?Pe.toString("binary"):se(Pe),Ze=0,lt=Math.min(1024,Ae.length),yt=0,Xe=0;Xe<=lt;++Xe)(yt=Ae.charCodeAt(Xe))>=32&&yt<128&&++Ze;var ut=Ze>=lt*4/5;ne.push(Z),ne.push("Content-Location: "+(J.root||"file:///C:/SheetJS/")+Ne),ne.push("Content-Transfer-Encoding: "+(ut?"quoted-printable":"base64")),ne.push("Content-Type: "+Ve(ze,Ne)),ne.push(""),ne.push(ut?Re(Ae):ue(Ae))}return ne.push(Z+`--\r
`),ne.join(`\r
`)}function Rt(W){var te={};return k(te,W),te}function ot(W,te,J,Z){var ne=Z&&Z.unsafe;ne||k(W);var le=!ne&&gr.find(W,te);if(!le){var Ne=W.FullPaths[0];te.slice(0,Ne.length)==Ne?Ne=te:(Ne.slice(-1)!="/"&&(Ne+="/"),Ne=(Ne+te).replace("//","/")),le={name:n(te),type:2},W.FileIndex.push(le),W.FullPaths.push(Ne),ne||gr.utils.cfb_gc(W)}return le.content=J,le.size=J?J.length:0,Z&&(Z.CLSID&&(le.clsid=Z.CLSID),Z.mt&&(le.mt=Z.mt),Z.ct&&(le.ct=Z.ct)),le}function Vr(W,te){k(W);var J=gr.find(W,te);if(J){for(var Z=0;Z<W.FileIndex.length;++Z)if(W.FileIndex[Z]==J)return W.FileIndex.splice(Z,1),W.FullPaths.splice(Z,1),!0}return!1}function Xs(W,te,J){k(W);var Z=gr.find(W,te);if(Z){for(var ne=0;ne<W.FileIndex.length;++ne)if(W.FileIndex[ne]==Z)return W.FileIndex[ne].name=n(J),W.FullPaths[ne]=J,!0}return!1}function Jr(W){P(W,!0)}return r.find=A,r.read=S,r.parse=u,r.write=R,r.writeFile=q,r.utils={cfb_new:Rt,cfb_add:ot,cfb_del:Vr,cfb_mov:Xs,cfb_gc:Jr,ReadShift:Dh,CheckField:ZB,prep_blob:mn,bconcat:ta,use_zlib:O,_deflateRaw:Lt,_inflateRaw:dt,consts:L},r}();function v1e(e){return typeof e=="string"?qb(e):Array.isArray(e)?Gve(e):e}function vx(e,r,s){if(typeof Deno<"u"){if(s&&typeof r=="string")switch(s){case"utf8":r=new TextEncoder(s).encode(r);break;case"binary":r=qb(r);break;default:throw new Error("Unsupported encoding "+s)}return Deno.writeFileSync(e,r)}var a=s=="utf8"?T0(r):r;if(typeof IE_SaveFile<"u")return IE_SaveFile(a,e);if(typeof Blob<"u"){var n=new Blob([v1e(a)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(n,e);if(typeof saveAs<"u")return saveAs(n,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(n);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var l=document.createElement("a");if(l.download!=null)return l.download=e,l.href=i,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(e);return o.open("w"),o.encoding="binary",Array.isArray(r)&&(r=bx(r)),o.write(r),o.close(),r}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+e)}function ia(e){for(var r=Object.keys(e),s=[],a=0;a<r.length;++a)Object.prototype.hasOwnProperty.call(e,r[a])&&s.push(r[a]);return s}function ET(e,r){for(var s=[],a=ia(e),n=0;n!==a.length;++n)s[e[a[n]][r]]==null&&(s[e[a[n]][r]]=a[n]);return s}function A5(e){for(var r=[],s=ia(e),a=0;a!==s.length;++a)r[e[s[a]]]=s[a];return r}function Xb(e){for(var r=[],s=ia(e),a=0;a!==s.length;++a)r[e[s[a]]]=parseInt(s[a],10);return r}function j1e(e){for(var r=[],s=ia(e),a=0;a!==s.length;++a)r[e[s[a]]]==null&&(r[e[s[a]]]=[]),r[e[s[a]]].push(s[a]);return r}var Gg=new Date(1899,11,30,0,0,0);function rn(e,r){var s=e.getTime(),a=Gg.getTime()+(e.getTimezoneOffset()-Gg.getTimezoneOffset())*6e4;return(s-a)/(24*60*60*1e3)}var LB=new Date,w1e=Gg.getTime()+(LB.getTimezoneOffset()-Gg.getTimezoneOffset())*6e4,IT=LB.getTimezoneOffset();function FB(e){var r=new Date;return r.setTime(e*24*60*60*1e3+w1e),r.getTimezoneOffset()!==IT&&r.setTime(r.getTime()+(r.getTimezoneOffset()-IT)*6e4),r}var _T=new Date("2017-02-19T19:06:09.000Z"),RB=isNaN(_T.getFullYear())?new Date("2/19/17"):_T,N1e=RB.getFullYear()==2017;function Da(e,r){var s=new Date(e);if(N1e)return r>0?s.setTime(s.getTime()+s.getTimezoneOffset()*60*1e3):r<0&&s.setTime(s.getTime()-s.getTimezoneOffset()*60*1e3),s;if(e instanceof Date)return e;if(RB.getFullYear()==1917&&!isNaN(s.getFullYear())){var a=s.getFullYear();return e.indexOf(""+a)>-1||s.setFullYear(s.getFullYear()+100),s}var n=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+n[0],+n[1]-1,+n[2],+n[3]||0,+n[4]||0,+n[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function Jb(e,r){if(or&&Buffer.isBuffer(e))return e.toString("binary");if(typeof TextDecoder<"u")try{var s={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(i){return s[i]||i})}catch{}for(var a=[],n=0;n!=e.length;++n)a.push(String.fromCharCode(e[n]));return a.join("")}function sn(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=sn(e[s]));return r}function ss(e,r){for(var s="";s.length<r;)s+=e;return s}function El(e){var r=Number(e);if(!isNaN(r))return isFinite(r)?r:NaN;if(!/\d/.test(e))return r;var s=1,a=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return s*=100,""});return!isNaN(r=Number(a))||(a=a.replace(/[(](.*)[)]/,function(n,i){return s=-s,i}),!isNaN(r=Number(a)))?r/s:r}var S1e=["january","february","march","april","may","june","july","august","september","october","november","december"];function A0(e){var r=new Date(e),s=new Date(NaN),a=r.getYear(),n=r.getMonth(),i=r.getDate();if(isNaN(i))return s;var l=e.toLowerCase();if(l.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(l=l.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),l.length>3&&S1e.indexOf(l)==-1)return s}else if(l.match(/[a-z]/))return s;return a<0||a>8099?s:(n>0||i>1)&&a!=101?r:e.match(/[^-0-9:,\/\\]/)?s:r}function Vt(e,r,s){if(e.FullPaths){if(typeof s=="string"){var a;return or?a=lo(s):a=qve(s),gr.utils.cfb_add(e,r,a)}gr.utils.cfb_add(e,r,s)}else e.file(r,s)}function T5(){return gr.utils.cfb_new()}var Ts=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,k1e={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},E5=A5(k1e),I5=/[&<>'"]/g,C1e=/[\u0000-\u0008\u000b-\u001f]/g;function xr(e){var r=e+"";return r.replace(I5,function(s){return E5[s]}).replace(C1e,function(s){return"_x"+("000"+s.charCodeAt(0).toString(16)).slice(-4)+"_"})}function OT(e){return xr(e).replace(/ /g,"_x0020_")}var BB=/[\u0000-\u001f]/g;function P1e(e){var r=e+"";return r.replace(I5,function(s){return E5[s]}).replace(/\n/g,"<br/>").replace(BB,function(s){return"&#x"+("000"+s.charCodeAt(0).toString(16)).slice(-4)+";"})}function A1e(e){var r=e+"";return r.replace(I5,function(s){return E5[s]}).replace(BB,function(s){return"&#x"+s.charCodeAt(0).toString(16).toUpperCase()+";"})}function T1e(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function E1e(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function F1(e){for(var r="",s=0,a=0,n=0,i=0,l=0,o=0;s<e.length;){if(a=e.charCodeAt(s++),a<128){r+=String.fromCharCode(a);continue}if(n=e.charCodeAt(s++),a>191&&a<224){l=(a&31)<<6,l|=n&63,r+=String.fromCharCode(l);continue}if(i=e.charCodeAt(s++),a<240){r+=String.fromCharCode((a&15)<<12|(n&63)<<6|i&63);continue}l=e.charCodeAt(s++),o=((a&7)<<18|(n&63)<<12|(i&63)<<6|l&63)-65536,r+=String.fromCharCode(55296+(o>>>10&1023)),r+=String.fromCharCode(56320+(o&1023))}return r}function DT(e){var r=bd(2*e.length),s,a,n=1,i=0,l=0,o;for(a=0;a<e.length;a+=n)n=1,(o=e.charCodeAt(a))<128?s=o:o<224?(s=(o&31)*64+(e.charCodeAt(a+1)&63),n=2):o<240?(s=(o&15)*4096+(e.charCodeAt(a+1)&63)*64+(e.charCodeAt(a+2)&63),n=3):(n=4,s=(o&7)*262144+(e.charCodeAt(a+1)&63)*4096+(e.charCodeAt(a+2)&63)*64+(e.charCodeAt(a+3)&63),s-=65536,l=55296+(s>>>10&1023),s=56320+(s&1023)),l!==0&&(r[i++]=l&255,r[i++]=l>>>8,l=0),r[i++]=s%256,r[i++]=s>>>8;return r.slice(0,i).toString("ucs2")}function MT(e){return lo(e,"binary").toString("utf8")}var wp="foo bar baz",Oh=or&&(MT(wp)==F1(wp)&&MT||DT(wp)==F1(wp)&&DT)||F1,T0=or?function(e){return lo(e,"utf8").toString("binary")}:function(e){for(var r=[],s=0,a=0,n=0;s<e.length;)switch(a=e.charCodeAt(s++),!0){case a<128:r.push(String.fromCharCode(a));break;case a<2048:r.push(String.fromCharCode(192+(a>>6))),r.push(String.fromCharCode(128+(a&63)));break;case(a>=55296&&a<57344):a-=55296,n=e.charCodeAt(s++)-56320+(a<<10),r.push(String.fromCharCode(240+(n>>18&7))),r.push(String.fromCharCode(144+(n>>12&63))),r.push(String.fromCharCode(128+(n>>6&63))),r.push(String.fromCharCode(128+(n&63)));break;default:r.push(String.fromCharCode(224+(a>>12))),r.push(String.fromCharCode(128+(a>>6&63))),r.push(String.fromCharCode(128+(a&63)))}return r.join("")},I1e=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(r){return[new RegExp("&"+r[0]+";","ig"),r[1]]});return function(s){for(var a=s.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),n=0;n<e.length;++n)a=a.replace(e[n][0],e[n][1]);return a}}(),$B=/(^\s|\s$|\n)/;function ra(e,r){return"<"+e+(r.match($B)?' xml:space="preserve"':"")+">"+r+"</"+e+">"}function E0(e){return ia(e).map(function(r){return" "+r+'="'+e[r]+'"'}).join("")}function st(e,r,s){return"<"+e+(s!=null?E0(s):"")+(r!=null?(r.match($B)?' xml:space="preserve"':"")+">"+r+"</"+e:"/")+">"}function bw(e,r){try{return e.toISOString().replace(/\.\d*/,"")}catch(s){if(r)throw s}return""}function _1e(e,r){switch(typeof e){case"string":var s=st("vt:lpwstr",xr(e));return s=s.replace(/&quot;/g,"_x0022_"),s;case"number":return st((e|0)==e?"vt:i4":"vt:r8",xr(String(e)));case"boolean":return st("vt:bool",e?"true":"false")}if(e instanceof Date)return st("vt:filetime",bw(e));throw new Error("Unable to serialize "+e)}var Hs={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Em=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],hn={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function O1e(e,r){for(var s=1-2*(e[r+7]>>>7),a=((e[r+7]&127)<<4)+(e[r+6]>>>4&15),n=e[r+6]&15,i=5;i>=0;--i)n=n*256+e[r+i];return a==2047?n==0?s*(1/0):NaN:(a==0?a=-1022:(a-=1023,n+=Math.pow(2,52)),s*Math.pow(2,a-52)*n)}function D1e(e,r,s){var a=(r<0||1/r==-1/0?1:0)<<7,n=0,i=0,l=a?-r:r;isFinite(l)?l==0?n=i=0:(n=Math.floor(Math.log(l)/Math.LN2),i=l*Math.pow(2,52-n),n<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?n=-1022:(i-=Math.pow(2,52),n+=1023)):(n=2047,i=isNaN(r)?26985:0);for(var o=0;o<=5;++o,i/=256)e[s+o]=i&255;e[s+6]=(n&15)<<4|i&15,e[s+7]=n>>4|a}var LT=function(e){for(var r=[],s=10240,a=0;a<e[0].length;++a)if(e[0][a])for(var n=0,i=e[0][a].length;n<i;n+=s)r.push.apply(r,e[0][a].slice(n,n+s));return r},FT=or?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(r){return Buffer.isBuffer(r)?r:lo(r)})):LT(e)}:LT,RT=function(e,r,s){for(var a=[],n=r;n<s;n+=2)a.push(String.fromCharCode(ph(e,n)));return a.join("").replace(_h,"")},_5=or?function(e,r,s){return Buffer.isBuffer(e)?e.toString("utf16le",r,s).replace(_h,""):RT(e,r,s)}:RT,BT=function(e,r,s){for(var a=[],n=r;n<r+s;++n)a.push(("0"+e[n].toString(16)).slice(-2));return a.join("")},zB=or?function(e,r,s){return Buffer.isBuffer(e)?e.toString("hex",r,r+s):BT(e,r,s)}:BT,$T=function(e,r,s){for(var a=[],n=r;n<s;n++)a.push(String.fromCharCode(Jd(e,n)));return a.join("")},jx=or?function(r,s,a){return Buffer.isBuffer(r)?r.toString("utf8",s,a):$T(r,s,a)}:$T,UB=function(e,r){var s=xn(e,r);return s>0?jx(e,r+4,r+4+s-1):""},HB=UB,VB=function(e,r){var s=xn(e,r);return s>0?jx(e,r+4,r+4+s-1):""},WB=VB,GB=function(e,r){var s=2*xn(e,r);return s>0?jx(e,r+4,r+4+s-1):""},qB=GB,KB=function(r,s){var a=xn(r,s);return a>0?_5(r,s+4,s+4+a):""},YB=KB,XB=function(e,r){var s=xn(e,r);return s>0?jx(e,r+4,r+4+s):""},JB=XB,QB=function(e,r){return O1e(e,r)},qg=QB,O5=function(r){return Array.isArray(r)||typeof Uint8Array<"u"&&r instanceof Uint8Array};or&&(HB=function(r,s){if(!Buffer.isBuffer(r))return UB(r,s);var a=r.readUInt32LE(s);return a>0?r.toString("utf8",s+4,s+4+a-1):""},WB=function(r,s){if(!Buffer.isBuffer(r))return VB(r,s);var a=r.readUInt32LE(s);return a>0?r.toString("utf8",s+4,s+4+a-1):""},qB=function(r,s){if(!Buffer.isBuffer(r))return GB(r,s);var a=2*r.readUInt32LE(s);return r.toString("utf16le",s+4,s+4+a-1)},YB=function(r,s){if(!Buffer.isBuffer(r))return KB(r,s);var a=r.readUInt32LE(s);return r.toString("utf16le",s+4,s+4+a)},JB=function(r,s){if(!Buffer.isBuffer(r))return XB(r,s);var a=r.readUInt32LE(s);return r.toString("utf8",s+4,s+4+a)},qg=function(r,s){return Buffer.isBuffer(r)?r.readDoubleLE(s):QB(r,s)},O5=function(r){return Buffer.isBuffer(r)||Array.isArray(r)||typeof Uint8Array<"u"&&r instanceof Uint8Array});var Jd=function(e,r){return e[r]},ph=function(e,r){return e[r+1]*256+e[r]},M1e=function(e,r){var s=e[r+1]*256+e[r];return s<32768?s:(65535-s+1)*-1},xn=function(e,r){return e[r+3]*(1<<24)+(e[r+2]<<16)+(e[r+1]<<8)+e[r]},Ac=function(e,r){return e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]},L1e=function(e,r){return e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3]};function Dh(e,r){var s="",a,n,i=[],l,o,c,d;switch(r){case"dbcs":if(d=this.l,or&&Buffer.isBuffer(this))s=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)s+=String.fromCharCode(ph(this,d)),d+=2;e*=2;break;case"utf8":s=jx(this,this.l,this.l+e);break;case"utf16le":e*=2,s=_5(this,this.l,this.l+e);break;case"wstr":return Dh.call(this,e,"dbcs");case"lpstr-ansi":s=HB(this,this.l),e=4+xn(this,this.l);break;case"lpstr-cp":s=WB(this,this.l),e=4+xn(this,this.l);break;case"lpwstr":s=qB(this,this.l),e=4+2*xn(this,this.l);break;case"lpp4":e=4+xn(this,this.l),s=YB(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+xn(this,this.l),s=JB(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,s="";(l=Jd(this,this.l+e++))!==0;)i.push(bp(l));s=i.join("");break;case"_wstr":for(e=0,s="";(l=ph(this,this.l+e))!==0;)i.push(bp(l)),e+=2;e+=2,s=i.join("");break;case"dbcs-cont":for(s="",d=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(d)!==-1)return l=Jd(this,d),this.l=d+1,o=Dh.call(this,e-c,l?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(bp(ph(this,d))),d+=2}s=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(s="",d=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(d)!==-1)return l=Jd(this,d),this.l=d+1,o=Dh.call(this,e-c,l?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(bp(Jd(this,d))),d+=1}s=i.join("");break;default:switch(e){case 1:return a=Jd(this,this.l),this.l++,a;case 2:return a=(r==="i"?M1e:ph)(this,this.l),this.l+=2,a;case 4:case-4:return r==="i"||!(this[this.l+3]&128)?(a=(e>0?Ac:L1e)(this,this.l),this.l+=4,a):(n=xn(this,this.l),this.l+=4,n);case 8:case-8:if(r==="f")return e==8?n=qg(this,this.l):n=qg([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,n;e=8;case 16:s=zB(this,this.l,e);break}}return this.l+=e,s}var F1e=function(e,r,s){e[s]=r&255,e[s+1]=r>>>8&255,e[s+2]=r>>>16&255,e[s+3]=r>>>24&255},R1e=function(e,r,s){e[s]=r&255,e[s+1]=r>>8&255,e[s+2]=r>>16&255,e[s+3]=r>>24&255},B1e=function(e,r,s){e[s]=r&255,e[s+1]=r>>>8&255};function $1e(e,r,s){var a=0,n=0;if(s==="dbcs"){for(n=0;n!=r.length;++n)B1e(this,r.charCodeAt(n),this.l+2*n);a=2*r.length}else if(s==="sbcs"){for(r=r.replace(/[^\x00-\x7F]/g,"_"),n=0;n!=r.length;++n)this[this.l+n]=r.charCodeAt(n)&255;a=r.length}else if(s==="hex"){for(;n<e;++n)this[this.l++]=parseInt(r.slice(2*n,2*n+2),16)||0;return this}else if(s==="utf16le"){var i=Math.min(this.l+e,this.length);for(n=0;n<Math.min(r.length,e);++n){var l=r.charCodeAt(n);this[this.l++]=l&255,this[this.l++]=l>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:a=1,this[this.l]=r&255;break;case 2:a=2,this[this.l]=r&255,r>>>=8,this[this.l+1]=r&255;break;case 3:a=3,this[this.l]=r&255,r>>>=8,this[this.l+1]=r&255,r>>>=8,this[this.l+2]=r&255;break;case 4:a=4,F1e(this,r,this.l);break;case 8:if(a=8,s==="f"){D1e(this,r,this.l);break}case 16:break;case-4:a=4,R1e(this,r,this.l);break}return this.l+=a,this}function ZB(e,r){var s=zB(this,this.l,e.length>>1);if(s!==e)throw new Error(r+"Expected "+e+" saw "+s);this.l+=e.length>>1}function mn(e,r){e.l=r,e.read_shift=Dh,e.chk=ZB,e.write_shift=$1e}function il(e,r){e.l+=r}function Be(e){var r=bd(e);return mn(r,0),r}function Ja(){var e=[],r=or?256:2048,s=function(d){var u=Be(d);return mn(u,0),u},a=s(r),n=function(){a&&(a.length>a.l&&(a=a.slice(0,a.l),a.l=a.length),a.length>0&&e.push(a),a=null)},i=function(d){return a&&d<a.length-a.l?a:(n(),a=s(Math.max(d+1,r)))},l=function(){return n(),ta(e)},o=function(d){n(),a=d,a.l==null&&(a.l=a.length),i(r)};return{next:i,push:o,end:l,_bufs:e}}function Ke(e,r,s,a){var n=+r,i;if(!isNaN(n)){a||(a=O3e[n].p||(s||[]).length||0),i=1+(n>=128?1:0)+1,a>=128&&++i,a>=16384&&++i,a>=2097152&&++i;var l=e.next(i);n<=127?l.write_shift(1,n):(l.write_shift(1,(n&127)+128),l.write_shift(1,n>>7));for(var o=0;o!=4;++o)if(a>=128)l.write_shift(1,(a&127)+128),a>>=7;else{l.write_shift(1,a);break}a>0&&O5(s)&&e.push(s)}}function Mh(e,r,s){var a=sn(e);if(r.s?(a.cRel&&(a.c+=r.s.c),a.rRel&&(a.r+=r.s.r)):(a.cRel&&(a.c+=r.c),a.rRel&&(a.r+=r.r)),!s||s.biff<12){for(;a.c>=256;)a.c-=256;for(;a.r>=65536;)a.r-=65536}return a}function zT(e,r,s){var a=sn(e);return a.s=Mh(a.s,r.s,s),a.e=Mh(a.e,r.s,s),a}function Lh(e,r){if(e.cRel&&e.c<0)for(e=sn(e);e.c<0;)e.c+=r>8?16384:256;if(e.rRel&&e.r<0)for(e=sn(e);e.r<0;)e.r+=r>8?1048576:r>5?65536:16384;var s=fr(e);return!e.cRel&&e.cRel!=null&&(s=H1e(s)),!e.rRel&&e.rRel!=null&&(s=z1e(s)),s}function R1(e,r){return e.s.r==0&&!e.s.rRel&&e.e.r==(r.biff>=12?1048575:r.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+ba(e.s.c)+":"+(e.e.cRel?"":"$")+ba(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(r.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+aa(e.s.r)+":"+(e.e.rRel?"":"$")+aa(e.e.r):Lh(e.s,r.biff)+":"+Lh(e.e,r.biff)}function D5(e){return parseInt(U1e(e),10)-1}function aa(e){return""+(e+1)}function z1e(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function U1e(e){return e.replace(/\$(\d+)$/,"$1")}function M5(e){for(var r=V1e(e),s=0,a=0;a!==r.length;++a)s=26*s+r.charCodeAt(a)-64;return s-1}function ba(e){if(e<0)throw new Error("invalid column "+e);var r="";for(++e;e;e=Math.floor((e-1)/26))r=String.fromCharCode((e-1)%26+65)+r;return r}function H1e(e){return e.replace(/^([A-Z])/,"$$$1")}function V1e(e){return e.replace(/^\$([A-Z])/,"$1")}function W1e(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Ws(e){for(var r=0,s=0,a=0;a<e.length;++a){var n=e.charCodeAt(a);n>=48&&n<=57?r=10*r+(n-48):n>=65&&n<=90&&(s=26*s+(n-64))}return{c:s-1,r:r-1}}function fr(e){for(var r=e.c+1,s="";r;r=(r-1)/26|0)s=String.fromCharCode((r-1)%26+65)+s;return s+(e.r+1)}function Pn(e){var r=e.indexOf(":");return r==-1?{s:Ws(e),e:Ws(e)}:{s:Ws(e.slice(0,r)),e:Ws(e.slice(r+1))}}function As(e,r){return typeof r>"u"||typeof r=="number"?As(e.s,e.e):(typeof e!="string"&&(e=fr(e)),typeof r!="string"&&(r=fr(r)),e==r?e:e+":"+r)}function Rr(e){var r={s:{c:0,r:0},e:{c:0,r:0}},s=0,a=0,n=0,i=e.length;for(s=0;a<i&&!((n=e.charCodeAt(a)-64)<1||n>26);++a)s=26*s+n;for(r.s.c=--s,s=0;a<i&&!((n=e.charCodeAt(a)-48)<0||n>9);++a)s=10*s+n;if(r.s.r=--s,a===i||n!=10)return r.e.c=r.s.c,r.e.r=r.s.r,r;for(++a,s=0;a!=i&&!((n=e.charCodeAt(a)-64)<1||n>26);++a)s=26*s+n;for(r.e.c=--s,s=0;a!=i&&!((n=e.charCodeAt(a)-48)<0||n>9);++a)s=10*s+n;return r.e.r=--s,r}function UT(e,r){var s=e.t=="d"&&r instanceof Date;if(e.z!=null)try{return e.w=sc(e.z,s?rn(r):r)}catch{}try{return e.w=sc((e.XF||{}).numFmtId||(s?14:0),s?rn(r):r)}catch{return""+r}}function Yl(e,r,s){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&s&&s.dateNF&&(e.z=s.dateNF),e.t=="e"?wx[e.v]||e.v:r==null?UT(e,e.v):UT(e,r))}function Dd(e,r){var s=r&&r.sheet?r.sheet:"Sheet1",a={};return a[s]=e,{SheetNames:[s],Sheets:a}}function e$(e,r,s){var a=s||{},n=e?Array.isArray(e):a.dense,i=e||(n?[]:{}),l=0,o=0;if(i&&a.origin!=null){if(typeof a.origin=="number")l=a.origin;else{var c=typeof a.origin=="string"?Ws(a.origin):a.origin;l=c.r,o=c.c}i["!ref"]||(i["!ref"]="A1:A1")}var d={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var u=Rr(i["!ref"]);d.s.c=u.s.c,d.s.r=u.s.r,d.e.c=Math.max(d.e.c,u.e.c),d.e.r=Math.max(d.e.r,u.e.r),l==-1&&(d.e.r=l=u.e.r+1)}for(var m=0;m!=r.length;++m)if(r[m]){if(!Array.isArray(r[m]))throw new Error("aoa_to_sheet expects an array of arrays");for(var x=0;x!=r[m].length;++x)if(!(typeof r[m][x]>"u")){var h={v:r[m][x]},p=l+m,f=o+x;if(d.s.r>p&&(d.s.r=p),d.s.c>f&&(d.s.c=f),d.e.r<p&&(d.e.r=p),d.e.c<f&&(d.e.c=f),r[m][x]&&typeof r[m][x]=="object"&&!Array.isArray(r[m][x])&&!(r[m][x]instanceof Date))h=r[m][x];else if(Array.isArray(h.v)&&(h.f=r[m][x][1],h.v=h.v[0]),h.v===null)if(h.f)h.t="n";else if(a.nullError)h.t="e",h.v=0;else if(a.sheetStubs)h.t="z";else continue;else typeof h.v=="number"?h.t="n":typeof h.v=="boolean"?h.t="b":h.v instanceof Date?(h.z=a.dateNF||is[14],a.cellDates?(h.t="d",h.w=sc(h.z,rn(h.v))):(h.t="n",h.v=rn(h.v),h.w=sc(h.z,h.v))):h.t="s";if(n)i[p]||(i[p]=[]),i[p][f]&&i[p][f].z&&(h.z=i[p][f].z),i[p][f]=h;else{var b=fr({c:f,r:p});i[b]&&i[b].z&&(h.z=i[b].z),i[b]=h}}}return d.s.c<1e7&&(i["!ref"]=As(d)),i}function Im(e,r){return e$(null,e,r)}function G1e(e){return e.read_shift(4,"i")}function Pi(e,r){return r||(r=Be(4)),r.write_shift(4,e),r}function va(e){var r=e.read_shift(4);return r===0?"":e.read_shift(r,"dbcs")}function Gs(e,r){var s=!1;return r==null&&(s=!0,r=Be(4+2*e.length)),r.write_shift(4,e.length),e.length>0&&r.write_shift(0,e,"dbcs"),s?r.slice(0,r.l):r}function q1e(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function K1e(e,r){return r||(r=Be(4)),r.write_shift(2,0),r.write_shift(2,0),r}function L5(e,r){var s=e.l,a=e.read_shift(1),n=va(e),i=[],l={t:n,h:n};if(a&1){for(var o=e.read_shift(4),c=0;c!=o;++c)i.push(q1e(e));l.r=i}else l.r=[{ich:0,ifnt:0}];return e.l=s+r,l}function Y1e(e,r){var s=!1;return r==null&&(s=!0,r=Be(15+4*e.t.length)),r.write_shift(1,0),Gs(e.t,r),s?r.slice(0,r.l):r}var X1e=L5;function J1e(e,r){var s=!1;return r==null&&(s=!0,r=Be(23+4*e.t.length)),r.write_shift(1,1),Gs(e.t,r),r.write_shift(4,1),K1e({},r),s?r.slice(0,r.l):r}function di(e){var r=e.read_shift(4),s=e.read_shift(2);return s+=e.read_shift(1)<<16,e.l++,{c:r,iStyleRef:s}}function Md(e,r){return r==null&&(r=Be(8)),r.write_shift(-4,e.c),r.write_shift(3,e.iStyleRef||e.s),r.write_shift(1,0),r}function Ld(e){var r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:r}}function Fd(e,r){return r==null&&(r=Be(4)),r.write_shift(3,e.iStyleRef||e.s),r.write_shift(1,0),r}var Q1e=va,t$=Gs;function F5(e){var r=e.read_shift(4);return r===0||r===4294967295?"":e.read_shift(r,"dbcs")}function Kg(e,r){var s=!1;return r==null&&(s=!0,r=Be(127)),r.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&r.write_shift(0,e,"dbcs"),s?r.slice(0,r.l):r}var Z1e=va,vw=F5,R5=Kg;function r$(e){var r=e.slice(e.l,e.l+4),s=r[0]&1,a=r[0]&2;e.l+=4;var n=a===0?qg([0,0,0,0,r[0]&252,r[1],r[2],r[3]],0):Ac(r,0)>>2;return s?n/100:n}function s$(e,r){r==null&&(r=Be(4));var s=0,a=0,n=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?a=1:n==(n|0)&&n>=-536870912&&n<1<<29&&(a=1,s=1),a)r.write_shift(-4,((s?n:e)<<2)+(s+2));else throw new Error("unsupported RkNumber "+e)}function a$(e){var r={s:{},e:{}};return r.s.r=e.read_shift(4),r.e.r=e.read_shift(4),r.s.c=e.read_shift(4),r.e.c=e.read_shift(4),r}function e2e(e,r){return r||(r=Be(16)),r.write_shift(4,e.s.r),r.write_shift(4,e.e.r),r.write_shift(4,e.s.c),r.write_shift(4,e.e.c),r}var Rd=a$,_m=e2e;function Om(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function vd(e,r){return(r||Be(8)).write_shift(8,e,"f")}function t2e(e){var r={},s=e.read_shift(1),a=s>>>1,n=e.read_shift(1),i=e.read_shift(2,"i"),l=e.read_shift(1),o=e.read_shift(1),c=e.read_shift(1);switch(e.l++,a){case 0:r.auto=1;break;case 1:r.index=n;var d=d2e[n];d&&(r.rgb=ZT(d));break;case 2:r.rgb=ZT([l,o,c]);break;case 3:r.theme=n;break}return i!=0&&(r.tint=i>0?i/32767:i/32768),r}function Yg(e,r){if(r||(r=Be(8)),!e||e.auto)return r.write_shift(4,0),r.write_shift(4,0),r;e.index!=null?(r.write_shift(1,2),r.write_shift(1,e.index)):e.theme!=null?(r.write_shift(1,6),r.write_shift(1,e.theme)):(r.write_shift(1,5),r.write_shift(1,0));var s=e.tint||0;if(s>0?s*=32767:s<0&&(s*=32768),r.write_shift(2,s),!e.rgb||e.theme!=null)r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);else{var a=e.rgb||"FFFFFF";typeof a=="number"&&(a=("000000"+a.toString(16)).slice(-6)),r.write_shift(1,parseInt(a.slice(0,2),16)),r.write_shift(1,parseInt(a.slice(2,4),16)),r.write_shift(1,parseInt(a.slice(4,6),16)),r.write_shift(1,255)}return r}function r2e(e){var r=e.read_shift(1);e.l++;var s={fBold:r&1,fItalic:r&2,fUnderline:r&4,fStrikeout:r&8,fOutline:r&16,fShadow:r&32,fCondense:r&64,fExtend:r&128};return s}function s2e(e,r){r||(r=Be(2));var s=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return r.write_shift(1,s),r.write_shift(1,0),r}var n$=2,cn=3,Np=11,Xg=19,Sp=64,a2e=65,n2e=71,i2e=4108,l2e=4126,ea=80,HT={1:{n:"CodePage",t:n$},2:{n:"Category",t:ea},3:{n:"PresentationFormat",t:ea},4:{n:"ByteCount",t:cn},5:{n:"LineCount",t:cn},6:{n:"ParagraphCount",t:cn},7:{n:"SlideCount",t:cn},8:{n:"NoteCount",t:cn},9:{n:"HiddenCount",t:cn},10:{n:"MultimediaClipCount",t:cn},11:{n:"ScaleCrop",t:Np},12:{n:"HeadingPairs",t:i2e},13:{n:"TitlesOfParts",t:l2e},14:{n:"Manager",t:ea},15:{n:"Company",t:ea},16:{n:"LinksUpToDate",t:Np},17:{n:"CharacterCount",t:cn},19:{n:"SharedDoc",t:Np},22:{n:"HyperlinksChanged",t:Np},23:{n:"AppVersion",t:cn,p:"version"},24:{n:"DigSig",t:a2e},26:{n:"ContentType",t:ea},27:{n:"ContentStatus",t:ea},28:{n:"Language",t:ea},29:{n:"Version",t:ea},255:{},2147483648:{n:"Locale",t:Xg},2147483651:{n:"Behavior",t:Xg},1919054434:{}},VT={1:{n:"CodePage",t:n$},2:{n:"Title",t:ea},3:{n:"Subject",t:ea},4:{n:"Author",t:ea},5:{n:"Keywords",t:ea},6:{n:"Comments",t:ea},7:{n:"Template",t:ea},8:{n:"LastAuthor",t:ea},9:{n:"RevNumber",t:ea},10:{n:"EditTime",t:Sp},11:{n:"LastPrinted",t:Sp},12:{n:"CreatedDate",t:Sp},13:{n:"ModifiedDate",t:Sp},14:{n:"PageCount",t:cn},15:{n:"WordCount",t:cn},16:{n:"CharCount",t:cn},17:{n:"Thumbnail",t:n2e},18:{n:"Application",t:ea},19:{n:"DocSecurity",t:cn},255:{},2147483648:{n:"Locale",t:Xg},2147483651:{n:"Behavior",t:Xg},1919054434:{}};function o2e(e){return e.map(function(r){return[r>>16&255,r>>8&255,r&255]})}var c2e=o2e([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),d2e=sn(c2e),wx={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},u2e={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},kp={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function i$(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function l$(e,r){var s=j1e(u2e),a=[],n;a[a.length]=Ts,a[a.length]=st("Types",null,{xmlns:Hs.CT,"xmlns:xsd":Hs.xsd,"xmlns:xsi":Hs.xsi}),a=a.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return st("Default",null,{Extension:c[0],ContentType:c[1]})}));var i=function(c){e[c]&&e[c].length>0&&(n=e[c][0],a[a.length]=st("Override",null,{PartName:(n[0]=="/"?"":"/")+n,ContentType:kp[c][r.bookType]||kp[c].xlsx}))},l=function(c){(e[c]||[]).forEach(function(d){a[a.length]=st("Override",null,{PartName:(d[0]=="/"?"":"/")+d,ContentType:kp[c][r.bookType]||kp[c].xlsx})})},o=function(c){(e[c]||[]).forEach(function(d){a[a.length]=st("Override",null,{PartName:(d[0]=="/"?"":"/")+d,ContentType:s[c][0]})})};return i("workbooks"),l("sheets"),l("charts"),o("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),l("metadata"),o("people"),a.length>2&&(a[a.length]="</Types>",a[1]=a[1].replace("/>",">")),a.join("")}var nr={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function o$(e){var r=e.lastIndexOf("/");return e.slice(0,r+1)+"_rels/"+e.slice(r+1)+".rels"}function Du(e){var r=[Ts,st("Relationships",null,{xmlns:Hs.RELS})];return ia(e["!id"]).forEach(function(s){r[r.length]=st("Relationship",null,e["!id"][s])}),r.length>2&&(r[r.length]="</Relationships>",r[1]=r[1].replace("/>",">")),r.join("")}function mr(e,r,s,a,n,i){if(n||(n={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),r<0)for(r=e["!idx"];e["!id"]["rId"+r];++r);if(e["!idx"]=r+1,n.Id="rId"+r,n.Type=a,n.Target=s,[nr.HLINK,nr.XPATH,nr.XMISS].indexOf(n.Type)>-1&&(n.TargetMode="External"),e["!id"][n.Id])throw new Error("Cannot rewrite rId "+r);return e["!id"][n.Id]=n,e[("/"+n.Target).replace("//","/")]=n,r}function m2e(e){var r=[Ts];r.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),r.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var s=0;s<e.length;++s)r.push('  <manifest:file-entry manifest:full-path="'+e[s][0]+'" manifest:media-type="'+e[s][1]+`"/>
`);return r.push("</manifest:manifest>"),r.join("")}function WT(e,r,s){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(s||"odf")+"#"+r+`"/>
`,`  </rdf:Description>
`].join("")}function h2e(e,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+r+`"/>
`,`  </rdf:Description>
`].join("")}function x2e(e){var r=[Ts];r.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var s=0;s!=e.length;++s)r.push(WT(e[s][0],e[s][1])),r.push(h2e("",e[s][0]));return r.push(WT("","Document","pkg")),r.push("</rdf:RDF>"),r.join("")}function c$(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+zg.version+"</meta:generator></office:meta></office:document-meta>"}var Zc=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function B1(e,r,s,a,n){n[e]!=null||r==null||r===""||(n[e]=r,r=xr(r),a[a.length]=s?st(e,r,s):ra(e,r))}function d$(e,r){var s=r||{},a=[Ts,st("cp:coreProperties",null,{"xmlns:cp":Hs.CORE_PROPS,"xmlns:dc":Hs.dc,"xmlns:dcterms":Hs.dcterms,"xmlns:dcmitype":Hs.dcmitype,"xmlns:xsi":Hs.xsi})],n={};if(!e&&!s.Props)return a.join("");e&&(e.CreatedDate!=null&&B1("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:bw(e.CreatedDate,s.WTF),{"xsi:type":"dcterms:W3CDTF"},a,n),e.ModifiedDate!=null&&B1("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:bw(e.ModifiedDate,s.WTF),{"xsi:type":"dcterms:W3CDTF"},a,n));for(var i=0;i!=Zc.length;++i){var l=Zc[i],o=s.Props&&s.Props[l[1]]!=null?s.Props[l[1]]:e?e[l[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&B1(l[0],o,null,a,n)}return a.length>2&&(a[a.length]="</cp:coreProperties>",a[1]=a[1].replace("/>",">")),a.join("")}var Mu=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],u$=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function m$(e){var r=[],s=st;return e||(e={}),e.Application="SheetJS",r[r.length]=Ts,r[r.length]=st("Properties",null,{xmlns:Hs.EXT_PROPS,"xmlns:vt":Hs.vt}),Mu.forEach(function(a){if(e[a[1]]!==void 0){var n;switch(a[2]){case"string":n=xr(String(e[a[1]]));break;case"bool":n=e[a[1]]?"true":"false";break}n!==void 0&&(r[r.length]=s(a[0],n))}}),r[r.length]=s("HeadingPairs",s("vt:vector",s("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+s("vt:variant",s("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),r[r.length]=s("TitlesOfParts",s("vt:vector",e.SheetNames.map(function(a){return"<vt:lpstr>"+xr(a)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),r.length>2&&(r[r.length]="</Properties>",r[1]=r[1].replace("/>",">")),r.join("")}function h$(e){var r=[Ts,st("Properties",null,{xmlns:Hs.CUST_PROPS,"xmlns:vt":Hs.vt})];if(!e)return r.join("");var s=1;return ia(e).forEach(function(n){++s,r[r.length]=st("property",_1e(e[n]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:s,name:xr(n)})}),r.length>2&&(r[r.length]="</Properties>",r[1]=r[1].replace("/>",">")),r.join("")}var GT={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function p2e(e,r){var s=[];return ia(GT).map(function(a){for(var n=0;n<Zc.length;++n)if(Zc[n][1]==a)return Zc[n];for(n=0;n<Mu.length;++n)if(Mu[n][1]==a)return Mu[n];throw a}).forEach(function(a){if(e[a[1]]!=null){var n=r&&r.Props&&r.Props[a[1]]!=null?r.Props[a[1]]:e[a[1]];switch(a[2]){case"date":n=new Date(n).toISOString().replace(/\.\d*Z/,"Z");break}typeof n=="number"?n=String(n):n===!0||n===!1?n=n?"1":"0":n instanceof Date&&(n=new Date(n).toISOString().replace(/\.\d*Z/,"")),s.push(ra(GT[a[1]]||a[1],n))}}),st("DocumentProperties",s.join(""),{xmlns:hn.o})}function f2e(e,r){var s=["Worksheets","SheetNames"],a="CustomDocumentProperties",n=[];return e&&ia(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)){for(var l=0;l<Zc.length;++l)if(i==Zc[l][1])return;for(l=0;l<Mu.length;++l)if(i==Mu[l][1])return;for(l=0;l<s.length;++l)if(i==s[l])return;var o=e[i],c="string";typeof o=="number"?(c="float",o=String(o)):o===!0||o===!1?(c="boolean",o=o?"1":"0"):o=String(o),n.push(st(OT(i),o,{"dt:dt":c}))}}),r&&ia(r).forEach(function(i){if(Object.prototype.hasOwnProperty.call(r,i)&&!(e&&Object.prototype.hasOwnProperty.call(e,i))){var l=r[i],o="string";typeof l=="number"?(o="float",l=String(l)):l===!0||l===!1?(o="boolean",l=l?"1":"0"):l instanceof Date?(o="dateTime.tz",l=l.toISOString()):l=String(l),n.push(st(OT(i),l,{"dt:dt":o}))}}),"<"+a+' xmlns="'+hn.o+'">'+n.join("")+"</"+a+">"}function g2e(e){var r=typeof e=="string"?new Date(Date.parse(e)):e,s=r.getTime()/1e3+11644473600,a=s%Math.pow(2,32),n=(s-a)/Math.pow(2,32);a*=1e7,n*=1e7;var i=a/Math.pow(2,32)|0;i>0&&(a=a%Math.pow(2,32),n+=i);var l=Be(8);return l.write_shift(4,a),l.write_shift(4,n),l}function qT(e,r){var s=Be(4),a=Be(4);switch(s.write_shift(4,e==80?31:e),e){case 3:a.write_shift(-4,r);break;case 5:a=Be(8),a.write_shift(8,r,"f");break;case 11:a.write_shift(4,r?1:0);break;case 64:a=g2e(r);break;case 31:case 80:for(a=Be(4+2*(r.length+1)+(r.length%2?0:2)),a.write_shift(4,r.length+1),a.write_shift(0,r,"dbcs");a.l!=a.length;)a.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+r)}return ta([s,a])}var x$=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function y2e(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function KT(e,r,s){var a=Be(8),n=[],i=[],l=8,o=0,c=Be(8),d=Be(8);if(c.write_shift(4,2),c.write_shift(4,1200),d.write_shift(4,1),i.push(c),n.push(d),l+=8+c.length,!r){d=Be(8),d.write_shift(4,0),n.unshift(d);var u=[Be(4)];for(u[0].write_shift(4,e.length),o=0;o<e.length;++o){var m=e[o][0];for(c=Be(8+2*(m.length+1)+(m.length%2?0:2)),c.write_shift(4,o+2),c.write_shift(4,m.length+1),c.write_shift(0,m,"dbcs");c.l!=c.length;)c.write_shift(1,0);u.push(c)}c=ta(u),i.unshift(c),l+=8+c.length}for(o=0;o<e.length;++o)if(!(r&&!r[e[o][0]])&&!(x$.indexOf(e[o][0])>-1||u$.indexOf(e[o][0])>-1)&&e[o][1]!=null){var x=e[o][1],h=0;if(r){h=+r[e[o][0]];var p=s[h];if(p.p=="version"&&typeof x=="string"){var f=x.split(".");x=(+f[0]<<16)+(+f[1]||0)}c=qT(p.t,x)}else{var b=y2e(x);b==-1&&(b=31,x=String(x)),c=qT(b,x)}i.push(c),d=Be(8),d.write_shift(4,r?h:2+o),n.push(d),l+=8+c.length}var j=8*(i.length+1);for(o=0;o<i.length;++o)n[o].write_shift(4,j),j+=i[o].length;return a.write_shift(4,l),a.write_shift(4,i.length),ta([a].concat(n).concat(i))}function YT(e,r,s,a,n,i){var l=Be(n?68:48),o=[l];l.write_shift(2,65534),l.write_shift(2,0),l.write_shift(4,842412599),l.write_shift(16,gr.utils.consts.HEADER_CLSID,"hex"),l.write_shift(4,n?2:1),l.write_shift(16,r,"hex"),l.write_shift(4,n?68:48);var c=KT(e,s,a);if(o.push(c),n){var d=KT(n,null,null);l.write_shift(16,i,"hex"),l.write_shift(4,68+c.length),o.push(d)}return ta(o)}function b2e(e,r){r||(r=Be(e));for(var s=0;s<e;++s)r.write_shift(1,0);return r}function v2e(e,r){return e.read_shift(r)===1}function Aa(e,r){return r||(r=Be(2)),r.write_shift(2,+!!e),r}function p$(e){return e.read_shift(2,"u")}function Vn(e,r){return r||(r=Be(2)),r.write_shift(2,e),r}function f$(e,r,s){return s||(s=Be(2)),s.write_shift(1,r=="e"?+e:+!!e),s.write_shift(1,r=="e"?1:0),s}function g$(e,r,s){var a=e.read_shift(s&&s.biff>=12?2:1),n="sbcs-cont";if(s&&s.biff>=8,!s||s.biff==8){var i=e.read_shift(1);i&&(n="dbcs-cont")}else s.biff==12&&(n="wstr");s.biff>=2&&s.biff<=5&&(n="cpstr");var l=a?e.read_shift(a,n):"";return l}function j2e(e){var r=e.t||"",s=Be(3);s.write_shift(2,r.length),s.write_shift(1,1);var a=Be(2*r.length);a.write_shift(2*r.length,r,"utf16le");var n=[s,a];return ta(n)}function w2e(e,r,s){var a;if(s){if(s.biff>=2&&s.biff<=5)return e.read_shift(r,"cpstr");if(s.biff>=12)return e.read_shift(r,"dbcs-cont")}var n=e.read_shift(1);return n===0?a=e.read_shift(r,"sbcs-cont"):a=e.read_shift(r,"dbcs-cont"),a}function N2e(e,r,s){var a=e.read_shift(s&&s.biff==2?1:2);return a===0?(e.l++,""):w2e(e,a,s)}function S2e(e,r,s){if(s.biff>5)return N2e(e,r,s);var a=e.read_shift(1);return a===0?(e.l++,""):e.read_shift(a,s.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function y$(e,r,s){return s||(s=Be(3+2*e.length)),s.write_shift(2,e.length),s.write_shift(1,1),s.write_shift(31,e,"utf16le"),s}function XT(e,r){r||(r=Be(6+e.length*2)),r.write_shift(4,1+e.length);for(var s=0;s<e.length;++s)r.write_shift(2,e.charCodeAt(s));return r.write_shift(2,0),r}function k2e(e){var r=Be(512),s=0,a=e.Target;a.slice(0,7)=="file://"&&(a=a.slice(7));var n=a.indexOf("#"),i=n>-1?31:23;switch(a.charAt(0)){case"#":i=28;break;case".":i&=-3;break}r.write_shift(4,2),r.write_shift(4,i);var l=[8,6815827,6619237,4849780,83];for(s=0;s<l.length;++s)r.write_shift(4,l[s]);if(i==28)a=a.slice(1),XT(a,r);else if(i&2){for(l="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),s=0;s<l.length;++s)r.write_shift(1,parseInt(l[s],16));var o=n>-1?a.slice(0,n):a;for(r.write_shift(4,2*(o.length+1)),s=0;s<o.length;++s)r.write_shift(2,o.charCodeAt(s));r.write_shift(2,0),i&8&&XT(n>-1?a.slice(n+1):"",r)}else{for(l="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),s=0;s<l.length;++s)r.write_shift(1,parseInt(l[s],16));for(var c=0;a.slice(c*3,c*3+3)=="../"||a.slice(c*3,c*3+3)=="..\\";)++c;for(r.write_shift(2,c),r.write_shift(4,a.length-3*c+1),s=0;s<a.length-3*c;++s)r.write_shift(1,a.charCodeAt(s+3*c)&255);for(r.write_shift(1,0),r.write_shift(2,65535),r.write_shift(2,57005),s=0;s<6;++s)r.write_shift(4,0)}return r.slice(0,r.l)}function jd(e,r,s,a){return a||(a=Be(6)),a.write_shift(2,e),a.write_shift(2,r),a.write_shift(2,s||0),a}function C2e(e,r,s){var a=s.biff>8?4:2,n=e.read_shift(a),i=e.read_shift(a,"i"),l=e.read_shift(a,"i");return[n,i,l]}function P2e(e){var r=e.read_shift(2),s=e.read_shift(2),a=e.read_shift(2),n=e.read_shift(2);return{s:{c:a,r},e:{c:n,r:s}}}function b$(e,r){return r||(r=Be(8)),r.write_shift(2,e.s.r),r.write_shift(2,e.e.r),r.write_shift(2,e.s.c),r.write_shift(2,e.e.c),r}function B5(e,r,s){var a=1536,n=16;switch(s.bookType){case"biff8":break;case"biff5":a=1280,n=8;break;case"biff4":a=4,n=6;break;case"biff3":a=3,n=6;break;case"biff2":a=2,n=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=Be(n);return i.write_shift(2,a),i.write_shift(2,r),n>4&&i.write_shift(2,29282),n>6&&i.write_shift(2,1997),n>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function A2e(e,r){var s=!r||r.biff==8,a=Be(s?112:54);for(a.write_shift(r.biff==8?2:1,7),s&&a.write_shift(1,0),a.write_shift(4,859007059),a.write_shift(4,5458548|(s?0:536870912));a.l<a.length;)a.write_shift(1,s?0:32);return a}function T2e(e,r){var s=!r||r.biff>=8?2:1,a=Be(8+s*e.name.length);a.write_shift(4,e.pos),a.write_shift(1,e.hs||0),a.write_shift(1,e.dt),a.write_shift(1,e.name.length),r.biff>=8&&a.write_shift(1,1),a.write_shift(s*e.name.length,e.name,r.biff<8?"sbcs":"utf16le");var n=a.slice(0,a.l);return n.l=a.l,n}function E2e(e,r){var s=Be(8);s.write_shift(4,e.Count),s.write_shift(4,e.Unique);for(var a=[],n=0;n<e.length;++n)a[n]=j2e(e[n]);var i=ta([s].concat(a));return i.parts=[s.length].concat(a.map(function(l){return l.length})),i}function I2e(){var e=Be(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function _2e(e){var r=Be(18),s=1718;return e&&e.RTL&&(s|=64),r.write_shift(2,s),r.write_shift(4,0),r.write_shift(4,64),r.write_shift(4,0),r.write_shift(4,0),r}function O2e(e,r){var s=e.name||"Arial",a=r&&r.biff==5,n=a?15+s.length:16+2*s.length,i=Be(n);return i.write_shift(2,e.sz*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,s.length),a||i.write_shift(1,1),i.write_shift((a?1:2)*s.length,s,a?"sbcs":"utf16le"),i}function D2e(e,r,s,a){var n=Be(10);return jd(e,r,a,n),n.write_shift(4,s),n}function M2e(e,r,s,a,n){var i=!n||n.biff==8,l=Be(8+ +i+(1+i)*s.length);return jd(e,r,a,l),l.write_shift(2,s.length),i&&l.write_shift(1,1),l.write_shift((1+i)*s.length,s,i?"utf16le":"sbcs"),l}function L2e(e,r,s,a){var n=s&&s.biff==5;a||(a=Be(n?3+r.length:5+2*r.length)),a.write_shift(2,e),a.write_shift(n?1:2,r.length),n||a.write_shift(1,1),a.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le");var i=a.length>a.l?a.slice(0,a.l):a;return i.l==null&&(i.l=i.length),i}function F2e(e,r){var s=r.biff==8||!r.biff?4:2,a=Be(2*s+6);return a.write_shift(s,e.s.r),a.write_shift(s,e.e.r+1),a.write_shift(2,e.s.c),a.write_shift(2,e.e.c+1),a.write_shift(2,0),a}function JT(e,r,s,a){var n=s&&s.biff==5;a||(a=Be(n?16:20)),a.write_shift(2,0),e.style?(a.write_shift(2,e.numFmtId||0),a.write_shift(2,65524)):(a.write_shift(2,e.numFmtId||0),a.write_shift(2,r<<4));var i=0;return e.numFmtId>0&&n&&(i|=1024),a.write_shift(4,i),a.write_shift(4,0),n||a.write_shift(4,0),a.write_shift(2,0),a}function R2e(e){var r=Be(8);return r.write_shift(4,0),r.write_shift(2,0),r.write_shift(2,0),r}function B2e(e,r,s,a,n,i){var l=Be(8);return jd(e,r,a,l),f$(s,i,l),l}function $2e(e,r,s,a){var n=Be(14);return jd(e,r,a,n),vd(s,n),n}function z2e(e,r,s){if(s.biff<8)return U2e(e,r,s);for(var a=[],n=e.l+r,i=e.read_shift(s.biff>8?4:2);i--!==0;)a.push(C2e(e,s.biff>8?12:6,s));if(e.l!=n)throw new Error("Bad ExternSheet: "+e.l+" != "+n);return a}function U2e(e,r,s){e[e.l+1]==3&&e[e.l]++;var a=g$(e,r,s);return a.charCodeAt(0)==3?a.slice(1):a}function H2e(e){var r=Be(2+e.length*8);r.write_shift(2,e.length);for(var s=0;s<e.length;++s)b$(e[s],r);return r}function V2e(e){var r=Be(24),s=Ws(e[0]);r.write_shift(2,s.r),r.write_shift(2,s.r),r.write_shift(2,s.c),r.write_shift(2,s.c);for(var a="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<16;++n)r.write_shift(1,parseInt(a[n],16));return ta([r,k2e(e[1])])}function W2e(e){var r=e[1].Tooltip,s=Be(10+2*(r.length+1));s.write_shift(2,2048);var a=Ws(e[0]);s.write_shift(2,a.r),s.write_shift(2,a.r),s.write_shift(2,a.c),s.write_shift(2,a.c);for(var n=0;n<r.length;++n)s.write_shift(2,r.charCodeAt(n));return s.write_shift(2,0),s}function G2e(e){return e||(e=Be(4)),e.write_shift(2,1),e.write_shift(2,1),e}function q2e(e,r,s){if(!s.cellStyles)return il(e,r);var a=s&&s.biff>=12?4:2,n=e.read_shift(a),i=e.read_shift(a),l=e.read_shift(a),o=e.read_shift(a),c=e.read_shift(2);a==2&&(e.l+=2);var d={s:n,e:i,w:l,ixfe:o,flags:c};return(s.biff>=5||!s.biff)&&(d.level=c>>8&7),d}function K2e(e,r){var s=Be(12);s.write_shift(2,r),s.write_shift(2,r),s.write_shift(2,e.width*256),s.write_shift(2,0);var a=0;return e.hidden&&(a|=1),s.write_shift(1,a),a=e.level||0,s.write_shift(1,a),s.write_shift(2,0),s}function Y2e(e){for(var r=Be(2*e),s=0;s<e;++s)r.write_shift(2,s+1);return r}function X2e(e,r,s){var a=Be(15);return Sx(a,e,r),a.write_shift(8,s,"f"),a}function J2e(e,r,s){var a=Be(9);return Sx(a,e,r),a.write_shift(2,s),a}var Q2e=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},r=A5({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function s(o,c){var d=[],u=bd(1);switch(c.type){case"base64":u=ji(Kl(o));break;case"binary":u=ji(o);break;case"buffer":case"array":u=o;break}mn(u,0);var m=u.read_shift(1),x=!!(m&136),h=!1,p=!1;switch(m){case 2:break;case 3:break;case 48:h=!0,x=!0;break;case 49:h=!0,x=!0;break;case 131:break;case 139:break;case 140:p=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+m.toString(16))}var f=0,b=521;m==2&&(f=u.read_shift(2)),u.l+=3,m!=2&&(f=u.read_shift(4)),f>1048576&&(f=1e6),m!=2&&(b=u.read_shift(2));var j=u.read_shift(2),w=c.codepage||1252;m!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(w=e[u[u.l]]),u.l+=1,u.l+=2),p&&(u.l+=36);for(var y=[],v={},N=Math.min(u.length,m==2?521:b-10-(h?264:0)),S=p?32:11;u.l<N&&u[u.l]!=13;)switch(v={},v.name=Ug.utils.decode(w,u.slice(u.l,u.l+S)).replace(/[\u0000\r\n].*$/g,""),u.l+=S,v.type=String.fromCharCode(u.read_shift(1)),m!=2&&!p&&(v.offset=u.read_shift(4)),v.len=u.read_shift(1),m==2&&(v.offset=u.read_shift(2)),v.dec=u.read_shift(1),v.name.length&&y.push(v),m!=2&&(u.l+=p?13:14),v.type){case"B":(!h||v.len!=8)&&c.WTF&&console.log("Skipping "+v.name+":"+v.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+v.name+":"+v.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+v.type)}if(u[u.l]!==13&&(u.l=b-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=b;var k=0,C=0;for(d[0]=[],C=0;C!=y.length;++C)d[0][C]=y[C].name;for(;f-- >0;){if(u[u.l]===42){u.l+=j;continue}for(++u.l,d[++k]=[],C=0,C=0;C!=y.length;++C){var P=u.slice(u.l,u.l+y[C].len);u.l+=y[C].len,mn(P,0);var _=Ug.utils.decode(w,P);switch(y[C].type){case"C":_.trim().length&&(d[k][C]=_.replace(/\s+$/,""));break;case"D":_.length===8?d[k][C]=new Date(+_.slice(0,4),+_.slice(4,6)-1,+_.slice(6,8)):d[k][C]=_;break;case"F":d[k][C]=parseFloat(_.trim());break;case"+":case"I":d[k][C]=p?P.read_shift(-4,"i")^2147483648:P.read_shift(4,"i");break;case"L":switch(_.trim().toUpperCase()){case"Y":case"T":d[k][C]=!0;break;case"N":case"F":d[k][C]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+_+"|")}break;case"M":if(!x)throw new Error("DBF Unexpected MEMO for type "+m.toString(16));d[k][C]="##MEMO##"+(p?parseInt(_.trim(),10):P.read_shift(4));break;case"N":_=_.replace(/\u0000/g,"").trim(),_&&_!="."&&(d[k][C]=+_||0);break;case"@":d[k][C]=new Date(P.read_shift(-8,"f")-621356832e5);break;case"T":d[k][C]=new Date((P.read_shift(4)-2440588)*864e5+P.read_shift(4));break;case"Y":d[k][C]=P.read_shift(4,"i")/1e4+P.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":d[k][C]=-P.read_shift(-8,"f");break;case"B":if(h&&y[C].len==8){d[k][C]=P.read_shift(8,"f");break}case"G":case"P":P.l+=y[C].len;break;case"0":if(y[C].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+y[C].type)}}}if(m!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return c&&c.sheetRows&&(d=d.slice(0,c.sheetRows)),c.DBF=y,d}function a(o,c){var d=c||{};d.dateNF||(d.dateNF="yyyymmdd");var u=Im(s(o,d),d);return u["!cols"]=d.DBF.map(function(m){return{wch:m.len,DBF:m}}),delete d.DBF,u}function n(o,c){try{return Dd(a(o,c),c)}catch(d){if(c&&c.WTF)throw d}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function l(o,c){var d=c||{};if(+d.codepage>=0&&C0(+d.codepage),d.type=="string")throw new Error("Cannot write DBF to JS string");var u=Ja(),m=ty(o,{header:1,raw:!0,cellDates:!0}),x=m[0],h=m.slice(1),p=o["!cols"]||[],f=0,b=0,j=0,w=1;for(f=0;f<x.length;++f){if(((p[f]||{}).DBF||{}).name){x[f]=p[f].DBF.name,++j;continue}if(x[f]!=null){if(++j,typeof x[f]=="number"&&(x[f]=x[f].toString(10)),typeof x[f]!="string")throw new Error("DBF Invalid column name "+x[f]+" |"+typeof x[f]+"|");if(x.indexOf(x[f])!==f){for(b=0;b<1024;++b)if(x.indexOf(x[f]+"_"+b)==-1){x[f]+="_"+b;break}}}}var y=Rr(o["!ref"]),v=[],N=[],S=[];for(f=0;f<=y.e.c-y.s.c;++f){var k="",C="",P=0,_=[];for(b=0;b<h.length;++b)h[b][f]!=null&&_.push(h[b][f]);if(_.length==0||x[f]==null){v[f]="?";continue}for(b=0;b<_.length;++b){switch(typeof _[b]){case"number":C="B";break;case"string":C="C";break;case"boolean":C="L";break;case"object":C=_[b]instanceof Date?"D":"C";break;default:C="C"}P=Math.max(P,String(_[b]).length),k=k&&k!=C?"C":C}P>250&&(P=250),C=((p[f]||{}).DBF||{}).type,C=="C"&&p[f].DBF.len>P&&(P=p[f].DBF.len),k=="B"&&C=="N"&&(k="N",S[f]=p[f].DBF.dec,P=p[f].DBF.len),N[f]=k=="C"||C=="N"?P:i[k]||0,w+=N[f],v[f]=k}var A=u.next(32);for(A.write_shift(4,318902576),A.write_shift(4,h.length),A.write_shift(2,296+32*j),A.write_shift(2,w),f=0;f<4;++f)A.write_shift(4,0);for(A.write_shift(4,0|(+r[jB]||3)<<8),f=0,b=0;f<x.length;++f)if(x[f]!=null){var D=u.next(32),F=(x[f].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);D.write_shift(1,F,"sbcs"),D.write_shift(1,v[f]=="?"?"C":v[f],"sbcs"),D.write_shift(4,b),D.write_shift(1,N[f]||i[v[f]]||0),D.write_shift(1,S[f]||0),D.write_shift(1,2),D.write_shift(4,0),D.write_shift(1,0),D.write_shift(4,0),D.write_shift(4,0),b+=N[f]||i[v[f]]||0}var X=u.next(264);for(X.write_shift(4,13),f=0;f<65;++f)X.write_shift(4,0);for(f=0;f<h.length;++f){var ce=u.next(w);for(ce.write_shift(1,0),b=0;b<x.length;++b)if(x[b]!=null)switch(v[b]){case"L":ce.write_shift(1,h[f][b]==null?63:h[f][b]?84:70);break;case"B":ce.write_shift(8,h[f][b]||0,"f");break;case"N":var he="0";for(typeof h[f][b]=="number"&&(he=h[f][b].toFixed(S[b]||0)),j=0;j<N[b]-he.length;++j)ce.write_shift(1,32);ce.write_shift(1,he,"sbcs");break;case"D":h[f][b]?(ce.write_shift(4,("0000"+h[f][b].getFullYear()).slice(-4),"sbcs"),ce.write_shift(2,("00"+(h[f][b].getMonth()+1)).slice(-2),"sbcs"),ce.write_shift(2,("00"+h[f][b].getDate()).slice(-2),"sbcs")):ce.write_shift(8,"00000000","sbcs");break;case"C":var L=String(h[f][b]!=null?h[f][b]:"").slice(0,N[b]);for(ce.write_shift(1,L,"sbcs"),j=0;j<N[b]-L.length;++j)ce.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:n,to_sheet:a,from_sheet:l}}(),Z2e=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},r=new RegExp("\x1BN("+ia(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),s=function(x,h){var p=e[h];return typeof p=="number"?jT(p):p},a=function(x,h,p){var f=h.charCodeAt(0)-32<<4|p.charCodeAt(0)-48;return f==59?x:jT(f)};e["|"]=254;function n(x,h){switch(h.type){case"base64":return i(Kl(x),h);case"binary":return i(x,h);case"buffer":return i(or&&Buffer.isBuffer(x)?x.toString("binary"):bx(x),h);case"array":return i(Jb(x),h)}throw new Error("Unrecognized type "+h.type)}function i(x,h){var p=x.split(/[\n\r]+/),f=-1,b=-1,j=0,w=0,y=[],v=[],N=null,S={},k=[],C=[],P=[],_=0,A;for(+h.codepage>=0&&C0(+h.codepage);j!==p.length;++j){_=0;var D=p[j].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,a).replace(r,s),F=D.replace(/;;/g,"\0").split(";").map(function(ee){return ee.replace(/\u0000/g,";")}),X=F[0],ce;if(D.length>0)switch(X){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":F[1].charAt(0)=="P"&&v.push(D.slice(3).replace(/;;/g,";"));break;case"C":var he=!1,L=!1,q=!1,se=!1,R=-1,T=-1;for(w=1;w<F.length;++w)switch(F[w].charAt(0)){case"A":break;case"X":b=parseInt(F[w].slice(1))-1,L=!0;break;case"Y":for(f=parseInt(F[w].slice(1))-1,L||(b=0),A=y.length;A<=f;++A)y[A]=[];break;case"K":ce=F[w].slice(1),ce.charAt(0)==='"'?ce=ce.slice(1,ce.length-1):ce==="TRUE"?ce=!0:ce==="FALSE"?ce=!1:isNaN(El(ce))?isNaN(A0(ce).getDate())||(ce=Da(ce)):(ce=El(ce),N!==null&&OB(N)&&(ce=FB(ce))),he=!0;break;case"E":se=!0;var O=Jje(F[w].slice(1),{r:f,c:b});y[f][b]=[y[f][b],O];break;case"S":q=!0,y[f][b]=[y[f][b],"S5S"];break;case"G":break;case"R":R=parseInt(F[w].slice(1))-1;break;case"C":T=parseInt(F[w].slice(1))-1;break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+D)}if(he&&(y[f][b]&&y[f][b].length==2?y[f][b][0]=ce:y[f][b]=ce,N=null),q){if(se)throw new Error("SYLK shared formula cannot have own formula");var K=R>-1&&y[R][T];if(!K||!K[1])throw new Error("SYLK shared formula cannot find base");y[f][b][1]=Qje(K[1],{r:f-R,c:b-T})}break;case"F":var U=0;for(w=1;w<F.length;++w)switch(F[w].charAt(0)){case"X":b=parseInt(F[w].slice(1))-1,++U;break;case"Y":for(f=parseInt(F[w].slice(1))-1,A=y.length;A<=f;++A)y[A]=[];break;case"M":_=parseInt(F[w].slice(1))/20;break;case"F":break;case"G":break;case"P":N=v[parseInt(F[w].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(P=F[w].slice(1).split(" "),A=parseInt(P[0],10);A<=parseInt(P[1],10);++A)_=parseInt(P[2],10),C[A-1]=_===0?{hidden:!0}:{wch:_},$5(C[A-1]);break;case"C":b=parseInt(F[w].slice(1))-1,C[b]||(C[b]={});break;case"R":f=parseInt(F[w].slice(1))-1,k[f]||(k[f]={}),_>0?(k[f].hpt=_,k[f].hpx=S$(_)):_===0&&(k[f].hidden=!0);break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+D)}U<1&&(N=null);break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+D)}}return k.length>0&&(S["!rows"]=k),C.length>0&&(S["!cols"]=C),h&&h.sheetRows&&(y=y.slice(0,h.sheetRows)),[y,S]}function l(x,h){var p=n(x,h),f=p[0],b=p[1],j=Im(f,h);return ia(b).forEach(function(w){j[w]=b[w]}),j}function o(x,h){return Dd(l(x,h),h)}function c(x,h,p,f){var b="C;Y"+(p+1)+";X"+(f+1)+";K";switch(x.t){case"n":b+=x.v||0,x.f&&!x.F&&(b+=";E"+U5(x.f,{r:p,c:f}));break;case"b":b+=x.v?"TRUE":"FALSE";break;case"e":b+=x.w||x.v;break;case"d":b+='"'+(x.w||x.v)+'"';break;case"s":b+='"'+x.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return b}function d(x,h){h.forEach(function(p,f){var b="F;W"+(f+1)+" "+(f+1)+" ";p.hidden?b+="0":(typeof p.width=="number"&&!p.wpx&&(p.wpx=Jg(p.width)),typeof p.wpx=="number"&&!p.wch&&(p.wch=Qg(p.wpx)),typeof p.wch=="number"&&(b+=Math.round(p.wch))),b.charAt(b.length-1)!=" "&&x.push(b)})}function u(x,h){h.forEach(function(p,f){var b="F;";p.hidden?b+="M0;":p.hpt?b+="M"+20*p.hpt+";":p.hpx&&(b+="M"+20*Zg(p.hpx)+";"),b.length>2&&x.push(b+"R"+(f+1))})}function m(x,h){var p=["ID;PWXL;N;E"],f=[],b=Rr(x["!ref"]),j,w=Array.isArray(x),y=`\r
`;p.push("P;PGeneral"),p.push("F;P0;DG0G8;M255"),x["!cols"]&&d(p,x["!cols"]),x["!rows"]&&u(p,x["!rows"]),p.push("B;Y"+(b.e.r-b.s.r+1)+";X"+(b.e.c-b.s.c+1)+";D"+[b.s.c,b.s.r,b.e.c,b.e.r].join(" "));for(var v=b.s.r;v<=b.e.r;++v)for(var N=b.s.c;N<=b.e.c;++N){var S=fr({r:v,c:N});j=w?(x[v]||[])[N]:x[S],!(!j||j.v==null&&(!j.f||j.F))&&f.push(c(j,x,v,N))}return p.join(y)+y+f.join(y)+y+"E"+y}return{to_workbook:o,to_sheet:l,from_sheet:m}}(),eje=function(){function e(i,l){switch(l.type){case"base64":return r(Kl(i),l);case"binary":return r(i,l);case"buffer":return r(or&&Buffer.isBuffer(i)?i.toString("binary"):bx(i),l);case"array":return r(Jb(i),l)}throw new Error("Unrecognized type "+l.type)}function r(i,l){for(var o=i.split(`
`),c=-1,d=-1,u=0,m=[];u!==o.length;++u){if(o[u].trim()==="BOT"){m[++c]=[],d=0;continue}if(!(c<0)){var x=o[u].trim().split(","),h=x[0],p=x[1];++u;for(var f=o[u]||"";(f.match(/["]/g)||[]).length&1&&u<o.length-1;)f+=`
`+o[++u];switch(f=f.trim(),+h){case-1:if(f==="BOT"){m[++c]=[],d=0;continue}else if(f!=="EOD")throw new Error("Unrecognized DIF special command "+f);break;case 0:f==="TRUE"?m[c][d]=!0:f==="FALSE"?m[c][d]=!1:isNaN(El(p))?isNaN(A0(p).getDate())?m[c][d]=p:m[c][d]=Da(p):m[c][d]=El(p),++d;break;case 1:f=f.slice(1,f.length-1),f=f.replace(/""/g,'"'),f&&f.match(/^=".*"$/)&&(f=f.slice(2,-1)),m[c][d++]=f!==""?f:null;break}if(f==="EOD")break}}return l&&l.sheetRows&&(m=m.slice(0,l.sheetRows)),m}function s(i,l){return Im(e(i,l),l)}function a(i,l){return Dd(s(i,l),l)}var n=function(){var i=function(c,d,u,m,x){c.push(d),c.push(u+","+m),c.push('"'+x.replace(/"/g,'""')+'"')},l=function(c,d,u,m){c.push(d+","+u),c.push(d==1?'"'+m.replace(/"/g,'""')+'"':m)};return function(c){var d=[],u=Rr(c["!ref"]),m,x=Array.isArray(c);i(d,"TABLE",0,1,"sheetjs"),i(d,"VECTORS",0,u.e.r-u.s.r+1,""),i(d,"TUPLES",0,u.e.c-u.s.c+1,""),i(d,"DATA",0,0,"");for(var h=u.s.r;h<=u.e.r;++h){l(d,-1,0,"BOT");for(var p=u.s.c;p<=u.e.c;++p){var f=fr({r:h,c:p});if(m=x?(c[h]||[])[p]:c[f],!m){l(d,1,0,"");continue}switch(m.t){case"n":var b=m.w;!b&&m.v!=null&&(b=m.v),b==null?m.f&&!m.F?l(d,1,0,"="+m.f):l(d,1,0,""):l(d,0,b,"V");break;case"b":l(d,0,m.v?1:0,m.v?"TRUE":"FALSE");break;case"s":l(d,1,0,isNaN(m.v)?m.v:'="'+m.v+'"');break;case"d":m.w||(m.w=sc(m.z||is[14],rn(Da(m.v)))),l(d,0,m.w,"V");break;default:l(d,1,0,"")}}}l(d,-1,0,"EOD");var j=`\r
`,w=d.join(j);return w}}();return{to_workbook:a,to_sheet:s,from_sheet:n}}(),v$=function(){function e(m){return m.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function r(m){return m.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function s(m,x){for(var h=m.split(`
`),p=-1,f=-1,b=0,j=[];b!==h.length;++b){var w=h[b].trim().split(":");if(w[0]==="cell"){var y=Ws(w[1]);if(j.length<=y.r)for(p=j.length;p<=y.r;++p)j[p]||(j[p]=[]);switch(p=y.r,f=y.c,w[2]){case"t":j[p][f]=e(w[3]);break;case"v":j[p][f]=+w[3];break;case"vtf":var v=w[w.length-1];case"vtc":switch(w[3]){case"nl":j[p][f]=!!+w[4];break;default:j[p][f]=+w[4];break}w[2]=="vtf"&&(j[p][f]=[j[p][f],v])}}}return x&&x.sheetRows&&(j=j.slice(0,x.sheetRows)),j}function a(m,x){return Im(s(m,x),x)}function n(m,x){return Dd(a(m,x),x)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),l=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function d(m){if(!m||!m["!ref"])return"";for(var x=[],h=[],p,f="",b=Pn(m["!ref"]),j=Array.isArray(m),w=b.s.r;w<=b.e.r;++w)for(var y=b.s.c;y<=b.e.c;++y)if(f=fr({r:w,c:y}),p=j?(m[w]||[])[y]:m[f],!(!p||p.v==null||p.t==="z")){switch(h=["cell",f,"t"],p.t){case"s":case"str":h.push(r(p.v));break;case"n":p.f?(h[2]="vtf",h[3]="n",h[4]=p.v,h[5]=r(p.f)):(h[2]="v",h[3]=p.v);break;case"b":h[2]="vt"+(p.f?"f":"c"),h[3]="nl",h[4]=p.v?"1":"0",h[5]=r(p.f||(p.v?"TRUE":"FALSE"));break;case"d":var v=rn(Da(p.v));h[2]="vtc",h[3]="nd",h[4]=""+v,h[5]=p.w||sc(p.z||is[14],v);break;case"e":continue}x.push(h.join(":"))}return x.push("sheet:c:"+(b.e.c-b.s.c+1)+":r:"+(b.e.r-b.s.r+1)+":tvf:1"),x.push("valueformat:1:text-wiki"),x.join(`
`)}function u(m){return[i,l,o,l,d(m),c].join(`
`)}return{to_workbook:n,to_sheet:a,from_sheet:u}}(),tje=function(){function e(u,m,x,h,p){p.raw?m[x][h]=u:u===""||(u==="TRUE"?m[x][h]=!0:u==="FALSE"?m[x][h]=!1:isNaN(El(u))?isNaN(A0(u).getDate())?m[x][h]=u:m[x][h]=Da(u):m[x][h]=El(u))}function r(u,m){var x=m||{},h=[];if(!u||u.length===0)return h;for(var p=u.split(/[\r\n]/),f=p.length-1;f>=0&&p[f].length===0;)--f;for(var b=10,j=0,w=0;w<=f;++w)j=p[w].indexOf(" "),j==-1?j=p[w].length:j++,b=Math.max(b,j);for(w=0;w<=f;++w){h[w]=[];var y=0;for(e(p[w].slice(0,b).trim(),h,w,y,x),y=1;y<=(p[w].length-b)/10+1;++y)e(p[w].slice(b+(y-1)*10,b+y*10).trim(),h,w,y,x)}return x.sheetRows&&(h=h.slice(0,x.sheetRows)),h}var s={44:",",9:"	",59:";",124:"|"},a={44:3,9:2,59:1,124:0};function n(u){for(var m={},x=!1,h=0,p=0;h<u.length;++h)(p=u.charCodeAt(h))==34?x=!x:!x&&p in s&&(m[p]=(m[p]||0)+1);p=[];for(h in m)Object.prototype.hasOwnProperty.call(m,h)&&p.push([m[h],h]);if(!p.length){m=a;for(h in m)Object.prototype.hasOwnProperty.call(m,h)&&p.push([m[h],h])}return p.sort(function(f,b){return f[0]-b[0]||a[f[1]]-a[b[1]]}),s[p.pop()[1]]||44}function i(u,m){var x=m||{},h="",p=x.dense?[]:{},f={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(h=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(h=u.charAt(4),u=u.slice(6)):h=n(u.slice(0,1024)):x&&x.FS?h=x.FS:h=n(u.slice(0,1024));var b=0,j=0,w=0,y=0,v=0,N=h.charCodeAt(0),S=!1,k=0,C=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var P=x.dateNF!=null?g1e(x.dateNF):null;function _(){var A=u.slice(y,v),D={};if(A.charAt(0)=='"'&&A.charAt(A.length-1)=='"'&&(A=A.slice(1,-1).replace(/""/g,'"')),A.length===0)D.t="z";else if(x.raw)D.t="s",D.v=A;else if(A.trim().length===0)D.t="s",D.v=A;else if(A.charCodeAt(0)==61)A.charCodeAt(1)==34&&A.charCodeAt(A.length-1)==34?(D.t="s",D.v=A.slice(2,-1).replace(/""/g,'"')):Zje(A)?(D.t="n",D.f=A.slice(1)):(D.t="s",D.v=A);else if(A=="TRUE")D.t="b",D.v=!0;else if(A=="FALSE")D.t="b",D.v=!1;else if(!isNaN(w=El(A)))D.t="n",x.cellText!==!1&&(D.w=A),D.v=w;else if(!isNaN(A0(A).getDate())||P&&A.match(P)){D.z=x.dateNF||is[14];var F=0;P&&A.match(P)&&(A=y1e(A,x.dateNF,A.match(P)||[]),F=1),x.cellDates?(D.t="d",D.v=Da(A,F)):(D.t="n",D.v=rn(Da(A,F))),x.cellText!==!1&&(D.w=sc(D.z,D.v instanceof Date?rn(D.v):D.v)),x.cellNF||delete D.z}else D.t="s",D.v=A;if(D.t=="z"||(x.dense?(p[b]||(p[b]=[]),p[b][j]=D):p[fr({c:j,r:b})]=D),y=v+1,C=u.charCodeAt(y),f.e.c<j&&(f.e.c=j),f.e.r<b&&(f.e.r=b),k==N)++j;else if(j=0,++b,x.sheetRows&&x.sheetRows<=b)return!0}e:for(;v<u.length;++v)switch(k=u.charCodeAt(v)){case 34:C===34&&(S=!S);break;case N:case 10:case 13:if(!S&&_())break e;break}return v-y>0&&_(),p["!ref"]=As(f),p}function l(u,m){return!(m&&m.PRN)||m.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?i(u,m):Im(r(u,m),m)}function o(u,m){var x="",h=m.type=="string"?[0,0,0,0]:h5e(u,m);switch(m.type){case"base64":x=Kl(u);break;case"binary":x=u;break;case"buffer":m.codepage==65001?x=u.toString("utf8"):m.codepage&&typeof Ug<"u"||(x=or&&Buffer.isBuffer(u)?u.toString("binary"):bx(u));break;case"array":x=Jb(u);break;case"string":x=u;break;default:throw new Error("Unrecognized type "+m.type)}return h[0]==239&&h[1]==187&&h[2]==191?x=Oh(x.slice(3)):m.type!="string"&&m.type!="buffer"&&m.codepage==65001?x=Oh(x):m.type=="binary"&&typeof Ug<"u",x.slice(0,19)=="socialcalc:version:"?v$.to_sheet(m.type=="string"?x:Oh(x),m):l(x,m)}function c(u,m){return Dd(o(u,m),m)}function d(u){for(var m=[],x=Rr(u["!ref"]),h,p=Array.isArray(u),f=x.s.r;f<=x.e.r;++f){for(var b=[],j=x.s.c;j<=x.e.c;++j){var w=fr({r:f,c:j});if(h=p?(u[f]||[])[j]:u[w],!h||h.v==null){b.push("          ");continue}for(var y=(h.w||(Yl(h),h.w)||"").slice(0,10);y.length<10;)y+=" ";b.push(y+(j===0?" ":""))}m.push(b.join(""))}return m.join(`
`)}return{to_workbook:c,to_sheet:o,from_sheet:d}}(),QT=function(){function e(O,K,U){if(O){mn(O,O.l||0);for(var ee=U.Enum||R;O.l<O.length;){var M=O.read_shift(2),H=ee[M]||ee[65535],B=O.read_shift(2),Y=O.l+B,ie=H.f&&H.f(O,B,U);if(O.l=Y,K(ie,H,M))return}}}function r(O,K){switch(K.type){case"base64":return s(ji(Kl(O)),K);case"binary":return s(ji(O),K);case"buffer":case"array":return s(O,K)}throw"Unsupported type "+K.type}function s(O,K){if(!O)return O;var U=K||{},ee=U.dense?[]:{},M="Sheet1",H="",B=0,Y={},ie=[],me=[],de={s:{r:0,c:0},e:{r:0,c:0}},Ge=U.sheetRows||0;if(O[2]==0&&(O[3]==8||O[3]==9)&&O.length>=16&&O[14]==5&&O[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(O[2]==2)U.Enum=R,e(O,function(Le,z,xe){switch(xe){case 0:U.vers=Le,Le>=4096&&(U.qpro=!0);break;case 6:de=Le;break;case 204:Le&&(H=Le);break;case 222:H=Le;break;case 15:case 51:U.qpro||(Le[1].v=Le[1].v.slice(1));case 13:case 14:case 16:xe==14&&(Le[2]&112)==112&&(Le[2]&15)>1&&(Le[2]&15)<15&&(Le[1].z=U.dateNF||is[14],U.cellDates&&(Le[1].t="d",Le[1].v=FB(Le[1].v))),U.qpro&&Le[3]>B&&(ee["!ref"]=As(de),Y[M]=ee,ie.push(M),ee=U.dense?[]:{},de={s:{r:0,c:0},e:{r:0,c:0}},B=Le[3],M=H||"Sheet"+(B+1),H="");var re=U.dense?(ee[Le[0].r]||[])[Le[0].c]:ee[fr(Le[0])];if(re){re.t=Le[1].t,re.v=Le[1].v,Le[1].z!=null&&(re.z=Le[1].z),Le[1].f!=null&&(re.f=Le[1].f);break}U.dense?(ee[Le[0].r]||(ee[Le[0].r]=[]),ee[Le[0].r][Le[0].c]=Le[1]):ee[fr(Le[0])]=Le[1];break}},U);else if(O[2]==26||O[2]==14)U.Enum=T,O[2]==14&&(U.qpro=!0,O.l=0),e(O,function(Le,z,xe){switch(xe){case 204:M=Le;break;case 22:Le[1].v=Le[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Le[3]>B&&(ee["!ref"]=As(de),Y[M]=ee,ie.push(M),ee=U.dense?[]:{},de={s:{r:0,c:0},e:{r:0,c:0}},B=Le[3],M="Sheet"+(B+1)),Ge>0&&Le[0].r>=Ge)break;U.dense?(ee[Le[0].r]||(ee[Le[0].r]=[]),ee[Le[0].r][Le[0].c]=Le[1]):ee[fr(Le[0])]=Le[1],de.e.c<Le[0].c&&(de.e.c=Le[0].c),de.e.r<Le[0].r&&(de.e.r=Le[0].r);break;case 27:Le[14e3]&&(me[Le[14e3][0]]=Le[14e3][1]);break;case 1537:me[Le[0]]=Le[1],Le[0]==B&&(M=Le[1]);break}},U);else throw new Error("Unrecognized LOTUS BOF "+O[2]);if(ee["!ref"]=As(de),Y[H||M]=ee,ie.push(H||M),!me.length)return{SheetNames:ie,Sheets:Y};for(var Me={},it=[],Ye=0;Ye<me.length;++Ye)Y[ie[Ye]]?(it.push(me[Ye]||ie[Ye]),Me[me[Ye]]=Y[me[Ye]]||Y[ie[Ye]]):(it.push(me[Ye]),Me[me[Ye]]={"!ref":"A1"});return{SheetNames:it,Sheets:Me}}function a(O,K){var U=K||{};if(+U.codepage>=0&&C0(+U.codepage),U.type=="string")throw new Error("Cannot write WK1 to JS string");var ee=Ja(),M=Rr(O["!ref"]),H=Array.isArray(O),B=[];nt(ee,0,i(1030)),nt(ee,6,c(M));for(var Y=Math.min(M.e.r,8191),ie=M.s.r;ie<=Y;++ie)for(var me=aa(ie),de=M.s.c;de<=M.e.c;++de){ie===M.s.r&&(B[de]=ba(de));var Ge=B[de]+me,Me=H?(O[ie]||[])[de]:O[Ge];if(!(!Me||Me.t=="z"))if(Me.t=="n")(Me.v|0)==Me.v&&Me.v>=-32768&&Me.v<=32767?nt(ee,13,h(ie,de,Me.v)):nt(ee,14,f(ie,de,Me.v));else{var it=Yl(Me);nt(ee,15,m(ie,de,it.slice(0,239)))}}return nt(ee,1),ee.end()}function n(O,K){var U=K||{};if(+U.codepage>=0&&C0(+U.codepage),U.type=="string")throw new Error("Cannot write WK3 to JS string");var ee=Ja();nt(ee,0,l(O));for(var M=0,H=0;M<O.SheetNames.length;++M)(O.Sheets[O.SheetNames[M]]||{})["!ref"]&&nt(ee,27,se(O.SheetNames[M],H++));var B=0;for(M=0;M<O.SheetNames.length;++M){var Y=O.Sheets[O.SheetNames[M]];if(!(!Y||!Y["!ref"])){for(var ie=Rr(Y["!ref"]),me=Array.isArray(Y),de=[],Ge=Math.min(ie.e.r,8191),Me=ie.s.r;Me<=Ge;++Me)for(var it=aa(Me),Ye=ie.s.c;Ye<=ie.e.c;++Ye){Me===ie.s.r&&(de[Ye]=ba(Ye));var Le=de[Ye]+it,z=me?(Y[Me]||[])[Ye]:Y[Le];if(!(!z||z.t=="z"))if(z.t=="n")nt(ee,23,_(Me,Ye,B,z.v));else{var xe=Yl(z);nt(ee,22,k(Me,Ye,B,xe.slice(0,239)))}}++B}}return nt(ee,1),ee.end()}function i(O){var K=Be(2);return K.write_shift(2,O),K}function l(O){var K=Be(26);K.write_shift(2,4096),K.write_shift(2,4),K.write_shift(4,0);for(var U=0,ee=0,M=0,H=0;H<O.SheetNames.length;++H){var B=O.SheetNames[H],Y=O.Sheets[B];if(!(!Y||!Y["!ref"])){++M;var ie=Pn(Y["!ref"]);U<ie.e.r&&(U=ie.e.r),ee<ie.e.c&&(ee=ie.e.c)}}return U>8191&&(U=8191),K.write_shift(2,U),K.write_shift(1,M),K.write_shift(1,ee),K.write_shift(2,0),K.write_shift(2,0),K.write_shift(1,1),K.write_shift(1,2),K.write_shift(4,0),K.write_shift(4,0),K}function o(O,K,U){var ee={s:{c:0,r:0},e:{c:0,r:0}};return K==8&&U.qpro?(ee.s.c=O.read_shift(1),O.l++,ee.s.r=O.read_shift(2),ee.e.c=O.read_shift(1),O.l++,ee.e.r=O.read_shift(2),ee):(ee.s.c=O.read_shift(2),ee.s.r=O.read_shift(2),K==12&&U.qpro&&(O.l+=2),ee.e.c=O.read_shift(2),ee.e.r=O.read_shift(2),K==12&&U.qpro&&(O.l+=2),ee.s.c==65535&&(ee.s.c=ee.e.c=ee.s.r=ee.e.r=0),ee)}function c(O){var K=Be(8);return K.write_shift(2,O.s.c),K.write_shift(2,O.s.r),K.write_shift(2,O.e.c),K.write_shift(2,O.e.r),K}function d(O,K,U){var ee=[{c:0,r:0},{t:"n",v:0},0,0];return U.qpro&&U.vers!=20768?(ee[0].c=O.read_shift(1),ee[3]=O.read_shift(1),ee[0].r=O.read_shift(2),O.l+=2):(ee[2]=O.read_shift(1),ee[0].c=O.read_shift(2),ee[0].r=O.read_shift(2)),ee}function u(O,K,U){var ee=O.l+K,M=d(O,K,U);if(M[1].t="s",U.vers==20768){O.l++;var H=O.read_shift(1);return M[1].v=O.read_shift(H,"utf8"),M}return U.qpro&&O.l++,M[1].v=O.read_shift(ee-O.l,"cstr"),M}function m(O,K,U){var ee=Be(7+U.length);ee.write_shift(1,255),ee.write_shift(2,K),ee.write_shift(2,O),ee.write_shift(1,39);for(var M=0;M<ee.length;++M){var H=U.charCodeAt(M);ee.write_shift(1,H>=128?95:H)}return ee.write_shift(1,0),ee}function x(O,K,U){var ee=d(O,K,U);return ee[1].v=O.read_shift(2,"i"),ee}function h(O,K,U){var ee=Be(7);return ee.write_shift(1,255),ee.write_shift(2,K),ee.write_shift(2,O),ee.write_shift(2,U,"i"),ee}function p(O,K,U){var ee=d(O,K,U);return ee[1].v=O.read_shift(8,"f"),ee}function f(O,K,U){var ee=Be(13);return ee.write_shift(1,255),ee.write_shift(2,K),ee.write_shift(2,O),ee.write_shift(8,U,"f"),ee}function b(O,K,U){var ee=O.l+K,M=d(O,K,U);if(M[1].v=O.read_shift(8,"f"),U.qpro)O.l=ee;else{var H=O.read_shift(2);v(O.slice(O.l,O.l+H),M),O.l+=H}return M}function j(O,K,U){var ee=K&32768;return K&=-32769,K=(ee?O:0)+(K>=8192?K-16384:K),(ee?"":"$")+(U?ba(K):aa(K))}var w={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},y=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function v(O,K){mn(O,0);for(var U=[],ee=0,M="",H="",B="",Y="";O.l<O.length;){var ie=O[O.l++];switch(ie){case 0:U.push(O.read_shift(8,"f"));break;case 1:H=j(K[0].c,O.read_shift(2),!0),M=j(K[0].r,O.read_shift(2),!1),U.push(H+M);break;case 2:{var me=j(K[0].c,O.read_shift(2),!0),de=j(K[0].r,O.read_shift(2),!1);H=j(K[0].c,O.read_shift(2),!0),M=j(K[0].r,O.read_shift(2),!1),U.push(me+de+":"+H+M)}break;case 3:if(O.l<O.length){console.error("WK1 premature formula end");return}break;case 4:U.push("("+U.pop()+")");break;case 5:U.push(O.read_shift(2));break;case 6:{for(var Ge="";ie=O[O.l++];)Ge+=String.fromCharCode(ie);U.push('"'+Ge.replace(/"/g,'""')+'"')}break;case 8:U.push("-"+U.pop());break;case 23:U.push("+"+U.pop());break;case 22:U.push("NOT("+U.pop()+")");break;case 20:case 21:Y=U.pop(),B=U.pop(),U.push(["AND","OR"][ie-20]+"("+B+","+Y+")");break;default:if(ie<32&&y[ie])Y=U.pop(),B=U.pop(),U.push(B+y[ie]+Y);else if(w[ie]){if(ee=w[ie][1],ee==69&&(ee=O[O.l++]),ee>U.length){console.error("WK1 bad formula parse 0x"+ie.toString(16)+":|"+U.join("|")+"|");return}var Me=U.slice(-ee);U.length-=ee,U.push(w[ie][0]+"("+Me.join(",")+")")}else return ie<=7?console.error("WK1 invalid opcode "+ie.toString(16)):ie<=24?console.error("WK1 unsupported op "+ie.toString(16)):ie<=30?console.error("WK1 invalid opcode "+ie.toString(16)):ie<=115?console.error("WK1 unsupported function opcode "+ie.toString(16)):console.error("WK1 unrecognized opcode "+ie.toString(16))}}U.length==1?K[1].f=""+U[0]:console.error("WK1 bad formula parse |"+U.join("|")+"|")}function N(O){var K=[{c:0,r:0},{t:"n",v:0},0];return K[0].r=O.read_shift(2),K[3]=O[O.l++],K[0].c=O[O.l++],K}function S(O,K){var U=N(O);return U[1].t="s",U[1].v=O.read_shift(K-4,"cstr"),U}function k(O,K,U,ee){var M=Be(6+ee.length);M.write_shift(2,O),M.write_shift(1,U),M.write_shift(1,K),M.write_shift(1,39);for(var H=0;H<ee.length;++H){var B=ee.charCodeAt(H);M.write_shift(1,B>=128?95:B)}return M.write_shift(1,0),M}function C(O,K){var U=N(O);U[1].v=O.read_shift(2);var ee=U[1].v>>1;if(U[1].v&1)switch(ee&7){case 0:ee=(ee>>3)*5e3;break;case 1:ee=(ee>>3)*500;break;case 2:ee=(ee>>3)/20;break;case 3:ee=(ee>>3)/200;break;case 4:ee=(ee>>3)/2e3;break;case 5:ee=(ee>>3)/2e4;break;case 6:ee=(ee>>3)/16;break;case 7:ee=(ee>>3)/64;break}return U[1].v=ee,U}function P(O,K){var U=N(O),ee=O.read_shift(4),M=O.read_shift(4),H=O.read_shift(2);if(H==65535)return ee===0&&M===3221225472?(U[1].t="e",U[1].v=15):ee===0&&M===3489660928?(U[1].t="e",U[1].v=42):U[1].v=0,U;var B=H&32768;return H=(H&32767)-16446,U[1].v=(1-B*2)*(M*Math.pow(2,H+32)+ee*Math.pow(2,H)),U}function _(O,K,U,ee){var M=Be(14);if(M.write_shift(2,O),M.write_shift(1,U),M.write_shift(1,K),ee==0)return M.write_shift(4,0),M.write_shift(4,0),M.write_shift(2,65535),M;var H=0,B=0,Y=0,ie=0;return ee<0&&(H=1,ee=-ee),B=Math.log2(ee)|0,ee/=Math.pow(2,B-31),ie=ee>>>0,ie&2147483648||(ee/=2,++B,ie=ee>>>0),ee-=ie,ie|=2147483648,ie>>>=0,ee*=Math.pow(2,32),Y=ee>>>0,M.write_shift(4,Y),M.write_shift(4,ie),B+=16383+(H?32768:0),M.write_shift(2,B),M}function A(O,K){var U=P(O);return O.l+=K-14,U}function D(O,K){var U=N(O),ee=O.read_shift(4);return U[1].v=ee>>6,U}function F(O,K){var U=N(O),ee=O.read_shift(8,"f");return U[1].v=ee,U}function X(O,K){var U=F(O);return O.l+=K-10,U}function ce(O,K){return O[O.l+K-1]==0?O.read_shift(K,"cstr"):""}function he(O,K){var U=O[O.l++];U>K-1&&(U=K-1);for(var ee="";ee.length<U;)ee+=String.fromCharCode(O[O.l++]);return ee}function L(O,K,U){if(!(!U.qpro||K<21)){var ee=O.read_shift(1);O.l+=17,O.l+=1,O.l+=2;var M=O.read_shift(K-21,"cstr");return[ee,M]}}function q(O,K){for(var U={},ee=O.l+K;O.l<ee;){var M=O.read_shift(2);if(M==14e3){for(U[M]=[0,""],U[M][0]=O.read_shift(2);O[O.l];)U[M][1]+=String.fromCharCode(O[O.l]),O.l++;O.l++}}return U}function se(O,K){var U=Be(5+O.length);U.write_shift(2,14e3),U.write_shift(2,K);for(var ee=0;ee<O.length;++ee){var M=O.charCodeAt(ee);U[U.l++]=M>127?95:M}return U[U.l++]=0,U}var R={0:{n:"BOF",f:p$},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:x},14:{n:"NUMBER",f:p},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:b},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:ce},222:{n:"SHEETNAMELP",f:he},65535:{n:""}},T={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:S},23:{n:"NUMBER17",f:P},24:{n:"NUMBER18",f:C},25:{n:"FORMULA19",f:A},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:q},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:D},38:{n:"??"},39:{n:"NUMBER27",f:F},40:{n:"FORMULA28",f:X},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:ce},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:L},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:a,book_to_wk3:n,to_workbook:r}}(),rje=/^\s|\s$|[\t\n\r]/;function j$(e,r){if(!r.bookSST)return"";var s=[Ts];s[s.length]=st("sst",null,{xmlns:Em[0],count:e.Count,uniqueCount:e.Unique});for(var a=0;a!=e.length;++a)if(e[a]!=null){var n=e[a],i="<si>";n.r?i+=n.r:(i+="<t",n.t||(n.t=""),n.t.match(rje)&&(i+=' xml:space="preserve"'),i+=">"+xr(n.t)+"</t>"),i+="</si>",s[s.length]=i}return s.length>2&&(s[s.length]="</sst>",s[1]=s[1].replace("/>",">")),s.join("")}function sje(e){return[e.read_shift(4),e.read_shift(4)]}function aje(e,r){return r||(r=Be(8)),r.write_shift(4,e.Count),r.write_shift(4,e.Unique),r}var nje=Y1e;function ije(e){var r=Ja();Ke(r,159,aje(e));for(var s=0;s<e.length;++s)Ke(r,19,nje(e[s]));return Ke(r,160),r.end()}function lje(e){for(var r=[],s=e.split(""),a=0;a<s.length;++a)r[a]=s[a].charCodeAt(0);return r}function w$(e){var r=0,s,a=lje(e),n=a.length+1,i,l,o,c,d;for(s=bd(n),s[0]=a.length,i=1;i!=n;++i)s[i]=a[i-1];for(i=n-1;i>=0;--i)l=s[i],o=r&16384?1:0,c=r<<1&32767,d=o|c,r=d^l;return r^52811}var oje=function(){function e(n,i){switch(i.type){case"base64":return r(Kl(n),i);case"binary":return r(n,i);case"buffer":return r(or&&Buffer.isBuffer(n)?n.toString("binary"):bx(n),i);case"array":return r(Jb(n),i)}throw new Error("Unrecognized type "+i.type)}function r(n,i){var l=i||{},o=l.dense?[]:{},c=n.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var d={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(u,m){Array.isArray(o)&&(o[m]=[]);for(var x=/\\\w+\b/g,h=0,p,f=-1;p=x.exec(u);){switch(p[0]){case"\\cell":var b=u.slice(h,x.lastIndex-p[0].length);if(b[0]==" "&&(b=b.slice(1)),++f,b.length){var j={v:b,t:"s"};Array.isArray(o)?o[m][f]=j:o[fr({r:m,c:f})]=j}break}h=x.lastIndex}f>d.e.c&&(d.e.c=f)}),o["!ref"]=As(d),o}function s(n,i){return Dd(e(n,i),i)}function a(n){for(var i=["{\\rtf1\\ansi"],l=Rr(n["!ref"]),o,c=Array.isArray(n),d=l.s.r;d<=l.e.r;++d){i.push("\\trowd\\trautofit1");for(var u=l.s.c;u<=l.e.c;++u)i.push("\\cellx"+(u+1));for(i.push("\\pard\\intbl"),u=l.s.c;u<=l.e.c;++u){var m=fr({r:d,c:u});o=c?(n[d]||[])[u]:n[m],!(!o||o.v==null&&(!o.f||o.F))&&(i.push(" "+(o.w||(Yl(o),o.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:s,to_sheet:e,from_sheet:a}}();function ZT(e){for(var r=0,s=1;r!=3;++r)s=s*256+(e[r]>255?255:e[r]<0?0:e[r]);return s.toString(16).toUpperCase().slice(1)}var cje=6,Il=cje;function Jg(e){return Math.floor((e+Math.round(128/Il)/256)*Il)}function Qg(e){return Math.floor((e-5)/Il*100+.5)/100}function jw(e){return Math.round((e*Il+5)/Il*256)/256}function $5(e){e.width?(e.wpx=Jg(e.width),e.wch=Qg(e.wpx),e.MDW=Il):e.wpx?(e.wch=Qg(e.wpx),e.width=jw(e.wch),e.MDW=Il):typeof e.wch=="number"&&(e.width=jw(e.wch),e.wpx=Jg(e.width),e.MDW=Il),e.customWidth&&delete e.customWidth}var dje=96,N$=dje;function Zg(e){return e*96/N$}function S$(e){return e*N$/96}function uje(e){var r=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(s){for(var a=s[0];a<=s[1];++a)e[a]!=null&&(r[r.length]=st("numFmt",null,{numFmtId:a,formatCode:xr(e[a])}))}),r.length===1?"":(r[r.length]="</numFmts>",r[0]=st("numFmts",null,{count:r.length-2}).replace("/>",">"),r.join(""))}function mje(e){var r=[];return r[r.length]=st("cellXfs",null),e.forEach(function(s){r[r.length]=st("xf",null,s)}),r[r.length]="</cellXfs>",r.length===2?"":(r[0]=st("cellXfs",null,{count:r.length-2}).replace("/>",">"),r.join(""))}function k$(e,r){var s=[Ts,st("styleSheet",null,{xmlns:Em[0],"xmlns:vt":Hs.vt})],a;return e.SSF&&(a=uje(e.SSF))!=null&&(s[s.length]=a),s[s.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',s[s.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',s[s.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',s[s.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(a=mje(r.cellXfs))&&(s[s.length]=a),s[s.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',s[s.length]='<dxfs count="0"/>',s[s.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',s.length>2&&(s[s.length]="</styleSheet>",s[1]=s[1].replace("/>",">")),s.join("")}function hje(e,r){var s=e.read_shift(2),a=va(e);return[s,a]}function xje(e,r,s){s||(s=Be(6+4*r.length)),s.write_shift(2,e),Gs(r,s);var a=s.length>s.l?s.slice(0,s.l):s;return s.l==null&&(s.l=s.length),a}function pje(e,r,s){var a={};a.sz=e.read_shift(2)/20;var n=r2e(e);n.fItalic&&(a.italic=1),n.fCondense&&(a.condense=1),n.fExtend&&(a.extend=1),n.fShadow&&(a.shadow=1),n.fOutline&&(a.outline=1),n.fStrikeout&&(a.strike=1);var i=e.read_shift(2);switch(i===700&&(a.bold=1),e.read_shift(2)){case 1:a.vertAlign="superscript";break;case 2:a.vertAlign="subscript";break}var l=e.read_shift(1);l!=0&&(a.underline=l);var o=e.read_shift(1);o>0&&(a.family=o);var c=e.read_shift(1);switch(c>0&&(a.charset=c),e.l++,a.color=t2e(e),e.read_shift(1)){case 1:a.scheme="major";break;case 2:a.scheme="minor";break}return a.name=va(e),a}function fje(e,r){r||(r=Be(25+4*32)),r.write_shift(2,e.sz*20),s2e(e,r),r.write_shift(2,e.bold?700:400);var s=0;e.vertAlign=="superscript"?s=1:e.vertAlign=="subscript"&&(s=2),r.write_shift(2,s),r.write_shift(1,e.underline||0),r.write_shift(1,e.family||0),r.write_shift(1,e.charset||0),r.write_shift(1,0),Yg(e.color,r);var a=0;return a=2,r.write_shift(1,a),Gs(e.name,r),r.length>r.l?r.slice(0,r.l):r}var gje=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],$1,yje=il;function eE(e,r){r||(r=Be(4*3+8*7+16*1)),$1||($1=A5(gje));var s=$1[e.patternType];s==null&&(s=40),r.write_shift(4,s);var a=0;if(s!=40)for(Yg({auto:1},r),Yg({auto:1},r);a<12;++a)r.write_shift(4,0);else{for(;a<4;++a)r.write_shift(4,0);for(;a<12;++a)r.write_shift(4,0)}return r.length>r.l?r.slice(0,r.l):r}function bje(e,r){var s=e.l+r,a=e.read_shift(2),n=e.read_shift(2);return e.l=s,{ixfe:a,numFmtId:n}}function C$(e,r,s){s||(s=Be(16)),s.write_shift(2,r||0),s.write_shift(2,e.numFmtId||0),s.write_shift(2,0),s.write_shift(2,0),s.write_shift(2,0),s.write_shift(1,0),s.write_shift(1,0);var a=0;return s.write_shift(1,a),s.write_shift(1,0),s.write_shift(1,0),s.write_shift(1,0),s}function ah(e,r){return r||(r=Be(10)),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(4,0),r}var vje=il;function jje(e,r){return r||(r=Be(51)),r.write_shift(1,0),ah(null,r),ah(null,r),ah(null,r),ah(null,r),ah(null,r),r.length>r.l?r.slice(0,r.l):r}function wje(e,r){return r||(r=Be(12+4*10)),r.write_shift(4,e.xfId),r.write_shift(2,1),r.write_shift(1,0),r.write_shift(1,0),Kg(e.name||"",r),r.length>r.l?r.slice(0,r.l):r}function Nje(e,r,s){var a=Be(2052);return a.write_shift(4,e),Kg(r,a),Kg(s,a),a.length>a.l?a.slice(0,a.l):a}function Sje(e,r){if(r){var s=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var n=a[0];n<=a[1];++n)r[n]!=null&&++s}),s!=0&&(Ke(e,615,Pi(s)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var n=a[0];n<=a[1];++n)r[n]!=null&&Ke(e,44,xje(n,r[n]))}),Ke(e,616))}}function kje(e){var r=1;Ke(e,611,Pi(r)),Ke(e,43,fje({sz:12,color:{theme:1},name:"Calibri",family:2})),Ke(e,612)}function Cje(e){var r=2;Ke(e,603,Pi(r)),Ke(e,45,eE({patternType:"none"})),Ke(e,45,eE({patternType:"gray125"})),Ke(e,604)}function Pje(e){var r=1;Ke(e,613,Pi(r)),Ke(e,46,jje()),Ke(e,614)}function Aje(e){var r=1;Ke(e,626,Pi(r)),Ke(e,47,C$({numFmtId:0},65535)),Ke(e,627)}function Tje(e,r){Ke(e,617,Pi(r.length)),r.forEach(function(s){Ke(e,47,C$(s,0))}),Ke(e,618)}function Eje(e){var r=1;Ke(e,619,Pi(r)),Ke(e,48,wje({xfId:0,name:"Normal"})),Ke(e,620)}function Ije(e){var r=0;Ke(e,505,Pi(r)),Ke(e,506)}function _je(e){var r=0;Ke(e,508,Nje(r,"TableStyleMedium9","PivotStyleMedium4")),Ke(e,509)}function Oje(e,r){var s=Ja();return Ke(s,278),Sje(s,e.SSF),kje(s),Cje(s),Pje(s),Aje(s),Tje(s,r.cellXfs),Eje(s),Ije(s),_je(s),Ke(s,279),s.end()}function P$(e,r){if(r&&r.themeXLSX)return r.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var s=[Ts];return s[s.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',s[s.length]="<a:themeElements>",s[s.length]='<a:clrScheme name="Office">',s[s.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',s[s.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',s[s.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',s[s.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',s[s.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',s[s.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',s[s.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',s[s.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',s[s.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',s[s.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',s[s.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',s[s.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',s[s.length]="</a:clrScheme>",s[s.length]='<a:fontScheme name="Office">',s[s.length]="<a:majorFont>",s[s.length]='<a:latin typeface="Cambria"/>',s[s.length]='<a:ea typeface=""/>',s[s.length]='<a:cs typeface=""/>',s[s.length]='<a:font script="Jpan" typeface=" "/>',s[s.length]='<a:font script="Hang" typeface=" "/>',s[s.length]='<a:font script="Hans" typeface=""/>',s[s.length]='<a:font script="Hant" typeface=""/>',s[s.length]='<a:font script="Arab" typeface="Times New Roman"/>',s[s.length]='<a:font script="Hebr" typeface="Times New Roman"/>',s[s.length]='<a:font script="Thai" typeface="Tahoma"/>',s[s.length]='<a:font script="Ethi" typeface="Nyala"/>',s[s.length]='<a:font script="Beng" typeface="Vrinda"/>',s[s.length]='<a:font script="Gujr" typeface="Shruti"/>',s[s.length]='<a:font script="Khmr" typeface="MoolBoran"/>',s[s.length]='<a:font script="Knda" typeface="Tunga"/>',s[s.length]='<a:font script="Guru" typeface="Raavi"/>',s[s.length]='<a:font script="Cans" typeface="Euphemia"/>',s[s.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',s[s.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',s[s.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',s[s.length]='<a:font script="Thaa" typeface="MV Boli"/>',s[s.length]='<a:font script="Deva" typeface="Mangal"/>',s[s.length]='<a:font script="Telu" typeface="Gautami"/>',s[s.length]='<a:font script="Taml" typeface="Latha"/>',s[s.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',s[s.length]='<a:font script="Orya" typeface="Kalinga"/>',s[s.length]='<a:font script="Mlym" typeface="Kartika"/>',s[s.length]='<a:font script="Laoo" typeface="DokChampa"/>',s[s.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',s[s.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',s[s.length]='<a:font script="Viet" typeface="Times New Roman"/>',s[s.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',s[s.length]='<a:font script="Geor" typeface="Sylfaen"/>',s[s.length]="</a:majorFont>",s[s.length]="<a:minorFont>",s[s.length]='<a:latin typeface="Calibri"/>',s[s.length]='<a:ea typeface=""/>',s[s.length]='<a:cs typeface=""/>',s[s.length]='<a:font script="Jpan" typeface=" "/>',s[s.length]='<a:font script="Hang" typeface=" "/>',s[s.length]='<a:font script="Hans" typeface=""/>',s[s.length]='<a:font script="Hant" typeface=""/>',s[s.length]='<a:font script="Arab" typeface="Arial"/>',s[s.length]='<a:font script="Hebr" typeface="Arial"/>',s[s.length]='<a:font script="Thai" typeface="Tahoma"/>',s[s.length]='<a:font script="Ethi" typeface="Nyala"/>',s[s.length]='<a:font script="Beng" typeface="Vrinda"/>',s[s.length]='<a:font script="Gujr" typeface="Shruti"/>',s[s.length]='<a:font script="Khmr" typeface="DaunPenh"/>',s[s.length]='<a:font script="Knda" typeface="Tunga"/>',s[s.length]='<a:font script="Guru" typeface="Raavi"/>',s[s.length]='<a:font script="Cans" typeface="Euphemia"/>',s[s.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',s[s.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',s[s.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',s[s.length]='<a:font script="Thaa" typeface="MV Boli"/>',s[s.length]='<a:font script="Deva" typeface="Mangal"/>',s[s.length]='<a:font script="Telu" typeface="Gautami"/>',s[s.length]='<a:font script="Taml" typeface="Latha"/>',s[s.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',s[s.length]='<a:font script="Orya" typeface="Kalinga"/>',s[s.length]='<a:font script="Mlym" typeface="Kartika"/>',s[s.length]='<a:font script="Laoo" typeface="DokChampa"/>',s[s.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',s[s.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',s[s.length]='<a:font script="Viet" typeface="Arial"/>',s[s.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',s[s.length]='<a:font script="Geor" typeface="Sylfaen"/>',s[s.length]="</a:minorFont>",s[s.length]="</a:fontScheme>",s[s.length]='<a:fmtScheme name="Office">',s[s.length]="<a:fillStyleLst>",s[s.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',s[s.length]='<a:gradFill rotWithShape="1">',s[s.length]="<a:gsLst>",s[s.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',s[s.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',s[s.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',s[s.length]="</a:gsLst>",s[s.length]='<a:lin ang="16200000" scaled="1"/>',s[s.length]="</a:gradFill>",s[s.length]='<a:gradFill rotWithShape="1">',s[s.length]="<a:gsLst>",s[s.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',s[s.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',s[s.length]="</a:gsLst>",s[s.length]='<a:lin ang="16200000" scaled="0"/>',s[s.length]="</a:gradFill>",s[s.length]="</a:fillStyleLst>",s[s.length]="<a:lnStyleLst>",s[s.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',s[s.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',s[s.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',s[s.length]="</a:lnStyleLst>",s[s.length]="<a:effectStyleLst>",s[s.length]="<a:effectStyle>",s[s.length]="<a:effectLst>",s[s.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',s[s.length]="</a:effectLst>",s[s.length]="</a:effectStyle>",s[s.length]="<a:effectStyle>",s[s.length]="<a:effectLst>",s[s.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',s[s.length]="</a:effectLst>",s[s.length]="</a:effectStyle>",s[s.length]="<a:effectStyle>",s[s.length]="<a:effectLst>",s[s.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',s[s.length]="</a:effectLst>",s[s.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',s[s.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',s[s.length]="</a:effectStyle>",s[s.length]="</a:effectStyleLst>",s[s.length]="<a:bgFillStyleLst>",s[s.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',s[s.length]='<a:gradFill rotWithShape="1">',s[s.length]="<a:gsLst>",s[s.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',s[s.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',s[s.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',s[s.length]="</a:gsLst>",s[s.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',s[s.length]="</a:gradFill>",s[s.length]='<a:gradFill rotWithShape="1">',s[s.length]="<a:gsLst>",s[s.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',s[s.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',s[s.length]="</a:gsLst>",s[s.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',s[s.length]="</a:gradFill>",s[s.length]="</a:bgFillStyleLst>",s[s.length]="</a:fmtScheme>",s[s.length]="</a:themeElements>",s[s.length]="<a:objectDefaults>",s[s.length]="<a:spDef>",s[s.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',s[s.length]="</a:spDef>",s[s.length]="<a:lnDef>",s[s.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',s[s.length]="</a:lnDef>",s[s.length]="</a:objectDefaults>",s[s.length]="<a:extraClrSchemeLst/>",s[s.length]="</a:theme>",s.join("")}function Dje(e,r){return{flags:e.read_shift(4),version:e.read_shift(4),name:va(e)}}function Mje(e){var r=Be(12+2*e.name.length);return r.write_shift(4,e.flags),r.write_shift(4,e.version),Gs(e.name,r),r.slice(0,r.l)}function Lje(e){for(var r=[],s=e.read_shift(4);s-- >0;)r.push([e.read_shift(4),e.read_shift(4)]);return r}function Fje(e){var r=Be(4+8*e.length);r.write_shift(4,e.length);for(var s=0;s<e.length;++s)r.write_shift(4,e[s][0]),r.write_shift(4,e[s][1]);return r}function Rje(e,r){var s=Be(8+2*r.length);return s.write_shift(4,e),Gs(r,s),s.slice(0,s.l)}function Bje(e){return e.l+=4,e.read_shift(4)!=0}function $je(e,r){var s=Be(8);return s.write_shift(4,e),s.write_shift(4,1),s}function zje(){var e=Ja();return Ke(e,332),Ke(e,334,Pi(1)),Ke(e,335,Mje({name:"XLDAPR",version:12e4,flags:3496657072})),Ke(e,336),Ke(e,339,Rje(1,"XLDAPR")),Ke(e,52),Ke(e,35,Pi(514)),Ke(e,4096,Pi(0)),Ke(e,4097,Vn(1)),Ke(e,36),Ke(e,53),Ke(e,340),Ke(e,337,$je(1)),Ke(e,51,Fje([[1,0]])),Ke(e,338),Ke(e,333),e.end()}function A$(){var e=[Ts];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function Uje(e){var r={};r.i=e.read_shift(4);var s={};s.r=e.read_shift(4),s.c=e.read_shift(4),r.r=fr(s);var a=e.read_shift(1);return a&2&&(r.l="1"),a&8&&(r.a="1"),r}var gu=1024;function T$(e,r){for(var s=[21600,21600],a=["m0,0l0",s[1],s[0],s[1],s[0],"0xe"].join(","),n=[st("xml",null,{"xmlns:v":hn.v,"xmlns:o":hn.o,"xmlns:x":hn.x,"xmlns:mv":hn.mv}).replace(/\/>/,">"),st("o:shapelayout",st("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),st("v:shapetype",[st("v:stroke",null,{joinstyle:"miter"}),st("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:s.join(","),path:a})];gu<e*1e3;)gu+=1e3;return r.forEach(function(i){var l=Ws(i[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var c=o.type=="gradient"?st("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,d=st("v:fill",c,o),u={on:"t",obscured:"t"};++gu,n=n.concat(["<v:shape"+E0({id:"_x0000_s"+gu,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",d,st("v:shadow",null,u),st("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",ra("x:Anchor",[l.c+1,0,l.r+1,0,l.c+3,20,l.r+5,20].join(",")),ra("x:AutoFill","False"),ra("x:Row",String(l.r)),ra("x:Column",String(l.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),n.push("</xml>"),n.join("")}function E$(e){var r=[Ts,st("comments",null,{xmlns:Em[0]})],s=[];return r.push("<authors>"),e.forEach(function(a){a[1].forEach(function(n){var i=xr(n.a);s.indexOf(i)==-1&&(s.push(i),r.push("<author>"+i+"</author>")),n.T&&n.ID&&s.indexOf("tc="+n.ID)==-1&&(s.push("tc="+n.ID),r.push("<author>tc="+n.ID+"</author>"))})}),s.length==0&&(s.push("SheetJ5"),r.push("<author>SheetJ5</author>")),r.push("</authors>"),r.push("<commentList>"),e.forEach(function(a){var n=0,i=[];if(a[1][0]&&a[1][0].T&&a[1][0].ID?n=s.indexOf("tc="+a[1][0].ID):a[1].forEach(function(c){c.a&&(n=s.indexOf(xr(c.a))),i.push(c.t||"")}),r.push('<comment ref="'+a[0]+'" authorId="'+n+'"><text>'),i.length<=1)r.push(ra("t",xr(i[0]||"")));else{for(var l=`Comment:
    `+i[0]+`
`,o=1;o<i.length;++o)l+=`Reply:
    `+i[o]+`
`;r.push(ra("t",xr(l)))}r.push("</text></comment>")}),r.push("</commentList>"),r.length>2&&(r[r.length]="</comments>",r[1]=r[1].replace("/>",">")),r.join("")}function Hje(e,r,s){var a=[Ts,st("ThreadedComments",null,{xmlns:Hs.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(n){var i="";(n[1]||[]).forEach(function(l,o){if(!l.T){delete l.ID;return}l.a&&r.indexOf(l.a)==-1&&r.push(l.a);var c={ref:n[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+s.tcid++).slice(-12)+"}"};o==0?i=c.id:c.parentId=i,l.ID=c.id,l.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+r.indexOf(l.a)).slice(-12)+"}"),a.push(st("threadedComment",ra("text",l.t||""),c))})}),a.push("</ThreadedComments>"),a.join("")}function Vje(e){var r=[Ts,st("personList",null,{xmlns:Hs.TCMNT,"xmlns:x":Em[0]}).replace(/[\/]>/,">")];return e.forEach(function(s,a){r.push(st("person",null,{displayName:s,id:"{54EE7950-7262-4200-6969-"+("000000000000"+a).slice(-12)+"}",userId:s,providerId:"None"}))}),r.push("</personList>"),r.join("")}function Wje(e){var r={};r.iauthor=e.read_shift(4);var s=Rd(e);return r.rfx=s.s,r.ref=fr(s.s),e.l+=16,r}function Gje(e,r){return r==null&&(r=Be(36)),r.write_shift(4,e[1].iauthor),_m(e[0],r),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r}var qje=va;function Kje(e){return Gs(e.slice(0,54))}function Yje(e){var r=Ja(),s=[];return Ke(r,628),Ke(r,630),e.forEach(function(a){a[1].forEach(function(n){s.indexOf(n.a)>-1||(s.push(n.a.slice(0,54)),Ke(r,632,Kje(n.a)))})}),Ke(r,631),Ke(r,633),e.forEach(function(a){a[1].forEach(function(n){n.iauthor=s.indexOf(n.a);var i={s:Ws(a[0]),e:Ws(a[0])};Ke(r,635,Gje([i,n])),n.t&&n.t.length>0&&Ke(r,637,J1e(n)),Ke(r,636),delete n.iauthor})}),Ke(r,634),Ke(r,629),r.end()}function Xje(e,r){r.FullPaths.forEach(function(s,a){if(a!=0){var n=s.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");n.slice(-1)!=="/"&&gr.utils.cfb_add(e,n,r.FileIndex[a].content)}})}var I$=["xlsb","xlsm","xlam","biff8","xla"],Jje=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,r={r:0,c:0};function s(a,n,i,l){var o=!1,c=!1;i.length==0?c=!0:i.charAt(0)=="["&&(c=!0,i=i.slice(1,-1)),l.length==0?o=!0:l.charAt(0)=="["&&(o=!0,l=l.slice(1,-1));var d=i.length>0?parseInt(i,10)|0:0,u=l.length>0?parseInt(l,10)|0:0;return o?u+=r.c:--u,c?d+=r.r:--d,n+(o?"":"$")+ba(u)+(c?"":"$")+aa(d)}return function(n,i){return r=i,n.replace(e,s)}}(),z5=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,U5=function(){return function(r,s){return r.replace(z5,function(a,n,i,l,o,c){var d=M5(l)-(i?0:s.c),u=D5(c)-(o?0:s.r),m=u==0?"":o?u+1:"["+u+"]",x=d==0?"":i?d+1:"["+d+"]";return n+"R"+m+"C"+x})}}();function Qje(e,r){return e.replace(z5,function(s,a,n,i,l,o){return a+(n=="$"?n+i:ba(M5(i)+r.c))+(l=="$"?l+o:aa(D5(o)+r.r))})}function Zje(e){return e.length!=1}function ys(e){e.l+=1}function ac(e,r){var s=e.read_shift(2);return[s&16383,s>>14&1,s>>15&1]}function _$(e,r,s){var a=2;if(s){if(s.biff>=2&&s.biff<=5)return O$(e);s.biff==12&&(a=4)}var n=e.read_shift(a),i=e.read_shift(a),l=ac(e),o=ac(e);return{s:{r:n,c:l[0],cRel:l[1],rRel:l[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function O$(e){var r=ac(e),s=ac(e),a=e.read_shift(1),n=e.read_shift(1);return{s:{r:r[0],c:a,cRel:r[1],rRel:r[2]},e:{r:s[0],c:n,cRel:s[1],rRel:s[2]}}}function ewe(e,r,s){if(s.biff<8)return O$(e);var a=e.read_shift(s.biff==12?4:2),n=e.read_shift(s.biff==12?4:2),i=ac(e),l=ac(e);return{s:{r:a,c:i[0],cRel:i[1],rRel:i[2]},e:{r:n,c:l[0],cRel:l[1],rRel:l[2]}}}function D$(e,r,s){if(s&&s.biff>=2&&s.biff<=5)return twe(e);var a=e.read_shift(s&&s.biff==12?4:2),n=ac(e);return{r:a,c:n[0],cRel:n[1],rRel:n[2]}}function twe(e){var r=ac(e),s=e.read_shift(1);return{r:r[0],c:s,cRel:r[1],rRel:r[2]}}function rwe(e){var r=e.read_shift(2),s=e.read_shift(2);return{r,c:s&255,fQuoted:!!(s&16384),cRel:s>>15,rRel:s>>15}}function swe(e,r,s){var a=s&&s.biff?s.biff:8;if(a>=2&&a<=5)return awe(e);var n=e.read_shift(a>=12?4:2),i=e.read_shift(2),l=(i&16384)>>14,o=(i&32768)>>15;if(i&=16383,o==1)for(;n>524287;)n-=1048576;if(l==1)for(;i>8191;)i=i-16384;return{r:n,c:i,cRel:l,rRel:o}}function awe(e){var r=e.read_shift(2),s=e.read_shift(1),a=(r&32768)>>15,n=(r&16384)>>14;return r&=16383,a==1&&r>=8192&&(r=r-16384),n==1&&s>=128&&(s=s-256),{r,c:s,cRel:n,rRel:a}}function nwe(e,r,s){var a=(e[e.l++]&96)>>5,n=_$(e,s.biff>=2&&s.biff<=5?6:8,s);return[a,n]}function iwe(e,r,s){var a=(e[e.l++]&96)>>5,n=e.read_shift(2,"i"),i=8;if(s)switch(s.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var l=_$(e,i,s);return[a,n,l]}function lwe(e,r,s){var a=(e[e.l++]&96)>>5;return e.l+=s&&s.biff>8?12:s.biff<8?6:8,[a]}function owe(e,r,s){var a=(e[e.l++]&96)>>5,n=e.read_shift(2),i=8;if(s)switch(s.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[a,n]}function cwe(e,r,s){var a=(e[e.l++]&96)>>5,n=ewe(e,r-1,s);return[a,n]}function dwe(e,r,s){var a=(e[e.l++]&96)>>5;return e.l+=s.biff==2?6:s.biff==12?14:7,[a]}function tE(e){var r=e[e.l+1]&1,s=1;return e.l+=4,[r,s]}function uwe(e,r,s){e.l+=2;for(var a=e.read_shift(s&&s.biff==2?1:2),n=[],i=0;i<=a;++i)n.push(e.read_shift(s&&s.biff==2?1:2));return n}function mwe(e,r,s){var a=e[e.l+1]&255?1:0;return e.l+=2,[a,e.read_shift(s&&s.biff==2?1:2)]}function hwe(e,r,s){var a=e[e.l+1]&255?1:0;return e.l+=2,[a,e.read_shift(s&&s.biff==2?1:2)]}function xwe(e){var r=e[e.l+1]&255?1:0;return e.l+=2,[r,e.read_shift(2)]}function pwe(e,r,s){var a=e[e.l+1]&255?1:0;return e.l+=s&&s.biff==2?3:4,[a]}function M$(e){var r=e.read_shift(1),s=e.read_shift(1);return[r,s]}function fwe(e){return e.read_shift(2),M$(e)}function gwe(e){return e.read_shift(2),M$(e)}function ywe(e,r,s){var a=(e[e.l]&96)>>5;e.l+=1;var n=D$(e,0,s);return[a,n]}function bwe(e,r,s){var a=(e[e.l]&96)>>5;e.l+=1;var n=swe(e,0,s);return[a,n]}function vwe(e,r,s){var a=(e[e.l]&96)>>5;e.l+=1;var n=e.read_shift(2);s&&s.biff==5&&(e.l+=12);var i=D$(e,0,s);return[a,n,i]}function jwe(e,r,s){var a=(e[e.l]&96)>>5;e.l+=1;var n=e.read_shift(s&&s.biff<=3?1:2);return[jNe[n],R$[n],a]}function wwe(e,r,s){var a=e[e.l++],n=e.read_shift(1),i=s&&s.biff<=3?[a==88?-1:0,e.read_shift(1)]:Nwe(e);return[n,(i[0]===0?R$:vNe)[i[1]]]}function Nwe(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function Swe(e,r,s){e.l+=s&&s.biff==2?3:4}function kwe(e,r,s){if(e.l++,s&&s.biff==12)return[e.read_shift(4,"i"),0];var a=e.read_shift(2),n=e.read_shift(s&&s.biff==2?1:2);return[a,n]}function Cwe(e){return e.l++,wx[e.read_shift(1)]}function Pwe(e){return e.l++,e.read_shift(2)}function Awe(e){return e.l++,e.read_shift(1)!==0}function Twe(e){return e.l++,Om(e)}function Ewe(e,r,s){return e.l++,g$(e,r-1,s)}function Iwe(e,r){var s=[e.read_shift(1)];if(r==12)switch(s[0]){case 2:s[0]=4;break;case 4:s[0]=16;break;case 0:s[0]=1;break;case 1:s[0]=2;break}switch(s[0]){case 4:s[1]=v2e(e,1)?"TRUE":"FALSE",r!=12&&(e.l+=7);break;case 37:case 16:s[1]=wx[e[e.l]],e.l+=r==12?4:8;break;case 0:e.l+=8;break;case 1:s[1]=Om(e);break;case 2:s[1]=S2e(e,0,{biff:r>0&&r<8?2:r});break;default:throw new Error("Bad SerAr: "+s[0])}return s}function _we(e,r,s){for(var a=e.read_shift(s.biff==12?4:2),n=[],i=0;i!=a;++i)n.push((s.biff==12?Rd:P2e)(e));return n}function Owe(e,r,s){var a=0,n=0;s.biff==12?(a=e.read_shift(4),n=e.read_shift(4)):(n=1+e.read_shift(1),a=1+e.read_shift(2)),s.biff>=2&&s.biff<8&&(--a,--n==0&&(n=256));for(var i=0,l=[];i!=a&&(l[i]=[]);++i)for(var o=0;o!=n;++o)l[i][o]=Iwe(e,s.biff);return l}function Dwe(e,r,s){var a=e.read_shift(1)>>>5&3,n=!s||s.biff>=8?4:2,i=e.read_shift(n);switch(s.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[a,0,i]}function Mwe(e,r,s){if(s.biff==5)return Lwe(e);var a=e.read_shift(1)>>>5&3,n=e.read_shift(2),i=e.read_shift(4);return[a,n,i]}function Lwe(e){var r=e.read_shift(1)>>>5&3,s=e.read_shift(2,"i");e.l+=8;var a=e.read_shift(2);return e.l+=12,[r,s,a]}function Fwe(e,r,s){var a=e.read_shift(1)>>>5&3;e.l+=s&&s.biff==2?3:4;var n=e.read_shift(s&&s.biff==2?1:2);return[a,n]}function Rwe(e,r,s){var a=e.read_shift(1)>>>5&3,n=e.read_shift(s&&s.biff==2?1:2);return[a,n]}function Bwe(e,r,s){var a=e.read_shift(1)>>>5&3;return e.l+=4,s.biff<8&&e.l--,s.biff==12&&(e.l+=2),[a]}function $we(e,r,s){var a=(e[e.l++]&96)>>5,n=e.read_shift(2),i=4;if(s)switch(s.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[a,n]}var zwe=il,Uwe=il,Hwe=il;function Nx(e,r,s){return e.l+=2,[rwe(e)]}function H5(e){return e.l+=6,[]}var Vwe=Nx,Wwe=H5,Gwe=H5,qwe=Nx;function L$(e){return e.l+=2,[p$(e),e.read_shift(2)&1]}var Kwe=Nx,Ywe=L$,Xwe=H5,Jwe=Nx,Qwe=Nx,Zwe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function eNe(e){e.l+=2;var r=e.read_shift(2),s=e.read_shift(2),a=e.read_shift(4),n=e.read_shift(2),i=e.read_shift(2),l=Zwe[s>>2&31];return{ixti:r,coltype:s&3,rt:l,idx:a,c:n,C:i}}function tNe(e){return e.l+=2,[e.read_shift(4)]}function rNe(e,r,s){return e.l+=5,e.l+=2,e.l+=s.biff==2?1:4,["PTGSHEET"]}function sNe(e,r,s){return e.l+=s.biff==2?4:5,["PTGENDSHEET"]}function aNe(e){var r=e.read_shift(1)>>>5&3,s=e.read_shift(2);return[r,s]}function nNe(e){var r=e.read_shift(1)>>>5&3,s=e.read_shift(2);return[r,s]}function iNe(e){return e.l+=4,[0,0]}var rE={1:{n:"PtgExp",f:kwe},2:{n:"PtgTbl",f:Hwe},3:{n:"PtgAdd",f:ys},4:{n:"PtgSub",f:ys},5:{n:"PtgMul",f:ys},6:{n:"PtgDiv",f:ys},7:{n:"PtgPower",f:ys},8:{n:"PtgConcat",f:ys},9:{n:"PtgLt",f:ys},10:{n:"PtgLe",f:ys},11:{n:"PtgEq",f:ys},12:{n:"PtgGe",f:ys},13:{n:"PtgGt",f:ys},14:{n:"PtgNe",f:ys},15:{n:"PtgIsect",f:ys},16:{n:"PtgUnion",f:ys},17:{n:"PtgRange",f:ys},18:{n:"PtgUplus",f:ys},19:{n:"PtgUminus",f:ys},20:{n:"PtgPercent",f:ys},21:{n:"PtgParen",f:ys},22:{n:"PtgMissArg",f:ys},23:{n:"PtgStr",f:Ewe},26:{n:"PtgSheet",f:rNe},27:{n:"PtgEndSheet",f:sNe},28:{n:"PtgErr",f:Cwe},29:{n:"PtgBool",f:Awe},30:{n:"PtgInt",f:Pwe},31:{n:"PtgNum",f:Twe},32:{n:"PtgArray",f:dwe},33:{n:"PtgFunc",f:jwe},34:{n:"PtgFuncVar",f:wwe},35:{n:"PtgName",f:Dwe},36:{n:"PtgRef",f:ywe},37:{n:"PtgArea",f:nwe},38:{n:"PtgMemArea",f:Fwe},39:{n:"PtgMemErr",f:zwe},40:{n:"PtgMemNoMem",f:Uwe},41:{n:"PtgMemFunc",f:Rwe},42:{n:"PtgRefErr",f:Bwe},43:{n:"PtgAreaErr",f:lwe},44:{n:"PtgRefN",f:bwe},45:{n:"PtgAreaN",f:cwe},46:{n:"PtgMemAreaN",f:aNe},47:{n:"PtgMemNoMemN",f:nNe},57:{n:"PtgNameX",f:Mwe},58:{n:"PtgRef3d",f:vwe},59:{n:"PtgArea3d",f:iwe},60:{n:"PtgRefErr3d",f:$we},61:{n:"PtgAreaErr3d",f:owe},255:{}},lNe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},oNe={1:{n:"PtgElfLel",f:L$},2:{n:"PtgElfRw",f:Jwe},3:{n:"PtgElfCol",f:Vwe},6:{n:"PtgElfRwV",f:Qwe},7:{n:"PtgElfColV",f:qwe},10:{n:"PtgElfRadical",f:Kwe},11:{n:"PtgElfRadicalS",f:Xwe},13:{n:"PtgElfColS",f:Wwe},15:{n:"PtgElfColSV",f:Gwe},16:{n:"PtgElfRadicalLel",f:Ywe},25:{n:"PtgList",f:eNe},29:{n:"PtgSxName",f:tNe},255:{}},cNe={0:{n:"PtgAttrNoop",f:iNe},1:{n:"PtgAttrSemi",f:pwe},2:{n:"PtgAttrIf",f:hwe},4:{n:"PtgAttrChoose",f:uwe},8:{n:"PtgAttrGoto",f:mwe},16:{n:"PtgAttrSum",f:Swe},32:{n:"PtgAttrBaxcel",f:tE},33:{n:"PtgAttrBaxcel",f:tE},64:{n:"PtgAttrSpace",f:fwe},65:{n:"PtgAttrSpaceSemi",f:gwe},128:{n:"PtgAttrIfError",f:xwe},255:{}};function dNe(e,r,s,a){if(a.biff<8)return il(e,r);for(var n=e.l+r,i=[],l=0;l!==s.length;++l)switch(s[l][0]){case"PtgArray":s[l][1]=Owe(e,0,a),i.push(s[l][1]);break;case"PtgMemArea":s[l][2]=_we(e,s[l][1],a),i.push(s[l][2]);break;case"PtgExp":a&&a.biff==12&&(s[l][1][1]=e.read_shift(4),i.push(s[l][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+s[l][0]}return r=n-e.l,r!==0&&i.push(il(e,r)),i}function uNe(e,r,s){for(var a=e.l+r,n,i,l=[];a!=e.l;)r=a-e.l,i=e[e.l],n=rE[i]||rE[lNe[i]],(i===24||i===25)&&(n=(i===24?oNe:cNe)[e[e.l+1]]),!n||!n.f?il(e,r):l.push([n.n,n.f(e,r,s)]);return l}function mNe(e){for(var r=[],s=0;s<e.length;++s){for(var a=e[s],n=[],i=0;i<a.length;++i){var l=a[i];if(l)switch(l[0]){case 2:n.push('"'+l[1].replace(/"/g,'""')+'"');break;default:n.push(l[1])}else n.push("")}r.push(n.join(","))}return r.join(";")}var hNe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function xNe(e,r){if(!e&&!(r&&r.biff<=5&&r.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function F$(e,r,s){if(!e)return"SH33TJSERR0";if(s.biff>8&&(!e.XTI||!e.XTI[r]))return e.SheetNames[r];if(!e.XTI)return"SH33TJSERR6";var a=e.XTI[r];if(s.biff<8)return r>1e4&&(r-=65536),r<0&&(r=-r),r==0?"":e.XTI[r-1];if(!a)return"SH33TJSERR1";var n="";if(s.biff>8)switch(e[a[0]][0]){case 357:return n=a[1]==-1?"#REF":e.SheetNames[a[1]],a[1]==a[2]?n:n+":"+e.SheetNames[a[2]];case 358:return s.SID!=null?e.SheetNames[s.SID]:"SH33TJSSAME"+e[a[0]][0];case 355:default:return"SH33TJSSRC"+e[a[0]][0]}switch(e[a[0]][0][0]){case 1025:return n=a[1]==-1?"#REF":e.SheetNames[a[1]]||"SH33TJSERR3",a[1]==a[2]?n:n+":"+e.SheetNames[a[2]];case 14849:return e[a[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[a[0]][0][3]?(n=a[1]==-1?"#REF":e[a[0]][0][3][a[1]]||"SH33TJSERR4",a[1]==a[2]?n:n+":"+e[a[0]][0][3][a[2]]):"SH33TJSERR2"}}function sE(e,r,s){var a=F$(e,r,s);return a=="#REF"?a:xNe(a,s)}function om(e,r,s,a,n){var i=n&&n.biff||8,l={s:{c:0,r:0}},o=[],c,d,u,m=0,x=0,h,p="";if(!e[0]||!e[0][0])return"";for(var f=-1,b="",j=0,w=e[0].length;j<w;++j){var y=e[0][j];switch(y[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=o.pop(),d=o.pop(),f>=0){switch(e[0][f][1][0]){case 0:b=ss(" ",e[0][f][1][1]);break;case 1:b=ss("\r",e[0][f][1][1]);break;default:if(b="",n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][f][1][0])}d=d+b,f=-1}o.push(d+hNe[y[0]]+c);break;case"PtgIsect":c=o.pop(),d=o.pop(),o.push(d+" "+c);break;case"PtgUnion":c=o.pop(),d=o.pop(),o.push(d+","+c);break;case"PtgRange":c=o.pop(),d=o.pop(),o.push(d+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=Mh(y[1][1],l,n),o.push(Lh(u,i));break;case"PtgRefN":u=s?Mh(y[1][1],s,n):y[1][1],o.push(Lh(u,i));break;case"PtgRef3d":m=y[1][1],u=Mh(y[1][2],l,n),p=sE(a,m,n),o.push(p+"!"+Lh(u,i));break;case"PtgFunc":case"PtgFuncVar":var v=y[1][0],N=y[1][1];v||(v=0),v&=127;var S=v==0?[]:o.slice(-v);o.length-=v,N==="User"&&(N=S.shift()),o.push(N+"("+S.join(",")+")");break;case"PtgBool":o.push(y[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(y[1]);break;case"PtgNum":o.push(String(y[1]));break;case"PtgStr":o.push('"'+y[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(y[1]);break;case"PtgAreaN":h=zT(y[1][1],s?{s}:l,n),o.push(R1(h,n));break;case"PtgArea":h=zT(y[1][1],l,n),o.push(R1(h,n));break;case"PtgArea3d":m=y[1][1],h=y[1][2],p=sE(a,m,n),o.push(p+"!"+R1(h,n));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":x=y[1][2];var k=(a.names||[])[x-1]||(a[0]||[])[x],C=k?k.Name:"SH33TJSNAME"+String(x);C&&C.slice(0,6)=="_xlfn."&&!n.xlfn&&(C=C.slice(6)),o.push(C);break;case"PtgNameX":var P=y[1][1];x=y[1][2];var _;if(n.biff<=5)P<0&&(P=-P),a[P]&&(_=a[P][x]);else{var A="";if(((a[P]||[])[0]||[])[0]==14849||(((a[P]||[])[0]||[])[0]==1025?a[P][x]&&a[P][x].itab>0&&(A=a.SheetNames[a[P][x].itab-1]+"!"):A=a.SheetNames[x-1]+"!"),a[P]&&a[P][x])A+=a[P][x].Name;else if(a[0]&&a[0][x])A+=a[0][x].Name;else{var D=(F$(a,P,n)||"").split(";;");D[x-1]?A=D[x-1]:A+="SH33TJSERRX"}o.push(A);break}_||(_={Name:"SH33TJSERRY"}),o.push(_.Name);break;case"PtgParen":var F="(",X=")";if(f>=0){switch(b="",e[0][f][1][0]){case 2:F=ss(" ",e[0][f][1][1])+F;break;case 3:F=ss("\r",e[0][f][1][1])+F;break;case 4:X=ss(" ",e[0][f][1][1])+X;break;case 5:X=ss("\r",e[0][f][1][1])+X;break;default:if(n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][f][1][0])}f=-1}o.push(F+o.pop()+X);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":u={c:y[1][1],r:y[1][0]};var ce={c:s.c,r:s.r};if(a.sharedf[fr(u)]){var he=a.sharedf[fr(u)];o.push(om(he,l,ce,a,n))}else{var L=!1;for(c=0;c!=a.arrayf.length;++c)if(d=a.arrayf[c],!(u.c<d[0].s.c||u.c>d[0].e.c)&&!(u.r<d[0].s.r||u.r>d[0].e.r)){o.push(om(d[1],l,ce,a,n)),L=!0;break}L||o.push(y[1])}break;case"PtgArray":o.push("{"+mNe(y[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":f=j;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+y[1].idx+"[#"+y[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(y));default:throw new Error("Unrecognized Formula Token: "+String(y))}var q=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(n.biff!=3&&f>=0&&q.indexOf(e[0][j][0])==-1){y=e[0][f];var se=!0;switch(y[1][0]){case 4:se=!1;case 0:b=ss(" ",y[1][1]);break;case 5:se=!1;case 1:b=ss("\r",y[1][1]);break;default:if(b="",n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+y[1][0])}o.push((se?b:"")+o.pop()+(se?"":b)),f=-1}}if(o.length>1&&n.WTF)throw new Error("bad formula stack");return o[0]}function pNe(e){if(e==null){var r=Be(8);return r.write_shift(1,3),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,65535),r}else if(typeof e=="number")return vd(e);return vd(0)}function fNe(e,r,s,a,n){var i=jd(r,s,n),l=pNe(e.v),o=Be(6),c=33;o.write_shift(2,c),o.write_shift(4,0);for(var d=Be(e.bf.length),u=0;u<e.bf.length;++u)d[u]=e.bf[u];var m=ta([i,l,o,d]);return m}function Qb(e,r,s){var a=e.read_shift(4),n=uNe(e,a,s),i=e.read_shift(4),l=i>0?dNe(e,i,n,s):null;return[n,l]}var gNe=Qb,Zb=Qb,yNe=Qb,bNe=Qb,vNe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},R$={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},jNe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function wNe(e){var r="of:="+e.replace(z5,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return r.replace(/;/g,"|").replace(/,/g,";")}function NNe(e){return e.replace(/\./,"!")}var Fh=typeof Map<"u";function V5(e,r,s){var a=0,n=e.length;if(s){if(Fh?s.has(r):Object.prototype.hasOwnProperty.call(s,r)){for(var i=Fh?s.get(r):s[r];a<i.length;++a)if(e[i[a]].t===r)return e.Count++,i[a]}}else for(;a<n;++a)if(e[a].t===r)return e.Count++,a;return e[n]={t:r},e.Count++,e.Unique++,s&&(Fh?(s.has(r)||s.set(r,[]),s.get(r).push(n)):(Object.prototype.hasOwnProperty.call(s,r)||(s[r]=[]),s[r].push(n))),n}function ev(e,r){var s={min:e+1,max:e+1},a=-1;return r.MDW&&(Il=r.MDW),r.width!=null?s.customWidth=1:r.wpx!=null?a=Qg(r.wpx):r.wch!=null&&(a=r.wch),a>-1?(s.width=jw(a),s.customWidth=1):r.width!=null&&(s.width=r.width),r.hidden&&(s.hidden=!0),r.level!=null&&(s.outlineLevel=s.level=r.level),s}function B$(e,r){if(e){var s=[.7,.7,.75,.75,.3,.3];e.left==null&&(e.left=s[0]),e.right==null&&(e.right=s[1]),e.top==null&&(e.top=s[2]),e.bottom==null&&(e.bottom=s[3]),e.header==null&&(e.header=s[4]),e.footer==null&&(e.footer=s[5])}}function xc(e,r,s){var a=s.revssf[r.z!=null?r.z:"General"],n=60,i=e.length;if(a==null&&s.ssf){for(;n<392;++n)if(s.ssf[n]==null){DB(r.z,n),s.ssf[n]=r.z,s.revssf[r.z]=a=n;break}}for(n=0;n!=i;++n)if(e[n].numFmtId===a)return n;return e[i]={numFmtId:a,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function SNe(e,r,s){if(e&&e["!ref"]){var a=Rr(e["!ref"]);if(a.e.c<a.s.c||a.e.r<a.s.r)throw new Error("Bad range ("+s+"): "+e["!ref"])}}function kNe(e){if(e.length===0)return"";for(var r='<mergeCells count="'+e.length+'">',s=0;s!=e.length;++s)r+='<mergeCell ref="'+As(e[s])+'"/>';return r+"</mergeCells>"}function CNe(e,r,s,a,n){var i=!1,l={},o=null;if(a.bookType!=="xlsx"&&r.vbaraw){var c=r.SheetNames[s];try{r.Workbook&&(c=r.Workbook.Sheets[s].CodeName||c)}catch{}i=!0,l.codeName=T0(xr(c))}if(e&&e["!outline"]){var d={summaryBelow:1,summaryRight:1};e["!outline"].above&&(d.summaryBelow=0),e["!outline"].left&&(d.summaryRight=0),o=(o||"")+st("outlinePr",null,d)}!i&&!o||(n[n.length]=st("sheetPr",o,l))}var PNe=["objects","scenarios","selectLockedCells","selectUnlockedCells"],ANe=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function TNe(e){var r={sheet:1};return PNe.forEach(function(s){e[s]!=null&&e[s]&&(r[s]="1")}),ANe.forEach(function(s){e[s]!=null&&!e[s]&&(r[s]="0")}),e.password&&(r.password=w$(e.password).toString(16).toUpperCase()),st("sheetProtection",null,r)}function ENe(e){return B$(e),st("pageMargins",null,e)}function INe(e,r){for(var s=["<cols>"],a,n=0;n!=r.length;++n)(a=r[n])&&(s[s.length]=st("col",null,ev(n,a)));return s[s.length]="</cols>",s.join("")}function _Ne(e,r,s,a){var n=typeof e.ref=="string"?e.ref:As(e.ref);s.Workbook||(s.Workbook={Sheets:[]}),s.Workbook.Names||(s.Workbook.Names=[]);var i=s.Workbook.Names,l=Pn(n);l.s.r==l.e.r&&(l.e.r=Pn(r["!ref"]).e.r,n=As(l));for(var o=0;o<i.length;++o){var c=i[o];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==a){c.Ref="'"+s.SheetNames[a]+"'!"+n;break}}return o==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:a,Ref:"'"+s.SheetNames[a]+"'!"+n}),st("autoFilter",null,{ref:n})}function ONe(e,r,s,a){var n={workbookViewId:"0"};return(((a||{}).Workbook||{}).Views||[])[0]&&(n.rightToLeft=a.Workbook.Views[0].RTL?"1":"0"),st("sheetViews",st("sheetView",null,n),{})}function DNe(e,r,s,a){if(e.c&&s["!comments"].push([r,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var n="",i=e.t,l=e.v;if(e.t!=="z")switch(e.t){case"b":n=e.v?"1":"0";break;case"n":n=""+e.v;break;case"e":n=wx[e.v];break;case"d":a&&a.cellDates?n=Da(e.v,-1).toISOString():(e=sn(e),e.t="n",n=""+(e.v=rn(Da(e.v)))),typeof e.z>"u"&&(e.z=is[14]);break;default:n=e.v;break}var o=ra("v",xr(n)),c={r},d=xc(a.cellXfs,e,a);switch(d!==0&&(c.s=d),e.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(a&&a.bookSST){o=ra("v",""+V5(a.Strings,e.v,a.revStrings)),c.t="s";break}c.t="str";break}if(e.t!=i&&(e.t=i,e.v=l),typeof e.f=="string"&&e.f){var u=e.F&&e.F.slice(0,r.length)==r?{t:"array",ref:e.F}:null;o=st("f",xr(e.f),u)+(e.v!=null?o:"")}return e.l&&s["!links"].push([r,e.l]),e.D&&(c.cm=1),st("c",o,c)}function MNe(e,r,s,a){var n=[],i=[],l=Rr(e["!ref"]),o="",c,d="",u=[],m=0,x=0,h=e["!rows"],p=Array.isArray(e),f={r:d},b,j=-1;for(x=l.s.c;x<=l.e.c;++x)u[x]=ba(x);for(m=l.s.r;m<=l.e.r;++m){for(i=[],d=aa(m),x=l.s.c;x<=l.e.c;++x){c=u[x]+d;var w=p?(e[m]||[])[x]:e[c];w!==void 0&&(o=DNe(w,c,e,r))!=null&&i.push(o)}(i.length>0||h&&h[m])&&(f={r:d},h&&h[m]&&(b=h[m],b.hidden&&(f.hidden=1),j=-1,b.hpx?j=Zg(b.hpx):b.hpt&&(j=b.hpt),j>-1&&(f.ht=j,f.customHeight=1),b.level&&(f.outlineLevel=b.level)),n[n.length]=st("row",i.join(""),f))}if(h)for(;m<h.length;++m)h&&h[m]&&(f={r:m+1},b=h[m],b.hidden&&(f.hidden=1),j=-1,b.hpx?j=Zg(b.hpx):b.hpt&&(j=b.hpt),j>-1&&(f.ht=j,f.customHeight=1),b.level&&(f.outlineLevel=b.level),n[n.length]=st("row","",f));return n.join("")}function $$(e,r,s,a){var n=[Ts,st("worksheet",null,{xmlns:Em[0],"xmlns:r":Hs.r})],i=s.SheetNames[e],l=0,o="",c=s.Sheets[i];c==null&&(c={});var d=c["!ref"]||"A1",u=Rr(d);if(u.e.c>16383||u.e.r>1048575){if(r.WTF)throw new Error("Range "+d+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575),d=As(u)}a||(a={}),c["!comments"]=[];var m=[];CNe(c,s,e,r,n),n[n.length]=st("dimension",null,{ref:d}),n[n.length]=ONe(c,r,e,s),r.sheetFormat&&(n[n.length]=st("sheetFormatPr",null,{defaultRowHeight:r.sheetFormat.defaultRowHeight||"16",baseColWidth:r.sheetFormat.baseColWidth||"10",outlineLevelRow:r.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(n[n.length]=INe(c,c["!cols"])),n[l=n.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(o=MNe(c,r),o.length>0&&(n[n.length]=o)),n.length>l+1&&(n[n.length]="</sheetData>",n[l]=n[l].replace("/>",">")),c["!protect"]&&(n[n.length]=TNe(c["!protect"])),c["!autofilter"]!=null&&(n[n.length]=_Ne(c["!autofilter"],c,s,e)),c["!merges"]!=null&&c["!merges"].length>0&&(n[n.length]=kNe(c["!merges"]));var x=-1,h,p=-1;return c["!links"].length>0&&(n[n.length]="<hyperlinks>",c["!links"].forEach(function(f){f[1].Target&&(h={ref:f[0]},f[1].Target.charAt(0)!="#"&&(p=mr(a,-1,xr(f[1].Target).replace(/#.*$/,""),nr.HLINK),h["r:id"]="rId"+p),(x=f[1].Target.indexOf("#"))>-1&&(h.location=xr(f[1].Target.slice(x+1))),f[1].Tooltip&&(h.tooltip=xr(f[1].Tooltip)),n[n.length]=st("hyperlink",null,h))}),n[n.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(n[n.length]=ENe(c["!margins"])),(!r||r.ignoreEC||r.ignoreEC==null)&&(n[n.length]=ra("ignoredErrors",st("ignoredError",null,{numberStoredAsText:1,sqref:d}))),m.length>0&&(p=mr(a,-1,"../drawings/drawing"+(e+1)+".xml",nr.DRAW),n[n.length]=st("drawing",null,{"r:id":"rId"+p}),c["!drawing"]=m),c["!comments"].length>0&&(p=mr(a,-1,"../drawings/vmlDrawing"+(e+1)+".vml",nr.VML),n[n.length]=st("legacyDrawing",null,{"r:id":"rId"+p}),c["!legacy"]=p),n.length>1&&(n[n.length]="</worksheet>",n[1]=n[1].replace("/>",">")),n.join("")}function LNe(e,r){var s={},a=e.l+r;s.r=e.read_shift(4),e.l+=4;var n=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=a,i&7&&(s.level=i&7),i&16&&(s.hidden=!0),i&32&&(s.hpt=n/20),s}function FNe(e,r,s){var a=Be(145),n=(s["!rows"]||[])[e]||{};a.write_shift(4,e),a.write_shift(4,0);var i=320;n.hpx?i=Zg(n.hpx)*20:n.hpt&&(i=n.hpt*20),a.write_shift(2,i),a.write_shift(1,0);var l=0;n.level&&(l|=n.level),n.hidden&&(l|=16),(n.hpx||n.hpt)&&(l|=32),a.write_shift(1,l),a.write_shift(1,0);var o=0,c=a.l;a.l+=4;for(var d={r:e,c:0},u=0;u<16;++u)if(!(r.s.c>u+1<<10||r.e.c<u<<10)){for(var m=-1,x=-1,h=u<<10;h<u+1<<10;++h){d.c=h;var p=Array.isArray(s)?(s[d.r]||[])[d.c]:s[fr(d)];p&&(m<0&&(m=h),x=h)}m<0||(++o,a.write_shift(4,m),a.write_shift(4,x))}var f=a.l;return a.l=c,a.write_shift(4,o),a.l=f,a.length>a.l?a.slice(0,a.l):a}function RNe(e,r,s,a){var n=FNe(a,s,r);(n.length>17||(r["!rows"]||[])[a])&&Ke(e,0,n)}var BNe=Rd,$Ne=_m;function zNe(){}function UNe(e,r){var s={},a=e[e.l];return++e.l,s.above=!(a&64),s.left=!(a&128),e.l+=18,s.name=Q1e(e),s}function HNe(e,r,s){s==null&&(s=Be(84+4*e.length));var a=192;r&&(r.above&&(a&=-65),r.left&&(a&=-129)),s.write_shift(1,a);for(var n=1;n<3;++n)s.write_shift(1,0);return Yg({auto:1},s),s.write_shift(-4,-1),s.write_shift(-4,-1),t$(e,s),s.slice(0,s.l)}function VNe(e){var r=di(e);return[r]}function WNe(e,r,s){return s==null&&(s=Be(8)),Md(r,s)}function GNe(e){var r=Ld(e);return[r]}function qNe(e,r,s){return s==null&&(s=Be(4)),Fd(r,s)}function KNe(e){var r=di(e),s=e.read_shift(1);return[r,s,"b"]}function YNe(e,r,s){return s==null&&(s=Be(9)),Md(r,s),s.write_shift(1,e.v?1:0),s}function XNe(e){var r=Ld(e),s=e.read_shift(1);return[r,s,"b"]}function JNe(e,r,s){return s==null&&(s=Be(5)),Fd(r,s),s.write_shift(1,e.v?1:0),s}function QNe(e){var r=di(e),s=e.read_shift(1);return[r,s,"e"]}function ZNe(e,r,s){return s==null&&(s=Be(9)),Md(r,s),s.write_shift(1,e.v),s}function e4e(e){var r=Ld(e),s=e.read_shift(1);return[r,s,"e"]}function t4e(e,r,s){return s==null&&(s=Be(8)),Fd(r,s),s.write_shift(1,e.v),s.write_shift(2,0),s.write_shift(1,0),s}function r4e(e){var r=di(e),s=e.read_shift(4);return[r,s,"s"]}function s4e(e,r,s){return s==null&&(s=Be(12)),Md(r,s),s.write_shift(4,r.v),s}function a4e(e){var r=Ld(e),s=e.read_shift(4);return[r,s,"s"]}function n4e(e,r,s){return s==null&&(s=Be(8)),Fd(r,s),s.write_shift(4,r.v),s}function i4e(e){var r=di(e),s=Om(e);return[r,s,"n"]}function l4e(e,r,s){return s==null&&(s=Be(16)),Md(r,s),vd(e.v,s),s}function o4e(e){var r=Ld(e),s=Om(e);return[r,s,"n"]}function c4e(e,r,s){return s==null&&(s=Be(12)),Fd(r,s),vd(e.v,s),s}function d4e(e){var r=di(e),s=r$(e);return[r,s,"n"]}function u4e(e,r,s){return s==null&&(s=Be(12)),Md(r,s),s$(e.v,s),s}function m4e(e){var r=Ld(e),s=r$(e);return[r,s,"n"]}function h4e(e,r,s){return s==null&&(s=Be(8)),Fd(r,s),s$(e.v,s),s}function x4e(e){var r=di(e),s=L5(e);return[r,s,"is"]}function p4e(e){var r=di(e),s=va(e);return[r,s,"str"]}function f4e(e,r,s){return s==null&&(s=Be(12+4*e.v.length)),Md(r,s),Gs(e.v,s),s.length>s.l?s.slice(0,s.l):s}function g4e(e){var r=Ld(e),s=va(e);return[r,s,"str"]}function y4e(e,r,s){return s==null&&(s=Be(8+4*e.v.length)),Fd(r,s),Gs(e.v,s),s.length>s.l?s.slice(0,s.l):s}function b4e(e,r,s){var a=e.l+r,n=di(e);n.r=s["!row"];var i=e.read_shift(1),l=[n,i,"b"];if(s.cellFormula){e.l+=2;var o=Zb(e,a-e.l,s);l[3]=om(o,null,n,s.supbooks,s)}else e.l=a;return l}function v4e(e,r,s){var a=e.l+r,n=di(e);n.r=s["!row"];var i=e.read_shift(1),l=[n,i,"e"];if(s.cellFormula){e.l+=2;var o=Zb(e,a-e.l,s);l[3]=om(o,null,n,s.supbooks,s)}else e.l=a;return l}function j4e(e,r,s){var a=e.l+r,n=di(e);n.r=s["!row"];var i=Om(e),l=[n,i,"n"];if(s.cellFormula){e.l+=2;var o=Zb(e,a-e.l,s);l[3]=om(o,null,n,s.supbooks,s)}else e.l=a;return l}function w4e(e,r,s){var a=e.l+r,n=di(e);n.r=s["!row"];var i=va(e),l=[n,i,"str"];if(s.cellFormula){e.l+=2;var o=Zb(e,a-e.l,s);l[3]=om(o,null,n,s.supbooks,s)}else e.l=a;return l}var N4e=Rd,S4e=_m;function k4e(e,r){return r==null&&(r=Be(4)),r.write_shift(4,e),r}function C4e(e,r){var s=e.l+r,a=Rd(e),n=F5(e),i=va(e),l=va(e),o=va(e);e.l=s;var c={rfx:a,relId:n,loc:i,display:o};return l&&(c.Tooltip=l),c}function P4e(e,r){var s=Be(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));_m({s:Ws(e[0]),e:Ws(e[0])},s),R5("rId"+r,s);var a=e[1].Target.indexOf("#"),n=a==-1?"":e[1].Target.slice(a+1);return Gs(n||"",s),Gs(e[1].Tooltip||"",s),Gs("",s),s.slice(0,s.l)}function A4e(){}function T4e(e,r,s){var a=e.l+r,n=a$(e),i=e.read_shift(1),l=[n];if(l[2]=i,s.cellFormula){var o=gNe(e,a-e.l,s);l[1]=o}else e.l=a;return l}function E4e(e,r,s){var a=e.l+r,n=Rd(e),i=[n];if(s.cellFormula){var l=bNe(e,a-e.l,s);i[1]=l,e.l=a}else e.l=a;return i}function I4e(e,r,s){s==null&&(s=Be(18));var a=ev(e,r);s.write_shift(-4,e),s.write_shift(-4,e),s.write_shift(4,(a.width||10)*256),s.write_shift(4,0);var n=0;return r.hidden&&(n|=1),typeof a.width=="number"&&(n|=2),r.level&&(n|=r.level<<8),s.write_shift(2,n),s}var z$=["left","right","top","bottom","header","footer"];function _4e(e){var r={};return z$.forEach(function(s){r[s]=Om(e)}),r}function O4e(e,r){return r==null&&(r=Be(6*8)),B$(e),z$.forEach(function(s){vd(e[s],r)}),r}function D4e(e){var r=e.read_shift(2);return e.l+=28,{RTL:r&32}}function M4e(e,r,s){s==null&&(s=Be(30));var a=924;return(((r||{}).Views||[])[0]||{}).RTL&&(a|=32),s.write_shift(2,a),s.write_shift(4,0),s.write_shift(4,0),s.write_shift(4,0),s.write_shift(1,0),s.write_shift(1,0),s.write_shift(2,0),s.write_shift(2,100),s.write_shift(2,0),s.write_shift(2,0),s.write_shift(2,0),s.write_shift(4,0),s}function L4e(e){var r=Be(24);return r.write_shift(4,4),r.write_shift(4,1),_m(e,r),r}function F4e(e,r){return r==null&&(r=Be(16*4+2)),r.write_shift(2,e.password?w$(e.password):0),r.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(s){s[1]?r.write_shift(4,e[s[0]]!=null&&!e[s[0]]?1:0):r.write_shift(4,e[s[0]]!=null&&e[s[0]]?0:1)}),r}function R4e(){}function B4e(){}function $4e(e,r,s,a,n,i,l){if(r.v===void 0)return!1;var o="";switch(r.t){case"b":o=r.v?"1":"0";break;case"d":r=sn(r),r.z=r.z||is[14],r.v=rn(Da(r.v)),r.t="n";break;case"n":case"e":o=""+r.v;break;default:o=r.v;break}var c={r:s,c:a};switch(c.s=xc(n.cellXfs,r,n),r.l&&i["!links"].push([fr(c),r.l]),r.c&&i["!comments"].push([fr(c),r.c]),r.t){case"s":case"str":return n.bookSST?(o=V5(n.Strings,r.v,n.revStrings),c.t="s",c.v=o,l?Ke(e,18,n4e(r,c)):Ke(e,7,s4e(r,c))):(c.t="str",l?Ke(e,17,y4e(r,c)):Ke(e,6,f4e(r,c))),!0;case"n":return r.v==(r.v|0)&&r.v>-1e3&&r.v<1e3?l?Ke(e,13,h4e(r,c)):Ke(e,2,u4e(r,c)):l?Ke(e,16,c4e(r,c)):Ke(e,5,l4e(r,c)),!0;case"b":return c.t="b",l?Ke(e,15,JNe(r,c)):Ke(e,4,YNe(r,c)),!0;case"e":return c.t="e",l?Ke(e,14,t4e(r,c)):Ke(e,3,ZNe(r,c)),!0}return l?Ke(e,12,qNe(r,c)):Ke(e,1,WNe(r,c)),!0}function z4e(e,r,s,a){var n=Rr(r["!ref"]||"A1"),i,l="",o=[];Ke(e,145);var c=Array.isArray(r),d=n.e.r;r["!rows"]&&(d=Math.max(n.e.r,r["!rows"].length-1));for(var u=n.s.r;u<=d;++u){l=aa(u),RNe(e,r,n,u);var m=!1;if(u<=n.e.r)for(var x=n.s.c;x<=n.e.c;++x){u===n.s.r&&(o[x]=ba(x)),i=o[x]+l;var h=c?(r[u]||[])[x]:r[i];if(!h){m=!1;continue}m=$4e(e,h,u,x,a,r,m)}}Ke(e,146)}function U4e(e,r){!r||!r["!merges"]||(Ke(e,177,k4e(r["!merges"].length)),r["!merges"].forEach(function(s){Ke(e,176,S4e(s))}),Ke(e,178))}function H4e(e,r){!r||!r["!cols"]||(Ke(e,390),r["!cols"].forEach(function(s,a){s&&Ke(e,60,I4e(a,s))}),Ke(e,391))}function V4e(e,r){!r||!r["!ref"]||(Ke(e,648),Ke(e,649,L4e(Rr(r["!ref"]))),Ke(e,650))}function W4e(e,r,s){r["!links"].forEach(function(a){if(a[1].Target){var n=mr(s,-1,a[1].Target.replace(/#.*$/,""),nr.HLINK);Ke(e,494,P4e(a,n))}}),delete r["!links"]}function G4e(e,r,s,a){if(r["!comments"].length>0){var n=mr(a,-1,"../drawings/vmlDrawing"+(s+1)+".vml",nr.VML);Ke(e,551,R5("rId"+n)),r["!legacy"]=n}}function q4e(e,r,s,a){if(r["!autofilter"]){var n=r["!autofilter"],i=typeof n.ref=="string"?n.ref:As(n.ref);s.Workbook||(s.Workbook={Sheets:[]}),s.Workbook.Names||(s.Workbook.Names=[]);var l=s.Workbook.Names,o=Pn(i);o.s.r==o.e.r&&(o.e.r=Pn(r["!ref"]).e.r,i=As(o));for(var c=0;c<l.length;++c){var d=l[c];if(d.Name=="_xlnm._FilterDatabase"&&d.Sheet==a){d.Ref="'"+s.SheetNames[a]+"'!"+i;break}}c==l.length&&l.push({Name:"_xlnm._FilterDatabase",Sheet:a,Ref:"'"+s.SheetNames[a]+"'!"+i}),Ke(e,161,_m(Rr(i))),Ke(e,162)}}function K4e(e,r,s){Ke(e,133),Ke(e,137,M4e(r,s)),Ke(e,138),Ke(e,134)}function Y4e(e,r){r["!protect"]&&Ke(e,535,F4e(r["!protect"]))}function X4e(e,r,s,a){var n=Ja(),i=s.SheetNames[e],l=s.Sheets[i]||{},o=i;try{s&&s.Workbook&&(o=s.Workbook.Sheets[e].CodeName||o)}catch{}var c=Rr(l["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(r.WTF)throw new Error("Range "+(l["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return l["!links"]=[],l["!comments"]=[],Ke(n,129),(s.vbaraw||l["!outline"])&&Ke(n,147,HNe(o,l["!outline"])),Ke(n,148,$Ne(c)),K4e(n,l,s.Workbook),H4e(n,l),z4e(n,l,e,r),Y4e(n,l),q4e(n,l,s,e),U4e(n,l),W4e(n,l,a),l["!margins"]&&Ke(n,476,O4e(l["!margins"])),(!r||r.ignoreEC||r.ignoreEC==null)&&V4e(n,l),G4e(n,l,e,a),Ke(n,130),n.end()}function J4e(e,r){e.l+=10;var s=va(e);return{name:s}}var Q4e=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function Z4e(e){return!e.Workbook||!e.Workbook.WBProps?"false":E1e(e.Workbook.WBProps.date1904)?"true":"false"}var e3e="][*?/\\".split("");function U$(e,r){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var s=!0;return e3e.forEach(function(a){if(e.indexOf(a)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),s}function t3e(e,r,s){e.forEach(function(a,n){U$(a);for(var i=0;i<n;++i)if(a==e[i])throw new Error("Duplicate Sheet Name: "+a);if(s){var l=r&&r[n]&&r[n].CodeName||a;if(l.charCodeAt(0)==95&&l.length>22)throw new Error("Bad Code Name: Worksheet"+l)}})}function r3e(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var r=e.Workbook&&e.Workbook.Sheets||[];t3e(e.SheetNames,r,!!e.vbaraw);for(var s=0;s<e.SheetNames.length;++s)SNe(e.Sheets[e.SheetNames[s]],e.SheetNames[s],s)}function H$(e){var r=[Ts];r[r.length]=st("workbook",null,{xmlns:Em[0],"xmlns:r":Hs.r});var s=e.Workbook&&(e.Workbook.Names||[]).length>0,a={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(Q4e.forEach(function(o){e.Workbook.WBProps[o[0]]!=null&&e.Workbook.WBProps[o[0]]!=o[1]&&(a[o[0]]=e.Workbook.WBProps[o[0]])}),e.Workbook.WBProps.CodeName&&(a.codeName=e.Workbook.WBProps.CodeName,delete a.CodeName)),r[r.length]=st("workbookPr",null,a);var n=e.Workbook&&e.Workbook.Sheets||[],i=0;if(n&&n[0]&&n[0].Hidden){for(r[r.length]="<bookViews>",i=0;i!=e.SheetNames.length&&!(!n[i]||!n[i].Hidden);++i);i==e.SheetNames.length&&(i=0),r[r.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',r[r.length]="</bookViews>"}for(r[r.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var l={name:xr(e.SheetNames[i].slice(0,31))};if(l.sheetId=""+(i+1),l["r:id"]="rId"+(i+1),n[i])switch(n[i].Hidden){case 1:l.state="hidden";break;case 2:l.state="veryHidden";break}r[r.length]=st("sheet",null,l)}return r[r.length]="</sheets>",s&&(r[r.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(o){var c={name:o.Name};o.Comment&&(c.comment=o.Comment),o.Sheet!=null&&(c.localSheetId=""+o.Sheet),o.Hidden&&(c.hidden="1"),o.Ref&&(r[r.length]=st("definedName",xr(o.Ref),c))}),r[r.length]="</definedNames>"),r.length>2&&(r[r.length]="</workbook>",r[1]=r[1].replace("/>",">")),r.join("")}function s3e(e,r){var s={};return s.Hidden=e.read_shift(4),s.iTabID=e.read_shift(4),s.strRelID=vw(e),s.name=va(e),s}function a3e(e,r){return r||(r=Be(127)),r.write_shift(4,e.Hidden),r.write_shift(4,e.iTabID),R5(e.strRelID,r),Gs(e.name.slice(0,31),r),r.length>r.l?r.slice(0,r.l):r}function n3e(e,r){var s={},a=e.read_shift(4);s.defaultThemeVersion=e.read_shift(4);var n=r>8?va(e):"";return n.length>0&&(s.CodeName=n),s.autoCompressPictures=!!(a&65536),s.backupFile=!!(a&64),s.checkCompatibility=!!(a&4096),s.date1904=!!(a&1),s.filterPrivacy=!!(a&8),s.hidePivotFieldList=!!(a&1024),s.promptedSolutions=!!(a&16),s.publishItems=!!(a&2048),s.refreshAllConnections=!!(a&262144),s.saveExternalLinkValues=!!(a&128),s.showBorderUnselectedTables=!!(a&4),s.showInkAnnotation=!!(a&32),s.showObjects=["all","placeholders","none"][a>>13&3],s.showPivotChartFilter=!!(a&32768),s.updateLinks=["userSet","never","always"][a>>8&3],s}function i3e(e,r){r||(r=Be(72));var s=0;return e&&e.filterPrivacy&&(s|=8),r.write_shift(4,s),r.write_shift(4,0),t$(e&&e.CodeName||"ThisWorkbook",r),r.slice(0,r.l)}function l3e(e,r,s){var a=e.l+r;e.l+=4,e.l+=1;var n=e.read_shift(4),i=Z1e(e),l=yNe(e,0,s),o=F5(e);e.l=a;var c={Name:i,Ptg:l};return n<268435455&&(c.Sheet=n),o&&(c.Comment=o),c}function o3e(e,r){Ke(e,143);for(var s=0;s!=r.SheetNames.length;++s){var a=r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[s]&&r.Workbook.Sheets[s].Hidden||0,n={Hidden:a,iTabID:s+1,strRelID:"rId"+(s+1),name:r.SheetNames[s]};Ke(e,156,a3e(n))}Ke(e,144)}function c3e(e,r){r||(r=Be(127));for(var s=0;s!=4;++s)r.write_shift(4,0);return Gs("SheetJS",r),Gs(zg.version,r),Gs(zg.version,r),Gs("7262",r),r.length>r.l?r.slice(0,r.l):r}function d3e(e,r){r||(r=Be(29)),r.write_shift(-4,0),r.write_shift(-4,460),r.write_shift(4,28800),r.write_shift(4,17600),r.write_shift(4,500),r.write_shift(4,e),r.write_shift(4,e);var s=120;return r.write_shift(1,s),r.length>r.l?r.slice(0,r.l):r}function u3e(e,r){if(!(!r.Workbook||!r.Workbook.Sheets)){for(var s=r.Workbook.Sheets,a=0,n=-1,i=-1;a<s.length;++a)!s[a]||!s[a].Hidden&&n==-1?n=a:s[a].Hidden==1&&i==-1&&(i=a);i>n||(Ke(e,135),Ke(e,158,d3e(n)),Ke(e,136))}}function m3e(e,r){var s=Ja();return Ke(s,131),Ke(s,128,c3e()),Ke(s,153,i3e(e.Workbook&&e.Workbook.WBProps||null)),u3e(s,e),o3e(s,e),Ke(s,132),s.end()}function h3e(e,r,s){return(r.slice(-4)===".bin"?m3e:H$)(e)}function x3e(e,r,s,a,n){return(r.slice(-4)===".bin"?X4e:$$)(e,s,a,n)}function p3e(e,r,s){return(r.slice(-4)===".bin"?Oje:k$)(e,s)}function f3e(e,r,s){return(r.slice(-4)===".bin"?ije:j$)(e,s)}function g3e(e,r,s){return(r.slice(-4)===".bin"?Yje:E$)(e)}function y3e(e){return(e.slice(-4)===".bin"?zje:A$)()}function b3e(e,r){var s=[];return e.Props&&s.push(p2e(e.Props,r)),e.Custprops&&s.push(f2e(e.Props,e.Custprops)),s.join("")}function v3e(){return""}function j3e(e,r){var s=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return r.cellXfs.forEach(function(a,n){var i=[];i.push(st("NumberFormat",null,{"ss:Format":xr(is[a.numFmtId])}));var l={"ss:ID":"s"+(21+n)};s.push(st("Style",i.join(""),l))}),st("Styles",s.join(""))}function V$(e){return st("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+U5(e.Ref,{r:0,c:0})})}function w3e(e){if(!((e||{}).Workbook||{}).Names)return"";for(var r=e.Workbook.Names,s=[],a=0;a<r.length;++a){var n=r[a];n.Sheet==null&&(n.Name.match(/^_xlfn\./)||s.push(V$(n)))}return st("Names",s.join(""))}function N3e(e,r,s,a){if(!e||!((a||{}).Workbook||{}).Names)return"";for(var n=a.Workbook.Names,i=[],l=0;l<n.length;++l){var o=n[l];o.Sheet==s&&(o.Name.match(/^_xlfn\./)||i.push(V$(o)))}return i.join("")}function S3e(e,r,s,a){if(!e)return"";var n=[];if(e["!margins"]&&(n.push("<PageSetup>"),e["!margins"].header&&n.push(st("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&n.push(st("Footer",null,{"x:Margin":e["!margins"].footer})),n.push(st("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),n.push("</PageSetup>")),a&&a.Workbook&&a.Workbook.Sheets&&a.Workbook.Sheets[s])if(a.Workbook.Sheets[s].Hidden)n.push(st("Visible",a.Workbook.Sheets[s].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<s&&!(a.Workbook.Sheets[i]&&!a.Workbook.Sheets[i].Hidden);++i);i==s&&n.push("<Selected/>")}return((((a||{}).Workbook||{}).Views||[])[0]||{}).RTL&&n.push("<DisplayRightToLeft/>"),e["!protect"]&&(n.push(ra("ProtectContents","True")),e["!protect"].objects&&n.push(ra("ProtectObjects","True")),e["!protect"].scenarios&&n.push(ra("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?n.push(ra("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&n.push(ra("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(l){e["!protect"][l[0]]&&n.push("<"+l[1]+"/>")})),n.length==0?"":st("WorksheetOptions",n.join(""),{xmlns:hn.x})}function k3e(e){return e.map(function(r){var s=T1e(r.t||""),a=st("ss:Data",s,{xmlns:"http://www.w3.org/TR/REC-html40"});return st("Comment",a,{"ss:Author":r.a})}).join("")}function C3e(e,r,s,a,n,i,l){if(!e||e.v==null&&e.f==null)return"";var o={};if(e.f&&(o["ss:Formula"]="="+xr(U5(e.f,l))),e.F&&e.F.slice(0,r.length)==r){var c=Ws(e.F.slice(r.length+1));o["ss:ArrayRange"]="RC:R"+(c.r==l.r?"":"["+(c.r-l.r)+"]")+"C"+(c.c==l.c?"":"["+(c.c-l.c)+"]")}if(e.l&&e.l.Target&&(o["ss:HRef"]=xr(e.l.Target),e.l.Tooltip&&(o["x:HRefScreenTip"]=xr(e.l.Tooltip))),s["!merges"])for(var d=s["!merges"],u=0;u!=d.length;++u)d[u].s.c!=l.c||d[u].s.r!=l.r||(d[u].e.c>d[u].s.c&&(o["ss:MergeAcross"]=d[u].e.c-d[u].s.c),d[u].e.r>d[u].s.r&&(o["ss:MergeDown"]=d[u].e.r-d[u].s.r));var m="",x="";switch(e.t){case"z":if(!a.sheetStubs)return"";break;case"n":m="Number",x=String(e.v);break;case"b":m="Boolean",x=e.v?"1":"0";break;case"e":m="Error",x=wx[e.v];break;case"d":m="DateTime",x=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||is[14]);break;case"s":m="String",x=A1e(e.v||"");break}var h=xc(a.cellXfs,e,a);o["ss:StyleID"]="s"+(21+h),o["ss:Index"]=l.c+1;var p=e.v!=null?x:"",f=e.t=="z"?"":'<Data ss:Type="'+m+'">'+p+"</Data>";return(e.c||[]).length>0&&(f+=k3e(e.c)),st("Cell",f,o)}function P3e(e,r){var s='<Row ss:Index="'+(e+1)+'"';return r&&(r.hpt&&!r.hpx&&(r.hpx=S$(r.hpt)),r.hpx&&(s+=' ss:AutoFitHeight="0" ss:Height="'+r.hpx+'"'),r.hidden&&(s+=' ss:Hidden="1"')),s+">"}function A3e(e,r,s,a){if(!e["!ref"])return"";var n=Rr(e["!ref"]),i=e["!merges"]||[],l=0,o=[];e["!cols"]&&e["!cols"].forEach(function(b,j){$5(b);var w=!!b.width,y=ev(j,b),v={"ss:Index":j+1};w&&(v["ss:Width"]=Jg(y.width)),b.hidden&&(v["ss:Hidden"]="1"),o.push(st("Column",null,v))});for(var c=Array.isArray(e),d=n.s.r;d<=n.e.r;++d){for(var u=[P3e(d,(e["!rows"]||[])[d])],m=n.s.c;m<=n.e.c;++m){var x=!1;for(l=0;l!=i.length;++l)if(!(i[l].s.c>m)&&!(i[l].s.r>d)&&!(i[l].e.c<m)&&!(i[l].e.r<d)){(i[l].s.c!=m||i[l].s.r!=d)&&(x=!0);break}if(!x){var h={r:d,c:m},p=fr(h),f=c?(e[d]||[])[m]:e[p];u.push(C3e(f,p,e,r,s,a,h))}}u.push("</Row>"),u.length>2&&o.push(u.join(""))}return o.join("")}function T3e(e,r,s){var a=[],n=s.SheetNames[e],i=s.Sheets[n],l=i?N3e(i,r,e,s):"";return l.length>0&&a.push("<Names>"+l+"</Names>"),l=i?A3e(i,r,e,s):"",l.length>0&&a.push("<Table>"+l+"</Table>"),a.push(S3e(i,r,e,s)),a.join("")}function E3e(e,r){r||(r={}),e.SSF||(e.SSF=sn(is)),e.SSF&&(Yb(),Kb(e.SSF),r.revssf=Xb(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF,r.cellXfs=[],xc(r.cellXfs,{},{revssf:{General:0}}));var s=[];s.push(b3e(e,r)),s.push(v3e()),s.push(""),s.push("");for(var a=0;a<e.SheetNames.length;++a)s.push(st("Worksheet",T3e(a,r,e),{"ss:Name":xr(e.SheetNames[a])}));return s[2]=j3e(e,r),s[3]=w3e(e),Ts+st("Workbook",s.join(""),{xmlns:hn.ss,"xmlns:o":hn.o,"xmlns:x":hn.x,"xmlns:ss":hn.ss,"xmlns:dt":hn.dt,"xmlns:html":hn.html})}var z1={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function I3e(e,r){var s=[],a=[],n=[],i=0,l,o=ET(HT,"n"),c=ET(VT,"n");if(e.Props)for(l=ia(e.Props),i=0;i<l.length;++i)(Object.prototype.hasOwnProperty.call(o,l[i])?s:Object.prototype.hasOwnProperty.call(c,l[i])?a:n).push([l[i],e.Props[l[i]]]);if(e.Custprops)for(l=ia(e.Custprops),i=0;i<l.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},l[i])||(Object.prototype.hasOwnProperty.call(o,l[i])?s:Object.prototype.hasOwnProperty.call(c,l[i])?a:n).push([l[i],e.Custprops[l[i]]]);var d=[];for(i=0;i<n.length;++i)x$.indexOf(n[i][0])>-1||u$.indexOf(n[i][0])>-1||n[i][1]!=null&&d.push(n[i]);a.length&&gr.utils.cfb_add(r,"/SummaryInformation",YT(a,z1.SI,c,VT)),(s.length||d.length)&&gr.utils.cfb_add(r,"/DocumentSummaryInformation",YT(s,z1.DSI,o,HT,d.length?d:null,z1.UDI))}function _3e(e,r){var s=r||{},a=gr.utils.cfb_new({root:"R"}),n="/Workbook";switch(s.bookType||"xls"){case"xls":s.bookType="biff8";case"xla":s.bookType||(s.bookType="xla");case"biff8":n="/Workbook",s.biff=8;break;case"biff5":n="/Book",s.biff=5;break;default:throw new Error("invalid type "+s.bookType+" for XLS CFB")}return gr.utils.cfb_add(a,n,W$(e,s)),s.biff==8&&(e.Props||e.Custprops)&&I3e(e,a),s.biff==8&&e.vbaraw&&Xje(a,gr.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),a}var O3e={0:{f:LNe},1:{f:VNe},2:{f:d4e},3:{f:QNe},4:{f:KNe},5:{f:i4e},6:{f:p4e},7:{f:r4e},8:{f:w4e},9:{f:j4e},10:{f:b4e},11:{f:v4e},12:{f:GNe},13:{f:m4e},14:{f:e4e},15:{f:XNe},16:{f:o4e},17:{f:g4e},18:{f:a4e},19:{f:L5},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:l3e},40:{},42:{},43:{f:pje},44:{f:hje},45:{f:yje},46:{f:vje},47:{f:bje},48:{},49:{f:G1e},50:{},51:{f:Lje},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:q2e},62:{f:x4e},63:{f:Uje},64:{f:R4e},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:il,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:D4e},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:UNe},148:{f:BNe,p:16},151:{f:A4e},152:{},153:{f:n3e},154:{},155:{},156:{f:s3e},157:{},158:{},159:{T:1,f:sje},160:{T:-1},161:{T:1,f:Rd},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:N4e},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:Dje},336:{T:-1},337:{f:Bje,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:vw},357:{},358:{},359:{},360:{T:1},361:{},362:{f:z2e},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:T4e},427:{f:E4e},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:_4e},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:zNe},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:C4e},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:vw},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:qje},633:{T:1},634:{T:-1},635:{T:1,f:Wje},636:{T:-1},637:{f:X1e},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:J4e},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:B4e},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function nt(e,r,s,a){var n=r;if(!isNaN(n)){var i=a||(s||[]).length||0,l=e.next(4);l.write_shift(2,n),l.write_shift(2,i),i>0&&O5(s)&&e.push(s)}}function D3e(e,r,s,a){var n=(s||[]).length||0;if(n<=8224)return nt(e,r,s,n);var i=r;if(!isNaN(i)){for(var l=s.parts||[],o=0,c=0,d=0;d+(l[o]||8224)<=8224;)d+=l[o]||8224,o++;var u=e.next(4);for(u.write_shift(2,i),u.write_shift(2,d),e.push(s.slice(c,c+d)),c+=d;c<n;){for(u=e.next(4),u.write_shift(2,60),d=0;d+(l[o]||8224)<=8224;)d+=l[o]||8224,o++;u.write_shift(2,d),e.push(s.slice(c,c+d)),c+=d}}}function Sx(e,r,s){return e||(e=Be(7)),e.write_shift(2,r),e.write_shift(2,s),e.write_shift(2,0),e.write_shift(1,0),e}function M3e(e,r,s,a){var n=Be(9);return Sx(n,e,r),f$(s,a||"b",n),n}function L3e(e,r,s){var a=Be(8+2*s.length);return Sx(a,e,r),a.write_shift(1,s.length),a.write_shift(s.length,s,"sbcs"),a.l<a.length?a.slice(0,a.l):a}function F3e(e,r,s,a){if(r.v!=null)switch(r.t){case"d":case"n":var n=r.t=="d"?rn(Da(r.v)):r.v;n==(n|0)&&n>=0&&n<65536?nt(e,2,J2e(s,a,n)):nt(e,3,X2e(s,a,n));return;case"b":case"e":nt(e,5,M3e(s,a,r.v,r.t));return;case"s":case"str":nt(e,4,L3e(s,a,(r.v||"").slice(0,255)));return}nt(e,1,Sx(null,s,a))}function R3e(e,r,s,a){var n=Array.isArray(r),i=Rr(r["!ref"]||"A1"),l,o="",c=[];if(i.e.c>255||i.e.r>16383){if(a.WTF)throw new Error("Range "+(r["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),l=As(i)}for(var d=i.s.r;d<=i.e.r;++d){o=aa(d);for(var u=i.s.c;u<=i.e.c;++u){d===i.s.r&&(c[u]=ba(u)),l=c[u]+o;var m=n?(r[d]||[])[u]:r[l];m&&F3e(e,m,d,u)}}}function B3e(e,r){for(var s=r||{},a=Ja(),n=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==s.sheet&&(n=i);if(n==0&&s.sheet&&e.SheetNames[0]!=s.sheet)throw new Error("Sheet not found: "+s.sheet);return nt(a,s.biff==4?1033:s.biff==3?521:9,B5(e,16,s)),R3e(a,e.Sheets[e.SheetNames[n]],n,s),nt(a,10),a.end()}function $3e(e,r,s){nt(e,49,O2e({sz:12,name:"Arial"},s))}function z3e(e,r,s){r&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var n=a[0];n<=a[1];++n)r[n]!=null&&nt(e,1054,L2e(n,r[n],s))})}function U3e(e,r){var s=Be(19);s.write_shift(4,2151),s.write_shift(4,0),s.write_shift(4,0),s.write_shift(2,3),s.write_shift(1,1),s.write_shift(4,0),nt(e,2151,s),s=Be(39),s.write_shift(4,2152),s.write_shift(4,0),s.write_shift(4,0),s.write_shift(2,3),s.write_shift(1,0),s.write_shift(4,0),s.write_shift(2,1),s.write_shift(4,4),s.write_shift(2,0),b$(Rr(r["!ref"]||"A1"),s),s.write_shift(4,4),nt(e,2152,s)}function H3e(e,r){for(var s=0;s<16;++s)nt(e,224,JT({numFmtId:0,style:!0},0,r));r.cellXfs.forEach(function(a){nt(e,224,JT(a,0,r))})}function V3e(e,r){for(var s=0;s<r["!links"].length;++s){var a=r["!links"][s];nt(e,440,V2e(a)),a[1].Tooltip&&nt(e,2048,W2e(a))}delete r["!links"]}function W3e(e,r){if(r){var s=0;r.forEach(function(a,n){++s<=256&&a&&nt(e,125,K2e(ev(n,a),n))})}}function G3e(e,r,s,a,n){var i=16+xc(n.cellXfs,r,n);if(r.v==null&&!r.bf){nt(e,513,jd(s,a,i));return}if(r.bf)nt(e,6,fNe(r,s,a,n,i));else switch(r.t){case"d":case"n":var l=r.t=="d"?rn(Da(r.v)):r.v;nt(e,515,$2e(s,a,l,i));break;case"b":case"e":nt(e,517,B2e(s,a,r.v,i,n,r.t));break;case"s":case"str":if(n.bookSST){var o=V5(n.Strings,r.v,n.revStrings);nt(e,253,D2e(s,a,o,i))}else nt(e,516,M2e(s,a,(r.v||"").slice(0,255),i,n));break;default:nt(e,513,jd(s,a,i))}}function q3e(e,r,s){var a=Ja(),n=s.SheetNames[e],i=s.Sheets[n]||{},l=(s||{}).Workbook||{},o=(l.Sheets||[])[e]||{},c=Array.isArray(i),d=r.biff==8,u,m="",x=[],h=Rr(i["!ref"]||"A1"),p=d?65536:16384;if(h.e.c>255||h.e.r>=p){if(r.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");h.e.c=Math.min(h.e.c,255),h.e.r=Math.min(h.e.c,p-1)}nt(a,2057,B5(s,16,r)),nt(a,13,Vn(1)),nt(a,12,Vn(100)),nt(a,15,Aa(!0)),nt(a,17,Aa(!1)),nt(a,16,vd(.001)),nt(a,95,Aa(!0)),nt(a,42,Aa(!1)),nt(a,43,Aa(!1)),nt(a,130,Vn(1)),nt(a,128,R2e()),nt(a,131,Aa(!1)),nt(a,132,Aa(!1)),d&&W3e(a,i["!cols"]),nt(a,512,F2e(h,r)),d&&(i["!links"]=[]);for(var f=h.s.r;f<=h.e.r;++f){m=aa(f);for(var b=h.s.c;b<=h.e.c;++b){f===h.s.r&&(x[b]=ba(b)),u=x[b]+m;var j=c?(i[f]||[])[b]:i[u];j&&(G3e(a,j,f,b,r),d&&j.l&&i["!links"].push([u,j.l]))}}var w=o.CodeName||o.name||n;return d&&nt(a,574,_2e((l.Views||[])[0])),d&&(i["!merges"]||[]).length&&nt(a,229,H2e(i["!merges"])),d&&V3e(a,i),nt(a,442,y$(w)),d&&U3e(a,i),nt(a,10),a.end()}function K3e(e,r,s){var a=Ja(),n=(e||{}).Workbook||{},i=n.Sheets||[],l=n.WBProps||{},o=s.biff==8,c=s.biff==5;if(nt(a,2057,B5(e,5,s)),s.bookType=="xla"&&nt(a,135),nt(a,225,o?Vn(1200):null),nt(a,193,b2e(2)),c&&nt(a,191),c&&nt(a,192),nt(a,226),nt(a,92,A2e("SheetJS",s)),nt(a,66,Vn(o?1200:1252)),o&&nt(a,353,Vn(0)),o&&nt(a,448),nt(a,317,Y2e(e.SheetNames.length)),o&&e.vbaraw&&nt(a,211),o&&e.vbaraw){var d=l.CodeName||"ThisWorkbook";nt(a,442,y$(d))}nt(a,156,Vn(17)),nt(a,25,Aa(!1)),nt(a,18,Aa(!1)),nt(a,19,Vn(0)),o&&nt(a,431,Aa(!1)),o&&nt(a,444,Vn(0)),nt(a,61,I2e()),nt(a,64,Aa(!1)),nt(a,141,Vn(0)),nt(a,34,Aa(Z4e(e)=="true")),nt(a,14,Aa(!0)),o&&nt(a,439,Aa(!1)),nt(a,218,Vn(0)),$3e(a,e,s),z3e(a,e.SSF,s),H3e(a,s),o&&nt(a,352,Aa(!1));var u=a.end(),m=Ja();o&&nt(m,140,G2e()),o&&s.Strings&&D3e(m,252,E2e(s.Strings)),nt(m,10);var x=m.end(),h=Ja(),p=0,f=0;for(f=0;f<e.SheetNames.length;++f)p+=(o?12:11)+(o?2:1)*e.SheetNames[f].length;var b=u.length+p+x.length;for(f=0;f<e.SheetNames.length;++f){var j=i[f]||{};nt(h,133,T2e({pos:b,hs:j.Hidden||0,dt:0,name:e.SheetNames[f]},s)),b+=r[f].length}var w=h.end();if(p!=w.length)throw new Error("BS8 "+p+" != "+w.length);var y=[];return u.length&&y.push(u),w.length&&y.push(w),x.length&&y.push(x),ta(y)}function Y3e(e,r){var s=r||{},a=[];e&&!e.SSF&&(e.SSF=sn(is)),e&&e.SSF&&(Yb(),Kb(e.SSF),s.revssf=Xb(e.SSF),s.revssf[e.SSF[65535]]=0,s.ssf=e.SSF),s.Strings=[],s.Strings.Count=0,s.Strings.Unique=0,W5(s),s.cellXfs=[],xc(s.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var n=0;n<e.SheetNames.length;++n)a[a.length]=q3e(n,s,e);return a.unshift(K3e(e,a,s)),ta(a)}function W$(e,r){for(var s=0;s<=e.SheetNames.length;++s){var a=e.Sheets[e.SheetNames[s]];if(!(!a||!a["!ref"])){var n=Pn(a["!ref"]);n.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[s]+"' extends beyond column IV (255).  Data may be lost.")}}var i=r||{};switch(i.biff||2){case 8:case 5:return Y3e(e,r);case 4:case 3:case 2:return B3e(e,r)}throw new Error("invalid type "+i.bookType+" for BIFF")}function X3e(e,r,s,a){for(var n=e["!merges"]||[],i=[],l=r.s.c;l<=r.e.c;++l){for(var o=0,c=0,d=0;d<n.length;++d)if(!(n[d].s.r>s||n[d].s.c>l)&&!(n[d].e.r<s||n[d].e.c<l)){if(n[d].s.r<s||n[d].s.c<l){o=-1;break}o=n[d].e.r-n[d].s.r+1,c=n[d].e.c-n[d].s.c+1;break}if(!(o<0)){var u=fr({r:s,c:l}),m=a.dense?(e[s]||[])[l]:e[u],x=m&&m.v!=null&&(m.h||P1e(m.w||(Yl(m),m.w)||""))||"",h={};o>1&&(h.rowspan=o),c>1&&(h.colspan=c),a.editable?x='<span contenteditable="true">'+x+"</span>":m&&(h["data-t"]=m&&m.t||"z",m.v!=null&&(h["data-v"]=m.v),m.z!=null&&(h["data-z"]=m.z),m.l&&(m.l.Target||"#").charAt(0)!="#"&&(x='<a href="'+m.l.Target+'">'+x+"</a>")),h.id=(a.id||"sjs")+"-"+u,i.push(st("td",x,h))}}var p="<tr>";return p+i.join("")+"</tr>"}var J3e='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',Q3e="</body></html>";function Z3e(e,r,s){var a=[];return a.join("")+"<table"+(s&&s.id?' id="'+s.id+'"':"")+">"}function G$(e,r){var s=r||{},a=s.header!=null?s.header:J3e,n=s.footer!=null?s.footer:Q3e,i=[a],l=Pn(e["!ref"]);s.dense=Array.isArray(e),i.push(Z3e(e,l,s));for(var o=l.s.r;o<=l.e.r;++o)i.push(X3e(e,l,o,s));return i.push("</table>"+n),i.join("")}function q$(e,r,s){var a=s||{},n=0,i=0;if(a.origin!=null)if(typeof a.origin=="number")n=a.origin;else{var l=typeof a.origin=="string"?Ws(a.origin):a.origin;n=l.r,i=l.c}var o=r.getElementsByTagName("tr"),c=Math.min(a.sheetRows||1e7,o.length),d={s:{r:0,c:0},e:{r:n,c:i}};if(e["!ref"]){var u=Pn(e["!ref"]);d.s.r=Math.min(d.s.r,u.s.r),d.s.c=Math.min(d.s.c,u.s.c),d.e.r=Math.max(d.e.r,u.e.r),d.e.c=Math.max(d.e.c,u.e.c),n==-1&&(d.e.r=n=u.e.r+1)}var m=[],x=0,h=e["!rows"]||(e["!rows"]=[]),p=0,f=0,b=0,j=0,w=0,y=0;for(e["!cols"]||(e["!cols"]=[]);p<o.length&&f<c;++p){var v=o[p];if(aE(v)){if(a.display)continue;h[f]={hidden:!0}}var N=v.children;for(b=j=0;b<N.length;++b){var S=N[b];if(!(a.display&&aE(S))){var k=S.hasAttribute("data-v")?S.getAttribute("data-v"):S.hasAttribute("v")?S.getAttribute("v"):I1e(S.innerHTML),C=S.getAttribute("data-z")||S.getAttribute("z");for(x=0;x<m.length;++x){var P=m[x];P.s.c==j+i&&P.s.r<f+n&&f+n<=P.e.r&&(j=P.e.c+1-i,x=-1)}y=+S.getAttribute("colspan")||1,((w=+S.getAttribute("rowspan")||1)>1||y>1)&&m.push({s:{r:f+n,c:j+i},e:{r:f+n+(w||1)-1,c:j+i+(y||1)-1}});var _={t:"s",v:k},A=S.getAttribute("data-t")||S.getAttribute("t")||"";k!=null&&(k.length==0?_.t=A||"z":a.raw||k.trim().length==0||A=="s"||(k==="TRUE"?_={t:"b",v:!0}:k==="FALSE"?_={t:"b",v:!1}:isNaN(El(k))?isNaN(A0(k).getDate())||(_={t:"d",v:Da(k)},a.cellDates||(_={t:"n",v:rn(_.v)}),_.z=a.dateNF||is[14]):_={t:"n",v:El(k)})),_.z===void 0&&C!=null&&(_.z=C);var D="",F=S.getElementsByTagName("A");if(F&&F.length)for(var X=0;X<F.length&&!(F[X].hasAttribute("href")&&(D=F[X].getAttribute("href"),D.charAt(0)!="#"));++X);D&&D.charAt(0)!="#"&&(_.l={Target:D}),a.dense?(e[f+n]||(e[f+n]=[]),e[f+n][j+i]=_):e[fr({c:j+i,r:f+n})]=_,d.e.c<j+i&&(d.e.c=j+i),j+=y}}++f}return m.length&&(e["!merges"]=(e["!merges"]||[]).concat(m)),d.e.r=Math.max(d.e.r,f-1+n),e["!ref"]=As(d),f>=c&&(e["!fullref"]=As((d.e.r=o.length-p+f-1+n,d))),e}function K$(e,r){var s=r||{},a=s.dense?[]:{};return q$(a,e,r)}function e5e(e,r){return Dd(K$(e,r),r)}function aE(e){var r="",s=t5e(e);return s&&(r=s(e).getPropertyValue("display")),r||(r=e.style&&e.style.display),r==="none"}function t5e(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var r5e=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),r="<office:document-styles "+E0({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return Ts+r}}(),nE=function(){var e=function(i){return xr(i).replace(/  +/g,function(l){return'<text:s text:c="'+l.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},r=`          <table:table-cell />
`,s=`          <table:covered-table-cell/>
`,a=function(i,l,o){var c=[];c.push('      <table:table table:name="'+xr(l.SheetNames[o])+`" table:style-name="ta1">
`);var d=0,u=0,m=Pn(i["!ref"]||"A1"),x=i["!merges"]||[],h=0,p=Array.isArray(i);if(i["!cols"])for(u=0;u<=m.e.c;++u)c.push("        <table:table-column"+(i["!cols"][u]?' table:style-name="co'+i["!cols"][u].ods+'"':"")+`></table:table-column>
`);var f="",b=i["!rows"]||[];for(d=0;d<m.s.r;++d)f=b[d]?' table:style-name="ro'+b[d].ods+'"':"",c.push("        <table:table-row"+f+`></table:table-row>
`);for(;d<=m.e.r;++d){for(f=b[d]?' table:style-name="ro'+b[d].ods+'"':"",c.push("        <table:table-row"+f+`>
`),u=0;u<m.s.c;++u)c.push(r);for(;u<=m.e.c;++u){var j=!1,w={},y="";for(h=0;h!=x.length;++h)if(!(x[h].s.c>u)&&!(x[h].s.r>d)&&!(x[h].e.c<u)&&!(x[h].e.r<d)){(x[h].s.c!=u||x[h].s.r!=d)&&(j=!0),w["table:number-columns-spanned"]=x[h].e.c-x[h].s.c+1,w["table:number-rows-spanned"]=x[h].e.r-x[h].s.r+1;break}if(j){c.push(s);continue}var v=fr({r:d,c:u}),N=p?(i[d]||[])[u]:i[v];if(N&&N.f&&(w["table:formula"]=xr(wNe(N.f)),N.F&&N.F.slice(0,v.length)==v)){var S=Pn(N.F);w["table:number-matrix-columns-spanned"]=S.e.c-S.s.c+1,w["table:number-matrix-rows-spanned"]=S.e.r-S.s.r+1}if(!N){c.push(r);continue}switch(N.t){case"b":y=N.v?"TRUE":"FALSE",w["office:value-type"]="boolean",w["office:boolean-value"]=N.v?"true":"false";break;case"n":y=N.w||String(N.v||0),w["office:value-type"]="float",w["office:value"]=N.v||0;break;case"s":case"str":y=N.v==null?"":N.v,w["office:value-type"]="string";break;case"d":y=N.w||Da(N.v).toISOString(),w["office:value-type"]="date",w["office:date-value"]=Da(N.v).toISOString(),w["table:style-name"]="ce1";break;default:c.push(r);continue}var k=e(y);if(N.l&&N.l.Target){var C=N.l.Target;C=C.charAt(0)=="#"?"#"+NNe(C.slice(1)):C,C.charAt(0)!="#"&&!C.match(/^\w+:/)&&(C="../"+C),k=st("text:a",k,{"xlink:href":C.replace(/&/g,"&amp;")})}c.push("          "+st("table:table-cell",st("text:p",k,{}),w)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},n=function(i,l){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var o=0;l.SheetNames.map(function(d){return l.Sheets[d]}).forEach(function(d){if(d&&d["!cols"]){for(var u=0;u<d["!cols"].length;++u)if(d["!cols"][u]){var m=d["!cols"][u];if(m.width==null&&m.wpx==null&&m.wch==null)continue;$5(m),m.ods=o;var x=d["!cols"][u].wpx+"px";i.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+x+`"/>
`),i.push(`  </style:style>
`),++o}}});var c=0;l.SheetNames.map(function(d){return l.Sheets[d]}).forEach(function(d){if(d&&d["!rows"]){for(var u=0;u<d["!rows"].length;++u)if(d["!rows"][u]){d["!rows"][u].ods=c;var m=d["!rows"][u].hpx+"px";i.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+m+`"/>
`),i.push(`  </style:style>
`),++c}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(l,o){var c=[Ts],d=E0({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),u=E0({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(c.push("<office:document"+d+u+`>
`),c.push(c$().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+d+`>
`),n(c,l),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var m=0;m!=l.SheetNames.length;++m)c.push(a(l.Sheets[l.SheetNames[m]],l,m));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),o.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}}();function Y$(e,r){if(r.bookType=="fods")return nE(e,r);var s=T5(),a="",n=[],i=[];return a="mimetype",Vt(s,a,"application/vnd.oasis.opendocument.spreadsheet"),a="content.xml",Vt(s,a,nE(e,r)),n.push([a,"text/xml"]),i.push([a,"ContentFile"]),a="styles.xml",Vt(s,a,r5e(e,r)),n.push([a,"text/xml"]),i.push([a,"StylesFile"]),a="meta.xml",Vt(s,a,Ts+c$()),n.push([a,"text/xml"]),i.push([a,"MetadataFile"]),a="manifest.rdf",Vt(s,a,x2e(i)),n.push([a,"application/rdf+xml"]),a="META-INF/manifest.xml",Vt(s,a,m2e(n)),s}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function ey(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function s5e(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):ji(T0(e))}function a5e(e,r){e:for(var s=0;s<=e.length-r.length;++s){for(var a=0;a<r.length;++a)if(e[s+a]!=r[a])continue e;return!0}return!1}function nc(e){var r=e.reduce(function(n,i){return n+i.length},0),s=new Uint8Array(r),a=0;return e.forEach(function(n){s.set(n,a),a+=n.length}),s}function n5e(e,r,s){var a=Math.floor(s==0?0:Math.LOG10E*Math.log(Math.abs(s)))+6176-20,n=s/Math.pow(10,a-6176);e[r+15]|=a>>7,e[r+14]|=(a&127)<<1;for(var i=0;n>=1;++i,n/=256)e[r+i]=n&255;e[r+15]|=s>=0?0:128}function I0(e,r){var s=r?r[0]:0,a=e[s]&127;e:if(e[s++]>=128&&(a|=(e[s]&127)<<7,e[s++]<128||(a|=(e[s]&127)<<14,e[s++]<128)||(a|=(e[s]&127)<<21,e[s++]<128)||(a+=(e[s]&127)*Math.pow(2,28),++s,e[s++]<128)||(a+=(e[s]&127)*Math.pow(2,35),++s,e[s++]<128)||(a+=(e[s]&127)*Math.pow(2,42),++s,e[s++]<128)))break e;return r&&(r[0]=s),a}function ur(e){var r=new Uint8Array(7);r[0]=e&127;var s=1;e:if(e>127){if(r[s-1]|=128,r[s]=e>>7&127,++s,e<=16383||(r[s-1]|=128,r[s]=e>>14&127,++s,e<=2097151)||(r[s-1]|=128,r[s]=e>>21&127,++s,e<=268435455)||(r[s-1]|=128,r[s]=e/256>>>21&127,++s,e<=34359738367)||(r[s-1]|=128,r[s]=e/65536>>>21&127,++s,e<=4398046511103))break e;r[s-1]|=128,r[s]=e/16777216>>>21&127,++s}return r.slice(0,s)}function Lu(e){var r=0,s=e[r]&127;e:if(e[r++]>=128){if(s|=(e[r]&127)<<7,e[r++]<128||(s|=(e[r]&127)<<14,e[r++]<128)||(s|=(e[r]&127)<<21,e[r++]<128))break e;s|=(e[r]&127)<<28}return s}function Es(e){for(var r=[],s=[0];s[0]<e.length;){var a=s[0],n=I0(e,s),i=n&7;n=Math.floor(n/8);var l=0,o;if(n==0)break;switch(i){case 0:{for(var c=s[0];e[s[0]++]>=128;);o=e.slice(c,s[0])}break;case 5:l=4,o=e.slice(s[0],s[0]+l),s[0]+=l;break;case 1:l=8,o=e.slice(s[0],s[0]+l),s[0]+=l;break;case 2:l=I0(e,s),o=e.slice(s[0],s[0]+l),s[0]+=l;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(n," at offset ").concat(a))}var d={data:o,type:i};r[n]==null?r[n]=[d]:r[n].push(d)}return r}function Js(e){var r=[];return e.forEach(function(s,a){s.forEach(function(n){n.data&&(r.push(ur(a*8+n.type)),n.type==2&&r.push(ur(n.data.length)),r.push(n.data))})}),nc(r)}function xi(e){for(var r,s=[],a=[0];a[0]<e.length;){var n=I0(e,a),i=Es(e.slice(a[0],a[0]+n));a[0]+=n;var l={id:Lu(i[1][0].data),messages:[]};i[2].forEach(function(o){var c=Es(o.data),d=Lu(c[3][0].data);l.messages.push({meta:c,data:e.slice(a[0],a[0]+d)}),a[0]+=d}),(r=i[3])!=null&&r[0]&&(l.merge=Lu(i[3][0].data)>>>0>0),s.push(l)}return s}function Kd(e){var r=[];return e.forEach(function(s){var a=[];a[1]=[{data:ur(s.id),type:0}],a[2]=[],s.merge!=null&&(a[3]=[{data:ur(+!!s.merge),type:0}]);var n=[];s.messages.forEach(function(l){n.push(l.data),l.meta[3]=[{type:0,data:ur(l.data.length)}],a[2].push({data:Js(l.meta),type:2})});var i=Js(a);r.push(ur(i.length)),r.push(i),n.forEach(function(l){return r.push(l)})}),nc(r)}function i5e(e,r){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var s=[0],a=I0(r,s),n=[];s[0]<r.length;){var i=r[s[0]]&3;if(i==0){var l=r[s[0]++]>>2;if(l<60)++l;else{var o=l-59;l=r[s[0]],o>1&&(l|=r[s[0]+1]<<8),o>2&&(l|=r[s[0]+2]<<16),o>3&&(l|=r[s[0]+3]<<24),l>>>=0,l++,s[0]+=o}n.push(r.slice(s[0],s[0]+l)),s[0]+=l;continue}else{var c=0,d=0;if(i==1?(d=(r[s[0]]>>2&7)+4,c=(r[s[0]++]&224)<<3,c|=r[s[0]++]):(d=(r[s[0]++]>>2)+1,i==2?(c=r[s[0]]|r[s[0]+1]<<8,s[0]+=2):(c=(r[s[0]]|r[s[0]+1]<<8|r[s[0]+2]<<16|r[s[0]+3]<<24)>>>0,s[0]+=4)),n=[nc(n)],c==0)throw new Error("Invalid offset 0");if(c>n[0].length)throw new Error("Invalid offset beyond length");if(d>=c)for(n.push(n[0].slice(-c)),d-=c;d>=n[n.length-1].length;)n.push(n[n.length-1]),d-=n[n.length-1].length;n.push(n[0].slice(-c,-c+d))}}var u=nc(n);if(u.length!=a)throw new Error("Unexpected length: ".concat(u.length," != ").concat(a));return u}function pi(e){for(var r=[],s=0;s<e.length;){var a=e[s++],n=e[s]|e[s+1]<<8|e[s+2]<<16;s+=3,r.push(i5e(a,e.slice(s,s+n))),s+=n}if(s!==e.length)throw new Error("data is not a valid framed stream!");return nc(r)}function Yd(e){for(var r=[],s=0;s<e.length;){var a=Math.min(e.length-s,268435455),n=new Uint8Array(4);r.push(n);var i=ur(a),l=i.length;r.push(i),a<=60?(l++,r.push(new Uint8Array([a-1<<2]))):a<=256?(l+=2,r.push(new Uint8Array([240,a-1&255]))):a<=65536?(l+=3,r.push(new Uint8Array([244,a-1&255,a-1>>8&255]))):a<=16777216?(l+=4,r.push(new Uint8Array([248,a-1&255,a-1>>8&255,a-1>>16&255]))):a<=4294967296&&(l+=5,r.push(new Uint8Array([252,a-1&255,a-1>>8&255,a-1>>16&255,a-1>>>24&255]))),r.push(e.slice(s,s+a)),l+=a,n[0]=0,n[1]=l&255,n[2]=l>>8&255,n[3]=l>>16&255,s+=a}return nc(r)}function U1(e,r){var s=new Uint8Array(32),a=ey(s),n=12,i=0;switch(s[0]=5,e.t){case"n":s[1]=2,n5e(s,n,e.v),i|=1,n+=16;break;case"b":s[1]=6,a.setFloat64(n,e.v?1:0,!0),i|=2,n+=8;break;case"s":if(r.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));s[1]=3,a.setUint32(n,r.indexOf(e.v),!0),i|=8,n+=4;break;default:throw"unsupported cell type "+e.t}return a.setUint32(8,i,!0),s.slice(0,n)}function H1(e,r){var s=new Uint8Array(32),a=ey(s),n=12,i=0;switch(s[0]=3,e.t){case"n":s[2]=2,a.setFloat64(n,e.v,!0),i|=32,n+=8;break;case"b":s[2]=6,a.setFloat64(n,e.v?1:0,!0),i|=32,n+=8;break;case"s":if(r.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));s[2]=3,a.setUint32(n,r.indexOf(e.v),!0),i|=16,n+=4;break;default:throw"unsupported cell type "+e.t}return a.setUint32(4,i,!0),s.slice(0,n)}function ho(e){var r=Es(e);return I0(r[1][0].data)}function l5e(e,r,s){var a,n,i,l;if(!((a=e[6])!=null&&a[0])||!((n=e[7])!=null&&n[0]))throw"Mutation only works on post-BNC storages!";var o=((l=(i=e[8])==null?void 0:i[0])==null?void 0:l.data)&&Lu(e[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var c=0,d=ey(e[7][0].data),u=0,m=[],x=ey(e[4][0].data),h=0,p=[],f=0;f<r.length;++f){if(r[f]==null){d.setUint16(f*2,65535,!0),x.setUint16(f*2,65535);continue}d.setUint16(f*2,u,!0),x.setUint16(f*2,h,!0);var b,j;switch(typeof r[f]){case"string":b=U1({t:"s",v:r[f]},s),j=H1({t:"s",v:r[f]},s);break;case"number":b=U1({t:"n",v:r[f]},s),j=H1({t:"n",v:r[f]},s);break;case"boolean":b=U1({t:"b",v:r[f]},s),j=H1({t:"b",v:r[f]},s);break;default:throw new Error("Unsupported value "+r[f])}m.push(b),u+=b.length,p.push(j),h+=j.length,++c}for(e[2][0].data=ur(c);f<e[7][0].data.length/2;++f)d.setUint16(f*2,65535,!0),x.setUint16(f*2,65535,!0);return e[6][0].data=nc(m),e[3][0].data=nc(p),c}function o5e(e,r){if(!r||!r.numbers)throw new Error("Must pass a `numbers` option -- check the README");var s=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var a=Pn(s["!ref"]);a.s.r=a.s.c=0;var n=!1;a.e.c>9&&(n=!0,a.e.c=9),a.e.r>49&&(n=!0,a.e.r=49),n&&console.error("The Numbers writer is currently limited to ".concat(As(a)));var i=ty(s,{range:a,header:1}),l=["~Sh33tJ5~"];i.forEach(function(K){return K.forEach(function(U){typeof U=="string"&&l.push(U)})});var o={},c=[],d=gr.read(r.numbers,{type:"base64"});d.FileIndex.map(function(K,U){return[K,d.FullPaths[U]]}).forEach(function(K){var U=K[0],ee=K[1];if(U.type==2&&U.name.match(/\.iwa/)){var M=U.content,H=pi(M),B=xi(H);B.forEach(function(Y){c.push(Y.id),o[Y.id]={deps:[],location:ee,type:Lu(Y.messages[0].meta[1][0].data)}})}}),c.sort(function(K,U){return K-U});var u=c.filter(function(K){return K>1}).map(function(K){return[K,ur(K)]});d.FileIndex.map(function(K,U){return[K,d.FullPaths[U]]}).forEach(function(K){var U=K[0];if(K[1],!!U.name.match(/\.iwa/)){var ee=xi(pi(U.content));ee.forEach(function(M){M.messages.forEach(function(H){u.forEach(function(B){M.messages.some(function(Y){return Lu(Y.meta[1][0].data)!=11006&&a5e(Y.data,B[1])})&&o[B[0]].deps.push(M.id)})})})}});for(var m=gr.find(d,o[1].location),x=xi(pi(m.content)),h,p=0;p<x.length;++p){var f=x[p];f.id==1&&(h=f)}var b=ho(Es(h.messages[0].data)[1][0].data);for(m=gr.find(d,o[b].location),x=xi(pi(m.content)),p=0;p<x.length;++p)f=x[p],f.id==b&&(h=f);for(b=ho(Es(h.messages[0].data)[2][0].data),m=gr.find(d,o[b].location),x=xi(pi(m.content)),p=0;p<x.length;++p)f=x[p],f.id==b&&(h=f);for(b=ho(Es(h.messages[0].data)[2][0].data),m=gr.find(d,o[b].location),x=xi(pi(m.content)),p=0;p<x.length;++p)f=x[p],f.id==b&&(h=f);var j=Es(h.messages[0].data);{j[6][0].data=ur(a.e.r+1),j[7][0].data=ur(a.e.c+1);var w=ho(j[46][0].data),y=gr.find(d,o[w].location),v=xi(pi(y.content));{for(var N=0;N<v.length&&v[N].id!=w;++N);if(v[N].id!=w)throw"Bad ColumnRowUIDMapArchive";var S=Es(v[N].messages[0].data);S[1]=[],S[2]=[],S[3]=[];for(var k=0;k<=a.e.c;++k){var C=[];C[1]=C[2]=[{type:0,data:ur(k+420690)}],S[1].push({type:2,data:Js(C)}),S[2].push({type:0,data:ur(k)}),S[3].push({type:0,data:ur(k)})}S[4]=[],S[5]=[],S[6]=[];for(var P=0;P<=a.e.r;++P)C=[],C[1]=C[2]=[{type:0,data:ur(P+726270)}],S[4].push({type:2,data:Js(C)}),S[5].push({type:0,data:ur(P)}),S[6].push({type:0,data:ur(P)});v[N].messages[0].data=Js(S)}y.content=Yd(Kd(v)),y.size=y.content.length,delete j[46];var _=Es(j[4][0].data);{_[7][0].data=ur(a.e.r+1);var A=Es(_[1][0].data),D=ho(A[2][0].data);y=gr.find(d,o[D].location),v=xi(pi(y.content));{if(v[0].id!=D)throw"Bad HeaderStorageBucket";var F=Es(v[0].messages[0].data);for(P=0;P<i.length;++P){var X=Es(F[2][0].data);X[1][0].data=ur(P),X[4][0].data=ur(i[P].length),F[2][P]={type:F[2][0].type,data:Js(X)}}v[0].messages[0].data=Js(F)}y.content=Yd(Kd(v)),y.size=y.content.length;var ce=ho(_[2][0].data);y=gr.find(d,o[ce].location),v=xi(pi(y.content));{if(v[0].id!=ce)throw"Bad HeaderStorageBucket";for(F=Es(v[0].messages[0].data),k=0;k<=a.e.c;++k)X=Es(F[2][0].data),X[1][0].data=ur(k),X[4][0].data=ur(a.e.r+1),F[2][k]={type:F[2][0].type,data:Js(X)};v[0].messages[0].data=Js(F)}y.content=Yd(Kd(v)),y.size=y.content.length;var he=ho(_[4][0].data);(function(){for(var K=gr.find(d,o[he].location),U=xi(pi(K.content)),ee,M=0;M<U.length;++M){var H=U[M];H.id==he&&(ee=H)}var B=Es(ee.messages[0].data);{B[3]=[];var Y=[];l.forEach(function(de,Ge){Y[1]=[{type:0,data:ur(Ge)}],Y[2]=[{type:0,data:ur(1)}],Y[3]=[{type:2,data:s5e(de)}],B[3].push({type:2,data:Js(Y)})})}ee.messages[0].data=Js(B);var ie=Kd(U),me=Yd(ie);K.content=me,K.size=K.content.length})();var L=Es(_[3][0].data);{var q=L[1][0];delete L[2];var se=Es(q.data);{var R=ho(se[2][0].data);(function(){for(var K=gr.find(d,o[R].location),U=xi(pi(K.content)),ee,M=0;M<U.length;++M){var H=U[M];H.id==R&&(ee=H)}var B=Es(ee.messages[0].data);{delete B[6],delete L[7];var Y=new Uint8Array(B[5][0].data);B[5]=[];for(var ie=0,me=0;me<=a.e.r;++me){var de=Es(Y);ie+=l5e(de,i[me],l),de[1][0].data=ur(me),B[5].push({data:Js(de),type:2})}B[1]=[{type:0,data:ur(a.e.c+1)}],B[2]=[{type:0,data:ur(a.e.r+1)}],B[3]=[{type:0,data:ur(ie)}],B[4]=[{type:0,data:ur(a.e.r+1)}]}ee.messages[0].data=Js(B);var Ge=Kd(U),Me=Yd(Ge);K.content=Me,K.size=K.content.length})()}q.data=Js(se)}_[3][0].data=Js(L)}j[4][0].data=Js(_)}h.messages[0].data=Js(j);var T=Kd(x),O=Yd(T);return m.content=O,m.size=m.content.length,d}function c5e(e){return function(s){for(var a=0;a!=e.length;++a){var n=e[a];s[n[0]]===void 0&&(s[n[0]]=n[1]),n[2]==="n"&&(s[n[0]]=Number(s[n[0]]))}}}function W5(e){c5e([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function d5e(e,r){return r.bookType=="ods"?Y$(e,r):r.bookType=="numbers"?o5e(e,r):r.bookType=="xlsb"?u5e(e,r):m5e(e,r)}function u5e(e,r){gu=1024,e&&!e.SSF&&(e.SSF=sn(is)),e&&e.SSF&&(Yb(),Kb(e.SSF),r.revssf=Xb(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.rels={},r.wbrels={},r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,Fh?r.revStrings=new Map:(r.revStrings={},r.revStrings.foo=[],delete r.revStrings.foo);var s=r.bookType=="xlsb"?"bin":"xml",a=I$.indexOf(r.bookType)>-1,n=i$();W5(r=r||{});var i=T5(),l="",o=0;if(r.cellXfs=[],xc(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),l="docProps/core.xml",Vt(i,l,d$(e.Props,r)),n.coreprops.push(l),mr(r.rels,2,l,nr.CORE_PROPS),l="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],d=0;d<e.SheetNames.length;++d)(e.Workbook.Sheets[d]||{}).Hidden!=2&&c.push(e.SheetNames[d]);e.Props.SheetNames=c}for(e.Props.Worksheets=e.Props.SheetNames.length,Vt(i,l,m$(e.Props)),n.extprops.push(l),mr(r.rels,3,l,nr.EXT_PROPS),e.Custprops!==e.Props&&ia(e.Custprops||{}).length>0&&(l="docProps/custom.xml",Vt(i,l,h$(e.Custprops)),n.custprops.push(l),mr(r.rels,4,l,nr.CUST_PROPS)),o=1;o<=e.SheetNames.length;++o){var u={"!id":{}},m=e.Sheets[e.SheetNames[o-1]],x=(m||{})["!type"]||"sheet";switch(x){case"chart":default:l="xl/worksheets/sheet"+o+"."+s,Vt(i,l,x3e(o-1,l,r,e,u)),n.sheets.push(l),mr(r.wbrels,-1,"worksheets/sheet"+o+"."+s,nr.WS[0])}if(m){var h=m["!comments"],p=!1,f="";h&&h.length>0&&(f="xl/comments"+o+"."+s,Vt(i,f,g3e(h,f)),n.comments.push(f),mr(u,-1,"../comments"+o+"."+s,nr.CMNT),p=!0),m["!legacy"]&&p&&Vt(i,"xl/drawings/vmlDrawing"+o+".vml",T$(o,m["!comments"])),delete m["!comments"],delete m["!legacy"]}u["!id"].rId1&&Vt(i,o$(l),Du(u))}return r.Strings!=null&&r.Strings.length>0&&(l="xl/sharedStrings."+s,Vt(i,l,f3e(r.Strings,l,r)),n.strs.push(l),mr(r.wbrels,-1,"sharedStrings."+s,nr.SST)),l="xl/workbook."+s,Vt(i,l,h3e(e,l)),n.workbooks.push(l),mr(r.rels,1,l,nr.WB),l="xl/theme/theme1.xml",Vt(i,l,P$(e.Themes,r)),n.themes.push(l),mr(r.wbrels,-1,"theme/theme1.xml",nr.THEME),l="xl/styles."+s,Vt(i,l,p3e(e,l,r)),n.styles.push(l),mr(r.wbrels,-1,"styles."+s,nr.STY),e.vbaraw&&a&&(l="xl/vbaProject.bin",Vt(i,l,e.vbaraw),n.vba.push(l),mr(r.wbrels,-1,"vbaProject.bin",nr.VBA)),l="xl/metadata."+s,Vt(i,l,y3e(l)),n.metadata.push(l),mr(r.wbrels,-1,"metadata."+s,nr.XLMETA),Vt(i,"[Content_Types].xml",l$(n,r)),Vt(i,"_rels/.rels",Du(r.rels)),Vt(i,"xl/_rels/workbook."+s+".rels",Du(r.wbrels)),delete r.revssf,delete r.ssf,i}function m5e(e,r){gu=1024,e&&!e.SSF&&(e.SSF=sn(is)),e&&e.SSF&&(Yb(),Kb(e.SSF),r.revssf=Xb(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.rels={},r.wbrels={},r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,Fh?r.revStrings=new Map:(r.revStrings={},r.revStrings.foo=[],delete r.revStrings.foo);var s="xml",a=I$.indexOf(r.bookType)>-1,n=i$();W5(r=r||{});var i=T5(),l="",o=0;if(r.cellXfs=[],xc(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),l="docProps/core.xml",Vt(i,l,d$(e.Props,r)),n.coreprops.push(l),mr(r.rels,2,l,nr.CORE_PROPS),l="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],d=0;d<e.SheetNames.length;++d)(e.Workbook.Sheets[d]||{}).Hidden!=2&&c.push(e.SheetNames[d]);e.Props.SheetNames=c}e.Props.Worksheets=e.Props.SheetNames.length,Vt(i,l,m$(e.Props)),n.extprops.push(l),mr(r.rels,3,l,nr.EXT_PROPS),e.Custprops!==e.Props&&ia(e.Custprops||{}).length>0&&(l="docProps/custom.xml",Vt(i,l,h$(e.Custprops)),n.custprops.push(l),mr(r.rels,4,l,nr.CUST_PROPS));var u=["SheetJ5"];for(r.tcid=0,o=1;o<=e.SheetNames.length;++o){var m={"!id":{}},x=e.Sheets[e.SheetNames[o-1]],h=(x||{})["!type"]||"sheet";switch(h){case"chart":default:l="xl/worksheets/sheet"+o+"."+s,Vt(i,l,$$(o-1,r,e,m)),n.sheets.push(l),mr(r.wbrels,-1,"worksheets/sheet"+o+"."+s,nr.WS[0])}if(x){var p=x["!comments"],f=!1,b="";if(p&&p.length>0){var j=!1;p.forEach(function(w){w[1].forEach(function(y){y.T==!0&&(j=!0)})}),j&&(b="xl/threadedComments/threadedComment"+o+"."+s,Vt(i,b,Hje(p,u,r)),n.threadedcomments.push(b),mr(m,-1,"../threadedComments/threadedComment"+o+"."+s,nr.TCMNT)),b="xl/comments"+o+"."+s,Vt(i,b,E$(p)),n.comments.push(b),mr(m,-1,"../comments"+o+"."+s,nr.CMNT),f=!0}x["!legacy"]&&f&&Vt(i,"xl/drawings/vmlDrawing"+o+".vml",T$(o,x["!comments"])),delete x["!comments"],delete x["!legacy"]}m["!id"].rId1&&Vt(i,o$(l),Du(m))}return r.Strings!=null&&r.Strings.length>0&&(l="xl/sharedStrings."+s,Vt(i,l,j$(r.Strings,r)),n.strs.push(l),mr(r.wbrels,-1,"sharedStrings."+s,nr.SST)),l="xl/workbook."+s,Vt(i,l,H$(e)),n.workbooks.push(l),mr(r.rels,1,l,nr.WB),l="xl/theme/theme1.xml",Vt(i,l,P$(e.Themes,r)),n.themes.push(l),mr(r.wbrels,-1,"theme/theme1.xml",nr.THEME),l="xl/styles."+s,Vt(i,l,k$(e,r)),n.styles.push(l),mr(r.wbrels,-1,"styles."+s,nr.STY),e.vbaraw&&a&&(l="xl/vbaProject.bin",Vt(i,l,e.vbaraw),n.vba.push(l),mr(r.wbrels,-1,"vbaProject.bin",nr.VBA)),l="xl/metadata."+s,Vt(i,l,A$()),n.metadata.push(l),mr(r.wbrels,-1,"metadata."+s,nr.XLMETA),u.length>1&&(l="xl/persons/person.xml",Vt(i,l,Vje(u)),n.people.push(l),mr(r.wbrels,-1,"persons/person.xml",nr.PEOPLE)),Vt(i,"[Content_Types].xml",l$(n,r)),Vt(i,"_rels/.rels",Du(r.rels)),Vt(i,"xl/_rels/workbook."+s+".rels",Du(r.wbrels)),delete r.revssf,delete r.ssf,i}function h5e(e,r){var s="";switch((r||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":s=Kl(e.slice(0,12));break;case"binary":s=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(r&&r.type||"undefined"))}return[s.charCodeAt(0),s.charCodeAt(1),s.charCodeAt(2),s.charCodeAt(3),s.charCodeAt(4),s.charCodeAt(5),s.charCodeAt(6),s.charCodeAt(7)]}function X$(e,r){switch(r.type){case"base64":case"binary":break;case"buffer":case"array":r.type="";break;case"file":return vx(r.file,gr.write(e,{type:or?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+r.bookType+"' files");default:throw new Error("Unrecognized type "+r.type)}return gr.write(e,r)}function x5e(e,r){var s=sn(r||{}),a=d5e(e,s);return p5e(a,s)}function p5e(e,r){var s={},a=or?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(r.compression&&(s.compression="DEFLATE"),r.password)s.type=a;else switch(r.type){case"base64":s.type="base64";break;case"binary":s.type="string";break;case"string":throw new Error("'string' output type invalid for '"+r.bookType+"' files");case"buffer":case"file":s.type=a;break;default:throw new Error("Unrecognized type "+r.type)}var n=e.FullPaths?gr.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[s.type]||s.type,compression:!!r.compression}):e.generate(s);if(typeof Deno<"u"&&typeof n=="string"){if(r.type=="binary"||r.type=="base64")return n;n=new Uint8Array(qb(n))}return r.password&&typeof encrypt_agile<"u"?X$(encrypt_agile(n,r.password),r):r.type==="file"?vx(r.file,n):r.type=="string"?Oh(n):n}function f5e(e,r){var s=r||{},a=_3e(e,s);return X$(a,s)}function Ri(e,r,s){s||(s="");var a=s+e;switch(r.type){case"base64":return P0(T0(a));case"binary":return T0(a);case"string":return e;case"file":return vx(r.file,a,"utf8");case"buffer":return or?lo(a,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(a):Ri(a,{type:"binary"}).split("").map(function(n){return n.charCodeAt(0)})}throw new Error("Unrecognized type "+r.type)}function g5e(e,r){switch(r.type){case"base64":return P0(e);case"binary":return e;case"string":return e;case"file":return vx(r.file,e,"binary");case"buffer":return or?lo(e,"binary"):e.split("").map(function(s){return s.charCodeAt(0)})}throw new Error("Unrecognized type "+r.type)}function Cp(e,r){switch(r.type){case"string":case"base64":case"binary":for(var s="",a=0;a<e.length;++a)s+=String.fromCharCode(e[a]);return r.type=="base64"?P0(s):r.type=="string"?Oh(s):s;case"file":return vx(r.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+r.type)}}function J$(e,r){Wve(),r3e(e);var s=sn(r||{});if(s.cellStyles&&(s.cellNF=!0,s.sheetStubs=!0),s.type=="array"){s.type="binary";var a=J$(e,s);return s.type="array",qb(a)}var n=0;if(s.sheet&&(typeof s.sheet=="number"?n=s.sheet:n=e.SheetNames.indexOf(s.sheet),!e.SheetNames[n]))throw new Error("Sheet not found: "+s.sheet+" : "+typeof s.sheet);switch(s.bookType||"xlsb"){case"xml":case"xlml":return Ri(E3e(e,s),s);case"slk":case"sylk":return Ri(Z2e.from_sheet(e.Sheets[e.SheetNames[n]],s),s);case"htm":case"html":return Ri(G$(e.Sheets[e.SheetNames[n]],s),s);case"txt":return g5e(Z$(e.Sheets[e.SheetNames[n]],s),s);case"csv":return Ri(G5(e.Sheets[e.SheetNames[n]],s),s,"\uFEFF");case"dif":return Ri(eje.from_sheet(e.Sheets[e.SheetNames[n]],s),s);case"dbf":return Cp(Q2e.from_sheet(e.Sheets[e.SheetNames[n]],s),s);case"prn":return Ri(tje.from_sheet(e.Sheets[e.SheetNames[n]],s),s);case"rtf":return Ri(oje.from_sheet(e.Sheets[e.SheetNames[n]],s),s);case"eth":return Ri(v$.from_sheet(e.Sheets[e.SheetNames[n]],s),s);case"fods":return Ri(Y$(e,s),s);case"wk1":return Cp(QT.sheet_to_wk1(e.Sheets[e.SheetNames[n]],s),s);case"wk3":return Cp(QT.book_to_wk3(e,s),s);case"biff2":s.biff||(s.biff=2);case"biff3":s.biff||(s.biff=3);case"biff4":return s.biff||(s.biff=4),Cp(W$(e,s),s);case"biff5":s.biff||(s.biff=5);case"biff8":case"xla":case"xls":return s.biff||(s.biff=8),f5e(e,s);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return x5e(e,s);default:throw new Error("Unrecognized bookType |"+s.bookType+"|")}}function y5e(e){if(!e.bookType){var r={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},s=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();s.match(/^\.[a-z]+$/)&&(e.bookType=s.slice(1)),e.bookType=r[e.bookType]||e.bookType}}function Q$(e,r,s){var a={};return a.type="file",a.file=r,y5e(a),J$(e,a)}function b5e(e,r,s,a,n,i,l,o){var c=aa(s),d=o.defval,u=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),m=!0,x=n===1?[]:{};if(n!==1)if(Object.defineProperty)try{Object.defineProperty(x,"__rowNum__",{value:s,enumerable:!1})}catch{x.__rowNum__=s}else x.__rowNum__=s;if(!l||e[s])for(var h=r.s.c;h<=r.e.c;++h){var p=l?e[s][h]:e[a[h]+c];if(p===void 0||p.t===void 0){if(d===void 0)continue;i[h]!=null&&(x[i[h]]=d);continue}var f=p.v;switch(p.t){case"z":if(f==null)break;continue;case"e":f=f==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+p.t)}if(i[h]!=null){if(f==null)if(p.t=="e"&&f===null)x[i[h]]=null;else if(d!==void 0)x[i[h]]=d;else if(u&&f===null)x[i[h]]=null;else continue;else x[i[h]]=u&&(p.t!=="n"||p.t==="n"&&o.rawNumbers!==!1)?f:Yl(p,f,o);f!=null&&(m=!1)}}return{row:x,isempty:m}}function ty(e,r){if(e==null||e["!ref"]==null)return[];var s={t:"n",v:0},a=0,n=1,i=[],l=0,o="",c={s:{r:0,c:0},e:{r:0,c:0}},d=r||{},u=d.range!=null?d.range:e["!ref"];switch(d.header===1?a=1:d.header==="A"?a=2:Array.isArray(d.header)?a=3:d.header==null&&(a=0),typeof u){case"string":c=Rr(u);break;case"number":c=Rr(e["!ref"]),c.s.r=u;break;default:c=u}a>0&&(n=0);var m=aa(c.s.r),x=[],h=[],p=0,f=0,b=Array.isArray(e),j=c.s.r,w=0,y={};b&&!e[j]&&(e[j]=[]);var v=d.skipHidden&&e["!cols"]||[],N=d.skipHidden&&e["!rows"]||[];for(w=c.s.c;w<=c.e.c;++w)if(!(v[w]||{}).hidden)switch(x[w]=ba(w),s=b?e[j][w]:e[x[w]+m],a){case 1:i[w]=w-c.s.c;break;case 2:i[w]=x[w];break;case 3:i[w]=d.header[w-c.s.c];break;default:if(s==null&&(s={w:"__EMPTY",t:"s"}),o=l=Yl(s,null,d),f=y[l]||0,!f)y[l]=1;else{do o=l+"_"+f++;while(y[o]);y[l]=f,y[o]=1}i[w]=o}for(j=c.s.r+n;j<=c.e.r;++j)if(!(N[j]||{}).hidden){var S=b5e(e,c,j,x,a,i,b,d);(S.isempty===!1||(a===1?d.blankrows!==!1:d.blankrows))&&(h[p++]=S.row)}return h.length=p,h}var iE=/"/g;function v5e(e,r,s,a,n,i,l,o){for(var c=!0,d=[],u="",m=aa(s),x=r.s.c;x<=r.e.c;++x)if(a[x]){var h=o.dense?(e[s]||[])[x]:e[a[x]+m];if(h==null)u="";else if(h.v!=null){c=!1,u=""+(o.rawNumbers&&h.t=="n"?h.v:Yl(h,null,o));for(var p=0,f=0;p!==u.length;++p)if((f=u.charCodeAt(p))===n||f===i||f===34||o.forceQuotes){u='"'+u.replace(iE,'""')+'"';break}u=="ID"&&(u='"ID"')}else h.f!=null&&!h.F?(c=!1,u="="+h.f,u.indexOf(",")>=0&&(u='"'+u.replace(iE,'""')+'"')):u="";d.push(u)}return o.blankrows===!1&&c?null:d.join(l)}function G5(e,r){var s=[],a=r??{};if(e==null||e["!ref"]==null)return"";var n=Rr(e["!ref"]),i=a.FS!==void 0?a.FS:",",l=i.charCodeAt(0),o=a.RS!==void 0?a.RS:`
`,c=o.charCodeAt(0),d=new RegExp((i=="|"?"\\|":i)+"+$"),u="",m=[];a.dense=Array.isArray(e);for(var x=a.skipHidden&&e["!cols"]||[],h=a.skipHidden&&e["!rows"]||[],p=n.s.c;p<=n.e.c;++p)(x[p]||{}).hidden||(m[p]=ba(p));for(var f=0,b=n.s.r;b<=n.e.r;++b)(h[b]||{}).hidden||(u=v5e(e,n,b,m,l,c,i,a),u!=null&&(a.strip&&(u=u.replace(d,"")),(u||a.blankrows!==!1)&&s.push((f++?o:"")+u)));return delete a.dense,s.join("")}function Z$(e,r){r||(r={}),r.FS="	",r.RS=`
`;var s=G5(e,r);return s}function j5e(e){var r="",s,a="";if(e==null||e["!ref"]==null)return[];var n=Rr(e["!ref"]),i="",l=[],o,c=[],d=Array.isArray(e);for(o=n.s.c;o<=n.e.c;++o)l[o]=ba(o);for(var u=n.s.r;u<=n.e.r;++u)for(i=aa(u),o=n.s.c;o<=n.e.c;++o)if(r=l[o]+i,s=d?(e[u]||[])[o]:e[r],a="",s!==void 0){if(s.F!=null){if(r=s.F,!s.f)continue;a=s.f,r.indexOf(":")==-1&&(r=r+":"+r)}if(s.f!=null)a=s.f;else{if(s.t=="z")continue;if(s.t=="n"&&s.v!=null)a=""+s.v;else if(s.t=="b")a=s.v?"TRUE":"FALSE";else if(s.w!==void 0)a="'"+s.w;else{if(s.v===void 0)continue;s.t=="s"?a="'"+s.v:a=""+s.v}}c[c.length]=r+"="+a}return c}function ez(e,r,s){var a=s||{},n=+!a.skipHeader,i=e||{},l=0,o=0;if(i&&a.origin!=null)if(typeof a.origin=="number")l=a.origin;else{var c=typeof a.origin=="string"?Ws(a.origin):a.origin;l=c.r,o=c.c}var d,u={s:{c:0,r:0},e:{c:o,r:l+r.length-1+n}};if(i["!ref"]){var m=Rr(i["!ref"]);u.e.c=Math.max(u.e.c,m.e.c),u.e.r=Math.max(u.e.r,m.e.r),l==-1&&(l=m.e.r+1,u.e.r=l+r.length-1+n)}else l==-1&&(l=0,u.e.r=r.length-1+n);var x=a.header||[],h=0;r.forEach(function(f,b){ia(f).forEach(function(j){(h=x.indexOf(j))==-1&&(x[h=x.length]=j);var w=f[j],y="z",v="",N=fr({c:o+h,r:l+b+n});d=_0(i,N),w&&typeof w=="object"&&!(w instanceof Date)?i[N]=w:(typeof w=="number"?y="n":typeof w=="boolean"?y="b":typeof w=="string"?y="s":w instanceof Date?(y="d",a.cellDates||(y="n",w=rn(w)),v=a.dateNF||is[14]):w===null&&a.nullError&&(y="e",w=0),d?(d.t=y,d.v=w,delete d.w,delete d.R,v&&(d.z=v)):i[N]=d={t:y,v:w},v&&(d.z=v))})}),u.e.c=Math.max(u.e.c,o+x.length-1);var p=aa(l);if(n)for(h=0;h<x.length;++h)i[ba(h+o)+p]={t:"s",v:x[h]};return i["!ref"]=As(u),i}function w5e(e,r){return ez(null,e,r)}function _0(e,r,s){if(typeof r=="string"){if(Array.isArray(e)){var a=Ws(r);return e[a.r]||(e[a.r]=[]),e[a.r][a.c]||(e[a.r][a.c]={t:"z"})}return e[r]||(e[r]={t:"z"})}return typeof r!="number"?_0(e,fr(r)):_0(e,fr({r,c:s||0}))}function N5e(e,r){if(typeof r=="number"){if(r>=0&&e.SheetNames.length>r)return r;throw new Error("Cannot find sheet # "+r)}else if(typeof r=="string"){var s=e.SheetNames.indexOf(r);if(s>-1)return s;throw new Error("Cannot find sheet name |"+r+"|")}else throw new Error("Cannot find sheet |"+r+"|")}function S5e(){return{SheetNames:[],Sheets:{}}}function k5e(e,r,s,a){var n=1;if(!s)for(;n<=65535&&e.SheetNames.indexOf(s="Sheet"+n)!=-1;++n,s=void 0);if(!s||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(a&&e.SheetNames.indexOf(s)>=0){var i=s.match(/(^.*?)(\d+)$/);n=i&&+i[2]||0;var l=i&&i[1]||s;for(++n;n<=65535&&e.SheetNames.indexOf(s=l+n)!=-1;++n);}if(U$(s),e.SheetNames.indexOf(s)>=0)throw new Error("Worksheet with name |"+s+"| already exists!");return e.SheetNames.push(s),e.Sheets[s]=r,s}function C5e(e,r,s){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var a=N5e(e,r);switch(e.Workbook.Sheets[a]||(e.Workbook.Sheets[a]={}),s){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+s)}e.Workbook.Sheets[a].Hidden=s}function P5e(e,r){return e.z=r,e}function tz(e,r,s){return r?(e.l={Target:r},s&&(e.l.Tooltip=s)):delete e.l,e}function A5e(e,r,s){return tz(e,"#"+r,s)}function T5e(e,r,s){e.c||(e.c=[]),e.c.push({t:r,a:s||"SheetJS"})}function E5e(e,r,s,a){for(var n=typeof r!="string"?r:Rr(r),i=typeof r=="string"?r:As(r),l=n.s.r;l<=n.e.r;++l)for(var o=n.s.c;o<=n.e.c;++o){var c=_0(e,l,o);c.t="n",c.F=i,delete c.v,l==n.s.r&&o==n.s.c&&(c.f=s,a&&(c.D=!0))}return e}var Fu={encode_col:ba,encode_row:aa,encode_cell:fr,encode_range:As,decode_col:M5,decode_row:D5,split_cell:W1e,decode_cell:Ws,decode_range:Pn,format_cell:Yl,sheet_add_aoa:e$,sheet_add_json:ez,sheet_add_dom:q$,aoa_to_sheet:Im,json_to_sheet:w5e,table_to_sheet:K$,table_to_book:e5e,sheet_to_csv:G5,sheet_to_txt:Z$,sheet_to_json:ty,sheet_to_html:G$,sheet_to_formulae:j5e,sheet_to_row_object_array:ty,sheet_get_cell:_0,book_new:S5e,book_append_sheet:k5e,book_set_sheet_visibility:C5e,cell_set_number_format:P5e,cell_set_hyperlink:tz,cell_set_internal_link:A5e,cell_add_comment:T5e,sheet_set_array_formula:E5e,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const Ia=({columns:e,data:r,emptyLabel:s="No records found",renderActions:a})=>t.jsx("div",{className:"overflow-hidden rounded-2xl border border-slate-200 shadow-sm bg-white",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[t.jsx("thead",{className:"bg-slate-50",children:t.jsxs("tr",{children:[e.map(n=>t.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-slate-500",children:n.header},n.key??n.accessor)),a&&t.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-slate-500",children:"Actions"})]})}),t.jsxs("tbody",{className:"divide-y divide-slate-100",children:[r.length===0&&t.jsx("tr",{children:t.jsx("td",{colSpan:e.length+(a?1:0),className:"px-4 py-6 text-center text-sm text-slate-400",children:s})}),r.map((n,i)=>t.jsxs("tr",{children:[e.map(l=>t.jsx("td",{className:"px-4 py-4 text-sm text-slate-700",children:typeof l.render=="function"?l.render(n[l.accessor],n):n[l.accessor]},l.key??l.accessor)),a&&t.jsx("td",{className:"px-4 py-4 text-sm text-slate-500",children:a(n)})]},n.id??n._id??`row-${i}`))]})]})})}),Bd=(e,r,s,a="Sheet1",n={})=>{if(!e||e.length===0){alert("No data to export");return}try{const i=e.map(u=>{const m={};return r.forEach(x=>{const h=x.accessor||x.key;let p=u[h];p==null?p="N/A":typeof p=="object"&&p!==null?p instanceof Date?p=p.toLocaleString("en-IN"):p=JSON.stringify(p):typeof p=="string"&&p.includes("")&&(p=p.replace(/[,]/g,"")),x.excelFormatter&&typeof x.excelFormatter=="function"&&(p=x.excelFormatter(p,u)),m[x.header]=p}),m}),l=Fu.json_to_sheet(i),o=Fu.book_new();Fu.book_append_sheet(o,l,a),n.columnWidths&&Array.isArray(n.columnWidths)?l["!cols"]=n.columnWidths.map(u=>({wch:u})):l["!cols"]=r.map(()=>({wch:50}));const c=new Date().toISOString().split("T")[0].replace(/-/g,"_"),d=`${s}_${c}.xlsx`;Q$(o,d)}catch(i){console.error("Excel export error:",i),alert("Failed to export data. Please try again.")}},I5e=[{header:"Partner",accessor:"partnerName"},{header:"Txn ID",accessor:"transactionId"},{header:"Type",accessor:"type"},{header:"Amount",accessor:"amount"},{header:"Balance",accessor:"balance"},{header:"Initiated By",accessor:"initiatedBy"}],_5e=[{header:"Name",accessor:"name"},{header:"Phone",accessor:"phone"},{header:"Email",accessor:"email"},{header:"Partner",accessor:"partnerName"},{header:"Role",accessor:"role"},{header:"Status",accessor:"status"},{header:"Joined Date",accessor:"joinedDate"}],O5e=({token:e})=>{const[r,s]=g.useState([]),[a,n]=g.useState(!0),[i,l]=g.useState(null);if(g.useEffect(()=>{if(!e)return;(async()=>{n(!0),l(null);try{const d=await He.fetchTeamMembers(e,{status:"all"}),u=(d==null?void 0:d.data)||(d==null?void 0:d.teamMembers)||[];s(Array.isArray(u)?u:[])}catch(d){console.error("Fetch team members error:",d),l(d.message||"Failed to fetch team members"),s([])}finally{n(!1)}})()},[e]),a)return t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-12 text-center",children:[t.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-primary mb-4"}),t.jsx("p",{className:"text-slate-500",children:"Loading team members..."})]});if(i)return t.jsx("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6",children:t.jsx("p",{className:"text-rose-500 text-sm",children:i})});const o=r.map(c=>{var d,u,m,x,h;return{id:c._id,name:c.name||"N/A",phone:c.phone||"N/A",email:c.email||"N/A",partnerName:((u=(d=c.partner)==null?void 0:d.profile)==null?void 0:u.name)||((x=(m=c.partner)==null?void 0:m.Profile)==null?void 0:x.name)||((h=c.partner)==null?void 0:h.name)||"N/A",role:c.role?c.role.charAt(0).toUpperCase()+c.role.slice(1):"N/A",status:c.status?c.status.charAt(0).toUpperCase()+c.status.slice(1):"N/A",joinedDate:c.joinedDate?new Date(c.joinedDate).toLocaleDateString("en-IN"):"N/A"}});return t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:"flex items-center justify-end",children:r.length>0&&t.jsxs("button",{onClick:()=>{const c=r.map(d=>{var u,m,x,h,p,f,b,j;return{Name:d.name||"N/A",Phone:d.phone||"N/A",Email:d.email||"N/A","Partner Name":((m=(u=d.partner)==null?void 0:u.profile)==null?void 0:m.name)||((h=(x=d.partner)==null?void 0:x.Profile)==null?void 0:h.name)||((p=d.partner)==null?void 0:p.name)||"N/A","Partner Phone":((f=d.partner)==null?void 0:f.phone)||((j=(b=d.partner)==null?void 0:b.Profile)==null?void 0:j.phone)||"N/A",Role:d.role?d.role.charAt(0).toUpperCase()+d.role.slice(1):"N/A",Status:d.status?d.status.charAt(0).toUpperCase()+d.status.slice(1):"N/A",Qualification:d.qualification||"N/A",Experience:d.experience||"N/A",City:d.city||"N/A","Joined Date":d.joinedDate?new Date(d.joinedDate).toLocaleDateString("en-IN"):"N/A"}});Bd(c,[{header:"Name",accessor:"Name"},{header:"Phone",accessor:"Phone"},{header:"Email",accessor:"Email"},{header:"Partner Name",accessor:"Partner Name"},{header:"Partner Phone",accessor:"Partner Phone"},{header:"Role",accessor:"Role"},{header:"Status",accessor:"Status"},{header:"Qualification",accessor:"Qualification"},{header:"Experience",accessor:"Experience"},{header:"City",accessor:"City"},{header:"Joined Date",accessor:"Joined Date"}],"Team_Members_List","Team Members",{columnWidths:[20,15,25,25,15,15,12,20,15,15,15]})},disabled:r.length===0,className:"text-xs font-semibold text-primary hover:text-primary-dark disabled:opacity-50 disabled:cursor-not-allowed inline-flex items-center gap-2 transition px-3 py-1.5 border border-primary rounded-lg hover:bg-primary/10",title:"Export Team Members to Excel",children:[t.jsx(kn,{className:"w-4 h-4"}),"Export Team Members"]})}),t.jsx(Ia,{columns:_5e,data:o,emptyLabel:"No team members found."})]})},D5e=()=>{const{token:e}=wr(),r=Qt(),[s,a]=g.useState(""),[n,i]=g.useState(1),[l]=g.useState(10),[o,c]=g.useState(""),[d,u]=g.useState(null),[m,x]=g.useState(!1),[h,p]=g.useState(null),[f,b]=g.useState([]),[j,w]=g.useState(!1),[y,v]=g.useState({totalRegistrationFees:0,totalSecurityDeposit:0,totalToolkitFees:0,totalMGPlanRevenue:0,totalPartnerEarnings:0,totalRevenue:0});g.useEffect(()=>{if(!e)return;const R=async()=>{x(!0),p(null);try{const O=await He.fetchPartners(e,{page:n,limit:l,search:s,status:o});u(O)}catch(O){p(O.message||"Failed to fetch partners"),console.error("Fetch partners error:",O)}finally{x(!1)}},T=setTimeout(()=>{R()},s?500:0);return()=>clearTimeout(T)},[n,s,o,e,l]),g.useEffect(()=>{if(!e)return;(async()=>{try{const T=await He.fetchPartnerRevenueStats(e);T!=null&&T.success&&(T!=null&&T.stats)&&v(T.stats)}catch(T){console.error("Fetch revenue stats error:",T)}})()},[e]),g.useEffect(()=>{if(!e)return;(async()=>{w(!0);try{const T=await He.fetchAllWalletTransactions(e,{limit:50});b((T==null?void 0:T.transactions)||(T==null?void 0:T.success)||[])}catch(T){console.error("Fetch wallet transactions error:",T),b([])}finally{w(!1)}})()},[e]);const N=(d==null?void 0:d.partners)||[],S=(d==null?void 0:d.total)||0,k=(d==null?void 0:d.totalPages)||0,C=R=>{const T=R._id||R.id;T&&r(`/admin/partners/${T}`)},P=R=>{a(R.target.value),i(1)},_=R=>{c(R.target.value),i(1)},A=R=>{R>=1&&R<=k&&(i(R),window.scrollTo({top:0,behavior:"smooth"}))},D=async(R,T)=>{if(confirm(`Are you sure you want to approve payment for ${T}?`))try{const O={paymentApproved:!0,approvedBy:"Admin",approvedAt:new Date().toISOString()},K=await He.approvePartnerPayment(e,R,O);K.success?(alert(`Payment approved successfully for ${T}!`),fetchAllPartners()):alert(`Failed to approve payment: ${K.message||"Unknown error"}`)}catch(O){console.error("Payment approval error:",O),alert(`Error approving payment: ${O.message}`)}},F=()=>{if(!f||f.length===0){alert("No transactions to export");return}const R=f.map(M=>({"Transaction ID":M.transactionId||"N/A","Partner Name":M.partnerName||"N/A",Type:M.type?M.type.charAt(0).toUpperCase()+M.type.slice(1):"N/A","Amount ()":M.amount||0,"Balance ()":M.balance||0,Description:M.description||"",Reference:M.reference||"","Initiated By":M.initiatedBy||"System",Date:M.createdAt?new Date(M.createdAt).toLocaleString("en-IN"):"N/A"})),T=Fu.json_to_sheet(R),O=Fu.book_new();Fu.book_append_sheet(O,T,"Wallet Transactions");const K=[{wch:20},{wch:25},{wch:12},{wch:15},{wch:15},{wch:30},{wch:20},{wch:15},{wch:25}];T["!cols"]=K;const ee=`wallet-transactions-${new Date().toISOString().split("T")[0]}.xlsx`;Q$(O,ee)},X=y.totalRegistrationFees,ce=y.totalSecurityDeposit,he=y.totalToolkitFees,L=y.totalMGPlanRevenue;y.totalPartnerEarnings;const q=y.totalRevenue,se=[{label:"Total Partners",value:S,trend:"Across all service categories",description:"Total registered partners",icon:Mr},{label:"Active Partners",value:N.filter(R=>{var O,K,U;return(((K=(O=R.Profile)==null?void 0:O.KYC)==null?void 0:K.status)||((U=R.kyc)==null?void 0:U.status)||R.status||"pending")==="approved"}).length,trend:"Verified and active",icon:vt,description:"Approved partners",intent:"positive"},{label:"Total Revenue",value:`${q.toLocaleString("en-IN")}`,trend:`Reg: ${X.toLocaleString("en-IN")} | SD: ${ce.toLocaleString("en-IN")} | TK: ${he.toLocaleString("en-IN")}`,description:"All revenue streams combined",icon:pn,intent:"positive"},{label:"Registration Fees",value:`${X.toLocaleString("en-IN")}`,trend:"Partner onboarding fees",description:"Total registration revenue",icon:vt,intent:"positive"},{label:"Security Deposit",value:`${ce.toLocaleString("en-IN")}`,trend:"Refundable deposits",description:"Total security deposits",icon:vt,intent:"positive"},{label:"Toolkit Fees",value:`${he.toLocaleString("en-IN")}`,trend:"Equipment & tools",description:"Total toolkit revenue",icon:vt,intent:"positive"},{label:"MG Plan Revenue",value:`${L.toLocaleString("en-IN")}`,trend:"From MG plan subscriptions",description:"Total MG plan revenue",icon:pn,intent:"positive"},{label:"Suspended Accounts",value:(d==null?void 0:d.suspended)??0,trend:"Auto-suspend post SLA breach",intent:"warning",icon:Kp,description:"Auto-suspend post SLA breach"}];return t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx(gs,{title:"Partner Control",subtitle:"Manage the partner lifecycle end-to-end with unified KYC, wallet management, penalty controls, and payouts."}),t.jsxs("button",{onClick:()=>r("/admin/partners/manual-register"),className:"px-6 py-3 bg-primary text-white rounded-lg hover:bg-primary-dark transition flex items-center gap-2 font-semibold shadow-sm",children:[t.jsx(Mr,{className:"w-5 h-5"}),"Add New Partner"]})]}),t.jsx("div",{className:"grid gap-5 md:grid-cols-2 xl:grid-cols-4 mb-10",children:se.map(R=>t.jsx(Xn,{...R},R.label))}),t.jsxs("div",{className:"space-y-5",children:[t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-5",children:[t.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-4",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx(bn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"}),t.jsx("input",{type:"text",placeholder:"Search by name, email, phone, city, pincode...",value:s,onChange:P,className:"w-full pl-10 pr-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),t.jsxs("select",{value:o,onChange:_,className:"px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent bg-white",children:[t.jsx("option",{value:"",children:"All Status"}),t.jsx("option",{value:"approved",children:"Approved"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"rejected",children:"Rejected"}),t.jsx("option",{value:"suspended",children:"Suspended"})]})]}),t.jsx("div",{className:"text-sm text-slate-600",children:m?t.jsx("span",{children:"Loading..."}):t.jsxs("span",{children:["Showing ",N.length," of ",S," partners",s&&` matching "${s}"`]})})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500",children:"Partner Ledger"}),t.jsxs("div",{className:"flex items-center gap-3",children:[h&&t.jsx("span",{className:"text-xs text-rose-500",children:h}),N.length>0&&t.jsxs("button",{onClick:()=>{(async()=>{try{const T=await He.fetchPartners(e,{page:1,limit:1e3,search:s,status:o}),K=((T==null?void 0:T.partners)||[]).map(U=>{var Y,ie,me,de,Ge,Me,it,Ye,Le,z,xe,re,ge,pe,ve,ke,Qe,ft,je,Fe,Tt,Lt;const ee=U.mgPlan||U.mgPlanSummary,M=(ee==null?void 0:ee.leads)||U.mgPlanLeadQuota||0,H=U.mgPlanLeadsUsed||0,B=Math.max(M-H,0);return{"Partner ID":((Y=U.Profile)==null?void 0:Y.id)||U._id||U.id||"N/A",Name:((ie=U.Profile)==null?void 0:ie.name)||((me=U.profile)==null?void 0:me.name)||"N/A",Email:((de=U.Profile)==null?void 0:de.email)||((Ge=U.profile)==null?void 0:Ge.email)||"N/A",Phone:((Me=U.Profile)==null?void 0:Me.phone)||U.phone||"N/A","Partner Type":(U.partnerType||((it=U.Profile)==null?void 0:it.partnerType)||"individual")==="franchise"?"Franchise":"Individual",City:((xe=(z=(Le=(Ye=U.Profile)==null?void 0:Ye.address)==null?void 0:Le.split(","))==null?void 0:z.pop())==null?void 0:xe.trim())||((re=U.profile)==null?void 0:re.city)||"N/A","Total Earnings ()":((ge=U.Earnings)==null?void 0:ge.totalEarnings)||0,"KYC Status":((ve=(pe=U.Profile)==null?void 0:pe.KYC)==null?void 0:ve.status)||((ke=U.kyc)==null?void 0:ke.status)||U.status||"pending","Payment Status":U.registerAmount>0&&U.payId&&U.payId!=="N/A"?"Verified":"Pending",Status:((ft=(Qe=U.Profile)==null?void 0:Qe.KYC)==null?void 0:ft.status)==="approved"||((je=U.kyc)==null?void 0:je.status)==="approved"?"Active":((Tt=(Fe=U.Profile)==null?void 0:Fe.KYC)==null?void 0:Tt.status)==="Pending"||((Lt=U.kyc)==null?void 0:Lt.status)==="Pending"?"KYC Pending":"Inactive","Registration Amount ()":U.registerAmount||0,"Security Deposit ()":U.securityDeposit||0,"Toolkit Price ()":U.toolkitPrice||0,"Pay ID":U.payId||"N/A","Paid By":U.paidBy||"N/A","MG Plan":(ee==null?void 0:ee.name)||"No Plan","Leads Guaranteed":M,"Leads Used":H,"Leads Remaining":B,"Plan Expires":U.mgPlanExpiresAt?new Date(U.mgPlanExpiresAt).toLocaleDateString("en-IN"):"N/A"}});Bd(K,[{header:"Partner ID",accessor:"Partner ID"},{header:"Name",accessor:"Name"},{header:"Email",accessor:"Email"},{header:"Phone",accessor:"Phone"},{header:"Partner Type",accessor:"Partner Type"},{header:"City",accessor:"City"},{header:"Total Earnings ()",accessor:"Total Earnings ()"},{header:"KYC Status",accessor:"KYC Status"},{header:"Payment Status",accessor:"Payment Status"},{header:"Status",accessor:"Status"},{header:"Registration Amount ()",accessor:"Registration Amount ()"},{header:"Security Deposit ()",accessor:"Security Deposit ()"},{header:"Toolkit Price ()",accessor:"Toolkit Price ()"},{header:"Pay ID",accessor:"Pay ID"},{header:"Paid By",accessor:"Paid By"},{header:"MG Plan",accessor:"MG Plan"},{header:"Leads Guaranteed",accessor:"Leads Guaranteed"},{header:"Leads Used",accessor:"Leads Used"},{header:"Leads Remaining",accessor:"Leads Remaining"},{header:"Plan Expires",accessor:"Plan Expires"}],"Partners_List","Partners",{columnWidths:[15,25,25,15,15,20,18,15,15,20,18,18,15,15,15,15,15,15,15,15]})}catch(T){console.error("Export error:",T),alert("Failed to export partners. Please try again.")}})()},disabled:m||N.length===0,className:"text-xs font-semibold text-primary hover:text-primary-dark disabled:opacity-50 disabled:cursor-not-allowed inline-flex items-center gap-2 transition px-3 py-1.5 border border-primary rounded-lg hover:bg-primary/10",title:"Export Partners to Excel",children:[t.jsx(kn,{className:"w-4 h-4"}),"Export Partners"]})]})]}),m?t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-12 text-center",children:[t.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary mb-4"}),t.jsx("p",{className:"text-slate-500",children:"Loading partners..."})]}):N.length>0?t.jsx("div",{className:"space-y-4",children:N.map(R=>{var de,Ge,Me,it,Ye,Le,z,xe,re,ge,pe,ve,ke,Qe,ft,je,Fe,Tt,Lt,ye,I,ae,Ce,We,At,pt,dt,fe,V,oe,Ue,Je,Ve,ue;const T=R.mgPlan||R.mgPlanSummary,O=(T==null?void 0:T.leads)||R.mgPlanLeadQuota||0,K=R.mgPlanLeadsUsed||0,U=Math.max(O-K,0),ee=new Date,M=R.mgPlanExpiresAt,H=M?ee>new Date(M):!1,B=M?Math.ceil((new Date(M)-ee)/(1e3*60*60*24)):0,Y=H||B<=7,ie=T?H?"Expired":Y?"Needs Renewal":"Active":"No Plan";R._partnerTypeLogged||(console.log("Partner structure:",{hasPartnerType:!!R.partnerType,partnerType:R.partnerType,hasProfilePartnerType:!!((de=R.Profile)!=null&&de.partnerType),profilePartnerType:(Ge=R.Profile)==null?void 0:Ge.partnerType,partnerKeys:Object.keys(R),profileKeys:R.Profile?Object.keys(R.Profile):[]}),R._partnerTypeLogged=!0);const me={id:((Me=R.Profile)==null?void 0:Me.id)||R._id||R.id,_id:((it=R.Profile)==null?void 0:it.id)||R._id||R.id,name:((Ye=R.Profile)==null?void 0:Ye.name)||((Le=R.profile)==null?void 0:Le.name)||"N/A",city:((ge=(re=(xe=(z=R.Profile)==null?void 0:z.address)==null?void 0:xe.split(","))==null?void 0:re.pop())==null?void 0:ge.trim())||((pe=R.profile)==null?void 0:pe.city)||((ft=(Qe=(ke=(ve=R.profile)==null?void 0:ve.address)==null?void 0:ke.split(","))==null?void 0:Qe.pop())==null?void 0:ft.trim())||"N/A",walletBalance:(je=R.Earnings)!=null&&je.totalEarnings?`${R.Earnings.totalEarnings.toLocaleString("en-IN")}`:"0",totalEarnings:((Fe=R.Earnings)==null?void 0:Fe.totalEarnings)||0,complianceScore:((Lt=(Tt=R.Profile)==null?void 0:Tt.KYC)==null?void 0:Lt.status)==="approved"||((ye=R.kyc)==null?void 0:ye.status)==="approved"||R.status==="approved"?"100%":"0%",status:((ae=(I=R.Profile)==null?void 0:I.KYC)==null?void 0:ae.status)==="approved"||((Ce=R.kyc)==null?void 0:Ce.status)==="approved"||R.status==="approved"?"Active":((At=(We=R.Profile)==null?void 0:We.KYC)==null?void 0:At.status)==="pending"||((pt=R.kyc)==null?void 0:pt.status)==="pending"||R.status==="pending"?"KYC Pending":"Inactive",kycStatus:((fe=(dt=R.Profile)==null?void 0:dt.KYC)==null?void 0:fe.status)||((V=R.kyc)==null?void 0:V.status)||R.status||"pending",email:((oe=R.Profile)==null?void 0:oe.email)||((Ue=R.profile)==null?void 0:Ue.email)||"N/A",phone:((Je=R.Profile)==null?void 0:Je.phone)||R.phone||"N/A",partnerType:R.partnerType||((Ve=R.Profile)==null?void 0:Ve.partnerType)||"individual",registerAmount:R.registerAmount||0,securityDeposit:R.securityDeposit||0,toolkitPrice:R.toolkitPrice||0,payId:R.payId||"N/A",paidBy:R.paidBy||"N/A",paymentStatus:R.registerAmount>0&&R.payId&&R.payId!=="N/A"?"Verified":"Pending",mgPlan:T?{name:T.name||"N/A",status:ie,leadsGuaranteed:O,leadsUsed:K,leadsRemaining:U,leadsCarryForward:U>0?U:0,isExpired:H,daysUntilRenewal:B>0?B:0}:null};return t.jsxs("div",{onClick:()=>C(me),className:"block bg-white border border-slate-200 rounded-2xl px-5 py-4 shadow-sm hover:shadow-md transition cursor-pointer",children:[t.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-900",children:me.name}),t.jsxs("p",{className:"text-xs text-slate-400 uppercase tracking-wide",children:[((ue=me.id)==null?void 0:ue.toString().slice(-8))||"N/A","  ",me.city]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-xs text-slate-400 uppercase tracking-wide",children:"Total Earnings"}),t.jsx("p",{className:"text-lg font-semibold text-primary",children:me.walletBalance})]})]}),t.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-3 text-xs",children:[t.jsxs("span",{className:"px-2.5 py-1 rounded-full bg-slate-100 text-slate-600 font-medium",children:["Compliance ",me.complianceScore]}),t.jsx("span",{className:`px-2.5 py-1 rounded-full font-semibold ${me.status==="Active"?"bg-emerald-500/10 text-emerald-600":me.status==="KYC Pending"||me.kycStatus==="pending"?"bg-amber-500/10 text-amber-600":"bg-rose-500/10 text-rose-600"}`,children:me.status}),t.jsx("span",{className:`px-2.5 py-1 rounded-full font-semibold ${me.partnerType==="franchise"?"bg-purple-500/10 text-purple-600":"bg-blue-500/10 text-blue-600"}`,children:me.partnerType==="franchise"?"Franchise":"Individual"}),me.registerAmount>0&&t.jsxs("span",{className:"px-2.5 py-1 rounded-full bg-green-500/10 text-green-600 font-semibold",children:["Reg: ",me.registerAmount.toLocaleString("en-IN")]}),me.securityDeposit>0&&t.jsxs("span",{className:"px-2.5 py-1 rounded-full bg-blue-500/10 text-blue-600 font-semibold",children:["SD: ",me.securityDeposit.toLocaleString("en-IN")]}),me.toolkitPrice>0&&t.jsxs("span",{className:"px-2.5 py-1 rounded-full bg-orange-500/10 text-orange-600 font-semibold",children:["TK: ",me.toolkitPrice.toLocaleString("en-IN")]}),me.mgPlan&&t.jsxs("span",{className:`px-2.5 py-1 rounded-full font-semibold flex items-center gap-1 ${me.mgPlan.status==="Active"?"bg-purple-500/10 text-purple-600":me.mgPlan.status==="Needs Renewal"?"bg-amber-500/10 text-amber-600":me.mgPlan.status==="Expired"?"bg-rose-500/10 text-rose-600":"bg-slate-500/10 text-slate-600"}`,title:`${me.mgPlan.name} Plan - ${me.mgPlan.leadsUsed}/${me.mgPlan.leadsGuaranteed} leads used${me.mgPlan.leadsCarryForward>0?` (${me.mgPlan.leadsCarryForward} carry forward)`:""}`,children:[t.jsx(pn,{className:"w-3 h-3"}),me.mgPlan.name," ",me.mgPlan.status!=="No Plan"&&`(${me.mgPlan.leadsRemaining} left)`]}),t.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[me.paymentStatus==="Pending"&&t.jsxs("button",{onClick:Re=>{Re.stopPropagation(),D(me.id,me.name)},className:"px-3 py-1 text-xs bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition flex items-center gap-1",title:"Approve Payment",children:[t.jsx(vt,{className:"w-3 h-3"}),"Approve Payment"]}),t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${me.paymentStatus==="Verified"?"bg-emerald-100 text-emerald-700":"bg-amber-100 text-amber-700"}`,children:me.paymentStatus}),me.payId!=="N/A"&&t.jsxs("span",{className:"text-xs text-slate-500",children:["Pay ID: ",me.payId]}),t.jsx("span",{className:"text-xs text-slate-500",children:"Click to view details "})]})]})]},me.id)})}):t.jsx("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-12 text-center",children:t.jsx("p",{className:"text-slate-500",children:s?`No partners found matching "${s}"`:"No partners found"})}),k>1&&t.jsxs("div",{className:"mt-6 flex items-center justify-between bg-white border border-slate-200 rounded-2xl shadow-sm px-6 py-4",children:[t.jsxs("div",{className:"text-sm text-slate-600",children:["Page ",n," of ",k]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("button",{onClick:()=>A(n-1),disabled:n===1||m,className:"px-4 py-2 border border-slate-300 rounded-lg hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 transition",children:[t.jsx(JO,{className:"w-4 h-4"}),"Previous"]}),t.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,k)},(R,T)=>{let O;return k<=5||n<=3?O=T+1:n>=k-2?O=k-4+T:O=n-2+T,t.jsx("button",{onClick:()=>A(O),disabled:m,className:`px-3 py-1.5 rounded-lg text-sm font-medium transition ${n===O?"bg-primary text-white":"text-slate-600 hover:bg-slate-100"} disabled:opacity-50 disabled:cursor-not-allowed`,children:O},O)})}),t.jsxs("button",{onClick:()=>A(n+1),disabled:n===k||m,className:"px-4 py-2 border border-slate-300 rounded-lg hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 transition",children:["Next",t.jsx(QO,{className:"w-4 h-4"})]})]})]})]}),t.jsxs("div",{className:"space-y-4 mt-8",children:[t.jsx("div",{className:"flex items-center justify-between",children:t.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500",children:"Team Members"})}),t.jsx(O5e,{token:e})]}),t.jsxs("div",{className:"space-y-4 mt-8",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500",children:"Wallet Transactions"}),t.jsxs("button",{onClick:F,disabled:j||!f||f.length===0,className:"text-xs font-semibold text-primary hover:text-primary-dark disabled:opacity-50 disabled:cursor-not-allowed inline-flex items-center gap-2 transition",children:[t.jsx(kn,{className:"w-4 h-4"}),"Export to Excel"]})]}),j?t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-12 text-center",children:[t.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-primary mb-4"}),t.jsx("p",{className:"text-slate-500",children:"Loading transactions..."})]}):t.jsx(Ia,{columns:I5e,data:f.map(R=>({id:R.id||R.transactionId,partnerName:R.partnerName||"N/A",transactionId:R.transactionId||"N/A",type:R.type?R.type.charAt(0).toUpperCase()+R.type.slice(1):"N/A",amount:`${(R.amount||0).toLocaleString("en-IN")}`,balance:`${(R.balance||0).toLocaleString("en-IN")}`,initiatedBy:R.initiatedBy||"System"})),emptyLabel:"No recent transactions recorded."})]})]})]})};var M5e=Object.defineProperty,ry=Object.getOwnPropertySymbols,rz=Object.prototype.hasOwnProperty,sz=Object.prototype.propertyIsEnumerable,lE=(e,r,s)=>r in e?M5e(e,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[r]=s,ww=(e,r)=>{for(var s in r||(r={}))rz.call(r,s)&&lE(e,s,r[s]);if(ry)for(var s of ry(r))sz.call(r,s)&&lE(e,s,r[s]);return e},Nw=(e,r)=>{var s={};for(var a in e)rz.call(e,a)&&r.indexOf(a)<0&&(s[a]=e[a]);if(e!=null&&ry)for(var a of ry(e))r.indexOf(a)<0&&sz.call(e,a)&&(s[a]=e[a]);return s};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var wd;(e=>{const r=class Wt{constructor(c,d,u,m){if(this.version=c,this.errorCorrectionLevel=d,this.modules=[],this.isFunction=[],c<Wt.MIN_VERSION||c>Wt.MAX_VERSION)throw new RangeError("Version value out of range");if(m<-1||m>7)throw new RangeError("Mask value out of range");this.size=c*4+17;let x=[];for(let p=0;p<this.size;p++)x.push(!1);for(let p=0;p<this.size;p++)this.modules.push(x.slice()),this.isFunction.push(x.slice());this.drawFunctionPatterns();const h=this.addEccAndInterleave(u);if(this.drawCodewords(h),m==-1){let p=1e9;for(let f=0;f<8;f++){this.applyMask(f),this.drawFormatBits(f);const b=this.getPenaltyScore();b<p&&(m=f,p=b),this.applyMask(f)}}n(0<=m&&m<=7),this.mask=m,this.applyMask(m),this.drawFormatBits(m),this.isFunction=[]}static encodeText(c,d){const u=e.QrSegment.makeSegments(c);return Wt.encodeSegments(u,d)}static encodeBinary(c,d){const u=e.QrSegment.makeBytes(c);return Wt.encodeSegments([u],d)}static encodeSegments(c,d,u=1,m=40,x=-1,h=!0){if(!(Wt.MIN_VERSION<=u&&u<=m&&m<=Wt.MAX_VERSION)||x<-1||x>7)throw new RangeError("Invalid value");let p,f;for(p=u;;p++){const y=Wt.getNumDataCodewords(p,d)*8,v=l.getTotalBits(c,p);if(v<=y){f=v;break}if(p>=m)throw new RangeError("Data too long")}for(const y of[Wt.Ecc.MEDIUM,Wt.Ecc.QUARTILE,Wt.Ecc.HIGH])h&&f<=Wt.getNumDataCodewords(p,y)*8&&(d=y);let b=[];for(const y of c){s(y.mode.modeBits,4,b),s(y.numChars,y.mode.numCharCountBits(p),b);for(const v of y.getData())b.push(v)}n(b.length==f);const j=Wt.getNumDataCodewords(p,d)*8;n(b.length<=j),s(0,Math.min(4,j-b.length),b),s(0,(8-b.length%8)%8,b),n(b.length%8==0);for(let y=236;b.length<j;y^=253)s(y,8,b);let w=[];for(;w.length*8<b.length;)w.push(0);return b.forEach((y,v)=>w[v>>>3]|=y<<7-(v&7)),new Wt(p,d,w,x)}getModule(c,d){return 0<=c&&c<this.size&&0<=d&&d<this.size&&this.modules[d][c]}getModules(){return this.modules}drawFunctionPatterns(){for(let u=0;u<this.size;u++)this.setFunctionModule(6,u,u%2==0),this.setFunctionModule(u,6,u%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const c=this.getAlignmentPatternPositions(),d=c.length;for(let u=0;u<d;u++)for(let m=0;m<d;m++)u==0&&m==0||u==0&&m==d-1||u==d-1&&m==0||this.drawAlignmentPattern(c[u],c[m]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(c){const d=this.errorCorrectionLevel.formatBits<<3|c;let u=d;for(let x=0;x<10;x++)u=u<<1^(u>>>9)*1335;const m=(d<<10|u)^21522;n(m>>>15==0);for(let x=0;x<=5;x++)this.setFunctionModule(8,x,a(m,x));this.setFunctionModule(8,7,a(m,6)),this.setFunctionModule(8,8,a(m,7)),this.setFunctionModule(7,8,a(m,8));for(let x=9;x<15;x++)this.setFunctionModule(14-x,8,a(m,x));for(let x=0;x<8;x++)this.setFunctionModule(this.size-1-x,8,a(m,x));for(let x=8;x<15;x++)this.setFunctionModule(8,this.size-15+x,a(m,x));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let c=this.version;for(let u=0;u<12;u++)c=c<<1^(c>>>11)*7973;const d=this.version<<12|c;n(d>>>18==0);for(let u=0;u<18;u++){const m=a(d,u),x=this.size-11+u%3,h=Math.floor(u/3);this.setFunctionModule(x,h,m),this.setFunctionModule(h,x,m)}}drawFinderPattern(c,d){for(let u=-4;u<=4;u++)for(let m=-4;m<=4;m++){const x=Math.max(Math.abs(m),Math.abs(u)),h=c+m,p=d+u;0<=h&&h<this.size&&0<=p&&p<this.size&&this.setFunctionModule(h,p,x!=2&&x!=4)}}drawAlignmentPattern(c,d){for(let u=-2;u<=2;u++)for(let m=-2;m<=2;m++)this.setFunctionModule(c+m,d+u,Math.max(Math.abs(m),Math.abs(u))!=1)}setFunctionModule(c,d,u){this.modules[d][c]=u,this.isFunction[d][c]=!0}addEccAndInterleave(c){const d=this.version,u=this.errorCorrectionLevel;if(c.length!=Wt.getNumDataCodewords(d,u))throw new RangeError("Invalid argument");const m=Wt.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][d],x=Wt.ECC_CODEWORDS_PER_BLOCK[u.ordinal][d],h=Math.floor(Wt.getNumRawDataModules(d)/8),p=m-h%m,f=Math.floor(h/m);let b=[];const j=Wt.reedSolomonComputeDivisor(x);for(let y=0,v=0;y<m;y++){let N=c.slice(v,v+f-x+(y<p?0:1));v+=N.length;const S=Wt.reedSolomonComputeRemainder(N,j);y<p&&N.push(0),b.push(N.concat(S))}let w=[];for(let y=0;y<b[0].length;y++)b.forEach((v,N)=>{(y!=f-x||N>=p)&&w.push(v[y])});return n(w.length==h),w}drawCodewords(c){if(c.length!=Math.floor(Wt.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let d=0;for(let u=this.size-1;u>=1;u-=2){u==6&&(u=5);for(let m=0;m<this.size;m++)for(let x=0;x<2;x++){const h=u-x,f=(u+1&2)==0?this.size-1-m:m;!this.isFunction[f][h]&&d<c.length*8&&(this.modules[f][h]=a(c[d>>>3],7-(d&7)),d++)}}n(d==c.length*8)}applyMask(c){if(c<0||c>7)throw new RangeError("Mask value out of range");for(let d=0;d<this.size;d++)for(let u=0;u<this.size;u++){let m;switch(c){case 0:m=(u+d)%2==0;break;case 1:m=d%2==0;break;case 2:m=u%3==0;break;case 3:m=(u+d)%3==0;break;case 4:m=(Math.floor(u/3)+Math.floor(d/2))%2==0;break;case 5:m=u*d%2+u*d%3==0;break;case 6:m=(u*d%2+u*d%3)%2==0;break;case 7:m=((u+d)%2+u*d%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[d][u]&&m&&(this.modules[d][u]=!this.modules[d][u])}}getPenaltyScore(){let c=0;for(let x=0;x<this.size;x++){let h=!1,p=0,f=[0,0,0,0,0,0,0];for(let b=0;b<this.size;b++)this.modules[x][b]==h?(p++,p==5?c+=Wt.PENALTY_N1:p>5&&c++):(this.finderPenaltyAddHistory(p,f),h||(c+=this.finderPenaltyCountPatterns(f)*Wt.PENALTY_N3),h=this.modules[x][b],p=1);c+=this.finderPenaltyTerminateAndCount(h,p,f)*Wt.PENALTY_N3}for(let x=0;x<this.size;x++){let h=!1,p=0,f=[0,0,0,0,0,0,0];for(let b=0;b<this.size;b++)this.modules[b][x]==h?(p++,p==5?c+=Wt.PENALTY_N1:p>5&&c++):(this.finderPenaltyAddHistory(p,f),h||(c+=this.finderPenaltyCountPatterns(f)*Wt.PENALTY_N3),h=this.modules[b][x],p=1);c+=this.finderPenaltyTerminateAndCount(h,p,f)*Wt.PENALTY_N3}for(let x=0;x<this.size-1;x++)for(let h=0;h<this.size-1;h++){const p=this.modules[x][h];p==this.modules[x][h+1]&&p==this.modules[x+1][h]&&p==this.modules[x+1][h+1]&&(c+=Wt.PENALTY_N2)}let d=0;for(const x of this.modules)d=x.reduce((h,p)=>h+(p?1:0),d);const u=this.size*this.size,m=Math.ceil(Math.abs(d*20-u*10)/u)-1;return n(0<=m&&m<=9),c+=m*Wt.PENALTY_N4,n(0<=c&&c<=2568888),c}getAlignmentPatternPositions(){if(this.version==1)return[];{const c=Math.floor(this.version/7)+2,d=this.version==32?26:Math.ceil((this.version*4+4)/(c*2-2))*2;let u=[6];for(let m=this.size-7;u.length<c;m-=d)u.splice(1,0,m);return u}}static getNumRawDataModules(c){if(c<Wt.MIN_VERSION||c>Wt.MAX_VERSION)throw new RangeError("Version number out of range");let d=(16*c+128)*c+64;if(c>=2){const u=Math.floor(c/7)+2;d-=(25*u-10)*u-55,c>=7&&(d-=36)}return n(208<=d&&d<=29648),d}static getNumDataCodewords(c,d){return Math.floor(Wt.getNumRawDataModules(c)/8)-Wt.ECC_CODEWORDS_PER_BLOCK[d.ordinal][c]*Wt.NUM_ERROR_CORRECTION_BLOCKS[d.ordinal][c]}static reedSolomonComputeDivisor(c){if(c<1||c>255)throw new RangeError("Degree out of range");let d=[];for(let m=0;m<c-1;m++)d.push(0);d.push(1);let u=1;for(let m=0;m<c;m++){for(let x=0;x<d.length;x++)d[x]=Wt.reedSolomonMultiply(d[x],u),x+1<d.length&&(d[x]^=d[x+1]);u=Wt.reedSolomonMultiply(u,2)}return d}static reedSolomonComputeRemainder(c,d){let u=d.map(m=>0);for(const m of c){const x=m^u.shift();u.push(0),d.forEach((h,p)=>u[p]^=Wt.reedSolomonMultiply(h,x))}return u}static reedSolomonMultiply(c,d){if(c>>>8||d>>>8)throw new RangeError("Byte out of range");let u=0;for(let m=7;m>=0;m--)u=u<<1^(u>>>7)*285,u^=(d>>>m&1)*c;return n(u>>>8==0),u}finderPenaltyCountPatterns(c){const d=c[1];n(d<=this.size*3);const u=d>0&&c[2]==d&&c[3]==d*3&&c[4]==d&&c[5]==d;return(u&&c[0]>=d*4&&c[6]>=d?1:0)+(u&&c[6]>=d*4&&c[0]>=d?1:0)}finderPenaltyTerminateAndCount(c,d,u){return c&&(this.finderPenaltyAddHistory(d,u),d=0),d+=this.size,this.finderPenaltyAddHistory(d,u),this.finderPenaltyCountPatterns(u)}finderPenaltyAddHistory(c,d){d[0]==0&&(c+=this.size),d.pop(),d.unshift(c)}};r.MIN_VERSION=1,r.MAX_VERSION=40,r.PENALTY_N1=3,r.PENALTY_N2=3,r.PENALTY_N3=40,r.PENALTY_N4=10,r.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],r.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=r;function s(o,c,d){if(c<0||c>31||o>>>c)throw new RangeError("Value out of range");for(let u=c-1;u>=0;u--)d.push(o>>>u&1)}function a(o,c){return(o>>>c&1)!=0}function n(o){if(!o)throw new Error("Assertion error")}const i=class es{constructor(c,d,u){if(this.mode=c,this.numChars=d,this.bitData=u,d<0)throw new RangeError("Invalid argument");this.bitData=u.slice()}static makeBytes(c){let d=[];for(const u of c)s(u,8,d);return new es(es.Mode.BYTE,c.length,d)}static makeNumeric(c){if(!es.isNumeric(c))throw new RangeError("String contains non-numeric characters");let d=[];for(let u=0;u<c.length;){const m=Math.min(c.length-u,3);s(parseInt(c.substring(u,u+m),10),m*3+1,d),u+=m}return new es(es.Mode.NUMERIC,c.length,d)}static makeAlphanumeric(c){if(!es.isAlphanumeric(c))throw new RangeError("String contains unencodable characters in alphanumeric mode");let d=[],u;for(u=0;u+2<=c.length;u+=2){let m=es.ALPHANUMERIC_CHARSET.indexOf(c.charAt(u))*45;m+=es.ALPHANUMERIC_CHARSET.indexOf(c.charAt(u+1)),s(m,11,d)}return u<c.length&&s(es.ALPHANUMERIC_CHARSET.indexOf(c.charAt(u)),6,d),new es(es.Mode.ALPHANUMERIC,c.length,d)}static makeSegments(c){return c==""?[]:es.isNumeric(c)?[es.makeNumeric(c)]:es.isAlphanumeric(c)?[es.makeAlphanumeric(c)]:[es.makeBytes(es.toUtf8ByteArray(c))]}static makeEci(c){let d=[];if(c<0)throw new RangeError("ECI assignment value out of range");if(c<128)s(c,8,d);else if(c<16384)s(2,2,d),s(c,14,d);else if(c<1e6)s(6,3,d),s(c,21,d);else throw new RangeError("ECI assignment value out of range");return new es(es.Mode.ECI,0,d)}static isNumeric(c){return es.NUMERIC_REGEX.test(c)}static isAlphanumeric(c){return es.ALPHANUMERIC_REGEX.test(c)}getData(){return this.bitData.slice()}static getTotalBits(c,d){let u=0;for(const m of c){const x=m.mode.numCharCountBits(d);if(m.numChars>=1<<x)return 1/0;u+=4+x+m.bitData.length}return u}static toUtf8ByteArray(c){c=encodeURI(c);let d=[];for(let u=0;u<c.length;u++)c.charAt(u)!="%"?d.push(c.charCodeAt(u)):(d.push(parseInt(c.substring(u+1,u+3),16)),u+=2);return d}};i.NUMERIC_REGEX=/^[0-9]*$/,i.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,i.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let l=i;e.QrSegment=i})(wd||(wd={}));(e=>{(r=>{const s=class{constructor(n,i){this.ordinal=n,this.formatBits=i}};s.LOW=new s(0,1),s.MEDIUM=new s(1,0),s.QUARTILE=new s(2,3),s.HIGH=new s(3,2),r.Ecc=s})(e.QrCode||(e.QrCode={}))})(wd||(wd={}));(e=>{(r=>{const s=class{constructor(n,i){this.modeBits=n,this.numBitsCharCount=i}numCharCountBits(n){return this.numBitsCharCount[Math.floor((n+7)/17)]}};s.NUMERIC=new s(1,[10,12,14]),s.ALPHANUMERIC=new s(2,[9,11,13]),s.BYTE=new s(4,[8,16,16]),s.KANJI=new s(8,[8,10,12]),s.ECI=new s(7,[0,0,0]),r.Mode=s})(e.QrSegment||(e.QrSegment={}))})(wd||(wd={}));var yu=wd;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var L5e={L:yu.QrCode.Ecc.LOW,M:yu.QrCode.Ecc.MEDIUM,Q:yu.QrCode.Ecc.QUARTILE,H:yu.QrCode.Ecc.HIGH},az=128,nz="L",iz="#FFFFFF",lz="#000000",oz=!1,cz=1,F5e=4,R5e=0,B5e=.1;function dz(e,r=0){const s=[];return e.forEach(function(a,n){let i=null;a.forEach(function(l,o){if(!l&&i!==null){s.push(`M${i+r} ${n+r}h${o-i}v1H${i+r}z`),i=null;return}if(o===a.length-1){if(!l)return;i===null?s.push(`M${o+r},${n+r} h1v1H${o+r}z`):s.push(`M${i+r},${n+r} h${o+1-i}v1H${i+r}z`);return}l&&i===null&&(i=o)})}),s.join("")}function uz(e,r){return e.slice().map((s,a)=>a<r.y||a>=r.y+r.h?s:s.map((n,i)=>i<r.x||i>=r.x+r.w?n:!1))}function $5e(e,r,s,a){if(a==null)return null;const n=e.length+s*2,i=Math.floor(r*B5e),l=n/r,o=(a.width||i)*l,c=(a.height||i)*l,d=a.x==null?e.length/2-o/2:a.x*l,u=a.y==null?e.length/2-c/2:a.y*l,m=a.opacity==null?1:a.opacity;let x=null;if(a.excavate){let p=Math.floor(d),f=Math.floor(u),b=Math.ceil(o+d-p),j=Math.ceil(c+u-f);x={x:p,y:f,w:b,h:j}}const h=a.crossOrigin;return{x:d,y:u,h:c,w:o,excavation:x,opacity:m,crossOrigin:h}}function z5e(e,r){return r!=null?Math.max(Math.floor(r),0):e?F5e:R5e}function mz({value:e,level:r,minVersion:s,includeMargin:a,marginSize:n,imageSettings:i,size:l,boostLevel:o}){let c=_t.useMemo(()=>{const p=(Array.isArray(e)?e:[e]).reduce((f,b)=>(f.push(...yu.QrSegment.makeSegments(b)),f),[]);return yu.QrCode.encodeSegments(p,L5e[r],s,void 0,void 0,o)},[e,r,s,o]);const{cells:d,margin:u,numCells:m,calculatedImageSettings:x}=_t.useMemo(()=>{let h=c.getModules();const p=z5e(a,n),f=h.length+p*2,b=$5e(h,l,p,i);return{cells:h,margin:p,numCells:f,calculatedImageSettings:b}},[c,l,i,a,n]);return{qrcode:c,margin:u,cells:d,numCells:m,calculatedImageSettings:x}}var U5e=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),H5e=_t.forwardRef(function(r,s){const a=r,{value:n,size:i=az,level:l=nz,bgColor:o=iz,fgColor:c=lz,includeMargin:d=oz,minVersion:u=cz,boostLevel:m,marginSize:x,imageSettings:h}=a,f=Nw(a,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:b}=f,j=Nw(f,["style"]),w=h==null?void 0:h.src,y=_t.useRef(null),v=_t.useRef(null),N=_t.useCallback(X=>{y.current=X,typeof s=="function"?s(X):s&&(s.current=X)},[s]),[S,k]=_t.useState(!1),{margin:C,cells:P,numCells:_,calculatedImageSettings:A}=mz({value:n,level:l,minVersion:u,boostLevel:m,includeMargin:d,marginSize:x,imageSettings:h,size:i});_t.useEffect(()=>{if(y.current!=null){const X=y.current,ce=X.getContext("2d");if(!ce)return;let he=P;const L=v.current,q=A!=null&&L!==null&&L.complete&&L.naturalHeight!==0&&L.naturalWidth!==0;q&&A.excavation!=null&&(he=uz(P,A.excavation));const se=window.devicePixelRatio||1;X.height=X.width=i*se;const R=i/_*se;ce.scale(R,R),ce.fillStyle=o,ce.fillRect(0,0,_,_),ce.fillStyle=c,U5e?ce.fill(new Path2D(dz(he,C))):P.forEach(function(T,O){T.forEach(function(K,U){K&&ce.fillRect(U+C,O+C,1,1)})}),A&&(ce.globalAlpha=A.opacity),q&&ce.drawImage(L,A.x+C,A.y+C,A.w,A.h)}}),_t.useEffect(()=>{k(!1)},[w]);const D=ww({height:i,width:i},b);let F=null;return w!=null&&(F=_t.createElement("img",{src:w,key:w,style:{display:"none"},onLoad:()=>{k(!0)},ref:v,crossOrigin:A==null?void 0:A.crossOrigin})),_t.createElement(_t.Fragment,null,_t.createElement("canvas",ww({style:D,height:i,width:i,ref:N,role:"img"},j)),F)});H5e.displayName="QRCodeCanvas";var q5=_t.forwardRef(function(r,s){const a=r,{value:n,size:i=az,level:l=nz,bgColor:o=iz,fgColor:c=lz,includeMargin:d=oz,minVersion:u=cz,boostLevel:m,title:x,marginSize:h,imageSettings:p}=a,f=Nw(a,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:b,cells:j,numCells:w,calculatedImageSettings:y}=mz({value:n,level:l,minVersion:u,boostLevel:m,includeMargin:d,marginSize:h,imageSettings:p,size:i});let v=j,N=null;p!=null&&y!=null&&(y.excavation!=null&&(v=uz(j,y.excavation)),N=_t.createElement("image",{href:p.src,height:y.h,width:y.w,x:y.x+b,y:y.y+b,preserveAspectRatio:"none",opacity:y.opacity,crossOrigin:y.crossOrigin}));const S=dz(v,b);return _t.createElement("svg",ww({height:i,width:i,viewBox:`0 0 ${w} ${w}`,ref:s,role:"img"},f),!!x&&_t.createElement("title",null,x),_t.createElement("path",{fill:o,d:`M0,0 h${w}v${w}H0z`,shapeRendering:"crispEdges"}),_t.createElement("path",{fill:c,d:S,shapeRendering:"crispEdges"}),N)});q5.displayName="QRCodeSVG";const hz=({profile:e,partner:r,onClose:s})=>{var p,f,b,j,w;const a=g.useRef(null),n=async()=>{const y=a.current.querySelector("svg");let v="";if(y){const k=new XMLSerializer().serializeToString(y),C=new Blob([k],{type:"image/svg+xml;charset=utf-8"}),P=URL.createObjectURL(C),_=new Image;await new Promise(A=>{_.onload=()=>{const D=document.createElement("canvas");D.width=_.width,D.height=_.height,D.getContext("2d").drawImage(_,0,0),v=D.toDataURL("image/png"),URL.revokeObjectURL(P),A()},_.src=P})}const N=window.open("","_blank"),S=a.current.innerHTML.replace(/<svg[\s\S]*?<\/svg>/,`<img src="${v}" style="width: 80px; height: 80px; display: block;" />`);N.document.write(`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Partner ID Card - Nexo</title>
          <style>
            @media print {
              @page {
                size: A4;
                margin: 0;
              }
              body {
                margin: 0;
                padding: 0;
                display: flex;
                justify-content: center;
                align-items: flex-start;
                min-height: 100vh;
                padding-top: 30px;
              }
              .id-card {
                transform: scale(1.8);
                transform-origin: top center;
                margin: 0 auto;
              }
            }
            * {
              margin: 0;
              padding: 0;
              box-sizing: border-box;
            }
            body {
              font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
              background: #f5f5f5;
            }
            .id-card {
              width: 85.6mm;
              height: 53.98mm;
              background: linear-gradient(135deg, #214A73 0%, #2d5a8a 100%);
              border-radius: 12px;
              padding: 10px;
              box-shadow: 0 10px 40px rgba(33, 74, 115, 0.4);
              position: relative;
              overflow: hidden;
            }
            .id-card::before {
              content: '';
              position: absolute;
              top: -50%;
              right: -50%;
              width: 200%;
              height: 200%;
              background: radial-gradient(circle, rgba(255,255,255,0.15) 0%, transparent 70%);
            }
            .id-card::after {
              content: '';
              position: absolute;
              bottom: 0;
              left: 0;
              right: 0;
              height: 3px;
              background: linear-gradient(90deg, #214A73 0%, #2d5a8a 50%, #214A73 100%);
            }
            .id-card-content {
              position: relative;
              z-index: 1;
              display: flex;
              height: 100%;
              background: white;
              border-radius: 8px;
              padding: 8px;
              box-shadow: inset 0 0 20px rgba(33, 74, 115, 0.1);
            }
            .id-card-left {
              flex: 1;
              display: flex;
              flex-direction: column;
              justify-content: space-between;
              padding-right: 8px;
            }
            .id-card-header {
              display: flex;
              align-items: center;
              gap: 6px;
              margin-bottom: 6px;
              padding-bottom: 6px;
              border-bottom: 2px solid #214A73;
            }
            .id-card-logo {
              width: 28px;
              height: 28px;
              background: linear-gradient(135deg, #214A73 0%, #2d5a8a 100%);
              border-radius: 4px;
              display: flex;
              align-items: center;
              justify-content: center;
              color: white;
              font-weight: 800;
              font-size: 11px;
              letter-spacing: 0.5px;
            }
            .id-card-title {
              font-size: 9px;
              font-weight: 800;
              color: #214A73;
              text-transform: uppercase;
              letter-spacing: 1.2px;
            }
            .id-card-photo {
              width: 65px;
              height: 65px;
              border-radius: 8px;
              border: 3px solid #214A73;
              object-fit: cover;
              margin: 6px 0;
              box-shadow: 0 2px 8px rgba(33, 74, 115, 0.2);
            }
            .id-card-name {
              font-size: 15px;
              font-weight: 800;
              color: #1a202c;
              margin-bottom: 4px;
              letter-spacing: 0.3px;
            }
            .id-card-details {
              font-size: 8.5px;
              color: #4a5568;
              line-height: 1.5;
            }
            .id-card-detail-item {
              margin-bottom: 3px;
              display: flex;
              align-items: center;
              gap: 4px;
            }
            .id-card-detail-item strong {
              color: #214A73;
              font-weight: 700;
              min-width: 45px;
            }
            .id-card-right {
              width: 85px;
              display: flex;
              flex-direction: column;
              align-items: center;
              justify-content: center;
              gap: 6px;
              border-left: 2px dashed #e2e8f0;
              padding-left: 8px;
            }
            .id-card-qr {
              width: 75px;
              height: 75px;
              padding: 5px;
              background: white;
              border-radius: 6px;
              border: 2px solid #214A73;
              display: flex;
              align-items: center;
              justify-content: center;
              box-shadow: 0 2px 8px rgba(33, 74, 115, 0.15);
            }
            .id-card-verified {
              font-size: 7px;
              color: #48bb78;
              text-align: center;
              font-weight: 700;
              display: flex;
              align-items: center;
              justify-content: center;
              gap: 3px;
              background: #f0fdf4;
              padding: 3px 6px;
              border-radius: 4px;
              border: 1px solid #86efac;
            }
            .id-card-id {
              font-size: 7.5px;
              color: #214A73;
              text-align: center;
              font-weight: 700;
              letter-spacing: 0.5px;
            }
            .id-card-footer {
              font-size: 6.5px;
              color: #718096;
              text-align: center;
              margin-top: 2px;
            }
          </style>
        </head>
        <body>
          ${S}
        </body>
      </html>
    `),N.document.close(),setTimeout(()=>{N.print()},250)},i=(e==null?void 0:e.id)||(r==null?void 0:r._id)||"unknown",l=`${window.location.origin}/verify/partner/${i}`,o=i!=="unknown"?i.toString().slice(-8).toUpperCase():"N/A",c=(e==null?void 0:e.name)||((p=r==null?void 0:r.profile)==null?void 0:p.name)||"Partner Name",d=(e==null?void 0:e.phone)||(r==null?void 0:r.phone)||"N/A",u=(e==null?void 0:e.city)||((f=r==null?void 0:r.profile)==null?void 0:f.city)||"N/A";e!=null&&e.email||(b=r==null?void 0:r.profile)!=null&&b.email;const m=(e==null?void 0:e.profilePicture)||(r==null?void 0:r.profilePicture)||null,x=m?m.startsWith("http")?m:`https://nexo.works/${m}`:null,h=((j=e==null?void 0:e.kyc)==null?void 0:j.status)==="approved"||((w=e==null?void 0:e.kyc)==null?void 0:w.status)==="verified";return t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-6 max-w-lg w-full",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-primary mb-1",children:"Partner ID Card"}),t.jsx("p",{className:"text-sm text-slate-600",children:"Professional identification card with QR verification"})]}),t.jsx("button",{onClick:s,className:"p-2 hover:bg-slate-100 rounded-lg transition",children:t.jsx(mt,{className:"text-xl"})})]}),t.jsx("div",{className:"flex justify-center mb-6 bg-gradient-to-br from-slate-50 to-slate-100 p-8 rounded-xl",children:t.jsxs("div",{ref:a,className:"id-card",style:{width:"85.6mm",height:"53.98mm",background:"linear-gradient(135deg, #214A73 0%, #2d5a8a 100%)",borderRadius:"12px",padding:"10px",boxShadow:"0 10px 40px rgba(33, 74, 115, 0.4)",position:"relative",overflow:"hidden"},children:[t.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"radial-gradient(circle at 20% 20%, rgba(255,255,255,0.15) 0%, transparent 50%)",pointerEvents:"none"}}),t.jsxs("div",{className:"id-card-content",style:{position:"relative",zIndex:1,display:"flex",height:"100%",background:"white",borderRadius:"8px",padding:"8px",boxShadow:"inset 0 0 20px rgba(33, 74, 115, 0.1)"},children:[t.jsx("div",{className:"id-card-left",style:{flex:1,display:"flex",flexDirection:"column",justifyContent:"space-between",paddingRight:"8px"},children:t.jsxs("div",{children:[t.jsxs("div",{className:"id-card-header",style:{display:"flex",alignItems:"center",gap:"6px",marginBottom:"6px",paddingBottom:"6px",borderBottom:"2px solid #214A73"},children:[t.jsx("div",{className:"id-card-logo",style:{width:"28px",height:"28px",background:"linear-gradient(135deg, #214A73 0%, #2d5a8a 100%)",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:800,fontSize:"11px",letterSpacing:"0.5px"},children:"NEXO"}),t.jsx("div",{className:"id-card-title",style:{fontSize:"9px",fontWeight:800,color:"#214A73",textTransform:"uppercase",letterSpacing:"1.2px"},children:"Verified Partner"})]}),x?t.jsx("img",{src:x,alt:c,className:"id-card-photo",style:{width:"65px",height:"65px",borderRadius:"8px",border:"3px solid #214A73",objectFit:"cover",margin:"6px 0",boxShadow:"0 2px 8px rgba(33, 74, 115, 0.2)"}}):t.jsx("div",{className:"id-card-photo",style:{width:"65px",height:"65px",borderRadius:"8px",border:"3px solid #214A73",background:"linear-gradient(135deg, #214A73 0%, #2d5a8a 100%)",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"bold",fontSize:"24px",margin:"6px 0",boxShadow:"0 2px 8px rgba(33, 74, 115, 0.2)"},children:c.charAt(0).toUpperCase()}),t.jsx("div",{className:"id-card-name",style:{fontSize:"15px",fontWeight:800,color:"#1a202c",marginBottom:"4px",letterSpacing:"0.3px"},children:c}),t.jsxs("div",{className:"id-card-details",style:{fontSize:"8.5px",color:"#4a5568",lineHeight:1.5},children:[t.jsxs("div",{className:"id-card-detail-item",style:{marginBottom:"3px",display:"flex",alignItems:"center",gap:"4px"},children:[t.jsx("strong",{style:{color:"#214A73",fontWeight:700,minWidth:"45px"},children:"ID:"}),t.jsx("span",{children:o})]}),t.jsxs("div",{className:"id-card-detail-item",style:{marginBottom:"3px",display:"flex",alignItems:"center",gap:"4px"},children:[t.jsx("strong",{style:{color:"#214A73",fontWeight:700,minWidth:"45px"},children:"Phone:"}),t.jsx("span",{children:d})]}),t.jsxs("div",{className:"id-card-detail-item",style:{marginBottom:"3px",display:"flex",alignItems:"center",gap:"4px"},children:[t.jsx("strong",{style:{color:"#214A73",fontWeight:700,minWidth:"45px"},children:"City:"}),t.jsx("span",{children:u})]})]})]})}),t.jsxs("div",{className:"id-card-right",style:{width:"85px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"6px",borderLeft:"2px dashed #e2e8f0",paddingLeft:"8px"},children:[t.jsx("div",{className:"id-card-qr",style:{width:"75px",height:"75px",padding:"5px",background:"white",borderRadius:"6px",border:"2px solid #214A73",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px rgba(33, 74, 115, 0.15)"},children:t.jsx(q5,{value:l,size:65,level:"H",includeMargin:!1})}),h&&t.jsxs("div",{className:"id-card-verified",style:{fontSize:"7px",color:"#48bb78",textAlign:"center",fontWeight:700,display:"flex",alignItems:"center",justifyContent:"center",gap:"3px",background:"#f0fdf4",padding:"3px 6px",borderRadius:"4px",border:"1px solid #86efac"},children:[t.jsx(vt,{style:{fontSize:"8px"}}),"Verified"]}),t.jsx("div",{className:"id-card-id",style:{fontSize:"7.5px",color:"#214A73",textAlign:"center",fontWeight:700,letterSpacing:"0.5px"},children:"Scan to Verify"}),t.jsx("div",{className:"id-card-footer",style:{fontSize:"6.5px",color:"#718096",textAlign:"center",marginTop:"2px"},children:"nexo.works"})]})]})]})}),t.jsxs("div",{className:"flex gap-3 justify-center mt-6",children:[t.jsxs("button",{onClick:n,className:"px-6 py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition flex items-center gap-2 shadow-lg",children:[t.jsx(X0,{})," Print ID Card"]}),t.jsxs("button",{onClick:s,className:"px-6 py-3 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition flex items-center gap-2",children:[t.jsx(mt,{})," Close"]})]}),t.jsx("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg border border-blue-200",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(Xa,{className:"text-primary text-xl flex-shrink-0 mt-0.5"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-primary mb-1",children:"Verification Features"}),t.jsxs("ul",{className:"text-xs text-slate-600 space-y-1",children:[t.jsx("li",{children:" QR code links to public verification page"}),t.jsx("li",{children:" Anyone can scan to verify your partner status"}),t.jsx("li",{children:" Shows your verification status and credentials"}),t.jsx("li",{children:" Professional ID card format for printing"})]})]})]})})]})})},V5e=[{header:"Date",accessor:"date"},{header:"Type",accessor:"type"},{header:"Amount",accessor:"amount"},{header:"Description",accessor:"description"},{header:"Balance",accessor:"balance"},{header:"Reference",accessor:"reference"}],W5e=()=>{var Z5,e6,t6,r6,s6,a6,n6,i6,l6,o6,c6,d6,u6,m6,h6,x6,p6,f6,g6,y6,b6,v6,j6,w6,N6,S6,k6,C6,P6,A6,T6,E6,I6,_6,O6,D6,M6,L6,F6,R6,B6,$6,z6,U6,H6,V6;const{partnerId:e}=xm(),r=Qt(),{token:s}=wr(),[a,n]=g.useState(!1),[i,l]=g.useState("credit"),[o,c]=g.useState(""),[d,u]=g.useState(""),[m,x]=g.useState(""),[h,p]=g.useState(!1),[f,b]=g.useState(!1),[j,w]=g.useState(!1),[y,v]=g.useState([]),N=g.useRef(null),[S,k]=g.useState(!1),[C,P]=g.useState({name:"",email:"",phone:"",whatsappNumber:"",qualification:"",experience:"",partnerType:"individual",address:"",landmark:"",pincode:"",city:"",gstNumber:"",referralCode:"",categories:[],categoryNames:[],accountHolderName:"",accountNumber:"",ifscCode:"",bankName:"",kycStatus:"",kycRemarks:"",registerAmount:"",payId:"",paidBy:"",profileCompleted:!1}),[_,A]=g.useState([]),[D,F]=g.useState(!1),[X,ce]=g.useState(!1),[he,L]=g.useState(!1),[q,se]=g.useState(""),[R,T]=g.useState(""),[O,K]=g.useState(!1),[U,ee]=g.useState(!1),[M,H]=g.useState({panCard:null,aadhaar:null,aadhaarback:null,drivingLicence:null,bill:null,chequeImage:null}),[B,Y]=g.useState(null),[ie,me]=g.useState(!1),[de,Ge]=g.useState(!1),[Me,it]=g.useState([]),[Ye,Le]=g.useState(null),[z,xe]=g.useState(!1),[re,ge]=g.useState("cash"),[pe,ve]=g.useState(""),[ke,Qe]=g.useState(""),[ft,je]=g.useState(!1),[Fe,Tt]=g.useState("cash"),[Lt,ye]=g.useState(""),[I,ae]=g.useState(""),[Ce,We]=g.useState(!1),[At,pt]=g.useState("cash"),[dt,fe]=g.useState(""),[V,oe]=g.useState(!1),[Ue,Je]=g.useState(!1),[Ve,ue]=g.useState(!1),{data:Re,isLoading:rt,error:ht}=cr(Q=>He.fetchPartnerDetails(Q,e),[e]),{data:xt,isLoading:Ht,refresh:Rt}=cr(Q=>He.fetchPartnerEarnings(Q,e),[e]),{data:ot,isLoading:Vr,error:Xs,refresh:Jr}=cr(Q=>He.fetchPartnerWallet(Q,e),[e]),{data:W,isLoading:te,error:J}=cr(Q=>He.fetchFeeTransactions(Q,{partnerId:e}),[e]),{data:Z,isLoading:ne,error:le,refresh:Ne}=cr(async Q=>{var Ie,kt;try{const ct=await He.fetchPartnerDetails(Q,e),Mt=(ct==null?void 0:ct.partner)||(ct==null?void 0:ct.data)||{};console.log("Partner Details:",{partnerId:e,hasHubs:!!Mt.hubs,hubsCount:((Ie=Mt.hubs)==null?void 0:Ie.length)||0,hubs:Mt.hubs});const tr=Mt.displayHubs||Mt.hubs||[],Bt=tr.map(Sa=>typeof Sa=="object"&&Sa._id?Sa._id.toString():Sa.toString());console.log("Assigned Hub IDs:",Bt),console.log("Using displayHubs:",!!Mt.displayHubs,"serviceHubs count:",((kt=Mt.serviceHubs)==null?void 0:kt.length)||0);const Sr=await He.fetchHubs(Q),Jt=(Sr==null?void 0:Sr.data)||[],$s=Jt.map(Sa=>({...Sa,isAssigned:Bt.some(_n=>{var ui;return _n.toString()===((ui=Sa._id)==null?void 0:ui.toString())})})),Dm=tr.map(Sa=>typeof Sa=="object"&&Sa._id?{...Sa,isAssigned:!0}:Jt.find(_n=>{var ui;return((ui=_n._id)==null?void 0:ui.toString())===Sa.toString()})).filter(Boolean);return{success:!0,data:$s,assignedHubIds:Bt,assignedHubs:Dm}}catch(ct){if(ct.status===500||ct.status===404)return console.warn("Hubs fetch failed, returning empty array:",ct.message),{success:!0,data:[],assignedHubIds:[],assignedHubs:[]};throw ct}},[e]);g.useEffect(()=>{(async()=>{if(s){F(!0);try{const Ie=await He.fetchCategories(s);Ie.success&&Ie.data&&A(Ie.data)}catch(Ie){console.error("Failed to fetch categories:",Ie)}finally{F(!1)}}})()},[s]),g.useEffect(()=>{(async()=>{const Ie=(Re==null?void 0:Re.partner)||{},ct={...(xt==null?void 0:xt.partner)||{},...Ie};if(!(!s||!(ct!=null&&ct._id)))try{const Mt=await He.fetchMGPlans(s),tr=Mt.plans||Mt.data||[],Bt=(ct==null?void 0:ct.partnerType)||"individual",Sr=tr.filter(Jt=>!Jt.partnerType||Jt.partnerType==="both"?!0:Jt.partnerType===Bt);it(Sr)}catch(Mt){console.error("Error fetching MG plans:",Mt)}})()},[s,Re,xt]);const ze=async()=>{var ct,Mt,tr,Bt,Sr,Jt;const Q=C.payId||((ct=G==null?void 0:G.profile)==null?void 0:ct.payId)||"",Ie=C.registerAmount||((Mt=G==null?void 0:G.profile)==null?void 0:Mt.registerAmount)||0,kt=C.paidBy||((tr=G==null?void 0:G.profile)==null?void 0:tr.paidBy)||"Manual Approval";if(!Q||Q.trim()===""){alert("Please enter a Payment ID before approving");return}if(confirm(`Approve payment for ${((Bt=G==null?void 0:G.profile)==null?void 0:Bt.name)||"this partner"}?

Payment ID: ${Q}
Amount: ${Ie}
Paid By: ${kt}`)){L(!0);try{const $s={id:e,registerAmount:parseFloat(Ie)||0,payId:Q.trim(),paidBy:kt,securityDeposit:parseFloat(C.securityDeposit||((Sr=G==null?void 0:G.profile)==null?void 0:Sr.securityDeposit)||0),toolkitPrice:parseFloat(C.toolkitPrice||((Jt=G==null?void 0:G.profile)==null?void 0:Jt.toolkitPrice)||0),paymentApproved:!0,approvedBy:"Admin",approvedAt:new Date().toISOString()},Dm=await He.approvePartnerPayment(s,e,$s);Dm.success?(alert("Payment approved successfully!"),window.location.reload()):alert("Failed to approve payment: "+(Dm.message||"Unknown error"))}catch($s){console.error("Payment approval error:",$s),alert("Error approving payment: "+$s.message)}finally{L(!1)}}},Se=async Q=>{if(Q.preventDefault(),!o||!d){alert("Please fill all required fields");return}p(!0);try{await He.addWalletTransaction(s,{type:i,amount:Number(o),description:d,reference:m||void 0,paymentMode:At,transactionId:dt||void 0,partner:e}),c(""),u(""),x(""),pt("cash"),fe(""),n(!1),Jr(),Rt(),alert("Transaction added successfully!")}catch(Ie){alert(Ie.message||"Failed to add transaction")}finally{p(!1)}},Pe=async()=>{if(Fe==="cash"&&!Lt.trim()){alert("Please enter who collected the payment");return}if((Fe==="online"||Fe==="upi")&&!I.trim()){alert("Please enter the transaction ID");return}We(!0);try{const Q={paymentMethod:Fe,...Fe==="cash"?{collectedBy:Lt}:{transactionId:I}},kt=await(await fetch(`https://nexo.works/api/admin/partners/${e}/mg-plan/payment-details`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify(Q)})).json();kt.success?(alert("Payment details updated successfully!"),je(!1),Tt("cash"),ye(""),ae(""),window.location.reload()):alert(kt.message||"Failed to update payment details")}catch(Q){console.error("Error updating payment details:",Q),alert("Error updating payment details")}finally{We(!1)}},Ae=async()=>{if(!Ye){alert("Please select an MG plan");return}if(re==="cash"&&!pe.trim()){alert("Please enter who collected the payment");return}if((re==="online"||re==="upi")&&!ke.trim()){alert("Please enter the transaction ID");return}xe(!0);try{const Q={paymentMethod:re,...re==="cash"?{collectedBy:pe}:{transactionId:ke}},kt=await(await fetch(`https://nexo.works/api/admin/mg-plans/${Ye}/subscribe`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify({partnerId:e,...Q})})).json();kt.success?(alert("MG Plan assigned successfully!"),Ge(!1),Le(null),ge("cash"),ve(""),Qe(""),window.location.reload()):alert(kt.message||"Failed to assign MG plan")}catch(Q){console.error("Error assigning MG plan:",Q),alert("Error assigning MG plan")}finally{xe(!1)}};g.useEffect(()=>{Z!=null&&Z.assignedHubIds&&v(Z.assignedHubIds.map(Q=>Q.toString()))},[Z]);const Ze=()=>{const Q=(Z==null?void 0:Z.assignedHubIds)||[];v(Q.map(Ie=>Ie.toString())),b(!0)},lt=Q=>{const Ie=Q.toString();v(kt=>kt.includes(Ie)?kt.filter(ct=>ct!==Ie):[...kt,Ie])},yt=async Q=>{Q.preventDefault(),w(!0);try{const kt=((Z==null?void 0:Z.data)||[]).filter(Bt=>Bt.isAssigned).map(Bt=>Bt._id.toString()),ct=y,Mt=ct.filter(Bt=>!kt.includes(Bt)),tr=kt.filter(Bt=>!ct.includes(Bt));for(const Bt of Mt)await He.assignHubToPartner(s,Bt,e);for(const Bt of tr)await He.unassignHubFromPartner(s,Bt,e);b(!1),Ne(),window.location.reload()}catch(Ie){alert(Ie.message||"Failed to update hub assignments")}finally{w(!1)}},Xe=(Re==null?void 0:Re.partner)||{},ut=(xt==null?void 0:xt.partner)||{},G={...ut,...Xe},Ct=(G==null?void 0:G.mgPlanSummary)||{};console.log("Partner Payment Data:",{partnerId:G==null?void 0:G._id,registerAmount:(Z5=G==null?void 0:G.profile)==null?void 0:Z5.registerAmount,payId:(e6=G==null?void 0:G.profile)==null?void 0:e6.payId,paidBy:(t6=G==null?void 0:G.profile)==null?void 0:t6.paidBy,registerdFee:(r6=G==null?void 0:G.profile)==null?void 0:r6.registerdFee,paymentApproved:(s6=G==null?void 0:G.profile)==null?void 0:s6.paymentApproved,securityDeposit:(a6=G==null?void 0:G.profile)==null?void 0:a6.securityDeposit,toolkitPrice:(n6=G==null?void 0:G.profile)==null?void 0:n6.toolkitPrice});const qe=(G==null?void 0:G.profile)||{},Ee=(G==null?void 0:G.kyc)||{},at=(G==null?void 0:G.bankDetails)||{},gt=(G==null?void 0:G.terms)||(G==null?void 0:G.partnerTerms)||(G==null?void 0:G.termsAccepted)||((i6=G==null?void 0:G.onboardingData)==null?void 0:i6.terms)||{},_i=(G==null?void 0:G.category)||(G==null?void 0:G.categories)||[],la=Array.isArray(_i)?_i:_i?[_i]:[],Oi=(G==null?void 0:G.categoryNames)||[];console.log(" Partner Categories Debug:",{partnerId:G==null?void 0:G._id,hasCategoryField:!!(G!=null&&G.category),hasCategoriesField:!!(G!=null&&G.categories),categoryRaw:G==null?void 0:G.category,categoriesRaw:G==null?void 0:G.categories,categoryCount:la.length,categoryNamesCount:Oi.length,categories:la,categoryNames:Oi,fullPartnerKeys:Object.keys(Xe),earningsPartnerKeys:Object.keys(ut)});const oa=g.useMemo(()=>{if(Oi.length>0)return Oi;const Q=la.map(Ie=>typeof Ie=="object"&&Ie!==null&&Ie!==void 0&&(Ie.name||Ie.description)||null).filter(Boolean);if(Q.length>0)return Q;if(la.length>0&&_.length>0){const Ie=la.map(kt=>{const ct=String(typeof kt=="object"&&kt!==null&&(kt._id||kt.id)||kt),Mt=_.find(tr=>String(tr._id||tr.id||tr)===ct);return(Mt==null?void 0:Mt.name)||null}).filter(Boolean);if(Ie.length>0)return Ie}return[]},[Oi,la,_]);console.log("Final Display Category Names:",oa,{partnerCategoryNames:Oi,partnerCategoriesCount:la.length,categoriesCount:_.length});const kx=(G==null?void 0:G.service)||[],Cx=(G==null?void 0:G.subcategory)||[],zt=(G==null?void 0:G.mgPlan)||{},yz=()=>{var Q,Ie,kt,ct,Mt,tr,Bt,Sr;if(N.current){const Jt=window.open("","_blank"),$s=(Ie=(gt==null?void 0:gt.signature)||((Q=G==null?void 0:G.terms)==null?void 0:Q.signature))!=null&&Ie.startsWith("data:")?(gt==null?void 0:gt.signature)||((kt=G==null?void 0:G.terms)==null?void 0:kt.signature):(Mt=(gt==null?void 0:gt.signature)||((ct=G==null?void 0:G.terms)==null?void 0:ct.signature))!=null&&Mt.startsWith("http")?(gt==null?void 0:gt.signature)||((tr=G==null?void 0:G.terms)==null?void 0:tr.signature):gt!=null&&gt.signature||(Bt=G==null?void 0:G.terms)!=null&&Bt.signature?`/uploads/signatures/${(gt==null?void 0:gt.signature)||((Sr=G==null?void 0:G.terms)==null?void 0:Sr.signature)}`:null;Jt.document.write(`
        <html>
          <head>
            <title>Partner Full Details - ${(qe==null?void 0:qe.name)||"N/A"}</title>
            <style>
              @media print {
                @page { 
                  size: A4;
                  margin: 18mm 15mm 15mm 15mm;
                }
                
                @page {
                  @top-center {
                    content: element(header);
                  }
                  @bottom-center {
                    content: element(footer);
                  }
                  counter-increment: page;
                }
                
                @page:first {
                  counter-reset: page 0;
                }
                
                .print-page-header {
                  position: running(header);
                  width: 100%;
                  height: 18mm;
                  min-height: 18mm;
                  max-height: 18mm;
                  background: linear-gradient(135deg, #214A73 0%, #0ea5a4 100%);
                  color: white;
                  padding: 5px 0;
                  display: flex;
                  align-items: center;
                  justify-content: space-between;
                  border-bottom: 2px solid #0ea5a4;
                  box-sizing: border-box;
                }
                
                .print-page-header-left {
                  display: flex;
                  align-items: center;
                  gap: 12px;
                  padding-left: 15mm;
                }
                
                .print-page-header-logo {
                  width: 40px;
                  height: 40px;
                  min-width: 40px;
                  min-height: 40px;
                  background: white;
                  border-radius: 6px;
                  padding: 6px;
                  display: flex;
                  align-items: center;
                  justify-content: center;
                  flex-shrink: 0;
                }
                
                .print-page-header-logo svg {
                  width: 100%;
                  height: 100%;
                }
                
                .print-page-header-text {
                  display: flex;
                  flex-direction: column;
                  flex: 1;
                }
                
                .print-page-header-text h1 {
                  font-size: 18px;
                  font-weight: bold;
                  margin: 0;
                  line-height: 1.1;
                  padding: 0;
                }
                
                .print-page-header-text p {
                  font-size: 9px;
                  margin: 0;
                  padding: 0;
                  opacity: 0.9;
                  line-height: 1.1;
                }
                
                .print-page-header-right {
                  text-align: right;
                  font-size: 9px;
                  flex-shrink: 0;
                  margin-left: 10px;
                  padding-right: 15mm;
                }
                
                .print-page-header-right .date {
                  font-weight: bold;
                  margin-bottom: 2px;
                  line-height: 1.2;
                }
                
                .print-page-footer {
                  position: running(footer);
                  width: 100%;
                  height: 15mm;
                  min-height: 15mm;
                  max-height: 15mm;
                  background: #f8fafc;
                  border-top: 2px solid #e2e8f0;
                  padding: 4px 0;
                  display: flex;
                  align-items: center;
                  justify-content: space-between;
                  font-size: 8px;
                  color: #64748b;
                  box-sizing: border-box;
                }
                
                .print-page-footer-left {
                  display: flex;
                  align-items: center;
                  gap: 8px;
                  padding-left: 15mm;
                }
                
                .print-page-footer-signature {
                  display: flex;
                  align-items: center;
                  gap: 8px;
                }
                
                .print-page-footer-signature {
                  display: flex !important;
                  align-items: center !important;
                  gap: 8px !important;
                }
                
                .print-page-footer-signature img {
                  max-width: 70px !important;
                  max-height: 30px !important;
                  width: auto !important;
                  height: auto !important;
                  border: 1px solid #cbd5e1 !important;
                  padding: 3px !important;
                  background: white !important;
                  object-fit: contain !important;
                  display: block !important;
                  flex-shrink: 0 !important;
                }
                
                @media print {
                  .print-page-footer-signature {
                    display: flex !important;
                    align-items: center !important;
                    gap: 8px !important;
                  }
                  
                  .print-page-footer-signature img {
                    display: block !important;
                    visibility: visible !important;
                    max-width: 70px !important;
                    max-height: 30px !important;
                  }
                }
                
                .print-page-footer-signature-text {
                  font-size: 8px;
                  color: #475569;
                  line-height: 1.2;
                }
                
                .print-page-footer-signature-text div {
                  margin: 0;
                  padding: 0;
                }
                
                .print-page-footer-right {
                  text-align: right;
                  font-size: 8px;
                  padding-right: 15mm;
                }
                
                .print-page-footer-right .page-info {
                  font-weight: bold;
                  color: #214A73;
                  margin-bottom: 2px;
                }
                
                .print-page-footer-right .page-info::after {
                  content: counter(page);
                }
                
                * { 
                  -webkit-print-color-adjust: exact !important;
                  print-color-adjust: exact !important;
                }
                
                body { 
                  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
                  font-size: 11px; 
                  line-height: 1.5; 
                  color: #1e293b;
                  margin: 0;
                  padding: 0;
                  background: white;
                }
                
                /* Ensure header and footer don't interfere with content */
                .print-content-wrapper {
                  position: relative;
                  z-index: 1;
                  margin: 0;
                  padding: 0;
                  width: 100%;
                  display: block;
                  visibility: visible;
                  opacity: 1;
                }
                
                /* Ensure first content section is visible */
                .print-content-wrapper > *:first-child {
                  margin-top: 0 !important;
                  padding-top: 0 !important;
                }
                
                /* Profile section specific fixes */
                .print-content-wrapper .print-section:first-of-type {
                  page-break-after: avoid;
                  margin-top: 0;
                }
                
                /* Hide header/footer in screen view, show only in print */
                .print-page-header,
                .print-page-footer {
                  display: none;
                }
                
                @media print {
                  body {
                    margin: 0;
                    padding: 0;
                    background: white;
                  }
                  
                  .print-page-header,
                  .print-page-footer {
                    display: flex !important;
                  }
                  
                  .print-content-wrapper {
                    display: block !important;
                    visibility: visible !important;
                    opacity: 1 !important;
                    width: 100% !important;
                    margin: 0 !important;
                    padding: 0 !important;
                  }
                  
                  /* Ensure all content is visible */
                  .print-content-wrapper * {
                    visibility: visible !important;
                  }
                  
                  /* Preserve layout structures */
                  .print-content-wrapper .print-section {
                    display: block !important;
                    visibility: visible !important;
                  }
                  
                  .print-content-wrapper .print-grid {
                    display: grid !important;
                    visibility: visible !important;
                  }
                  
                  .print-content-wrapper .print-label,
                  .print-content-wrapper .print-value {
                    display: block !important;
                    visibility: visible !important;
                  }
                  
                  /* Ensure flex containers work */
                  .print-content-wrapper [class*="flex"] {
                    display: flex !important;
                  }
                  
                  /* Ensure grid containers work */
                  .print-content-wrapper [class*="grid"] {
                    display: grid !important;
                  }
                  
                  /* Ensure tables are visible */
                  table {
                    display: table !important;
                    visibility: visible !important;
                  }
                  
                  tr {
                    display: table-row !important;
                  }
                  
                  td, th {
                    display: table-cell !important;
                  }
                }
                .print-header { 
                  border-bottom: 3px solid #000; 
                  padding-bottom: 15px; 
                  margin-bottom: 25px; 
                  display: flex;
                  align-items: center;
                  gap: 20px;
                }
                .print-logo {
                  width: 80px;
                  height: 80px;
                }
                .print-header-content {
                  flex: 1;
                }
                .print-header h1 {
                  font-size: 24px;
                  margin-bottom: 8px;
                }
                .print-section { 
                  margin-bottom: 20px; 
                  page-break-inside: auto; 
                  padding-bottom: 10px;
                  display: block;
                  visibility: visible;
                  opacity: 1;
                  width: 100%;
                }
                
                @media print {
                  .print-section { 
                    page-break-inside: auto;
                    break-inside: auto;
                    margin-bottom: 15px;
                    page-break-after: auto;
                    orphans: 3;
                    widows: 3;
                  }
                  
                  /* Ensure first section is visible */
                  .print-section:first-of-type {
                    margin-top: 0;
                    padding-top: 0;
                  }
                }
                .print-section-title { 
                  font-size: 16px; 
                  font-weight: bold; 
                  color: #1e293b; 
                  margin-bottom: 12px; 
                  border-bottom: 2px solid #e2e8f0; 
                  padding-bottom: 8px; 
                }
                .print-grid { 
                  display: grid; 
                  grid-template-columns: 1fr 1fr; 
                  gap: 12px 20px; 
                  margin-bottom: 15px;
                  width: 100%;
                }
                
                @media print {
                  .print-grid {
                    display: grid !important;
                    grid-template-columns: 1fr 1fr !important;
                    gap: 10px 15px !important;
                    margin-bottom: 12px !important;
                    width: 100% !important;
                    page-break-inside: auto;
                  }
                  
                  /* Ensure grid items are visible */
                  .print-grid > * {
                    display: block !important;
                    visibility: visible !important;
                    page-break-inside: avoid;
                    min-height: auto;
                  }
                }
                .print-label { 
                  font-weight: 600; 
                  color: #64748b; 
                  margin-bottom: 4px; 
                  font-size: 10px;
                  text-transform: uppercase;
                  letter-spacing: 0.5px;
                }
                .print-value { 
                  margin-bottom: 12px; 
                  color: #1e293b; 
                  font-size: 12px;
                }
                .print-full-width { 
                  grid-column: 1 / -1; 
                }
                table { 
                  width: 100%; 
                  border-collapse: collapse; 
                  margin-top: 15px; 
                  font-size: 10px; 
                }
                th, td { 
                  border: 1px solid #cbd5e1; 
                  padding: 10px; 
                  text-align: left; 
                }
                th { 
                  background-color: #f1f5f9; 
                  font-weight: bold; 
                  color: #475569;
                }
                .status-badge { 
                  display: inline-block; 
                  padding: 4px 10px; 
                  border-radius: 4px; 
                  font-size: 9px; 
                  font-weight: bold; 
                }
                .status-approved { 
                  background-color: #d1fae5 !important; 
                  color: #065f46 !important; 
                }
                .status-pending { 
                  background-color: #fef3c7 !important; 
                  color: #92400e !important; 
                }
                .status-rejected { 
                  background-color: #fee2e2 !important; 
                  color: #991b1b !important; 
                }
                .kyc-doc { 
                  margin: 5px 0; 
                  padding: 8px; 
                  background-color: #f8fafc; 
                  border-left: 3px solid #3b82f6; 
                }
                img {
                  max-width: 100%;
                  height: auto;
                  display: block;
                  page-break-inside: avoid;
                }
                /* KYC Documents Container */
                .kyc-documents-container {
                  display: flex !important;
                  flex-wrap: wrap !important;
                  gap: 15px !important;
                  align-items: flex-start !important;
                  justify-content: flex-start !important;
                  width: 100% !important;
                }
                
                /* KYC Document Cards */
                .kyc-doc {
                  flex: 0 0 auto !important;
                  width: 200px !important;
                  min-width: 180px !important;
                  max-width: 220px !important;
                  display: flex !important;
                  flex-direction: column !important;
                  margin: 0 !important;
                  vertical-align: top !important;
                  text-align: center !important;
                }
                
                .kyc-doc div[class*="aspect"] {
                  width: 100% !important;
                  max-height: 150px !important;
                  overflow: hidden !important;
                }
                
                .kyc-doc img {
                  max-width: 100% !important;
                  max-height: 150px !important;
                  width: 100% !important;
                  height: auto !important;
                  object-fit: contain !important;
                  border: 1px solid #cbd5e1 !important;
                  padding: 5px !important;
                  background: white !important;
                  display: block !important;
                  margin: 0 auto !important;
                }
                
                /* Ensure KYC document cards maintain structure */
                .kyc-doc > div {
                  width: 100% !important;
                }
                
                /* Grid Images */
                .grid img,
                div[class*="grid"] img {
                  max-width: 100% !important;
                  max-height: 150px !important;
                  width: auto !important;
                  height: auto !important;
                  object-fit: contain !important;
                  display: block !important;
                  margin: 5px auto !important;
                }
                
                /* Aspect Ratio Images */
                div[class*="aspect"] {
                  max-height: 150px !important;
                  overflow: visible !important;
                  margin: 5px 0 !important;
                }
                
                div[class*="aspect"] img {
                  max-width: 100% !important;
                  max-height: 150px !important;
                  width: auto !important;
                  height: auto !important;
                  object-fit: contain !important;
                  display: block !important;
                  margin: 0 auto !important;
                }
                
                /* Signature Images */
                .signature-image,
                img.signature-image {
                  max-width: 250px !important;
                  max-height: 100px !important;
                  border: 1px solid #cbd5e1 !important;
                  padding: 10px !important;
                  background: white !important;
                  object-fit: contain !important;
                  width: auto !important;
                  height: auto !important;
                  display: block !important;
                  margin: 0 auto !important;
                }
                
                /* Profile Images */
                img[alt="Profile"],
                .profile-image {
                  max-width: 120px !important;
                  max-height: 120px !important;
                  width: 120px !important;
                  height: 120px !important;
                  border-radius: 50% !important;
                  object-fit: cover !important;
                  border: 4px solid #e2e8f0 !important;
                  display: block !important;
                  margin: 0 auto !important;
                }
                
                /* Image Container Alignment */
                @media print {
                  /* Profile image container - use class-based selectors */
                  div[class*="flex"] {
                    display: flex !important;
                    align-items: center !important;
                    gap: 15px !important;
                  }
                  
                  /* KYC Documents Container - Print */
                  .kyc-documents-container {
                    display: flex !important;
                    flex-wrap: wrap !important;
                    gap: 15px !important;
                    align-items: flex-start !important;
                    justify-content: flex-start !important;
                    width: 100% !important;
                    page-break-inside: auto !important;
                  }
                  
                  /* KYC Document Cards - Print */
                  .kyc-doc {
                    flex: 0 0 auto !important;
                    width: 200px !important;
                    min-width: 180px !important;
                    max-width: 220px !important;
                    display: flex !important;
                    flex-direction: column !important;
                    margin: 0 !important;
                    vertical-align: top !important;
                    text-align: center !important;
                    page-break-inside: avoid !important;
                    page-break-after: auto !important;
                  }
                  
                  .kyc-doc img {
                    max-width: 100% !important;
                    max-height: 150px !important;
                    width: 100% !important;
                    height: auto !important;
                    object-fit: contain !important;
                    page-break-inside: avoid !important;
                  }
                  
                  /* Grid containers */
                  .grid,
                  div[class*="grid"] {
                    display: grid !important;
                    gap: 15px !important;
                    align-items: start !important;
                    margin: 10px 0 !important;
                  }
                  
                  /* Grid with images - responsive columns */
                  .grid img,
                  div[class*="grid"] img {
                    max-width: 180px !important;
                  }
                  
                  /* Ensure images don't break across pages */
                  img {
                    page-break-inside: avoid !important;
                    page-break-after: auto !important;
                    display: block !important;
                  }
                  
                  /* Document sections with images */
                  .print-section {
                    page-break-inside: auto !important;
                  }
                  
                  /* Better spacing for sections with images */
                  .print-section .kyc-doc,
                  .print-section img {
                    margin-bottom: 10px !important;
                  }
                }
                .terms-full-text {
                  margin-top: 20px;
                  padding: 15px;
                  background: #f8fafc;
                  border: 1px solid #e2e8f0;
                  border-radius: 8px;
                  font-size: 11px;
                  line-height: 1.6;
                  color: #334155;
                }
                .terms-full-text h4 {
                  font-size: 12px;
                  font-weight: bold;
                  margin-top: 12px;
                  margin-bottom: 6px;
                  color: #1e293b;
                }
                .terms-full-text ol,
                .terms-full-text ul {
                  margin-left: 20px;
                  margin-top: 8px;
                  margin-bottom: 8px;
                }
                .terms-full-text li {
                  margin-bottom: 4px;
                }
                .terms-full-text .penalty-table {
                  background: #fff7ed;
                  border: 1px solid #fed7aa;
                  padding: 10px;
                  border-radius: 6px;
                  margin-top: 10px;
                  width: 100%;
                }
                .penalty-box {
                  background: #fff7f0;
                  border: 1px solid #ffd8b5;
                  padding: 10px;
                  border-radius: 6px;
                  margin-top: 10px;
                }
              }
            </style>
          </head>
          <body>
            <!-- Print Header (appears on every page) -->
            <div class="print-page-header">
              <div class="print-page-header-left">
                <div class="print-page-header-logo">
                  <svg width="60" height="60" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M24 8C24 8 16 12 16 20C16 20 20 24 24 24C28 24 32 20 32 20C32 12 24 8 24 8Z" stroke="#214A73" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
        <path d="M24 40C24 40 32 36 32 28C32 28 28 24 24 24C20 24 16 28 16 28C16 36 24 40 24 40Z" stroke="#214A73" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
        <path d="M8 24C8 24 12 16 20 16C20 16 24 20 24 24C24 28 20 32 20 32C12 32 8 24 8 24Z" stroke="#214A73" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
        <path d="M40 24C40 24 36 32 28 32C28 32 24 28 24 24C24 20 28 16 28 16C36 16 40 24 40 24Z" stroke="#214A73" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
        <circle cx="24" cy="24" r="4" fill="#214A73"/>
      </svg>
                </div>
                <div class="print-page-header-text">
                  <h1>NEXO</h1>
                  <p>Partner Details Document</p>
                </div>
              </div>
              <div class="print-page-header-right">
                <div class="date">${new Date().toLocaleDateString("en-IN",{day:"numeric",month:"long",year:"numeric"})}</div>
                <div>Partner ID: ${(e==null?void 0:e.toString().slice(-8))||"N/A"}</div>
              </div>
            </div>
            
            <!-- Print Footer (appears on every page) -->
            <div class="print-page-footer">
              <div class="print-page-footer-left">
                ${$s?`
                  <div class="print-page-footer-signature">
                    <img src="${$s}" alt="Partner Signature" onerror="this.style.display='none'" />
                    <div class="print-page-footer-signature-text">
                      <div><strong>Partner Signature</strong></div>
                      <div>${(qe==null?void 0:qe.name)||"Partner"}</div>
                    </div>
                  </div>
                `:`
                  <div class="print-page-footer-signature-text">
                    <div><strong>NEXO Partner Platform</strong></div>
                    <div>Official Document</div>
                  </div>
                `}
              </div>
              <div class="print-page-footer-right">
                <div class="page-info">Page </div>
                <div>www.nexo.works</div>
              </div>
            </div>
            
            <!-- Main Content -->
            <div class="print-content-wrapper">
              ${N.current.innerHTML}
            </div>
          </body>
        </html>
      `),Jt.document.close(),Jt.focus(),setTimeout(()=>{const Sa=Jt.document.querySelectorAll("img");let _n=0;const ui=Sa.length;if(ui===0){Jt.print(),setTimeout(()=>Jt.close(),100);return}Sa.forEach(Mm=>{if(Mm.src.startsWith("data:")){_n++,_n===ui&&(Jt.print(),setTimeout(()=>Jt.close(),100));return}const co=new Image;co.crossOrigin="anonymous",co.onload=()=>{try{const zd=document.createElement("canvas");zd.width=co.width,zd.height=co.height,zd.getContext("2d").drawImage(co,0,0),Mm.src=zd.toDataURL("image/png"),_n++,_n===ui&&(Jt.print(),setTimeout(()=>Jt.close(),100))}catch(zd){console.warn("Failed to convert image:",zd),_n++,_n===ui&&(Jt.print(),setTimeout(()=>Jt.close(),100))}},co.onerror=()=>{_n++,_n===ui&&(Jt.print(),setTimeout(()=>Jt.close(),100))},Mm.src.startsWith("/")?co.src=window.location.origin+Mm.src:co.src=Mm.src})},500)}},Px=(xt==null?void 0:xt.transactions)||(xt==null?void 0:xt.bookings)||((l6=xt==null?void 0:xt.data)==null?void 0:l6.transactions)||[],Y5=(xt==null?void 0:xt.totalEarnings)||((o6=xt==null?void 0:xt.data)==null?void 0:o6.totalEarnings)||0,Na=(ot==null?void 0:ot.data)||ot||{},$d=(Na==null?void 0:Na.balance)||0,X5=(Na==null?void 0:Na.transactions)||((c6=Na==null?void 0:Na.data)==null?void 0:c6.transactions)||[],Ax=(Z==null?void 0:Z.data)||[],J5=(Z==null?void 0:Z.assignedHubs)||[],tv=J5.length>0?J5:Ax.filter(Q=>Q.isAssigned),Tx=(Na==null?void 0:Na.minWalletBalance)??Ct.minWalletBalance??0,Q5=(Na==null?void 0:Na.leadFee)??Ct.leadFee??0,bz=$d<Tx?`Wallet below minimum threshold (${Tx}). Recharge to resume lead notifications.`:`Wallet healthy. Minimum required: ${Tx}`,rv=Ct.leadsGuaranteed??0,sv=Ct.leadsUsed??0,vz=Ct.leadsRemaining??Math.max(rv-sv,0),jz=Ct.refundStatus||"pending";Px.map(Q=>{var Ie,kt;return{bookingId:((Ie=Q.bookingId)==null?void 0:Ie.toString().slice(-8))||"N/A",customerName:((kt=Q.user)==null?void 0:kt.name)||"N/A",serviceName:Q.subService||Q.service||"N/A",totalAmount:`${(Q.totalAmount||0).toLocaleString("en-IN")}`,commissionAmount:`${(Q.commissionAmount||0).toLocaleString("en-IN")}`,partnerEarnings:`${(Q.partnerEarnings||0).toLocaleString("en-IN")}`,completedAt:Q.completedAt?new Date(Q.completedAt).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}):"N/A"}});const wz=X5.map((Q,Ie)=>({id:Q._id||Q.id||`txn-${Ie}`,date:Q.createdAt?new Date(Q.createdAt).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):new Date().toLocaleDateString("en-IN"),type:t.jsx("span",{className:`inline-flex items-center gap-2 px-2.5 py-1 rounded-full text-xs font-semibold ${Q.type==="credit"?"bg-emerald-500/10 text-emerald-600":"bg-rose-500/10 text-rose-600"}`,children:Q.type==="credit"?"Credit":"Debit"}),amount:`${(Q.amount||0).toLocaleString("en-IN")}`,description:Q.description||"N/A",balance:`${(Q.balance||0).toLocaleString("en-IN")}`,reference:Q.reference||"N/A"}));return t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("button",{onClick:()=>r("/admin/partners"),className:"p-2 hover:bg-slate-100 rounded-lg transition",children:t.jsx(Y0,{className:"w-5 h-5 text-slate-600"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:(qe==null?void 0:qe.name)||"Partner Details"}),t.jsxs("p",{className:"text-sm text-slate-500",children:["Partner ID: ",(e==null?void 0:e.toString().slice(-8))||"N/A"]})]})]}),t.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[t.jsxs("div",{className:"relative group",children:[t.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition font-semibold",children:[t.jsx(Xt,{className:"w-5 h-5"}),"Wallet",t.jsx("span",{className:"text-xs ml-1",children:""})]}),t.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-white border border-slate-200 rounded-lg shadow-xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all z-50",children:t.jsxs("div",{className:"p-2",children:[t.jsxs("div",{className:"px-3 py-2 mb-2 bg-slate-50 rounded",children:[t.jsx("p",{className:"text-xs text-slate-500",children:"Current Balance"}),t.jsxs("p",{className:"text-lg font-bold text-slate-900",children:["",$d.toLocaleString("en-IN")]})]}),t.jsxs("button",{onClick:()=>{l("credit"),n(!0)},className:"w-full text-left px-4 py-2.5 hover:bg-slate-50 flex items-center gap-2 text-sm rounded transition",children:[t.jsx(Tr,{className:"w-4 h-4 text-emerald-600"}),t.jsx("span",{children:"Add Funds"})]}),t.jsxs("button",{onClick:()=>{l("debit"),n(!0)},className:"w-full text-left px-4 py-2.5 hover:bg-slate-50 flex items-center gap-2 text-sm rounded transition",children:[t.jsx(fj,{className:"w-4 h-4 text-rose-600"}),t.jsx("span",{children:"Deduct Funds"})]}),t.jsx("div",{className:"border-t border-slate-200 my-1"}),t.jsxs("button",{onClick:()=>oe(!0),className:"w-full text-left px-4 py-2.5 hover:bg-slate-50 flex items-center gap-2 text-sm rounded transition",children:[t.jsx(Ci,{className:"w-4 h-4 text-blue-600"}),t.jsx("span",{children:"View Wallet Transactions"})]}),t.jsxs("button",{onClick:()=>Je(!0),className:"w-full text-left px-4 py-2.5 hover:bg-slate-50 flex items-center gap-2 text-sm rounded transition",children:[t.jsx(hs,{className:"w-4 h-4 text-purple-600"}),t.jsx("span",{children:"View Fee Transactions"})]})]})})]}),Ee&&t.jsxs("div",{className:"flex items-center gap-2",children:[Ee.status!=="approved"&&t.jsxs("button",{onClick:async()=>{if(window.confirm("Approve KYC for this partner?"))try{await He.updatePartnerProfile(s,e,{kycStatus:"approved",kycRemarks:"Approved by admin"}),window.location.reload()}catch(Q){alert(Q.message||"Failed to approve KYC")}},className:"flex items-center gap-2 px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition font-semibold",children:[t.jsx(vt,{className:"w-5 h-5"}),"Approve KYC"]}),Ee.status!=="rejected"&&t.jsxs("button",{onClick:async()=>{const Q=prompt("Enter rejection reason:");if(Q)try{await He.updatePartnerProfile(s,e,{kycStatus:"rejected",kycRemarks:Q}),window.location.reload()}catch(Ie){alert(Ie.message||"Failed to reject KYC")}},className:"flex items-center gap-2 px-4 py-2 bg-rose-600 text-white rounded-lg hover:bg-rose-700 transition font-semibold",children:[t.jsx(Yn,{className:"w-5 h-5"}),"Reject KYC"]})]}),t.jsxs("button",{onClick:()=>K(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-semibold",children:[t.jsx(Wo,{className:"w-5 h-5"}),"Update KYC"]}),t.jsxs("button",{onClick:()=>ee(!0),className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition font-semibold",children:[t.jsx($f,{className:"w-5 h-5"}),"Profile Image"]}),t.jsxs("button",{onClick:()=>{var Q,Ie,kt,ct,Mt,tr,Bt,Sr,Jt;P({name:(qe==null?void 0:qe.name)||"",email:(qe==null?void 0:qe.email)||"",phone:(G==null?void 0:G.phone)||"",whatsappNumber:(G==null?void 0:G.whatsappNumber)||"",qualification:(G==null?void 0:G.qualification)||"",experience:((Q=G==null?void 0:G.experience)==null?void 0:Q.toString())||"",partnerType:(G==null?void 0:G.partnerType)||"individual",address:(qe==null?void 0:qe.address)||"",landmark:(qe==null?void 0:qe.landmark)||"",pincode:(qe==null?void 0:qe.pincode)||"",city:(qe==null?void 0:qe.city)||"",gstNumber:(qe==null?void 0:qe.gstNumber)||(G==null?void 0:G.gstNumber)||"",referralCode:(G==null?void 0:G.referralCode)||"",categories:la.map($s=>$s._id||$s.id||$s).filter(Boolean),categoryNames:oa,accountHolderName:(at==null?void 0:at.accountHolderName)||"",accountNumber:(at==null?void 0:at.accountNumber)||"",ifscCode:(at==null?void 0:at.ifscCode)||"",bankName:(at==null?void 0:at.bankName)||"",kycStatus:(Ee==null?void 0:Ee.status)||"",kycRemarks:(Ee==null?void 0:Ee.remarks)||"",registerAmount:((kt=(Ie=G==null?void 0:G.profile)==null?void 0:Ie.registerAmount)==null?void 0:kt.toString())||"",payId:((ct=G==null?void 0:G.profile)==null?void 0:ct.payId)||"",paidBy:((Mt=G==null?void 0:G.profile)==null?void 0:Mt.paidBy)||"",securityDeposit:((Bt=(tr=G==null?void 0:G.profile)==null?void 0:tr.securityDeposit)==null?void 0:Bt.toString())||"",toolkitPrice:((Jt=(Sr=G==null?void 0:G.profile)==null?void 0:Sr.toolkitPrice)==null?void 0:Jt.toString())||"",profileCompleted:(G==null?void 0:G.profileCompleted)||!1}),k(!0),se(""),T("")},className:"flex items-center gap-2 px-4 py-2 bg-slate-600 text-white rounded-lg hover:bg-slate-700 transition font-semibold",children:[t.jsx(ks,{className:"w-5 h-5"}),"Update Details"]}),t.jsxs("button",{onClick:yz,className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition font-semibold",children:[t.jsx(X0,{className:"w-5 h-5"}),"Print"]}),t.jsxs("button",{onClick:()=>ue(!0),className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition font-semibold",children:[t.jsx(pn,{className:"w-5 h-5"}),"ID Card"]})]})]}),t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6 mb-8",ref:N,children:[t.jsxs("div",{className:"print-header hidden print:block mb-6",children:[t.jsx("div",{className:"print-logo",children:t.jsxs("svg",{width:"80",height:"80",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{d:"M24 8C24 8 16 12 16 20C16 20 20 24 24 24C28 24 32 20 32 20C32 12 24 8 24 8Z",stroke:"#214A73",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"}),t.jsx("path",{d:"M24 40C24 40 32 36 32 28C32 28 28 24 24 24C20 24 16 28 16 28C16 36 24 40 24 40Z",stroke:"#214A73",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"}),t.jsx("path",{d:"M8 24C8 24 12 16 20 16C20 16 24 20 24 24C24 28 20 32 20 32C12 32 8 24 8 24Z",stroke:"#214A73",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"}),t.jsx("path",{d:"M40 24C40 24 36 32 28 32C28 32 24 28 24 24C24 20 28 16 28 16C36 16 40 24 40 24Z",stroke:"#214A73",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"}),t.jsx("circle",{cx:"24",cy:"24",r:"4",fill:"#214A73"})]})}),t.jsxs("div",{className:"print-header-content",children:[t.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Nexo - Partner Full Details Report"}),t.jsxs("p",{className:"text-sm text-slate-600",children:["Generated on ",new Date().toLocaleString("en-IN")]}),t.jsxs("p",{className:"text-sm text-slate-600",children:["Partner ID: ",e]})]})]}),(rt||Ht)&&!(Xe!=null&&Xe._id)?t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary mb-4"}),t.jsx("p",{className:"text-slate-500",children:"Loading partner details..."})]}):ht?t.jsxs("div",{className:"bg-rose-50 border border-rose-200 text-rose-600 px-4 py-3 rounded-lg text-sm",children:["Error loading partner details: ",ht]}):t.jsxs("div",{className:"space-y-8",children:[t.jsxs("div",{className:"print-section",children:[t.jsxs("h2",{className:"text-lg font-bold text-slate-900 mb-4 print-section-title flex items-center gap-2",children:[t.jsx(vr,{className:"w-5 h-5"}),"Basic Information"]}),((qe==null?void 0:qe.profileImage)||(G==null?void 0:G.profilePicture))&&t.jsxs("div",{className:"mb-6 flex items-center gap-4 pb-6 border-b border-slate-200",children:[t.jsx("div",{className:"relative",children:t.jsx("img",{src:(d6=(qe==null?void 0:qe.profileImage)||(G==null?void 0:G.profilePicture))!=null&&d6.startsWith("http")?(qe==null?void 0:qe.profileImage)||(G==null?void 0:G.profilePicture):`/uploads/profiles/${(qe==null?void 0:qe.profileImage)||(G==null?void 0:G.profilePicture)}`,alt:"Profile",className:"w-24 h-24 rounded-full object-cover border-4 border-slate-200 profile-image",onError:Q=>{Q.target.src="https://via.placeholder.com/150?text=No+Image"}})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500",children:"Profile Picture"}),t.jsx("a",{href:(u6=(qe==null?void 0:qe.profileImage)||(G==null?void 0:G.profilePicture))!=null&&u6.startsWith("http")?(qe==null?void 0:qe.profileImage)||(G==null?void 0:G.profilePicture):`/uploads/profiles/${(qe==null?void 0:qe.profileImage)||(G==null?void 0:G.profilePicture)}`,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-primary hover:underline",children:"View Full Size"})]})]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-x-8 gap-y-4 print-grid",children:[t.jsxs("div",{className:"space-y-1",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Full Name"}),t.jsx("p",{className:"text-base text-slate-900 print-value font-medium",children:(qe==null?void 0:qe.name)||"N/A"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Email"}),t.jsx("p",{className:"text-base text-slate-900 print-value font-medium",children:(qe==null?void 0:qe.email)||"N/A"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Phone Number"}),t.jsx("p",{className:"text-base text-slate-900 print-value font-medium",children:(G==null?void 0:G.phone)||"N/A"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"WhatsApp Number"}),t.jsx("p",{className:"text-base text-slate-900 print-value font-medium",children:(G==null?void 0:G.whatsappNumber)||"N/A"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Qualification"}),t.jsx("p",{className:"text-base text-slate-900 print-value font-medium",children:(G==null?void 0:G.qualification)||"N/A"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Experience (Years)"}),t.jsx("p",{className:"text-base text-slate-900 print-value font-medium",children:(G==null?void 0:G.experience)||"N/A"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Referral Code"}),t.jsx("p",{className:"text-base text-slate-900 print-value font-medium",children:(G==null?void 0:G.referralCode)||"N/A"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"GST Number"}),t.jsx("p",{className:"text-base text-slate-900 print-value font-medium",children:(qe==null?void 0:qe.gstNumber)||(G==null?void 0:G.gstNumber)||"Not Provided"})]}),t.jsxs("div",{className:"md:col-span-2 space-y-1 print-full-width",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Address"}),t.jsx("p",{className:"text-base text-slate-900 print-value font-medium",children:(qe==null?void 0:qe.address)||"N/A"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Landmark"}),t.jsx("p",{className:"text-base text-slate-900 print-value font-medium",children:(qe==null?void 0:qe.landmark)||"N/A"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Pincode"}),t.jsx("p",{className:"text-base text-slate-900 print-value font-medium",children:(qe==null?void 0:qe.pincode)||"N/A"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"City"}),t.jsx("p",{className:"text-base text-slate-900 print-value font-medium",children:(qe==null?void 0:qe.city)||"N/A"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Profile Status"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold ${G!=null&&G.profileCompleted?"bg-emerald-500/10 text-emerald-600 status-badge status-approved":"bg-amber-500/10 text-amber-600 status-badge status-pending"}`,children:G!=null&&G.profileCompleted?"COMPLETED":"INCOMPLETE"}),t.jsx("button",{onClick:async()=>{const Q=!(G!=null&&G.profileCompleted),Ie=Q?"Mark this profile as COMPLETED?":"Mark this profile as INCOMPLETE?";if(window.confirm(Ie))try{ce(!0),await He.updatePartnerProfile(s,e,{profileCompleted:Q}),alert("Profile status updated successfully!"),window.location.reload()}catch(kt){alert("Failed to update profile status: "+kt.message)}finally{ce(!1)}},className:"print:hidden p-1.5 text-slate-600 hover:text-primary hover:bg-slate-100 rounded-lg transition",title:"Toggle Profile Status",children:t.jsx(ks,{className:"w-4 h-4"})})]})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Partner Type"}),t.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold ${(G==null?void 0:G.partnerType)==="franchise"?"bg-purple-500/10 text-purple-600 status-badge":"bg-blue-500/10 text-blue-600 status-badge"}`,children:(G==null?void 0:G.partnerType)==="franchise"?"FRANCHISE":"INDIVIDUAL"})]})]})]}),t.jsxs("div",{className:"print-section border-t border-slate-200 pt-6",children:[t.jsxs("h2",{className:"text-lg font-bold text-slate-900 mb-4 print-section-title flex items-center gap-2",children:[t.jsx(as,{className:"w-5 h-5"}),"Service Information"]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-6 print-grid",children:[t.jsxs("div",{className:"md:col-span-2 print-full-width",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-2 print-label",children:"Categories"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:oa.length>0?oa.map((Q,Ie)=>t.jsx("span",{className:"px-3 py-1 bg-primary/10 text-primary rounded-full text-sm font-semibold",children:Q},Ie)):t.jsx("span",{className:"text-slate-500",children:"No categories selected"})})]}),Cx.length>0&&t.jsxs("div",{className:"md:col-span-2 print-full-width",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-2 print-label",children:"Sub-Categories"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:Cx.map((Q,Ie)=>t.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm",children:(Q==null?void 0:Q.name)||"N/A"},Ie))})]}),kx.length>0&&t.jsxs("div",{className:"md:col-span-2 print-full-width",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-2 print-label",children:"Services"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:kx.map((Q,Ie)=>t.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-sm",children:(Q==null?void 0:Q.name)||"N/A"},Ie))})]}),(G==null?void 0:G.modeOfService)&&t.jsxs("div",{className:"md:col-span-2 print-full-width",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-2 print-label",children:"Mode of Service"}),t.jsx("span",{className:"px-3 py-1 bg-indigo-100 text-indigo-700 rounded-full text-sm font-semibold capitalize",children:G.modeOfService==="online"?"Online":G.modeOfService==="offline"?"Offline":G.modeOfService})]})]})]}),t.jsxs("div",{className:"print-section border-t border-slate-200 pt-6",children:[t.jsxs("h2",{className:"text-lg font-bold text-slate-900 mb-4 print-section-title flex items-center gap-2",children:[t.jsx(Yt,{className:"w-5 h-5"}),"KYC Documents & Status"]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-6 print-grid",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"KYC Status"}),t.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold ${(Ee==null?void 0:Ee.status)==="approved"||(G==null?void 0:G.status)==="approved"?"bg-emerald-500/10 text-emerald-600 status-badge status-approved":(Ee==null?void 0:Ee.status)==="rejected"||(G==null?void 0:G.status)==="rejected"?"bg-rose-500/10 text-rose-600 status-badge status-rejected":"bg-amber-500/10 text-amber-600 status-badge status-pending"}`,children:((Ee==null?void 0:Ee.status)||(G==null?void 0:G.status)||"pending").toUpperCase()})]}),(Ee==null?void 0:Ee.remarks)&&t.jsxs("div",{className:"md:col-span-2 print-full-width",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"KYC Remarks"}),t.jsx("p",{className:"text-base text-slate-900 print-value",children:Ee.remarks})]}),t.jsxs("div",{className:"md:col-span-2 print-full-width",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-4 print-label",children:"KYC Documents"}),t.jsxs("div",{className:"flex flex-wrap gap-4 kyc-documents-container",children:[(Ee==null?void 0:Ee.panCard)&&t.jsxs("div",{className:"group relative bg-slate-50 rounded-lg border border-slate-200 overflow-hidden hover:shadow-lg transition-shadow kyc-doc",children:[t.jsxs("div",{className:"aspect-[4/3] relative",style:{maxHeight:"128px",overflow:"hidden"},children:[t.jsx("img",{src:Ee.panCard.startsWith("http")?Ee.panCard:`/uploads/kyc/${Ee.panCard}`,alt:"PAN Card",className:"w-full h-full object-cover",style:{maxHeight:"128px",width:"100%",height:"auto"},onError:Q=>{Q.target.style.display="none",Q.target.nextSibling&&(Q.target.nextSibling.style.display="flex")}}),t.jsx("div",{className:"hidden absolute inset-0 bg-slate-100 items-center justify-center",children:t.jsx(Yt,{className:"w-12 h-12 text-slate-400"})})]}),t.jsxs("div",{className:"p-3 bg-white",children:[t.jsx("p",{className:"text-xs font-semibold text-slate-700",children:"PAN Card"}),t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Identity Document"})]}),t.jsx("a",{href:Ee.panCard.startsWith("http")?Ee.panCard:`/uploads/kyc/${Ee.panCard}`,target:"_blank",rel:"noopener noreferrer",className:"absolute inset-0 z-10",title:"Click to view full size"})]}),(Ee==null?void 0:Ee.aadhaar)&&t.jsxs("div",{className:"group relative bg-slate-50 rounded-lg border border-slate-200 overflow-hidden hover:shadow-lg transition-shadow kyc-doc",children:[t.jsxs("div",{className:"aspect-[4/3] relative",style:{maxHeight:"128px",overflow:"hidden"},children:[t.jsx("img",{src:Ee.aadhaar.startsWith("http")?Ee.aadhaar:`/uploads/kyc/${Ee.aadhaar}`,alt:"Aadhaar Front",className:"w-full h-full object-cover",style:{maxHeight:"128px",width:"100%",height:"auto"},onError:Q=>{Q.target.style.display="none",Q.target.nextSibling&&(Q.target.nextSibling.style.display="flex")}}),t.jsx("div",{className:"hidden absolute inset-0 bg-slate-100 items-center justify-center",children:t.jsx(Yt,{className:"w-12 h-12 text-slate-400"})})]}),t.jsxs("div",{className:"p-3 bg-white",children:[t.jsx("p",{className:"text-xs font-semibold text-slate-700",children:"Aadhaar (Front)"}),t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Identity Document"})]}),t.jsx("a",{href:Ee.aadhaar.startsWith("http")?Ee.aadhaar:`/uploads/kyc/${Ee.aadhaar}`,target:"_blank",rel:"noopener noreferrer",className:"absolute inset-0 z-10",title:"Click to view full size"})]}),(Ee==null?void 0:Ee.aadhaarback)&&t.jsxs("div",{className:"group relative bg-slate-50 rounded-lg border border-slate-200 overflow-hidden hover:shadow-lg transition-shadow kyc-doc",children:[t.jsxs("div",{className:"aspect-[4/3] relative",style:{maxHeight:"128px",overflow:"hidden"},children:[t.jsx("img",{src:Ee.aadhaarback.startsWith("http")?Ee.aadhaarback:`/uploads/kyc/${Ee.aadhaarback}`,alt:"Aadhaar Back",className:"w-full h-full object-cover",style:{maxHeight:"128px",width:"100%",height:"auto"},onError:Q=>{Q.target.style.display="none",Q.target.nextSibling&&(Q.target.nextSibling.style.display="flex")}}),t.jsx("div",{className:"hidden absolute inset-0 bg-slate-100 items-center justify-center",children:t.jsx(Yt,{className:"w-12 h-12 text-slate-400"})})]}),t.jsxs("div",{className:"p-3 bg-white",children:[t.jsx("p",{className:"text-xs font-semibold text-slate-700",children:"Aadhaar (Back)"}),t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Identity Document"})]}),t.jsx("a",{href:Ee.aadhaarback.startsWith("http")?Ee.aadhaarback:`/uploads/kyc/${Ee.aadhaarback}`,target:"_blank",rel:"noopener noreferrer",className:"absolute inset-0 z-10",title:"Click to view full size"})]}),(Ee==null?void 0:Ee.drivingLicence)&&t.jsxs("div",{className:"group relative bg-slate-50 rounded-lg border border-slate-200 overflow-hidden hover:shadow-lg transition-shadow kyc-doc",children:[t.jsxs("div",{className:"aspect-[4/3] relative",style:{maxHeight:"128px",overflow:"hidden"},children:[t.jsx("img",{src:Ee.drivingLicence.startsWith("http")?Ee.drivingLicence:`/uploads/kyc/${Ee.drivingLicence}`,alt:"Driving Licence",className:"w-full h-full object-cover",style:{maxHeight:"128px",width:"100%",height:"auto"},onError:Q=>{Q.target.style.display="none",Q.target.nextSibling&&(Q.target.nextSibling.style.display="flex")}}),t.jsx("div",{className:"hidden absolute inset-0 bg-slate-100 items-center justify-center",children:t.jsx(Yt,{className:"w-12 h-12 text-slate-400"})})]}),t.jsxs("div",{className:"p-3 bg-white",children:[t.jsx("p",{className:"text-xs font-semibold text-slate-700",children:"Driving Licence"}),t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Identity Document"})]}),t.jsx("a",{href:Ee.drivingLicence.startsWith("http")?Ee.drivingLicence:`/uploads/kyc/${Ee.drivingLicence}`,target:"_blank",rel:"noopener noreferrer",className:"absolute inset-0 z-10",title:"Click to view full size"})]}),(Ee==null?void 0:Ee.bill)&&t.jsxs("div",{className:"group relative bg-slate-50 rounded-lg border border-slate-200 overflow-hidden hover:shadow-lg transition-shadow kyc-doc",children:[t.jsxs("div",{className:"aspect-[4/3] relative",style:{maxHeight:"128px",overflow:"hidden"},children:[t.jsx("img",{src:Ee.bill.startsWith("http")?Ee.bill:`/uploads/kyc/${Ee.bill}`,alt:"Utility Bill",className:"w-full h-full object-cover",style:{maxHeight:"128px",width:"100%",height:"auto"},onError:Q=>{Q.target.style.display="none",Q.target.nextSibling&&(Q.target.nextSibling.style.display="flex")}}),t.jsx("div",{className:"hidden absolute inset-0 bg-slate-100 items-center justify-center",children:t.jsx(Yt,{className:"w-12 h-12 text-slate-400"})})]}),t.jsxs("div",{className:"p-3 bg-white",children:[t.jsx("p",{className:"text-xs font-semibold text-slate-700",children:"Utility Bill"}),t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Address Proof"})]}),t.jsx("a",{href:Ee.bill.startsWith("http")?Ee.bill:`/uploads/kyc/${Ee.bill}`,target:"_blank",rel:"noopener noreferrer",className:"absolute inset-0 z-10",title:"Click to view full size"})]}),((Ee==null?void 0:Ee.chequeImage)||(at==null?void 0:at.chequeImage))&&t.jsxs("div",{className:"group relative bg-slate-50 rounded-lg border border-slate-200 overflow-hidden hover:shadow-lg transition-shadow kyc-doc",children:[t.jsxs("div",{className:"aspect-[4/3] relative",style:{maxHeight:"128px",overflow:"hidden"},children:[t.jsx("img",{src:(m6=(Ee==null?void 0:Ee.chequeImage)||(at==null?void 0:at.chequeImage))!=null&&m6.startsWith("http")||(h6=(Ee==null?void 0:Ee.chequeImage)||(at==null?void 0:at.chequeImage))!=null&&h6.includes("s3.amazonaws.com")?(Ee==null?void 0:Ee.chequeImage)||(at==null?void 0:at.chequeImage):`/uploads/kyc/${(Ee==null?void 0:Ee.chequeImage)||(at==null?void 0:at.chequeImage)}`,alt:"Cancelled Cheque",className:"w-full h-full object-cover",style:{maxHeight:"128px",width:"100%",height:"auto"},onError:Q=>{Q.target.style.display="none",Q.target.nextSibling&&(Q.target.nextSibling.style.display="flex")}}),t.jsx("div",{className:"hidden absolute inset-0 bg-slate-100 items-center justify-center",children:t.jsx(Yt,{className:"w-12 h-12 text-slate-400"})})]}),t.jsxs("div",{className:"p-3 bg-white",children:[t.jsx("p",{className:"text-xs font-semibold text-slate-700",children:"Cancelled Cheque"}),t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Bank Proof"})]}),t.jsx("a",{href:(x6=(Ee==null?void 0:Ee.chequeImage)||(at==null?void 0:at.chequeImage))!=null&&x6.startsWith("http")||(p6=(Ee==null?void 0:Ee.chequeImage)||(at==null?void 0:at.chequeImage))!=null&&p6.includes("s3.amazonaws.com")?(Ee==null?void 0:Ee.chequeImage)||(at==null?void 0:at.chequeImage):`/uploads/kyc/${(Ee==null?void 0:Ee.chequeImage)||(at==null?void 0:at.chequeImage)}`,target:"_blank",rel:"noopener noreferrer",className:"absolute inset-0 z-10",title:"Click to view full size"})]})]})]})]})]}),t.jsxs("div",{className:"print-section border-t border-slate-200 pt-6",children:[t.jsxs("h2",{className:"text-lg font-bold text-slate-900 mb-4 print-section-title flex items-center gap-2",children:[t.jsx(hs,{className:"w-5 h-5"}),"Payment Information"]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-6 print-grid",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Registration Amount"}),t.jsxs("p",{className:"text-base text-slate-900 print-value",children:["",(((f6=G==null?void 0:G.profile)==null?void 0:f6.registerAmount)||0).toLocaleString("en-IN")]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Payment ID"}),t.jsx("p",{className:"text-base text-slate-900 print-value font-mono",children:((g6=G==null?void 0:G.profile)==null?void 0:g6.payId)||"Not Provided"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Security Deposit"}),t.jsxs("p",{className:"text-base text-slate-900 print-value",children:["",(((y6=G==null?void 0:G.profile)==null?void 0:y6.securityDeposit)||0).toLocaleString("en-IN")]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Toolkit Price"}),t.jsxs("p",{className:"text-base text-slate-900 print-value",children:["",(((b6=G==null?void 0:G.profile)==null?void 0:b6.toolkitPrice)||0).toLocaleString("en-IN")]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Paid By"}),t.jsx("p",{className:"text-base text-slate-900 print-value",children:((v6=G==null?void 0:G.profile)==null?void 0:v6.paidBy)||"Not Specified"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Payment Status"}),(j6=G==null?void 0:G.profile)!=null&&j6.paymentApproved?t.jsx("p",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold print-value bg-emerald-500/10 text-emerald-600",children:"Paid"}):t.jsxs("button",{onClick:ze,disabled:he,className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold bg-amber-500/10 text-amber-600 hover:bg-amber-500/20 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[he?t.jsx(tp,{className:"w-3 h-3 animate-spin mr-1"}):null,he?"Verifying...":"Verify Payment"]})]})]})]}),((G==null?void 0:G.terms)||(gt==null?void 0:gt.signature)||(gt==null?void 0:gt.accepted))&&t.jsxs("div",{className:"print-section border-t border-slate-200 pt-6",children:[t.jsxs("h2",{className:"text-lg font-bold text-slate-900 mb-4 print-section-title flex items-center gap-2",children:[t.jsx(Yt,{className:"w-5 h-5"}),"Terms & Conditions Acceptance"]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-6 print-grid",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Terms Accepted"}),t.jsx("p",{className:"text-base text-slate-900 print-value",children:gt.accepted||(w6=G==null?void 0:G.terms)!=null&&w6.accepted?t.jsxs("span",{className:"inline-flex items-center gap-2 text-emerald-600 font-semibold",children:[t.jsx(vt,{className:"w-5 h-5"}),"Accepted"]}):t.jsx("span",{className:"text-slate-400",children:"Not Accepted"})})]}),(gt.acceptedAt||((N6=G==null?void 0:G.terms)==null?void 0:N6.acceptedAt))&&t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Accepted On"}),t.jsx("p",{className:"text-base text-slate-900 print-value",children:new Date(gt.acceptedAt||((S6=G==null?void 0:G.terms)==null?void 0:S6.acceptedAt)).toLocaleString("en-IN")})]}),(gt.signature||((k6=G==null?void 0:G.terms)==null?void 0:k6.signature))&&t.jsxs("div",{className:"md:col-span-2 print-full-width",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-2 print-label",children:"Digital Signature"}),t.jsx("img",{src:(P6=gt.signature||((C6=G==null?void 0:G.terms)==null?void 0:C6.signature))!=null&&P6.startsWith("data:")?gt.signature||((A6=G==null?void 0:G.terms)==null?void 0:A6.signature):(E6=gt.signature||((T6=G==null?void 0:G.terms)==null?void 0:T6.signature))!=null&&E6.startsWith("http")?gt.signature||((I6=G==null?void 0:G.terms)==null?void 0:I6.signature):`/uploads/signatures/${gt.signature||((_6=G==null?void 0:G.terms)==null?void 0:_6.signature)}`,alt:"Partner Signature",className:"signature-image",style:{maxWidth:"250px",maxHeight:"100px",objectFit:"contain"},onError:Q=>{Q.target.style.display="none"}})]}),t.jsx("div",{className:"md:col-span-2 print-full-width",children:t.jsxs("div",{className:"terms-full-text",children:[t.jsx("h4",{children:"AGREEMENT"}),t.jsx("p",{children:'This Partner Service Agreement ("Agreement") is between NEXO ("Company") and the registered service provider ("Partner"). It governs onboarding, obligations, fees, penalties, liabilities and termination.'}),t.jsx("h4",{children:"Key Points:"}),t.jsxs("ol",{children:[t.jsxs("li",{children:[t.jsx("strong",{children:"Onboarding:"})," Partner shall provide valid KYC (Aadhaar, PAN, Address proof, Photo). Police verification required within 30 days."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Fees:"})," Registration fee, Toolkit fee, MG Plan, Security deposit (terms set by Platform)."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Obligations:"})," Partner shall perform services with due skill, follow SOP, not solicit off-platform, not collect customer data off platform."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Payments:"})," All payments routed through Platform; Partner is independent contractor."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Safety:"})," No intoxication, no harassment; female-customer safety prioritized."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Penalties:"})," Attempt to take customer offline  5,000 + termination; Last-minute cancellations, no-shows, delays and verified complaints trigger specified monetary penalties and suspension/termination for repeated violations."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Liability:"})," Partner responsible for damages caused by negligence; Company not responsible for Partner's personal injury or tools."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Confidentiality:"})," Partner must keep customer and Company data confidential."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Governing Law:"})," Indian law; exclusive jurisdiction of Bengaluru Courts."]})]}),t.jsxs("div",{className:"penalty-table",children:[t.jsx("h4",{children:"Representative Penalty Table:"}),t.jsxs("ul",{children:[t.jsxs("li",{children:["Offline / direct contact with customer: ",t.jsx("strong",{children:"5,000 + termination + wallet freeze"})]}),t.jsxs("li",{children:["Cancel within 2 hours: ",t.jsx("strong",{children:"199"})," | Cancel after reaching site: ",t.jsx("strong",{children:"299"})]}),t.jsxs("li",{children:["No-show after accept: ",t.jsx("strong",{children:"299"})," | Delay > 30 mins: ",t.jsx("strong",{children:"99"})]}),t.jsxs("li",{children:["Verified complaint: ",t.jsx("strong",{children:"199999"})," depending on severity"]})]})]}),t.jsx("p",{style:{marginTop:"12px",fontSize:"10px",color:"#64748b"},children:"Full and binding terms are published on the Platform. By signing and accepting above you confirm you read and agree to all terms and penalties."})]})})]})]}),t.jsxs("div",{className:"print-section border-t border-slate-200 pt-6",children:[t.jsxs("h2",{className:"text-lg font-bold text-slate-900 mb-4 print-section-title flex items-center gap-2",children:[t.jsx(hs,{className:"w-5 h-5"}),"Bank Details"]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-6 print-grid",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Account Holder Name"}),t.jsx("p",{className:"text-base text-slate-900 print-value",children:(at==null?void 0:at.accountHolderName)||"N/A"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Account Number"}),t.jsx("p",{className:"text-base text-slate-900 print-value",children:(at==null?void 0:at.accountNumber)||"N/A"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"IFSC Code"}),t.jsx("p",{className:"text-base text-slate-900 print-value",children:(at==null?void 0:at.ifscCode)||"N/A"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Bank Name"}),t.jsx("p",{className:"text-base text-slate-900 print-value",children:(at==null?void 0:at.bankName)||"N/A"})]}),((at==null?void 0:at.chequeImage)||(Ee==null?void 0:Ee.chequeImage))&&t.jsxs("div",{className:"md:col-span-2 print-full-width",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-2 print-label",children:"Cancelled Cheque"}),t.jsxs("div",{className:"bg-slate-50 rounded-lg border border-slate-200 overflow-hidden",children:[t.jsx("img",{src:(O6=(at==null?void 0:at.chequeImage)||(Ee==null?void 0:Ee.chequeImage))!=null&&O6.startsWith("http")||(D6=(at==null?void 0:at.chequeImage)||(Ee==null?void 0:Ee.chequeImage))!=null&&D6.includes("s3.amazonaws.com")?(at==null?void 0:at.chequeImage)||(Ee==null?void 0:Ee.chequeImage):`/uploads/kyc/${(at==null?void 0:at.chequeImage)||(Ee==null?void 0:Ee.chequeImage)}`,alt:"Cancelled Cheque",className:"w-full h-auto max-h-64 object-contain",onError:Q=>{Q.target.style.display="none",Q.target.nextSibling&&(Q.target.nextSibling.style.display="block")}}),t.jsxs("div",{className:"hidden p-4 text-center text-slate-500",children:[t.jsx(Yt,{className:"w-12 h-12 mx-auto mb-2"}),t.jsx("p",{className:"text-sm",children:"Image not available"})]}),t.jsx("a",{href:(M6=(at==null?void 0:at.chequeImage)||(Ee==null?void 0:Ee.chequeImage))!=null&&M6.startsWith("http")||(L6=(at==null?void 0:at.chequeImage)||(Ee==null?void 0:Ee.chequeImage))!=null&&L6.includes("s3.amazonaws.com")?(at==null?void 0:at.chequeImage)||(Ee==null?void 0:Ee.chequeImage):`/uploads/kyc/${(at==null?void 0:at.chequeImage)||(Ee==null?void 0:Ee.chequeImage)}`,target:"_blank",rel:"noopener noreferrer",className:"block text-xs text-primary hover:underline mt-2 text-center",children:"View Full Size"})]})]})]})]}),((zt==null?void 0:zt._id)||(zt==null?void 0:zt.name))&&t.jsxs("div",{className:"print-section border-t border-slate-200 pt-6",children:[t.jsxs("h2",{className:"text-lg font-bold text-slate-900 mb-4 print-section-title flex items-center gap-2",children:[t.jsx(pn,{className:"w-5 h-5"}),"MG Plan Details"]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-6 print-grid",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Plan Name"}),t.jsx("p",{className:"text-base text-slate-900 print-value",children:(zt==null?void 0:zt.name)||"N/A"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Plan Price"}),t.jsxs("p",{className:"text-base text-slate-900 print-value",children:["",(zt.price||0).toLocaleString("en-IN")]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Guaranteed Leads"}),t.jsxs("p",{className:"text-base text-slate-900 print-value",children:[zt.leads||0," leads/month"]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Commission Rate"}),t.jsxs("p",{className:"text-base text-slate-900 print-value",children:[zt.commission||0,"%"]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Lead Fee"}),t.jsxs("p",{className:"text-base text-slate-900 print-value",children:["",(zt.leadFee||0).toLocaleString("en-IN")]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Minimum Wallet Balance"}),t.jsxs("p",{className:"text-base text-slate-900 print-value",children:["",(zt.minWalletBalance||0).toLocaleString("en-IN")]})]}),(G==null?void 0:G.mgPlanSubscribedAt)&&t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Subscribed On"}),t.jsx("p",{className:"text-base text-slate-900 print-value",children:new Date(G.mgPlanSubscribedAt).toLocaleDateString("en-IN",{day:"numeric",month:"long",year:"numeric"})})]}),(G==null?void 0:G.mgPlanExpiresAt)&&t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Expires On"}),t.jsx("p",{className:"text-base text-slate-900 print-value",children:new Date(G.mgPlanExpiresAt).toLocaleDateString("en-IN",{day:"numeric",month:"long",year:"numeric"})})]})]})]}),t.jsxs("div",{className:"print-section border-t border-slate-200 pt-6",children:[t.jsxs("h2",{className:"text-lg font-bold text-slate-900 mb-4 print-section-title flex items-center gap-2",children:[t.jsx(Xt,{className:"w-5 h-5"}),"Performance Summary"]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-6 print-grid",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Total Earnings"}),t.jsxs("p",{className:"text-2xl font-bold text-emerald-600 print-value",children:["",Y5.toLocaleString("en-IN")]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Wallet Balance"}),t.jsxs("p",{className:"text-2xl font-bold text-primary print-value",children:["",$d.toLocaleString("en-IN")]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Completed Bookings"}),t.jsx("p",{className:"text-xl font-bold text-slate-900 print-value",children:Px.length})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"MG Plan Leads Used"}),t.jsxs("p",{className:"text-xl font-bold text-slate-900 print-value",children:[sv," / ",rv]})]})]})]}),t.jsxs("div",{className:"print-section border-t border-slate-200 pt-6",children:[t.jsx("h2",{className:"text-lg font-bold text-slate-900 mb-4 print-section-title",children:"PARTNER TERMS & CONDITIONS"}),t.jsxs("div",{className:"terms-full-text",children:[t.jsx("div",{className:"mb-4 pb-3 border-b border-gray-200",children:t.jsxs("div",{className:"text-xs text-gray-600 space-y-1 mb-3",children:[t.jsxs("p",{children:[t.jsx("strong",{children:"Effective Date:"})," 15th November 2025"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Last Updated:"})," 15th November 2025"]})]})}),t.jsxs("div",{className:"space-y-4 text-sm text-gray-700",children:[t.jsxs("div",{children:[t.jsx("h4",{children:"1. Introduction"}),t.jsx("p",{children:'These Partner Terms & Conditions ("Terms") constitute a binding agreement between NEXO ("Company", "Platform", "We", "Us") and the individual or business entity ("Partner", "Service Provider", "You") who registers to provide on-site or online services through the Platform.'}),t.jsx("p",{children:"By registering or accepting any service request, the Partner expressly agrees to these Terms."})]}),t.jsxs("div",{children:[t.jsx("h4",{children:"2. Independent Contractor Status"}),t.jsxs("ul",{children:[t.jsx("li",{children:"The Partner is an independent contractor, not an employee, representative, or agent of NEXO."}),t.jsx("li",{children:"No employment benefits (PF, ESI, gratuity, insurance, paid leave, salary) shall be applicable."}),t.jsx("li",{children:"The Partner is solely responsible for compliance with GST, income tax, labour laws, and all statutory obligations."})]})]}),t.jsxs("div",{children:[t.jsx("h4",{children:"3. Mandatory Registration & Onboarding Requirements"}),t.jsx("p",{children:"The Partner shall complete mandatory onboarding, including but not limited to:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Valid Government ID"}),t.jsx("li",{children:"Address proof"}),t.jsx("li",{children:"Skill verification/trade test (if applicable)"}),t.jsx("li",{children:"Police verification (whenever required)"}),t.jsx("li",{children:"Recent photograph"}),t.jsx("li",{children:"Bank account details"}),t.jsx("li",{children:"GST number (if applicable)"})]}),t.jsx("p",{children:t.jsx("strong",{children:"Payment of applicable onboarding fees:"})}),t.jsxs("ul",{children:[t.jsx("li",{children:"Registration Fee"}),t.jsx("li",{children:"Toolkit Fee (if provided)"}),t.jsx("li",{children:"Minimum Guarantee (MG) Plan"}),t.jsx("li",{children:"Security Deposit"})]}),t.jsx("p",{className:"text-xs",children:"All fees are non-refundable, except security deposit which is refundable as per Clause 20."})]}),t.jsxs("div",{children:[t.jsx("h4",{children:"4. Partner Obligations"}),t.jsx("p",{children:"Partner shall:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Maintain professional behaviour at all times."}),t.jsx("li",{children:"Deliver high-quality, safe, and lawful services."}),t.jsx("li",{children:"Carry valid Partner ID during every service."}),t.jsx("li",{children:"Reach customer location on time."}),t.jsx("li",{children:"Provide correct service estimates before starting work."}),t.jsx("li",{children:"Maintain hygiene, wear uniform/ID (if provided)."}),t.jsx("li",{children:"Not engage in misconduct, harassment, abuse, threats, or illegal activity."}),t.jsx("li",{children:"Maintain tools and ensure safe operation."}),t.jsx("li",{children:"Not demand cash payments directly from customers."}),t.jsx("li",{children:"Not solicit or accept off-platform work (strict penalty)."})]})]}),t.jsxs("div",{children:[t.jsx("h4",{children:"5. Pricing, Estimates & Billing"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Partner must follow NEXO pricing structure and guidelines."}),t.jsx("li",{children:"Any additional work must be pre-approved through the Platform."}),t.jsx("li",{children:"Partner shall not overcharge or misrepresent pricing."}),t.jsx("li",{children:"All payments shall be processed solely through NEXO."}),t.jsx("li",{children:"Partner is responsible for issuing bills/invoices where required by law."})]})]}),t.jsxs("div",{children:[t.jsx("h4",{children:"6. Platform Commission & Deductions"}),t.jsx("p",{children:"Partner agrees to the following deductions:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Platform Commission (%)"}),t.jsx("li",{children:"Lead Cost per lead"}),t.jsx("li",{children:"GST applicable on Platform Commission"}),t.jsx("li",{children:"Penalties & Fines"}),t.jsx("li",{children:"TDS (if applicable)"}),t.jsx("li",{children:"Outstanding dues from previous jobs"}),t.jsx("li",{children:"MG Plan adjustments"})]}),t.jsx("p",{className:"text-xs",children:"All deductions shall be final and binding."})]}),t.jsxs("div",{children:[t.jsx("h4",{children:"7. Mandatory Safety Requirements"}),t.jsx("p",{children:"Partner shall:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Follow safety protocols prescribed by NEXO."}),t.jsx("li",{children:"Use proper tools and protective equipment."}),t.jsx("li",{children:"Not perform services beyond skill level or without proper safety."}),t.jsx("li",{children:"Not endanger customer, property, or themselves."})]}),t.jsx("p",{children:"Failure may result in:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Immediate suspension"}),t.jsx("li",{children:"Penalty up to 5,000"}),t.jsx("li",{children:"Legal action for damages"})]})]}),t.jsxs("div",{children:[t.jsx("h4",{children:"8. Customer Safety & Code of Conduct"}),t.jsx("p",{children:"Partner must strictly adhere to:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"No harassment (verbal, physical, emotional)"}),t.jsx("li",{children:"No misbehaviour, disrespect, abusive language"}),t.jsx("li",{children:"No consumption of alcohol/drugs on duty"}),t.jsx("li",{children:"No theft, damage, or misconduct"}),t.jsx("li",{children:"No photography or unauthorised recording at customer premises"}),t.jsx("li",{children:"No requesting personal favours or discounts"}),t.jsx("li",{children:"No entering restricted areas without consent"})]}),t.jsx("p",{children:"Any violation may lead to:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Permanent termination"}),t.jsx("li",{children:"Police complaint"}),t.jsx("li",{children:"Forfeiture of dues and deposits"}),t.jsx("li",{children:"Penalties up to 25,000"})]})]}),t.jsxs("div",{children:[t.jsx("h4",{children:"9. Punctuality & Attendance"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Partner must accept bookings only if available."}),t.jsx("li",{children:"Must reach customer location on time."}),t.jsx("li",{children:"Any delay beyond 20 minutes must be informed."})]}),t.jsx("p",{children:"Repeated delays may lead to:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"50200 penalty per incident"}),t.jsx("li",{children:"Reduced lead allocation"}),t.jsx("li",{children:"Temporary suspension"})]})]}),t.jsxs("div",{className:"penalty-box",children:[t.jsx("h4",{children:"10. No Offline Deals (Strictly Prohibited)"}),t.jsx("p",{children:"Partner shall not:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Ask customer to cancel platform booking"}),t.jsx("li",{children:"Offer lower pricing for offline work"}),t.jsx("li",{children:"Share personal phone number for future services"}),t.jsx("li",{children:"Accept cash or direct payments"})]}),t.jsx("p",{children:t.jsx("strong",{children:"Penalty:"})}),t.jsxs("ul",{children:[t.jsx("li",{children:"5,000 minimum"}),t.jsx("li",{children:"Permanent termination"}),t.jsx("li",{children:"Deduction from wallet and MG plan"}),t.jsx("li",{children:"Legal action for business loss"})]})]}),t.jsxs("div",{children:[t.jsx("h4",{children:"11. Service Quality & Returns"}),t.jsx("p",{children:"Partner must ensure:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"High-quality workmanship"}),t.jsx("li",{children:"Correct problem diagnosis"}),t.jsx("li",{children:"Use of original parts (if applicable)"}),t.jsx("li",{children:"Guarantee service quality as per NEXO policy"})]}),t.jsx("p",{children:"Poor work or customer complaints may attract:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Rework without charges"}),t.jsx("li",{children:"Penalty from 1001,000"}),t.jsx("li",{children:"Suspension on repeated offences"})]})]}),t.jsxs("div",{children:[t.jsx("h4",{children:"12. Damage, Theft, or Loss"}),t.jsx("p",{children:"Partner shall be fully liable for:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Damage to customer property"}),t.jsx("li",{children:"Theft or loss at customer premises"}),t.jsx("li",{children:"Fire, accident, or injury caused due to Partner negligence"}),t.jsx("li",{children:"Incorrect installation or unsafe practices"})]}),t.jsx("p",{children:"Recovery will be made through:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Partner wallet"}),t.jsx("li",{children:"Security deposit"}),t.jsx("li",{children:"MG payouts"}),t.jsx("li",{children:"Legal recovery"})]}),t.jsx("p",{className:"text-xs",children:"Police FIR may be filed for severe cases."})]}),t.jsxs("div",{children:[t.jsx("h4",{children:"13. Fraudulent Activities"}),t.jsx("p",{children:"Strictly prohibited:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Faking job completion"}),t.jsx("li",{children:"False OTP entry"}),t.jsx("li",{children:"Manipulating customer rating"}),t.jsx("li",{children:"Overcharging"}),t.jsx("li",{children:"Providing false documents"})]}),t.jsx("p",{children:"Penalty:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Up to 25,000"}),t.jsx("li",{children:"Permanent removal"}),t.jsx("li",{children:"Legal prosecution"})]})]}),t.jsxs("div",{className:"penalty-box",children:[t.jsx("h4",{children:"14. Penalty Structure"}),t.jsxs("table",{className:"penalty-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Violation"}),t.jsx("th",{children:"Penalty"})]})}),t.jsxs("tbody",{children:[t.jsxs("tr",{children:[t.jsx("td",{children:"Late arrival"}),t.jsx("td",{children:"50200"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Job rejection after acceptance"}),t.jsx("td",{children:"100300"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Misbehaviour"}),t.jsx("td",{children:"1,0005,000"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Unsafe work"}),t.jsx("td",{children:"2,000"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Offline deal"}),t.jsx("td",{children:"5,000+ termination"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Theft/misconduct"}),t.jsx("td",{children:"Legal action + termination"})]})]})]}),t.jsx("p",{className:"text-xs mt-2",children:"NEXO reserves the right to modify penalties anytime."})]}),t.jsxs("div",{children:[t.jsx("h4",{children:"15. Partner Wallet & Settlement"}),t.jsx("p",{children:"Deductions will be applied in the following order:"}),t.jsxs("ol",{children:[t.jsx("li",{children:"Penalties"}),t.jsx("li",{children:"Platform Commission"}),t.jsx("li",{children:"Lead cost"}),t.jsx("li",{children:"MG plan adjustments"}),t.jsx("li",{children:"Pending dues"})]}),t.jsx("p",{children:"Settlement cycles will be weekly or as updated by NEXO."})]}),t.jsxs("div",{children:[t.jsx("h4",{children:"16. MG Plan (Minimum Guarantee)"}),t.jsxs("ul",{children:[t.jsx("li",{children:"MG plan is mandatory as per category."}),t.jsx("li",{children:"MG provides priority leads based on plan."}),t.jsx("li",{children:"MG fee is non-refundable."}),t.jsx("li",{children:"Partner failing to meet service quality/minimum performance may lose MG benefits without refund."})]})]}),t.jsxs("div",{children:[t.jsx("h4",{children:"17. Ratings & Reviews"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Partner must maintain minimum rating (e.g., 4.0)."}),t.jsx("li",{children:"Low ratings may result in reduced leads or suspension."}),t.jsx("li",{children:"False or manipulated ratings are punishable."})]})]}),t.jsxs("div",{children:[t.jsx("h4",{children:"18. Use of Platform & Technology"}),t.jsx("p",{children:"Partner shall:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Keep app updated"}),t.jsx("li",{children:"Not misuse customer data"}),t.jsx("li",{children:"Not reverse engineer, hack, or modify NEXO systems"}),t.jsx("li",{children:"Use genuine documents only"})]})]}),t.jsxs("div",{children:[t.jsx("h4",{children:"19. Termination"}),t.jsx("p",{children:"NEXO may terminate partner access without notice for:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Misconduct"}),t.jsx("li",{children:"Fraud"}),t.jsx("li",{children:"Unsafe behaviour"}),t.jsx("li",{children:"Low performance"}),t.jsx("li",{children:"Offline deals"}),t.jsx("li",{children:"Customer complaints"}),t.jsx("li",{children:"Violation of any Terms"})]})]}),t.jsxs("div",{children:[t.jsx("h4",{children:"20. Security Deposit Refund"}),t.jsx("p",{children:"Refund only upon:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"30-day notice period"}),t.jsx("li",{children:"Return of toolkit (if applicable)"}),t.jsx("li",{children:"No pending dues or penalties"}),t.jsx("li",{children:"No active customer complaints"})]}),t.jsx("p",{children:"Refund processing time: 2145 working days."})]}),t.jsxs("div",{children:[t.jsx("h4",{children:"21. Dispute Resolution"}),t.jsxs("ul",{children:[t.jsxs("li",{children:[t.jsx("strong",{children:"Jurisdiction:"})," Bangalore, Karnataka"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Governing Law:"})," Laws of India"]})]}),t.jsx("p",{children:t.jsx("strong",{children:"Method:"})}),t.jsxs("ul",{children:[t.jsx("li",{children:"Internal review"}),t.jsx("li",{children:"Mediation"}),t.jsx("li",{children:"Arbitration (if required)"})]})]}),t.jsxs("div",{children:[t.jsx("h4",{children:"22. Amendments"}),t.jsx("p",{children:"NEXO reserves the right to change Terms anytime. Continued use of the Platform constitutes acceptance."})]}),t.jsx("div",{className:"penalty-box",style:{background:"#eff6ff",borderColor:"#93c5fd"},children:t.jsxs("p",{className:"text-xs",children:[t.jsx("strong",{children:"By signing and accepting this Agreement, Partner confirms that:"})," (i) they have read, understood, and agree to be bound by all terms, conditions, and penalties outlined herein; (ii) they have had the opportunity to review the full terms published on the Platform; (iii) they understand that this Agreement is legally binding; and (iv) they agree to comply with all obligations and accept all penalties for violations."]})})]})]})]})]})]}),t.jsxs("div",{className:"grid gap-5 md:grid-cols-4 mb-8",children:[t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl p-6 shadow-sm",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-sm font-semibold text-slate-500",children:"Total Earnings"}),t.jsx(Xt,{className:"w-5 h-5 text-emerald-500"})]}),t.jsxs("p",{className:"text-3xl font-bold text-slate-900",children:["",Y5.toLocaleString("en-IN")]}),t.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:["From ",Px.length," completed bookings"]})]}),t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl p-6 shadow-sm",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-sm font-semibold text-slate-500",children:"Wallet Balance"}),t.jsx(Xt,{className:"w-5 h-5 text-primary"})]}),t.jsxs("p",{className:"text-3xl font-bold text-primary",children:["",$d.toLocaleString("en-IN")]}),t.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:[X5.length," transactions  Lead fee ",Q5.toLocaleString("en-IN")]}),t.jsx("p",{className:`text-xs mt-2 ${$d<Tx?"text-rose-500":"text-emerald-500"}`,children:bz})]}),t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl p-6 shadow-sm",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-sm font-semibold text-slate-500",children:"Total Bookings"}),t.jsx(Ss,{className:"w-5 h-5 text-blue-500"})]}),t.jsx("p",{className:"text-3xl font-bold text-slate-900",children:Px.length}),t.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Completed bookings"})]}),t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl p-6 shadow-sm",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-sm font-semibold text-slate-500",children:"MG Plan Progress"}),t.jsx(pn,{className:"w-5 h-5 text-purple-500"})]}),t.jsx("p",{className:"text-lg font-bold text-purple-600 mb-1",children:(zt==null?void 0:zt.name)||"No Plan"}),t.jsxs("p",{className:"text-3xl font-bold text-purple-600",children:[vz," / ",rv]}),t.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:["Leads remaining  Used ",sv]}),t.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:["Expires ",Ct.expiresAt?new Date(Ct.expiresAt).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}):""]})]})]}),Ct.leadAcceptancePaused&&t.jsx("div",{className:"bg-amber-50 border border-amber-200 text-amber-700 px-4 py-3 rounded-2xl mb-8 text-sm",children:"Lead notifications are currently paused due to low wallet balance. Top up to resume assignments."}),t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-5 mb-8",children:[t.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500 mb-4",children:"Service Categories & MG Plan"}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Selected Categories"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:oa.length>0?oa.map((Q,Ie)=>t.jsx("span",{className:"px-3 py-1 bg-primary/10 text-primary rounded-full text-sm font-semibold",children:Q},Ie)):t.jsx("span",{className:"text-slate-500 text-sm",children:"No categories selected"})}),Cx.length>0&&t.jsxs("div",{className:"mt-3",children:[t.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Sub-Categories"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:Cx.map((Q,Ie)=>t.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm",children:(Q==null?void 0:Q.name)||"N/A"},Ie))})]}),kx.length>0&&t.jsxs("div",{className:"mt-3",children:[t.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Services"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:kx.map((Q,Ie)=>t.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-sm",children:(Q==null?void 0:Q.name)||"N/A"},Ie))})]}),(G==null?void 0:G.modeOfService)&&t.jsxs("div",{className:"mt-3",children:[t.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Mode of Service"}),t.jsx("span",{className:"px-3 py-1 bg-indigo-100 text-indigo-700 rounded-full text-sm font-semibold capitalize inline-block",children:G.modeOfService==="online"?"Online":G.modeOfService==="offline"?"Offline":G.modeOfService})]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"MG Plan"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(pn,{className:"w-5 h-5 text-purple-600"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-lg font-bold text-purple-600",children:(zt==null?void 0:zt.name)||"No Plan Assigned"}),(zt==null?void 0:zt.name)&&t.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[zt.leads||0," leads  ",zt.commission||0,"% commission"]})]}),t.jsx("button",{onClick:()=>Ge(!0),className:"px-3 py-1.5 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition text-sm font-semibold",children:zt!=null&&zt.name?"Change Plan":"Assign Plan"})]})]})]})]}),jz==="eligible"&&t.jsx("div",{className:"bg-rose-50 border border-rose-200 text-rose-600 px-4 py-3 rounded-2xl mb-6 text-sm",children:"Plan refund eligible: guaranteed leads not met before expiry."}),((gt==null?void 0:gt.signature)||(gt==null?void 0:gt.accepted))&&Object.keys(gt).length>0&&t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-5 mt-8",children:[t.jsxs("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500 mb-4 flex items-center gap-2",children:[t.jsx(Yt,{className:"w-5 h-5"}),"Terms & Conditions"]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Terms Accepted"}),gt.accepted?t.jsxs("span",{className:"inline-flex items-center gap-2 text-emerald-600 font-semibold",children:[t.jsx(vt,{className:"w-5 h-5"}),"Accepted"]}):t.jsx("span",{className:"text-slate-400",children:"Not Accepted"})]}),gt.acceptedAt&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Accepted On"}),t.jsx("p",{className:"text-base text-slate-900 font-medium",children:new Date(gt.acceptedAt).toLocaleString("en-IN")})]}),gt.signature&&t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Digital Signature"}),t.jsx("div",{className:"border-2 border-slate-200 rounded-lg p-4 bg-slate-50 inline-block",children:t.jsx("img",{src:gt.signature.startsWith("data:")||gt.signature.startsWith("http")?gt.signature:`/uploads/signatures/${gt.signature}`,alt:"Partner Signature",className:"max-w-xs max-h-32 h-auto object-contain",onError:Q=>{Q.target.style.display="none"}})})]})]})]}),t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-5 mt-8",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500",children:"Service Hubs"}),t.jsx("p",{className:"text-xs text-slate-400",children:"Assign hubs to this partner. Hubs are created in Hub Management."})]}),t.jsxs("button",{onClick:Ze,className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-xl text-xs font-semibold hover:bg-primary-dark transition",children:[t.jsx(Tr,{})," ",tv.length>0?"Update Hubs":"Assign Hubs"]})]}),ne?t.jsx("div",{className:"text-sm text-slate-400 py-4",children:"Loading hubs..."}):le?t.jsxs("div",{className:"text-sm text-rose-500 py-4",children:["Failed to load hubs: ",le]}):tv.length===0?t.jsxs("div",{className:"text-center py-8 border-2 border-dashed border-slate-300 rounded-xl bg-slate-50",children:[t.jsx(Pr,{className:"text-4xl text-slate-400 mx-auto mb-3"}),t.jsx("p",{className:"text-sm text-slate-600 font-medium mb-1",children:"No Hubs Assigned"}),t.jsx("p",{className:"text-xs text-slate-500",children:'Click "Assign Hubs" to assign service hubs to this partner.'})]}):t.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:tv.map(Q=>{var ct,Mt,tr;const Ie=((ct=Q.areas)==null?void 0:ct.reduce((Bt,Sr)=>[...Bt,...Sr.pinCodes||[]],[]))||[],kt=[...new Set(Ie)];return t.jsxs("div",{className:"border-2 border-primary/20 rounded-xl p-4 bg-primary/5",children:[t.jsx("div",{className:"flex items-start justify-between mb-3",children:t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx(Pr,{className:"text-primary"}),t.jsx("p",{className:"text-sm font-semibold text-slate-800",children:Q.name})]}),(Q.city||Q.state)&&t.jsx("p",{className:"text-xs text-slate-500 ml-6",children:[Q.city,Q.state].filter(Boolean).join(", ")}),t.jsxs("p",{className:"text-xs text-slate-500 ml-6 mt-1",children:[((Mt=Q.areas)==null?void 0:Mt.length)||0," area",((tr=Q.areas)==null?void 0:tr.length)===1?"":"s","  ",kt.length," pin code",kt.length===1?"":"s"]})]})}),Q.areas&&Q.areas.length>0&&t.jsx("div",{className:"mt-3 space-y-2",children:Q.areas.map(Bt=>t.jsxs("div",{className:"bg-white rounded-lg p-2",children:[t.jsx("p",{className:"text-xs font-semibold text-slate-700 mb-1",children:Bt.areaName}),Bt.pinCodes&&Bt.pinCodes.length>0&&t.jsx("div",{className:"flex flex-wrap gap-1.5",children:Bt.pinCodes.map(Sr=>t.jsx("span",{className:"px-2 py-0.5 bg-primary/10 border border-primary/20 rounded-full text-xs font-semibold text-primary",children:Sr},Sr))})]},Bt._id))})]},Q._id)})})]}),t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-5 mt-8",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500",children:"MG Plan History"}),t.jsxs("span",{className:"text-xs text-slate-400",children:["Commission: ",Ct.commission??"--","%"]})]}),Ct.history&&Ct.history.length>0?t.jsx("div",{className:"space-y-4",children:Ct.history.slice().reverse().map((Q,Ie)=>t.jsxs("div",{className:"border border-slate-200 rounded-xl p-4 bg-slate-50",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm font-semibold text-slate-800",children:[Q.planName,"  ",(Q.price||0).toLocaleString("en-IN")]}),t.jsxs("p",{className:"text-xs text-slate-500",children:[Q.subscribedAt?new Date(Q.subscribedAt).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}):""," ",""," ",Q.expiresAt?new Date(Q.expiresAt).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}):""]})]}),t.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold ${Q.refundStatus==="eligible"?"bg-amber-500/10 text-amber-600":Q.refundStatus==="processed"?"bg-emerald-500/10 text-emerald-600":"bg-slate-200 text-slate-600"}`,children:Q.refundStatus??"pending"})]}),t.jsxs("div",{className:"mt-3 grid grid-cols-2 md:grid-cols-4 gap-3 text-xs text-slate-600",children:[t.jsxs("div",{children:[t.jsx("span",{className:"block font-semibold text-slate-500",children:"Guaranteed"}),Q.leadsGuaranteed??""," leads"]}),t.jsxs("div",{children:[t.jsx("span",{className:"block font-semibold text-slate-500",children:"Consumed"}),Q.leadsConsumed??0," leads"]}),t.jsxs("div",{children:[t.jsx("span",{className:"block font-semibold text-slate-500",children:"Lead Fee"}),"",(Q.leadFee??Q5).toLocaleString("en-IN")]}),t.jsxs("div",{children:[t.jsx("span",{className:"block font-semibold text-slate-500",children:"Commission"}),Q.commissionRate??Ct.commission??0,"%"]})]}),Q.refundNotes&&t.jsx("p",{className:"mt-2 text-xs text-slate-500 italic",children:Q.refundNotes})]},Ie))}):t.jsx("p",{className:"text-sm text-slate-500",children:"No MG plan history recorded."})]}),a&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Add Wallet Transaction"}),t.jsx("button",{onClick:()=>n(!1),className:"p-2 hover:bg-slate-100 rounded-lg transition",children:t.jsx(mt,{className:"w-5 h-5 text-slate-600"})})]}),t.jsxs("form",{onSubmit:Se,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Transaction Type ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsxs("button",{type:"button",onClick:()=>l("credit"),className:`flex-1 px-4 py-3 rounded-xl font-semibold transition ${i==="credit"?"bg-emerald-500 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:[t.jsx(Tr,{className:"w-4 h-4 inline mr-2"}),"Credit (Add)"]}),t.jsxs("button",{type:"button",onClick:()=>l("debit"),className:`flex-1 px-4 py-3 rounded-xl font-semibold transition ${i==="debit"?"bg-rose-500 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:[t.jsx(fj,{className:"w-4 h-4 inline mr-2"}),"Debit (Deduct)"]})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Amount ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"number",value:o,onChange:Q=>c(Q.target.value),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"Enter amount",min:"0",step:"0.01",required:!0})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Description ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("textarea",{value:d,onChange:Q=>u(Q.target.value),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"Enter transaction description",rows:3,required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Reference (Optional)"}),t.jsx("input",{type:"text",value:m,onChange:Q=>x(Q.target.value),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"Transaction reference number"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Payment Mode ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("select",{value:At,onChange:Q=>pt(Q.target.value),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",required:!0,children:[t.jsx("option",{value:"cash",children:"Cash"}),t.jsx("option",{value:"online",children:"Online"}),t.jsx("option",{value:"cheque",children:"Cheque"}),t.jsx("option",{value:"bank_transfer",children:"Bank Transfer"})]})]}),At==="online"&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Transaction ID"}),t.jsx("input",{type:"text",value:dt,onChange:Q=>fe(Q.target.value),placeholder:"Enter transaction/reference ID",className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary"})]}),t.jsxs("div",{className:"flex gap-3 pt-4",children:[t.jsx("button",{type:"button",onClick:()=>n(!1),className:"flex-1 px-4 py-3 bg-slate-100 text-slate-700 rounded-xl font-semibold hover:bg-slate-200 transition",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:h,className:`flex-1 px-4 py-3 rounded-xl font-semibold text-white transition ${i==="credit"?"bg-emerald-500 hover:bg-emerald-600":"bg-rose-500 hover:bg-rose-600"} disabled:opacity-50 disabled:cursor-not-allowed`,children:h?"Processing...":i==="credit"?"Add Funds":"Deduct Funds"})]})]})]})}),S&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between",children:[t.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Update Partner Details"}),t.jsx("button",{onClick:()=>{k(!1),se(""),T("")},className:"p-2 hover:bg-slate-100 rounded-lg transition",children:t.jsx(mt,{className:"w-5 h-5 text-slate-600"})})]}),t.jsxs("form",{onSubmit:async Q=>{Q.preventDefault(),ce(!0),se(""),T("");try{const Ie=_.filter(Mt=>C.categories.includes(Mt._id||Mt.id)).map(Mt=>Mt.name),kt={name:C.name,email:C.email,phone:C.phone,whatsappNumber:C.whatsappNumber,qualification:C.qualification,experience:C.experience,partnerType:C.partnerType||"individual",address:C.address,landmark:C.landmark,pincode:C.pincode,city:C.city,gstNumber:C.gstNumber,referralCode:C.referralCode,categories:C.categories,categoryNames:Ie,accountHolderName:C.accountHolderName,accountNumber:C.accountNumber,ifscCode:C.ifscCode,bankName:C.bankName,kycStatus:C.kycStatus,kycRemarks:C.kycRemarks,registerAmount:C.registerAmount,payId:C.payId,paidBy:C.paidBy,securityDeposit:C.securityDeposit,toolkitPrice:C.toolkitPrice,profileCompleted:C.profileCompleted},ct=await He.updatePartnerProfile(s,e,kt);ct.success?(T("Partner details updated successfully!"),setTimeout(()=>{window.location.reload()},1e3)):ct.errors&&Array.isArray(ct.errors)?se(ct.errors.join(", ")):se(ct.message||"Failed to update partner details")}catch(Ie){console.error("Update error:",Ie),Ie.errors&&Array.isArray(Ie.errors)?se(Ie.errors.join(", ")):se(Ie.message||"Failed to update partner details")}finally{ce(!1)}},className:"p-6 space-y-6",children:[q&&t.jsx("div",{className:"bg-rose-50 border border-rose-200 text-rose-600 px-4 py-3 rounded-lg text-sm",children:q}),R&&t.jsx("div",{className:"bg-emerald-50 border border-emerald-200 text-emerald-600 px-4 py-3 rounded-lg text-sm",children:R}),t.jsxs("div",{className:"border-b border-slate-200 pb-6",children:[t.jsxs("h3",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[t.jsx(vr,{className:"w-5 h-5"}),"Basic Information"]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Full Name ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",value:C.name,onChange:Q=>P(Ie=>({...Ie,name:Q.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary",required:!0})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Email ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"email",value:C.email,onChange:Q=>P(Ie=>({...Ie,email:Q.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary",required:!0})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Phone Number ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"tel",value:C.phone,onChange:Q=>P(Ie=>({...Ie,phone:Q.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"WhatsApp Number"}),t.jsx("input",{type:"tel",value:C.whatsappNumber,onChange:Q=>P(Ie=>({...Ie,whatsappNumber:Q.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Qualification"}),t.jsx("input",{type:"text",value:C.qualification,onChange:Q=>P(Ie=>({...Ie,qualification:Q.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Experience (Years)"}),t.jsx("input",{type:"number",value:C.experience,onChange:Q=>P(Ie=>({...Ie,experience:Q.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary",min:"0"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Partner Type ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("select",{value:C.partnerType||"individual",onChange:Q=>P(Ie=>({...Ie,partnerType:Q.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary",required:!0,children:[t.jsx("option",{value:"individual",children:"Individual"}),t.jsx("option",{value:"franchise",children:"Franchise"})]})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Address"}),t.jsx("textarea",{value:C.address,onChange:Q=>P(Ie=>({...Ie,address:Q.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary",rows:2})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Landmark"}),t.jsx("input",{type:"text",value:C.landmark,onChange:Q=>P(Ie=>({...Ie,landmark:Q.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Pincode"}),t.jsx("input",{type:"text",value:C.pincode,onChange:Q=>P(Ie=>({...Ie,pincode:Q.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"City"}),t.jsx("input",{type:"text",value:C.city,onChange:Q=>P(Ie=>({...Ie,city:Q.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"GST Number"}),t.jsx("input",{type:"text",value:C.gstNumber,onChange:Q=>P(Ie=>({...Ie,gstNumber:Q.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Referral Code"}),t.jsx("input",{type:"text",value:C.referralCode,onChange:Q=>P(Ie=>({...Ie,referralCode:Q.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary"})]})]})]}),t.jsxs("div",{className:"border-b border-slate-200 pb-6",children:[t.jsxs("h3",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[t.jsx(as,{className:"w-5 h-5"}),"Service Categories"]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Select Categories ",t.jsx("span",{className:"text-red-500",children:"*"})]}),D?t.jsx("div",{className:"text-sm text-slate-500 py-4",children:"Loading categories..."}):t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 max-h-48 overflow-y-auto p-3 border-2 border-slate-300 rounded-lg",children:_.map(Q=>t.jsxs("label",{className:"flex items-center gap-2 p-2 rounded-lg border-2 cursor-pointer transition hover:bg-slate-50",style:{borderColor:C.categories.includes(Q._id||Q.id)?"#3b82f6":"#e2e8f0",backgroundColor:C.categories.includes(Q._id||Q.id)?"#eff6ff":"transparent"},children:[t.jsx("input",{type:"checkbox",checked:C.categories.includes(Q._id||Q.id),onChange:Ie=>{const kt=Q._id||Q.id;Ie.target.checked?P(ct=>({...ct,categories:[...ct.categories,kt]})):P(ct=>({...ct,categories:ct.categories.filter(Mt=>Mt!==kt)}))},className:"w-4 h-4 text-primary border-2 border-gray-300 rounded focus:ring-primary cursor-pointer"}),t.jsxs("span",{className:"text-sm font-medium text-slate-700 flex-1",children:[Q.icon&&t.jsx("span",{className:"mr-1",children:Q.icon}),Q.name]})]},Q._id||Q.id))}),C.categories.length>0&&t.jsxs("p",{className:"text-xs text-slate-500 mt-2",children:[C.categories.length," categor",C.categories.length===1?"y":"ies"," selected"]})]})]}),((gt==null?void 0:gt.signature)||(gt==null?void 0:gt.accepted))&&Object.keys(gt).length>0&&t.jsxs("div",{className:"border-b border-slate-200 pb-6",children:[t.jsxs("h3",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[t.jsx(Yt,{className:"w-5 h-5"}),"Terms & Conditions"]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-2",children:"Terms Accepted"}),gt.accepted?t.jsxs("span",{className:"inline-flex items-center gap-2 text-emerald-600 font-semibold",children:[t.jsx(vt,{className:"w-5 h-5"}),"Accepted"]}):t.jsx("span",{className:"text-slate-400",children:"Not Accepted"})]}),gt.acceptedAt&&t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-2",children:"Accepted On"}),t.jsx("p",{className:"text-base text-slate-900",children:new Date(gt.acceptedAt).toLocaleString("en-IN")})]}),gt.signature&&t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-2",children:"Digital Signature"}),t.jsx("div",{className:"border-2 border-slate-200 rounded-lg p-4 bg-slate-50 inline-block",children:t.jsx("img",{src:gt.signature.startsWith("data:")||gt.signature.startsWith("http")?gt.signature:`/uploads/signatures/${gt.signature}`,alt:"Partner Signature",className:"max-w-md h-auto",onError:Q=>{Q.target.style.display="none"}})})]})]})]}),t.jsxs("div",{className:"border-b border-slate-200 pb-6",children:[t.jsxs("h3",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[t.jsx(hs,{className:"w-5 h-5"}),"Bank Details"]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Account Holder Name"}),t.jsx("input",{type:"text",value:C.accountHolderName,onChange:Q=>P(Ie=>({...Ie,accountHolderName:Q.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Account Number"}),t.jsx("input",{type:"text",value:C.accountNumber,onChange:Q=>P(Ie=>({...Ie,accountNumber:Q.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"IFSC Code"}),t.jsx("input",{type:"text",value:C.ifscCode,onChange:Q=>P(Ie=>({...Ie,ifscCode:Q.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Bank Name"}),t.jsx("input",{type:"text",value:C.bankName,onChange:Q=>P(Ie=>({...Ie,bankName:Q.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary"})]})]})]}),t.jsxs("div",{className:"border-b border-slate-200 pb-6",children:[t.jsxs("h3",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[t.jsx(Yt,{className:"w-5 h-5"}),"KYC Status"]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"KYC Status"}),t.jsxs("select",{value:C.kycStatus,onChange:Q=>P(Ie=>({...Ie,kycStatus:Q.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary",children:[t.jsx("option",{value:"",children:"Select Status"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"approved",children:"Approved"}),t.jsx("option",{value:"rejected",children:"Rejected"})]})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"KYC Remarks"}),t.jsx("textarea",{value:C.kycRemarks,onChange:Q=>P(Ie=>({...Ie,kycRemarks:Q.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary",rows:3,placeholder:"Enter remarks or notes about KYC verification"})]})]})]}),t.jsxs("div",{className:"border-b border-slate-200 pb-6",children:[t.jsxs("h3",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[t.jsx(vr,{className:"w-5 h-5"}),"Profile Status"]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Profile Completion Status"}),t.jsxs("select",{value:C.profileCompleted?"completed":"incomplete",onChange:Q=>P(Ie=>({...Ie,profileCompleted:Q.target.value==="completed"})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary",children:[t.jsx("option",{value:"incomplete",children:"INCOMPLETE"}),t.jsx("option",{value:"completed",children:"COMPLETED"})]})]}),t.jsx("div",{className:"flex items-end",children:t.jsxs("div",{className:`px-4 py-2 rounded-lg text-sm font-semibold ${C.profileCompleted?"bg-emerald-500/10 text-emerald-600":"bg-amber-500/10 text-amber-600"}`,children:["Current: ",C.profileCompleted?"COMPLETED":"INCOMPLETE"]})})]})]}),t.jsxs("div",{className:"pb-6",children:[t.jsxs("h3",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[t.jsx(Xt,{className:"w-5 h-5"}),"Payment Information"]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Registration Amount"}),t.jsx("input",{type:"number",value:C.registerAmount,onChange:Q=>P(Ie=>({...Ie,registerAmount:Q.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary",min:"0",step:"0.01"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Payment ID"}),t.jsx("input",{type:"text",value:C.payId,onChange:Q=>P(Ie=>({...Ie,payId:Q.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Paid By"}),t.jsx("input",{type:"text",value:C.paidBy,onChange:Q=>P(Ie=>({...Ie,paidBy:Q.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary",placeholder:"e.g., UPI, Bank Transfer, Cash"})]})]}),t.jsxs("div",{className:"mt-6 pt-4 border-t border-slate-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Payment Status"}),t.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold ${G!=null&&G.registerdFee&&(G!=null&&G.payId)?"bg-emerald-500/10 text-emerald-600":"bg-amber-500/10 text-amber-600"}`,children:G!=null&&G.registerdFee&&(G!=null&&G.payId)?"Verified":"Pending Verification"})]}),(!(G!=null&&G.registerdFee)||!(G!=null&&G.payId))&&t.jsxs("button",{type:"button",onClick:ze,disabled:he,className:"flex items-center gap-2 px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 disabled:opacity-50 disabled:cursor-not-allowed transition",children:[he?t.jsx(tp,{className:"w-4 h-4 animate-spin"}):t.jsx(vt,{className:"w-4 h-4"}),he?"Approving...":"Approve Payment"]})]}),(G==null?void 0:G.registerdFee)&&(G==null?void 0:G.payId)&&t.jsx("div",{className:"bg-emerald-50 border border-emerald-200 rounded-lg p-3",children:t.jsxs("div",{className:"flex items-center gap-2 text-emerald-700",children:[t.jsx(vt,{className:"w-4 h-4"}),t.jsx("span",{className:"text-sm font-medium",children:"Payment has been verified and approved"})]})})]})]}),t.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200",children:[t.jsx("button",{type:"button",onClick:()=>{k(!1),se(""),T("")},className:"flex-1 px-4 py-3 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:X||C.categories.length===0,className:"flex-1 px-4 py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",children:X?"Updating...":"Update Partner"})]})]})]})}),O&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between",children:[t.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Update KYC Documents"}),t.jsx("button",{onClick:()=>{K(!1),H({panCard:null,aadhaar:null,aadhaarback:null,drivingLicence:null,bill:null,chequeImage:null})},className:"p-2 hover:bg-slate-100 rounded-lg transition",children:t.jsx(mt,{className:"w-5 h-5 text-slate-600"})})]}),t.jsxs("form",{onSubmit:async Q=>{var kt;if(Q.preventDefault(),!Object.values(M).some(ct=>ct!==null)){alert("Please select at least one document to upload");return}me(!0);try{const ct=new FormData;M.panCard&&ct.append("panCard",M.panCard),M.aadhaar&&ct.append("aadhaar",M.aadhaar),M.aadhaarback&&ct.append("aadhaarback",M.aadhaarback),M.drivingLicence&&ct.append("drivingLicence",M.drivingLicence),M.bill&&ct.append("bill",M.bill),M.chequeImage&&ct.append("chequeImage",M.chequeImage),ct.append("id",e);const Mt=await fetch("https://nexo.works/api/admin/updatedDocuments",{method:"PUT",headers:{Authorization:`Bearer ${s}`},body:ct}),tr=await Mt.json();if(tr.success===!0||Mt.ok){const Bt=((kt=tr.uploadedFiles)==null?void 0:kt.length)||Object.values(M).filter(Sr=>Sr!==null).length;alert(`KYC documents updated successfully! ${Bt} file(s) uploaded.`),K(!1),H({panCard:null,aadhaar:null,aadhaarback:null,drivingLicence:null,bill:null,chequeImage:null}),window.location.reload()}else alert(tr.message||tr.error||"Failed to update KYC documents")}catch(ct){console.error("KYC upload error:",ct),alert(ct.message||"Failed to update KYC documents")}finally{me(!1)}},className:"p-6 space-y-6",children:[t.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:[{key:"panCard",label:"PAN Card"},{key:"aadhaar",label:"Aadhaar (Front)"},{key:"aadhaarback",label:"Aadhaar (Back)"},{key:"drivingLicence",label:"Driving Licence"},{key:"bill",label:"Utility Bill"},{key:"chequeImage",label:"Cancelled Cheque"}].map(({key:Q,label:Ie})=>t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:Ie}),t.jsxs("div",{className:"border-2 border-dashed border-slate-300 rounded-lg p-4 text-center",children:[t.jsx("input",{type:"file",accept:"image/*,.pdf",onChange:kt=>{kt.target.files[0]&&H(ct=>({...ct,[Q]:kt.target.files[0]}))},className:"hidden",id:`kyc-${Q}`}),t.jsxs("label",{htmlFor:`kyc-${Q}`,className:"cursor-pointer flex flex-col items-center",children:[t.jsx(Wo,{className:"text-2xl text-slate-400 mb-2"}),M[Q]?t.jsxs("span",{className:"text-sm text-emerald-600",children:[" ",M[Q].name]}):t.jsx("span",{className:"text-sm text-slate-600",children:"Click to upload"})]})]})]},Q))}),t.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200",children:[t.jsx("button",{type:"button",onClick:()=>{K(!1),H({panCard:null,aadhaar:null,aadhaarback:null,drivingLicence:null,bill:null,chequeImage:null})},className:"flex-1 px-4 py-3 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:ie||!Object.values(M).some(Q=>Q!==null),className:"flex-1 px-4 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition disabled:opacity-50 disabled:cursor-not-allowed",children:ie?"Uploading...":"Update KYC Documents"})]})]})]})}),U&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Update Profile Image"}),t.jsx("button",{onClick:()=>{ee(!1),Y(null)},className:"p-2 hover:bg-slate-100 rounded-lg transition",children:t.jsx(mt,{className:"w-5 h-5 text-slate-600"})})]}),t.jsxs("form",{onSubmit:async Q=>{if(Q.preventDefault(),!B){alert("Please select an image");return}me(!0);try{const Ie=new FormData;Ie.append("profileImage",B);const ct=await(await fetch(`https://nexo.works/api/admin/updatePartnerProfile/${e}`,{method:"PUT",headers:{Authorization:`Bearer ${s}`},body:Ie})).json();ct.success?(alert("Profile image updated successfully!"),ee(!1),Y(null),window.location.reload()):alert(ct.message||"Failed to update profile image")}catch(Ie){console.error("Profile image upload error:",Ie),alert(Ie.message||"Failed to update profile image")}finally{me(!1)}},className:"space-y-4",children:[t.jsxs("div",{className:"border-2 border-dashed border-slate-300 rounded-lg p-8 text-center",children:[t.jsx("input",{type:"file",accept:"image/*",onChange:Q=>Y(Q.target.files[0]),className:"hidden",id:"profile-image"}),t.jsxs("label",{htmlFor:"profile-image",className:"cursor-pointer flex flex-col items-center",children:[t.jsx($f,{className:"text-4xl text-slate-400 mb-2"}),B?t.jsxs("div",{className:"mt-4",children:[t.jsx("img",{src:URL.createObjectURL(B),alt:"Preview",className:"w-32 h-32 rounded-full object-cover mx-auto"}),t.jsxs("p",{className:"text-sm text-emerald-600 mt-2",children:[" ",B.name]})]}):t.jsx("span",{className:"text-sm text-slate-600",children:"Click to upload profile image"})]})]}),t.jsxs("div",{className:"flex gap-3 pt-4",children:[t.jsx("button",{type:"button",onClick:()=>{ee(!1),Y(null)},className:"flex-1 px-4 py-3 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:ie||!B,className:"flex-1 px-4 py-3 bg-purple-600 text-white rounded-lg font-semibold hover:bg-purple-700 transition disabled:opacity-50 disabled:cursor-not-allowed",children:ie?"Uploading...":"Update Image"})]})]})]})}),V&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between",children:[t.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Wallet Transactions"}),t.jsx("button",{onClick:()=>oe(!1),className:"p-2 hover:bg-slate-100 rounded-lg transition",children:t.jsx(mt,{className:"w-5 h-5 text-slate-600"})})]}),t.jsxs("div",{className:"p-6",children:[t.jsx("div",{className:"mb-4 p-4 bg-slate-50 rounded-lg",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-slate-500",children:"Current Balance"}),t.jsxs("p",{className:"text-2xl font-bold text-slate-900",children:["",$d.toLocaleString("en-IN")]})]}),t.jsxs("button",{onClick:()=>{oe(!1),n(!0)},className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition font-semibold",children:[t.jsx(Tr,{className:"w-4 h-4 inline mr-2"}),"Add Transaction"]})]})}),Vr?t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary mb-4"}),t.jsx("p",{className:"text-slate-500",children:"Loading transactions..."})]}):Xs?t.jsxs("div",{className:"bg-rose-50 border border-rose-200 text-rose-600 px-4 py-3 rounded-lg text-sm",children:["Error loading transactions: ",Xs]}):t.jsx(Ia,{columns:V5e,data:wz,emptyLabel:"No transactions found."})]})]})}),Ue&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between",children:[t.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Fee Transactions"}),t.jsx("button",{onClick:()=>Je(!1),className:"p-2 hover:bg-slate-100 rounded-lg transition",children:t.jsx(mt,{className:"w-5 h-5 text-slate-600"})})]}),t.jsxs("div",{className:"p-6",children:[(W==null?void 0:W.stats)&&t.jsxs("div",{className:"mb-4 grid grid-cols-2 md:grid-cols-4 gap-4",children:[t.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-slate-500",children:"Total Amount"}),t.jsxs("p",{className:"text-2xl font-bold text-slate-900",children:["",((F6=W.stats.totalAmount)==null?void 0:F6.toLocaleString("en-IN"))||0]})]}),t.jsxs("div",{className:"p-4 bg-emerald-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-emerald-600",children:"Successful"}),t.jsxs("p",{className:"text-2xl font-bold text-emerald-600",children:["",((R6=W.stats.successAmount)==null?void 0:R6.toLocaleString("en-IN"))||0]}),t.jsxs("p",{className:"text-xs text-emerald-600 mt-1",children:[W.stats.successCount||0," transactions"]})]}),t.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-slate-500",children:"Total Transactions"}),t.jsx("p",{className:"text-2xl font-bold text-slate-900",children:W.stats.totalCount||0})]}),t.jsxs("div",{className:"p-4 bg-rose-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-rose-600",children:"Failed"}),t.jsx("p",{className:"text-2xl font-bold text-rose-600",children:W.stats.failedCount||0})]})]}),te?t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary mb-4"}),t.jsx("p",{className:"text-slate-500",children:"Loading fee transactions..."})]}):J?t.jsxs("div",{className:"bg-rose-50 border border-rose-200 text-rose-600 px-4 py-3 rounded-lg text-sm",children:["Error loading fee transactions: ",J]}):((B6=W==null?void 0:W.data)==null?void 0:B6.length)===0?t.jsx("div",{className:"text-center py-12",children:t.jsx("p",{className:"text-slate-500",children:"No fee transactions found."})}):t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600 uppercase",children:"Date"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600 uppercase",children:"Fee Type"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600 uppercase",children:"Amount"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600 uppercase",children:"Status"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600 uppercase",children:"Description"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600 uppercase",children:"Transaction ID"})]})}),t.jsx("tbody",{className:"divide-y divide-slate-200",children:($6=W==null?void 0:W.data)==null?void 0:$6.map((Q,Ie)=>{var kt,ct,Mt,tr,Bt;return t.jsxs("tr",{className:"hover:bg-slate-50",children:[t.jsx("td",{className:"px-4 py-3 text-sm text-slate-700",children:new Date(Q.createdAt).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}),t.jsx("td",{className:"px-4 py-3",children:t.jsx("span",{className:`inline-flex items-center gap-2 px-2.5 py-1 rounded-full text-xs font-semibold ${Q.feeType==="registration"?"bg-blue-500/10 text-blue-600":Q.feeType==="mg_plan"?"bg-purple-500/10 text-purple-600":Q.feeType==="security_deposit"?"bg-yellow-500/10 text-yellow-600":Q.feeType==="toolkit"?"bg-green-500/10 text-green-600":"bg-slate-500/10 text-slate-600"}`,children:((kt=Q.feeType)==null?void 0:kt.replace("_"," ").replace(/\b\w/g,Sr=>Sr.toUpperCase()))||"Other"})}),t.jsx("td",{className:"px-4 py-3",children:t.jsxs("p",{className:"text-sm font-semibold text-slate-900",children:["",((ct=Q.amount)==null?void 0:ct.toLocaleString("en-IN"))||0]})}),t.jsx("td",{className:"px-4 py-3",children:t.jsx("span",{className:`inline-flex items-center gap-2 px-2.5 py-1 rounded-full text-xs font-semibold ${Q.status==="success"?"bg-emerald-500/10 text-emerald-600":Q.status==="failed"?"bg-rose-500/10 text-rose-600":Q.status==="pending"?"bg-yellow-500/10 text-yellow-600":"bg-slate-500/10 text-slate-600"}`,children:((Mt=Q.status)==null?void 0:Mt.charAt(0).toUpperCase())+((tr=Q.status)==null?void 0:tr.slice(1))||"Unknown"})}),t.jsx("td",{className:"px-4 py-3 text-sm text-slate-700 max-w-xs",children:t.jsxs("div",{children:[t.jsx("p",{className:"truncate",children:Q.description||"N/A"}),((Bt=Q.metadata)==null?void 0:Bt.priceBreakdown)&&t.jsxs("details",{className:"mt-1",children:[t.jsx("summary",{className:"text-xs text-primary cursor-pointer hover:underline",children:"View Payment Breakdown"}),t.jsxs("div",{className:"mt-1 text-xs text-slate-500 space-y-0.5 pl-2 bg-slate-50 p-2 rounded",children:[Q.metadata.priceBreakdown.registrationFee>0&&t.jsxs("p",{children:["Registration Fee: ",Q.metadata.priceBreakdown.registrationFee.toLocaleString("en-IN")]}),Q.metadata.priceBreakdown.securityDeposit>0&&t.jsxs("p",{children:["Security Deposit: ",Q.metadata.priceBreakdown.securityDeposit.toLocaleString("en-IN")]}),Q.metadata.priceBreakdown.toolkitPrice>0&&t.jsxs("p",{children:["Toolkit: ",Q.metadata.priceBreakdown.toolkitPrice.toLocaleString("en-IN")]}),Q.metadata.priceBreakdown.totalAmount>0&&t.jsxs("p",{className:"font-semibold text-slate-700 border-t border-slate-200 pt-1 mt-1",children:["Total Paid: ",Q.metadata.priceBreakdown.totalAmount.toLocaleString("en-IN")]})]})]})]})}),t.jsx("td",{className:"px-4 py-3 text-xs text-slate-500 font-mono",children:Q.transactionId||"N/A"})]},Q._id||Ie)})})]})})]})]})}),de&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-2xl w-full p-6 max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold text-slate-900",children:zt!=null&&zt.name?"Change MG Plan":"Assign MG Plan"}),t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Select a plan and provide payment details"})]}),t.jsx("button",{onClick:()=>{Ge(!1),Le(null),ge("cash"),ve(""),Qe("")},className:"p-2 hover:bg-slate-100 rounded-lg transition",children:t.jsx(mt,{className:"w-5 h-5 text-slate-600"})})]}),(zt==null?void 0:zt.name)&&t.jsxs("div",{className:"mb-6 space-y-4",children:[t.jsxs("div",{className:"p-4 bg-purple-50 border border-purple-200 rounded-xl",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(pn,{className:"w-5 h-5 text-purple-600"}),t.jsx("h3",{className:"font-semibold text-purple-900",children:"Current Plan"})]}),!(Ct!=null&&Ct.paymentMethod)&&t.jsxs("button",{type:"button",onClick:()=>je(!ft),className:"text-xs px-3 py-1.5 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition font-semibold flex items-center gap-1",children:[t.jsx(ks,{className:"w-3 h-3"}),ft?"Cancel":"Add Payment Details"]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm mb-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-slate-500",children:"Plan Name"}),t.jsx("p",{className:"font-semibold text-slate-900",children:zt.name})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-slate-500",children:"Leads"}),t.jsx("p",{className:"font-semibold text-slate-900",children:zt.leads||0})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-slate-500",children:"Commission"}),t.jsxs("p",{className:"font-semibold text-slate-900",children:[zt.commission||0,"%"]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-slate-500",children:"Price"}),t.jsxs("p",{className:"font-semibold text-slate-900",children:["",((z6=zt.price)==null?void 0:z6.toLocaleString("en-IN"))||0]})]}),(Ct==null?void 0:Ct.paymentMethod)&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-slate-500",children:"Payment Method"}),t.jsx("p",{className:"font-semibold text-slate-900 capitalize",children:Ct.paymentMethod})]}),Ct.paymentMethod==="cash"&&Ct.collectedBy&&t.jsxs("div",{children:[t.jsx("p",{className:"text-slate-500",children:"Collected By"}),t.jsx("p",{className:"font-semibold text-slate-900",children:Ct.collectedBy})]}),(Ct.paymentMethod==="online"||Ct.paymentMethod==="upi")&&Ct.transactionId&&t.jsxs("div",{children:[t.jsx("p",{className:"text-slate-500",children:"Transaction ID"}),t.jsx("p",{className:"font-semibold text-slate-900 font-mono text-xs",children:Ct.transactionId})]})]})]}),!(Ct!=null&&Ct.paymentMethod)&&ft&&t.jsxs("div",{className:"border-t border-purple-200 pt-4 space-y-4",children:[t.jsx("h4",{className:"text-sm font-semibold text-purple-900",children:"Add Payment Details"}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-2",children:"Payment Method *"}),t.jsx("div",{className:"grid grid-cols-3 gap-2",children:["cash","online","upi"].map(Q=>t.jsx("button",{type:"button",onClick:()=>{Tt(Q),ye(""),ae("")},className:`px-3 py-2 rounded-lg font-semibold text-xs transition ${Fe===Q?"bg-purple-600 text-white":"bg-white text-slate-700 hover:bg-slate-100 border border-slate-200"}`,children:Q.toUpperCase()},Q))})]}),Fe==="cash"&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-2",children:"Collected By *"}),t.jsx("input",{type:"text",value:Lt,onChange:Q=>ye(Q.target.value),placeholder:"Enter name of person who collected payment",className:"w-full px-3 py-2 text-sm border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-600 focus:border-transparent"})]}),(Fe==="online"||Fe==="upi")&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-2",children:"Transaction ID *"}),t.jsx("input",{type:"text",value:I,onChange:Q=>ae(Q.target.value),placeholder:"Enter transaction ID",className:"w-full px-3 py-2 text-sm border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-600 focus:border-transparent font-mono"})]}),t.jsx("button",{type:"button",onClick:Pe,disabled:Ce,className:"w-full px-4 py-2 bg-purple-600 text-white rounded-lg font-semibold hover:bg-purple-700 transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 text-sm",children:Ce?t.jsxs(t.Fragment,{children:[t.jsx(tp,{className:"w-4 h-4 animate-spin"}),"Updating..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Sl,{className:"w-4 h-4"}),"Update Payment Details"]})})]})]}),!(Ct!=null&&Ct.paymentMethod)&&!ft&&t.jsx("div",{className:"p-4 bg-amber-50 border-2 border-amber-300 rounded-xl",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(Zi,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"font-semibold text-amber-900 mb-1",children:"Payment Details Missing"}),t.jsx("p",{className:"text-sm text-amber-700 mb-2",children:`This MG plan doesn't have payment details recorded. Click "Add Payment Details" above to add them now.`}),t.jsx("p",{className:"text-xs text-amber-600 italic",children:"Note: When you change the plan below, you'll be required to provide payment details for the new plan."})]})]})})]}),t.jsxs("form",{onSubmit:Q=>{Q.preventDefault(),Ae()},className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-3",children:"Select MG Plan *"}),Me.length===0?t.jsx("div",{className:"text-center py-8 bg-slate-50 rounded-xl",children:t.jsx("p",{className:"text-slate-500",children:"No MG plans available for this partner type"})}):t.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:Me.map(Q=>{var kt;const Ie=Ye===Q._id;return t.jsx("div",{className:`border-2 rounded-xl p-4 transition-all cursor-pointer ${Ie?"border-purple-600 bg-purple-50":"border-slate-200 hover:border-purple-300 bg-white"}`,onClick:()=>Le(Q._id),children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("input",{type:"radio",checked:Ie,onChange:()=>Le(Q._id),className:"mt-1 w-4 h-4 text-purple-600 border-slate-300 focus:ring-purple-600",onClick:ct=>ct.stopPropagation()}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("h4",{className:"font-semibold text-slate-800",children:Q.name}),t.jsxs("span",{className:"text-lg font-bold text-purple-600",children:["",((kt=Q.price)==null?void 0:kt.toLocaleString("en-IN"))||0]})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-3 text-xs",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-slate-500",children:"Leads"}),t.jsx("p",{className:"font-semibold text-slate-700",children:Q.leads||0})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-slate-500",children:"Commission"}),t.jsxs("p",{className:"font-semibold text-slate-700",children:[Q.commission||0,"%"]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-slate-500",children:"Duration"}),t.jsxs("p",{className:"font-semibold text-slate-700",children:[Q.duration||0," days"]})]})]}),Q.description&&t.jsx("p",{className:"text-xs text-slate-500 mt-2",children:Q.description})]})]})},Q._id)})})]}),Ye&&t.jsxs("div",{className:"border-t border-slate-200 pt-6 space-y-4",children:[t.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Payment Details"}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Payment Method *"}),t.jsx("div",{className:"grid grid-cols-3 gap-3",children:["cash","online","upi"].map(Q=>t.jsx("button",{type:"button",onClick:()=>{ge(Q),ve(""),Qe("")},className:`px-4 py-2 rounded-lg font-semibold text-sm transition ${re===Q?"bg-purple-600 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:Q.toUpperCase()},Q))})]}),re==="cash"&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Collected By *"}),t.jsx("input",{type:"text",value:pe,onChange:Q=>ve(Q.target.value),placeholder:"Enter name of person who collected payment",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-600 focus:border-transparent",required:!0})]}),(re==="online"||re==="upi")&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Transaction ID *"}),t.jsx("input",{type:"text",value:ke,onChange:Q=>Qe(Q.target.value),placeholder:"Enter transaction ID",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-600 focus:border-transparent font-mono",required:!0})]})]}),t.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-slate-200",children:[t.jsx("button",{type:"button",onClick:()=>{Ge(!1),Le(null),ge("cash"),ve(""),Qe("")},className:"px-4 py-2 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:z||!Ye||Me.length===0,className:"px-4 py-2 bg-purple-600 text-white rounded-lg font-semibold hover:bg-purple-700 transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:z?t.jsxs(t.Fragment,{children:[t.jsx(tp,{className:"w-4 h-4 animate-spin"}),"Assigning..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Sl,{className:"w-4 h-4"}),zt!=null&&zt.name?"Change Plan":"Assign Plan"]})})]})]})]})}),f&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-2xl w-full p-6 max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Assign Service Hubs"}),t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Select hubs to assign to this partner"})]}),t.jsx("button",{onClick:()=>{b(!1)},className:"p-2 hover:bg-slate-100 rounded-lg transition",children:t.jsx(mt,{className:"w-5 h-5 text-slate-600"})})]}),t.jsxs("form",{onSubmit:yt,className:"space-y-4",children:[Ax.length===0?t.jsx("div",{className:"text-center py-8",children:t.jsx("p",{className:"text-slate-500",children:"No hubs available. Create hubs in Hub Management first."})}):t.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:Ax.map(Q=>{var Mt,tr,Bt,Sr;const Ie=y.includes((Mt=Q._id)==null?void 0:Mt.toString()),kt=((tr=Q.areas)==null?void 0:tr.reduce((Jt,$s)=>[...Jt,...$s.pinCodes||[]],[]))||[],ct=[...new Set(kt)];return t.jsx("div",{className:`border-2 rounded-xl p-4 transition-all cursor-pointer ${Ie?"border-primary bg-primary/5":"border-slate-200 hover:border-primary/50 bg-white"}`,onClick:()=>lt(Q._id),children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("input",{type:"checkbox",checked:Ie,onChange:()=>lt(Q._id),className:"mt-1 w-4 h-4 text-primary border-slate-300 rounded focus:ring-primary",onClick:Jt=>Jt.stopPropagation()}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx(Pr,{className:"text-primary"}),t.jsx("h4",{className:"font-semibold text-slate-800",children:Q.name})]}),(Q.city||Q.state)&&t.jsx("p",{className:"text-xs text-slate-500 ml-6",children:[Q.city,Q.state].filter(Boolean).join(", ")}),t.jsxs("p",{className:"text-xs text-slate-500 ml-6 mt-1",children:[((Bt=Q.areas)==null?void 0:Bt.length)||0," area",((Sr=Q.areas)==null?void 0:Sr.length)===1?"":"s","  ",ct.length," pin code",ct.length===1?"":"s"]}),Q.areas&&Q.areas.length>0&&t.jsxs("div",{className:"mt-2 ml-6 space-y-1",children:[Q.areas.slice(0,2).map(Jt=>{var $s;return t.jsxs("div",{className:"text-xs text-slate-600",children:[" ",Jt.areaName," (",(($s=Jt.pinCodes)==null?void 0:$s.length)||0," pins)"]},Jt._id)}),Q.areas.length>2&&t.jsxs("div",{className:"text-xs text-slate-500",children:["+ ",Q.areas.length-2," more area",Q.areas.length-2===1?"":"s"]})]})]})]})},Q._id)})}),t.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-slate-200",children:[t.jsxs("p",{className:"text-sm text-slate-600",children:[y.length," hub",y.length===1?"":"s"," selected"]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{type:"button",onClick:()=>{b(!1)},className:"px-4 py-2 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:j||Ax.length===0,className:"px-4 py-2 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",children:j?"Updating...":"Update Hubs"})]})]})]})]})}),Ve&&Xe&&t.jsx(hz,{profile:{id:Xe._id,name:(qe==null?void 0:qe.name)||((U6=Xe.profile)==null?void 0:U6.name)||"N/A",email:(qe==null?void 0:qe.email)||((H6=Xe.profile)==null?void 0:H6.email)||"N/A",phone:Xe.phone||"N/A",city:(qe==null?void 0:qe.city)||((V6=Xe.profile)==null?void 0:V6.city)||"N/A",profilePicture:(qe==null?void 0:qe.profileImage)||Xe.profilePicture||null,kyc:{status:(Ee==null?void 0:Ee.status)||"pending"}},partner:Xe,onClose:()=>ue(!1)})]})},G5e=()=>{const{token:e}=wr(),r=Qt(),[s,a]=g.useState(!1),[n,i]=g.useState(null),[l,o]=g.useState(!1),[c,d]=g.useState([]),[u,m]=g.useState([]),[x,h]=g.useState([]),[p,f]=g.useState(null),[b,j]=g.useState(!0),w=g.useRef(null),[y,v]=g.useState(!1),[N,S]=g.useState({phone:"",whatsappNumber:"",name:"",email:"",qualification:"",experience:"",partnerType:"individual",address:"",landmark:"",pincode:"",city:"",category:[],categoryNames:[],modeOfService:"both",selectedHubs:[],selectedPlan:null,selectedPlanId:null,profilePicture:null,profilePicturePreview:null,kycDocuments:{panCard:null,aadhaar:null,aadhaarback:null,drivingLicence:null,bill:null,chequeImage:null},bankDetails:{accountNumber:"",ifscCode:"",accountHolderName:"",bankName:""},registerAmount:0,securityDeposit:0,toolkitPrice:0,paymentApproved:!1,registerdFee:!1,paidBy:"Admin",terms:{accepted:!1,signature:null},agentName:"",gstNumber:"",referralCode:"",profileStatus:"active"});g.useEffect(()=>{(async()=>{var T;if(!e){console.log("No token available"),j(!1);return}j(!0);try{console.log("Fetching categories, hubs, fees, and MG plans...");try{const O=await He.fetchCategories(e);console.log("Categories response:",O);const K=O.categories||O.data||[];d(K),console.log("Categories set:",K.length)}catch(O){console.error("Error fetching categories:",O),i("Failed to load categories. Please refresh the page.")}try{const O=await He.fetchHubs(e);console.log("Hubs response:",O);const K=O.hubs||O.data||[];m(K),console.log("Hubs set:",K.length)}catch(O){console.error("Error fetching hubs:",O),i("Failed to load hubs. Please refresh the page.")}try{const O=await He.fetchFees(e);console.log("Fees response:",O),f(O.data||O);const K=((T=O.data)==null?void 0:T.individual)||O.individual||O.data||O;S(U=>({...U,registerAmount:K.registrationFee||0,securityDeposit:K.securityDeposit||0,toolkitPrice:K.toolkitPrice||0}))}catch(O){console.error("Error fetching fees:",O)}}catch(O){console.error("Error in fetchData:",O),i("Failed to load data. Please refresh the page.")}finally{j(!1)}})()},[e]),g.useEffect(()=>{if(p&&N.partnerType){const R=p[N.partnerType]||p;S(T=>({...T,registerAmount:R.registrationFee||0,securityDeposit:R.securityDeposit||0,toolkitPrice:R.toolkitPrice||0,selectedPlanId:null,selectedPlan:null}))}},[N.partnerType,p]),g.useEffect(()=>{const R=async()=>{if(e)try{console.log("Fetching MG plans for partner type:",N.partnerType);const T=await He.fetchMGPlans(e);console.log("MG Plans response:",T);const K=(T.plans||T.data||[]).filter(U=>!U.partnerType||U.partnerType==="both"?!0:U.partnerType===N.partnerType);console.log("Filtered MG Plans:",K.length,"for type:",N.partnerType),h(K)}catch(T){console.error("Error fetching MG plans:",T),h([])}};N.partnerType&&R()},[N.partnerType,e]);const k=R=>{const{name:T,value:O,type:K,checked:U}=R.target;S(ee=>({...ee,[T]:K==="checkbox"?U:O}))},C=R=>{const{name:T,value:O}=R.target;S(K=>({...K,bankDetails:{...K.bankDetails,[T]:O}}))},P=R=>{S(T=>{const K=T.category.includes(R)?T.category.filter(M=>M!==R):[...T.category,R],ee=c.filter(M=>K.includes(M._id)).map(M=>M.name);return{...T,category:K,categoryNames:ee}})},_=R=>{S(T=>{var U;const O=T.selectedHubs.some(ee=>ee.hubId===R),K=u.find(ee=>ee._id===R);return O?{...T,selectedHubs:T.selectedHubs.filter(ee=>ee.hubId!==R)}:{...T,selectedHubs:[...T.selectedHubs,{hubId:K._id,name:K.name,pinCodes:((U=K.areas)==null?void 0:U.flatMap(ee=>ee.pinCodes||[]))||[]}]}})},A=(R,T)=>{T&&S(O=>({...O,kycDocuments:{...O.kycDocuments,[R]:T}}))},D=R=>{if(!R)return;const T=new FileReader;T.onloadend=()=>{S(O=>({...O,profilePicture:R,profilePicturePreview:T.result}))},T.readAsDataURL(R)},F=R=>{S(T=>({...T,kycDocuments:{...T.kycDocuments,[R]:null}}))},X=()=>{S(R=>({...R,profilePicture:null,profilePicturePreview:null}))},ce=R=>{const T=w.current;if(!T)return;const O=T.getBoundingClientRect(),K=R.clientX-O.left,U=R.clientY-O.top,ee=T.getContext("2d");ee.beginPath(),ee.moveTo(K,U),v(!0)},he=R=>{if(!y)return;const T=w.current;if(!T)return;const O=T.getBoundingClientRect(),K=R.clientX-O.left,U=R.clientY-O.top,ee=T.getContext("2d");ee.lineTo(K,U),ee.stroke()},L=()=>{if(y){const R=w.current;if(R){const T=R.toDataURL("image/png");S(O=>({...O,terms:{...O.terms,signature:T}}))}}v(!1)},q=()=>{const R=w.current;if(!R)return;R.getContext("2d").clearRect(0,0,R.width,R.height),S(O=>({...O,terms:{...O.terms,signature:null}}))},se=async R=>{R.preventDefault(),a(!0),i(null),o(!1);try{const T=new FormData;T.append("phone",N.phone),T.append("whatsappNumber",N.whatsappNumber||N.phone),T.append("name",N.name),T.append("email",N.email),T.append("qualification",N.qualification),T.append("experience",N.experience),T.append("partnerType",N.partnerType),T.append("address",N.address),T.append("landmark",N.landmark),T.append("pincode",N.pincode),T.append("city",N.city),T.append("modeOfService",N.modeOfService),T.append("agentName",N.agentName),T.append("gstNumber",N.gstNumber),T.append("referralCode",N.referralCode),T.append("profileStatus",N.profileStatus),T.append("category",JSON.stringify(N.category)),T.append("categoryNames",JSON.stringify(N.categoryNames)),console.log("Selected Hubs being sent:",N.selectedHubs),T.append("selectedHubs",JSON.stringify(N.selectedHubs)),T.append("bankDetails",JSON.stringify(N.bankDetails)),T.append("registerAmount",N.registerAmount),T.append("securityDeposit",N.securityDeposit),T.append("toolkitPrice",N.toolkitPrice),T.append("paymentApproved",N.paymentApproved),T.append("registerdFee",N.registerdFee),T.append("paidBy",N.paidBy),T.append("termsAccepted",N.terms.accepted),N.terms.signature&&T.append("signature",N.terms.signature),N.selectedPlanId&&(T.append("selectedPlanId",N.selectedPlanId),T.append("selectedPlan",N.selectedPlan)),N.profilePicture&&T.append("profilePicture",N.profilePicture),Object.keys(N.kycDocuments).forEach(M=>{N.kycDocuments[M]&&T.append(M,N.kycDocuments[M])}),console.log("Submitting partner registration...");const O="https://nexo.works";console.log("API URL:",O);const K=await fetch(`${O}/api/admin/partners/manual-register`,{method:"POST",headers:{Authorization:`Bearer ${e}`},body:T});console.log("Response status:",K.status),console.log("Response headers:",K.headers.get("content-type"));const U=K.headers.get("content-type");if(!U||!U.includes("application/json")){const M=await K.text();throw console.error("Non-JSON response:",M),new Error("Server returned invalid response. Please check server logs.")}const ee=await K.json();if(console.log("Response data:",ee),!K.ok)throw new Error(ee.message||"Failed to register partner");o(!0),setTimeout(()=>{r(`/admin/partners/${ee.partner._id}`)},2e3)}catch(T){i(T.message)}finally{a(!1)}};return t.jsxs("div",{children:[t.jsx(gs,{title:"Manual Partner Registration",subtitle:"Register a new partner with complete details manually"}),t.jsxs("div",{className:"max-w-5xl mx-auto",children:[t.jsxs("button",{onClick:()=>r("/admin/partners"),className:"mb-6 flex items-center gap-2 text-slate-600 hover:text-primary transition",children:[t.jsx(Y0,{className:"w-4 h-4"}),"Back to Partners"]}),l&&t.jsxs("div",{className:"mb-6 bg-emerald-50 border border-emerald-200 rounded-xl p-4 flex items-center gap-3",children:[t.jsx(vt,{className:"w-5 h-5 text-emerald-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-emerald-800 font-semibold",children:"Partner registered successfully!"}),t.jsx("p",{className:"text-emerald-600 text-sm",children:"Redirecting to partner details..."})]})]}),n&&t.jsxs("div",{className:"mb-6 bg-rose-50 border border-rose-200 rounded-xl p-4 flex items-center gap-3",children:[t.jsx(Zi,{className:"w-5 h-5 text-rose-600"}),t.jsx("p",{className:"text-rose-800",children:n})]}),t.jsxs("form",{onSubmit:se,className:"space-y-6",children:[t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6",children:[t.jsxs("h3",{className:"text-lg font-semibold text-slate-900 mb-4 flex items-center gap-2",children:[t.jsx(vr,{className:"w-5 h-5 text-primary"}),"Personal Information"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Phone Number ",t.jsx("span",{className:"text-rose-500",children:"*"})]}),t.jsx("input",{type:"tel",name:"phone",value:N.phone,onChange:k,required:!0,className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"10-digit mobile number"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"WhatsApp Number"}),t.jsx("input",{type:"tel",name:"whatsappNumber",value:N.whatsappNumber,onChange:k,className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"WhatsApp number"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Full Name ",t.jsx("span",{className:"text-rose-500",children:"*"})]}),t.jsx("input",{type:"text",name:"name",value:N.name,onChange:k,required:!0,className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Partner's full name"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Email ",t.jsx("span",{className:"text-rose-500",children:"*"})]}),t.jsx("input",{type:"email",name:"email",value:N.email,onChange:k,required:!0,className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"email@example.com"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Qualification"}),t.jsx("input",{type:"text",name:"qualification",value:N.qualification,onChange:k,className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Educational qualification"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Experience"}),t.jsx("input",{type:"text",name:"experience",value:N.experience,onChange:k,className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Years of experience"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Partner Type ",t.jsx("span",{className:"text-rose-500",children:"*"})]}),t.jsxs("select",{name:"partnerType",value:N.partnerType,onChange:k,required:!0,className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",children:[t.jsx("option",{value:"individual",children:"Individual"}),t.jsx("option",{value:"franchise",children:"Franchise"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Agent Name"}),t.jsx("input",{type:"text",name:"agentName",value:N.agentName,onChange:k,className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Referring agent name"})]})]})]}),t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6",children:[t.jsxs("h3",{className:"text-lg font-semibold text-slate-900 mb-4 flex items-center gap-2",children:[t.jsx(Pr,{className:"w-5 h-5 text-primary"}),"Address Information"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"md:col-span-2",children:[t.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Address ",t.jsx("span",{className:"text-rose-500",children:"*"})]}),t.jsx("textarea",{name:"address",value:N.address,onChange:k,required:!0,rows:"2",className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Complete address"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Landmark ",t.jsx("span",{className:"text-rose-500",children:"*"})]}),t.jsx("input",{type:"text",name:"landmark",value:N.landmark,onChange:k,required:!0,className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Nearby landmark"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Pincode ",t.jsx("span",{className:"text-rose-500",children:"*"})]}),t.jsx("input",{type:"text",name:"pincode",value:N.pincode,onChange:k,required:!0,className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"6-digit pincode"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["City ",t.jsx("span",{className:"text-rose-500",children:"*"})]}),t.jsx("input",{type:"text",name:"city",value:N.city,onChange:k,required:!0,className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"City name"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"GST Number"}),t.jsx("input",{type:"text",name:"gstNumber",value:N.gstNumber,onChange:k,className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"GST number (if applicable)"})]})]})]}),t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6",children:[t.jsxs("h3",{className:"text-lg font-semibold text-slate-900 mb-4 flex items-center gap-2",children:[t.jsx(Yt,{className:"w-5 h-5 text-primary"}),"Service Information"]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Service Categories ",t.jsx("span",{className:"text-rose-500",children:"*"})]}),b?t.jsxs("div",{className:"flex items-center justify-center p-8 border border-slate-200 rounded-lg",children:[t.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary"}),t.jsx("span",{className:"ml-3 text-slate-600",children:"Loading categories..."})]}):c.length===0?t.jsx("div",{className:"p-4 border border-amber-200 bg-amber-50 rounded-lg text-amber-800 text-sm",children:"No categories available. Please add categories first."}):t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:c.map(R=>t.jsxs("label",{className:"flex items-center gap-2 p-3 border border-slate-200 rounded-lg hover:bg-slate-50 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:N.category.includes(R._id),onChange:()=>P(R._id),className:"w-4 h-4 text-primary focus:ring-primary"}),t.jsx("span",{className:"text-sm text-slate-700",children:R.name})]},R._id))})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Mode of Service ",t.jsx("span",{className:"text-rose-500",children:"*"})]}),t.jsxs("select",{name:"modeOfService",value:N.modeOfService,onChange:k,required:!0,className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",children:[t.jsx("option",{value:"online",children:"Online"}),t.jsx("option",{value:"offline",children:"Offline"}),t.jsx("option",{value:"both",children:"Both"})]})]})]})]}),t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6",children:[t.jsxs("h3",{className:"text-lg font-semibold text-slate-900 mb-4 flex items-center gap-2",children:[t.jsx(l0,{className:"w-5 h-5 text-primary"}),"Profile Picture"]}),t.jsxs("div",{className:"flex items-center gap-6",children:[N.profilePicturePreview?t.jsxs("div",{className:"relative",children:[t.jsx("img",{src:N.profilePicturePreview,alt:"Profile",className:"w-32 h-32 rounded-full object-cover border-4 border-primary"}),t.jsx("button",{type:"button",onClick:X,className:"absolute -top-2 -right-2 bg-rose-500 text-white rounded-full w-8 h-8 flex items-center justify-center hover:bg-rose-600 transition",children:t.jsx(mt,{className:"w-4 h-4"})})]}):t.jsx("div",{className:"w-32 h-32 rounded-full bg-slate-100 flex items-center justify-center border-2 border-dashed border-slate-300",children:t.jsx(l0,{className:"w-8 h-8 text-slate-400"})}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("label",{className:"cursor-pointer inline-flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition",children:[t.jsx(Wo,{className:"w-4 h-4"}),"Upload Photo",t.jsx("input",{type:"file",accept:"image/*",onChange:R=>D(R.target.files[0]),className:"hidden"})]}),t.jsx("p",{className:"text-sm text-slate-500 mt-2",children:"Recommended: Square image, at least 400x400px"})]})]})]}),t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6",children:[t.jsxs("h3",{className:"text-lg font-semibold text-slate-900 mb-4 flex items-center gap-2",children:[t.jsx(Pr,{className:"w-5 h-5 text-primary"}),"Service Hubs"]}),t.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"Select the service hubs where this partner will operate"}),b?t.jsxs("div",{className:"flex items-center justify-center p-8 border border-slate-200 rounded-lg",children:[t.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary"}),t.jsx("span",{className:"ml-3 text-slate-600",children:"Loading hubs..."})]}):u.length===0?t.jsx("div",{className:"p-4 border border-amber-200 bg-amber-50 rounded-lg text-amber-800 text-sm",children:"No hubs available. Please create hubs first in Hub Management."}):t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:u.map(R=>{var K;const T=N.selectedHubs.some(U=>U.hubId===R._id),O=((K=R.areas)==null?void 0:K.reduce((U,ee)=>{var M;return U+(((M=ee.pinCodes)==null?void 0:M.length)||0)},0))||0;return t.jsxs("label",{className:`flex items-start gap-3 p-4 border-2 rounded-lg cursor-pointer transition ${T?"border-primary bg-primary/5":"border-slate-200 hover:border-slate-300 hover:bg-slate-50"}`,children:[t.jsx("input",{type:"checkbox",checked:T,onChange:()=>_(R._id),className:"w-5 h-5 text-primary focus:ring-primary mt-0.5"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"font-semibold text-slate-900",children:R.name}),t.jsx("div",{className:"text-sm text-slate-600",children:R.city||"N/A"}),t.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:[O," pin codes"]})]})]},R._id)})}),N.selectedHubs.length>0&&t.jsxs("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[t.jsxs("p",{className:"text-sm font-medium text-blue-900",children:["Selected Hubs: ",N.selectedHubs.length]}),t.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:N.selectedHubs.map(R=>t.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:R.name},R.hubId))})]})]}),t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6",children:[t.jsxs("h3",{className:"text-lg font-semibold text-slate-900 mb-4 flex items-center gap-2",children:[t.jsx(Yt,{className:"w-5 h-5 text-primary"}),"KYC Documents"]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{key:"panCard",label:"PAN Card"},{key:"aadhaar",label:"Aadhaar Front"},{key:"aadhaarback",label:"Aadhaar Back"},{key:"drivingLicence",label:"Driving Licence"},{key:"bill",label:"Utility Bill"},{key:"chequeImage",label:"Cancelled Cheque"}].map(({key:R,label:T})=>t.jsxs("div",{className:"border border-slate-200 rounded-lg p-4",children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:T}),N.kycDocuments[R]?t.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 border border-green-200 rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(vt,{className:"w-4 h-4 text-green-600"}),t.jsx("span",{className:"text-sm text-green-800",children:N.kycDocuments[R].name})]}),t.jsx("button",{type:"button",onClick:()=>F(R),className:"text-rose-600 hover:text-rose-700",children:t.jsx(mt,{className:"w-4 h-4"})})]}):t.jsxs("label",{className:"cursor-pointer flex items-center justify-center gap-2 px-4 py-3 border-2 border-dashed border-slate-300 rounded-lg hover:border-primary hover:bg-slate-50 transition",children:[t.jsx(Wo,{className:"w-4 h-4 text-slate-400"}),t.jsxs("span",{className:"text-sm text-slate-600",children:["Upload ",T]}),t.jsx("input",{type:"file",accept:"image/*,application/pdf",onChange:O=>A(R,O.target.files[0]),className:"hidden"})]})]},R))})]}),t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6",children:[t.jsxs("h3",{className:"text-lg font-semibold text-slate-900 mb-4 flex items-center gap-2",children:[t.jsx(hs,{className:"w-5 h-5 text-primary"}),"Bank Details"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Account Number"}),t.jsx("input",{type:"text",name:"accountNumber",value:N.bankDetails.accountNumber,onChange:C,className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Bank account number"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"IFSC Code"}),t.jsx("input",{type:"text",name:"ifscCode",value:N.bankDetails.ifscCode,onChange:C,className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"IFSC code"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Account Holder Name"}),t.jsx("input",{type:"text",name:"accountHolderName",value:N.bankDetails.accountHolderName,onChange:C,className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"As per bank records"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Bank Name"}),t.jsx("input",{type:"text",name:"bankName",value:N.bankDetails.bankName,onChange:C,className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Bank name"})]})]})]}),t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6",children:[t.jsxs("h3",{className:"text-lg font-semibold text-slate-900 mb-4 flex items-center gap-2",children:[t.jsx(QN,{className:"w-5 h-5 text-primary"}),"Terms & Conditions"]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("label",{className:"flex items-start gap-3",children:[t.jsx("input",{type:"checkbox",checked:N.terms.accepted,onChange:R=>S(T=>({...T,terms:{...T.terms,accepted:R.target.checked}})),className:"w-5 h-5 text-primary focus:ring-primary mt-0.5"}),t.jsx("span",{className:"text-sm text-slate-700",children:"I confirm that the partner has accepted all terms and conditions"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Partner Signature"}),t.jsx("div",{className:"border-2 border-slate-300 rounded-lg overflow-hidden",children:t.jsx("canvas",{ref:w,width:600,height:200,onMouseDown:ce,onMouseMove:he,onMouseUp:L,onMouseLeave:L,className:"w-full cursor-crosshair bg-white",style:{touchAction:"none"}})}),t.jsxs("div",{className:"flex items-center justify-between mt-2",children:[t.jsx("p",{className:"text-xs text-slate-500",children:"Draw signature above"}),t.jsx("button",{type:"button",onClick:q,className:"text-sm text-rose-600 hover:text-rose-700 font-medium",children:"Clear Signature"})]})]})]})]}),t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6",children:[t.jsxs("h3",{className:"text-lg font-semibold text-slate-900 mb-4 flex items-center gap-2",children:[t.jsx(vt,{className:"w-5 h-5 text-primary"}),"MG Plan Selection (Optional)"]}),t.jsx("p",{className:"text-sm text-slate-600 mb-2",children:"Select an MG plan for the partner (can be done later)"}),t.jsx("div",{className:"mb-4 p-2 bg-blue-50 border border-blue-200 rounded-lg",children:t.jsxs("p",{className:"text-xs text-blue-800",children:["Showing plans for: ",t.jsx("strong",{className:"capitalize",children:N.partnerType})," partners"]})}),b?t.jsxs("div",{className:"flex items-center justify-center p-8 border border-slate-200 rounded-lg",children:[t.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary"}),t.jsx("span",{className:"ml-3 text-slate-600",children:"Loading MG plans..."})]}):x.length===0?t.jsx("div",{className:"p-4 border border-slate-200 bg-slate-50 rounded-lg text-slate-600 text-sm",children:"No MG plans available. Partner can select a plan later."}):t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:x.map(R=>t.jsxs("label",{className:`relative p-4 border-2 rounded-lg cursor-pointer transition ${N.selectedPlanId===R._id?"border-primary bg-primary/5":"border-slate-200 hover:border-slate-300 hover:bg-slate-50"}`,children:[t.jsx("input",{type:"radio",name:"selectedPlanId",value:R._id,checked:N.selectedPlanId===R._id,onChange:T=>S(O=>({...O,selectedPlanId:T.target.value,selectedPlan:R.name})),className:"absolute top-4 right-4 w-4 h-4 text-primary focus:ring-primary"}),t.jsxs("div",{className:"pr-8",children:[t.jsx("div",{className:"text-lg font-bold text-slate-900",children:R.name}),t.jsxs("div",{className:"text-2xl font-bold text-primary mt-2",children:["",R.price]}),t.jsxs("div",{className:"text-sm text-slate-600 mt-2 space-y-1",children:[t.jsxs("div",{children:[" ",R.leads," leads/month"]}),t.jsxs("div",{children:[" ",R.commission,"% commission"]}),t.jsxs("div",{children:[" ",R.leadFee," per lead"]})]})]})]},R._id))})]}),t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6",children:[t.jsxs("h3",{className:"text-lg font-semibold text-slate-900 mb-4 flex items-center gap-2",children:[t.jsx(hs,{className:"w-5 h-5 text-primary"}),"Payment Information"]}),t.jsx("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:t.jsxs("p",{className:"text-sm text-blue-800",children:[t.jsx("strong",{children:"Note:"})," Fees are automatically set based on partner type (",N.partnerType,"). You can override them if needed."]})}),(()=>{const R=Number(N.registerAmount)||0,T=Number(N.securityDeposit)||0,O=Number(N.toolkitPrice)||0,K=x.find(M=>M._id===N.selectedPlanId),U=K?Number(K.price):0,ee=R+T+O+U;return ee>0?t.jsxs("div",{className:"mb-4 p-4 bg-gradient-to-r from-primary/10 to-primary/5 border-2 border-primary/20 rounded-xl",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsx("span",{className:"text-sm font-semibold text-slate-700",children:"Total Amount Breakdown:"}),t.jsxs("span",{className:"text-2xl font-bold text-primary",children:["",ee.toLocaleString("en-IN")]})]}),t.jsxs("div",{className:"space-y-2 text-sm",children:[R>0&&t.jsxs("div",{className:"flex justify-between text-slate-600",children:[t.jsx("span",{children:"Registration Fee:"}),t.jsxs("span",{className:"font-semibold",children:["",R.toLocaleString("en-IN")]})]}),T>0&&t.jsxs("div",{className:"flex justify-between text-slate-600",children:[t.jsx("span",{children:"Security Deposit:"}),t.jsxs("span",{className:"font-semibold",children:["",T.toLocaleString("en-IN")]})]}),O>0&&t.jsxs("div",{className:"flex justify-between text-slate-600",children:[t.jsx("span",{children:"Toolkit Price:"}),t.jsxs("span",{className:"font-semibold",children:["",O.toLocaleString("en-IN")]})]}),U>0&&t.jsxs("div",{className:"flex justify-between text-primary font-semibold",children:[t.jsxs("span",{children:["MG Plan (",K.name,"):"]}),t.jsxs("span",{children:["",U.toLocaleString("en-IN")]})]})]})]}):null})(),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Registration Amount () ",t.jsx("span",{className:"text-xs text-slate-500",children:"(Auto-fetched)"})]}),t.jsx("input",{type:"number",name:"registerAmount",value:N.registerAmount,onChange:k,className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent bg-slate-50",placeholder:"0"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Security Deposit () ",t.jsx("span",{className:"text-xs text-slate-500",children:"(Auto-fetched)"})]}),t.jsx("input",{type:"number",name:"securityDeposit",value:N.securityDeposit,onChange:k,className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent bg-slate-50",placeholder:"0"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Toolkit Price () ",t.jsx("span",{className:"text-xs text-slate-500",children:"(Auto-fetched)"})]}),t.jsx("input",{type:"number",name:"toolkitPrice",value:N.toolkitPrice,onChange:k,className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent bg-slate-50",placeholder:"0"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Paid By"}),t.jsx("input",{type:"text",name:"paidBy",value:N.paidBy,onChange:k,className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Admin/Self/Agent"})]}),t.jsx("div",{className:"md:col-span-2",children:t.jsxs("div",{className:"flex items-center gap-6",children:[t.jsxs("label",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"checkbox",name:"registerdFee",checked:N.registerdFee,onChange:k,className:"w-4 h-4 text-primary focus:ring-primary"}),t.jsx("span",{className:"text-sm text-slate-700",children:"Registration Fee Paid"})]}),t.jsxs("label",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"checkbox",name:"paymentApproved",checked:N.paymentApproved,onChange:k,className:"w-4 h-4 text-primary focus:ring-primary"}),t.jsx("span",{className:"text-sm text-slate-700",children:"Payment Approved"})]})]})})]})]}),t.jsxs("div",{className:"flex items-center justify-end gap-4",children:[t.jsx("button",{type:"button",onClick:()=>r("/admin/partners"),className:"px-6 py-3 border border-slate-300 rounded-lg text-slate-700 hover:bg-slate-50 transition",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:s,className:"px-6 py-3 bg-primary text-white rounded-lg hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:s?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Registering..."]}):t.jsxs(t.Fragment,{children:[t.jsx(vt,{className:"w-4 h-4"}),"Register Partner"]})})]})]})]})]})},q5e=[{header:"Name",accessor:"name"},{header:"Email",accessor:"email"},{header:"Phone",accessor:"phone"},{header:"Company",accessor:"companyName"},{header:"Spare Parts",accessor:"sparePartsCount"},{header:"Bookings",accessor:"bookingsCount"},{header:"Revenue",accessor:"revenue"},{header:"Status",accessor:"status"},{header:"Actions",accessor:"actions"}],K5e=()=>{var se,R,T,O,K,U,ee,M,H;const e=Qt(),{token:r}=wr(),[s,a]=g.useState([]),[n,i]=g.useState(!0),[l,o]=g.useState(null),[c,d]=g.useState(""),[u,m]=g.useState("all"),[x,h]=g.useState(1),[p,f]=g.useState(1),[b,j]=g.useState(!1),[w,y]=g.useState(!1),[v,N]=g.useState(null),[S,k]=g.useState({name:"",email:"",phone:"",password:"",companyName:"",address:{street:"",city:"",state:"",pincode:"",country:"India"},gstNumber:"",panNumber:"",bankDetails:{accountNumber:"",ifscCode:"",accountHolderName:"",bankName:""}}),[C,P]=g.useState(!1);g.useEffect(()=>{_()},[r,x,u,c]);const _=async()=>{if(r){i(!0),o(null);try{const B=await He.fetchVendors(r,{page:x,limit:10,search:c,status:u!=="all"?u:""});B.success?(a(B.vendors||[]),f(B.totalPages||1)):o(B.message||"Failed to fetch vendors")}catch(B){console.error("Fetch vendors error:",B),o(B.message||"Failed to fetch vendors"),a([])}finally{i(!1)}}},A=B=>{B.preventDefault(),h(1),_()},D=async(B,Y)=>{if(window.confirm(`Are you sure you want to ${Y==="active"?"activate":Y==="suspended"?"suspend":"deactivate"} this vendor?`))try{await He.updateVendorStatus(r,B,Y),_()}catch(ie){alert(ie.message||"Failed to update vendor status")}},F=async B=>{if(window.confirm("Are you sure you want to delete this vendor? This action cannot be undone."))try{await He.deleteVendor(r,B),_()}catch(Y){alert(Y.message||"Failed to delete vendor")}},X=async B=>{B.preventDefault(),P(!0);try{await He.createVendor(r,S),j(!1),k({name:"",email:"",phone:"",password:"",companyName:"",address:{street:"",city:"",state:"",pincode:"",country:"India"},gstNumber:"",panNumber:"",bankDetails:{accountNumber:"",ifscCode:"",accountHolderName:"",bankName:""}}),_()}catch(Y){alert(Y.message||"Failed to create vendor")}finally{P(!1)}},ce=async B=>{var Y;B.preventDefault(),P(!0);try{const ie={...S};!ie.password||ie.password.trim()===""?(delete ie.password,console.log("Password field empty, will not update password")):console.log("Password provided, will update password"),console.log("Updating vendor with data:",{vendorId:v._id,fields:Object.keys(ie),hasPassword:!!ie.password});const me=await He.updateVendor(r,v._id,ie);console.log("Update response:",me),me.success&&(y(!1),N(null),k({name:"",email:"",phone:"",password:"",companyName:"",address:{street:"",city:"",state:"",pincode:"",country:"India"},gstNumber:"",panNumber:"",bankDetails:{accountNumber:"",ifscCode:"",accountHolderName:"",bankName:""}}),_(),alert("Vendor updated successfully!"))}catch(ie){console.error("Update vendor error:",ie),alert(ie.message||((Y=ie.data)==null?void 0:Y.message)||"Failed to update vendor")}finally{P(!1)}},he=B=>{N(B),k({name:B.name||"",email:B.email||"",phone:B.phone||"",password:"",companyName:B.companyName||"",address:B.address||{street:"",city:"",state:"",pincode:"",country:"India"},gstNumber:B.gstNumber||"",panNumber:B.panNumber||"",bankDetails:B.bankDetails||{accountNumber:"",ifscCode:"",accountHolderName:"",bankName:""}}),y(!0)},L={total:s.length,active:s.filter(B=>B.status==="active").length,suspended:s.filter(B=>B.status==="suspended").length,inactive:s.filter(B=>B.status==="inactive").length},q=s.map(B=>{var Y,ie,me;return{id:B._id,name:B.name||"N/A",email:B.email||"N/A",phone:B.phone||"N/A",companyName:B.companyName||"N/A",sparePartsCount:((Y=B.stats)==null?void 0:Y.sparePartsCount)||0,bookingsCount:((ie=B.stats)==null?void 0:ie.bookingsCount)||0,revenue:`${(((me=B.stats)==null?void 0:me.totalRevenue)||0).toLocaleString("en-IN")}`,status:B.status||"active",actions:B}});return t.jsxs("div",{className:"space-y-6",children:[t.jsx(gs,{title:"Vendor Management",description:"Create, manage, and monitor vendor accounts",icon:Mr}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx(Xn,{title:"Total Vendors",value:L.total,icon:Mr,color:"blue"}),t.jsx(Xn,{title:"Active Vendors",value:L.active,icon:vt,color:"green"}),t.jsx(Xn,{title:"Suspended",value:L.suspended,icon:Kp,color:"red"}),t.jsx(Xn,{title:"Inactive",value:L.inactive,icon:Kp,color:"gray"})]}),t.jsx("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6",children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end",children:[t.jsx("form",{onSubmit:A,className:"flex-1 w-full",children:t.jsxs("div",{className:"relative",children:[t.jsx(bn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400"}),t.jsx("input",{type:"text",value:c,onChange:B=>d(B.target.value),placeholder:"Search by name, email, phone, company...",className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})}),t.jsxs("select",{value:u,onChange:B=>{m(B.target.value),h(1)},className:"px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"inactive",children:"Inactive"}),t.jsx("option",{value:"suspended",children:"Suspended"})]}),t.jsxs("button",{onClick:()=>j(!0),className:"px-4 py-2 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition flex items-center gap-2",children:[t.jsx(Tr,{})," Create Vendor"]})]})}),n?t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-12 text-center",children:[t.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary mb-4"}),t.jsx("p",{className:"text-slate-500",children:"Loading vendors..."})]}):l?t.jsx("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6",children:t.jsx("p",{className:"text-rose-500",children:l})}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm overflow-hidden",children:t.jsx(Ia,{columns:q5e,data:q.map(B=>({...B,status:t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${B.status==="active"?"bg-green-100 text-green-800":B.status==="suspended"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:B.status}),actions:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>e(`/admin/vendors/${B.id}`),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition",title:"View Details",children:t.jsx(Ci,{})}),t.jsx("button",{onClick:()=>he(B.actions),className:"p-2 text-primary hover:bg-primary/10 rounded-lg transition",title:"Edit",children:t.jsx(QN,{})}),B.status==="active"?t.jsx("button",{onClick:()=>D(B.id,"suspended"),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition",title:"Suspend",children:t.jsx(Kp,{})}):t.jsx("button",{onClick:()=>D(B.id,"active"),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition",title:"Activate",children:t.jsx(vt,{})}),t.jsx("button",{onClick:()=>F(B.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition",title:"Delete",children:t.jsx(Ma,{})})]})}))})}),p>1&&t.jsxs("div",{className:"flex items-center justify-between bg-white border border-slate-200 rounded-2xl shadow-sm p-4",children:[t.jsxs("button",{onClick:()=>h(B=>Math.max(1,B-1)),disabled:x===1,className:"flex items-center gap-2 px-4 py-2 border border-slate-300 rounded-lg hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[t.jsx(JO,{})," Previous"]}),t.jsxs("span",{className:"text-slate-600",children:["Page ",x," of ",p]}),t.jsxs("button",{onClick:()=>h(B=>Math.min(p,B+1)),disabled:x===p,className:"flex items-center gap-2 px-4 py-2 border border-slate-300 rounded-lg hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:["Next ",t.jsx(QO,{})]})]})]}),b&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 p-6 flex items-center justify-between",children:[t.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Create New Vendor"}),t.jsx("button",{onClick:()=>j(!1),className:"p-2 hover:bg-slate-100 rounded-lg transition",children:t.jsx(mt,{})})]}),t.jsxs("form",{onSubmit:X,className:"p-6 space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Name *"}),t.jsx("input",{type:"text",value:S.name,onChange:B=>k({...S,name:B.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Email *"}),t.jsx("input",{type:"email",value:S.email,onChange:B=>k({...S,email:B.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Phone *"}),t.jsx("input",{type:"tel",value:S.phone,onChange:B=>k({...S,phone:B.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Password *"}),t.jsx("input",{type:"password",value:S.password,onChange:B=>k({...S,password:B.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Company Name"}),t.jsx("input",{type:"text",value:S.companyName,onChange:B=>k({...S,companyName:B.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"GST Number"}),t.jsx("input",{type:"text",value:S.gstNumber,onChange:B=>k({...S,gstNumber:B.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"PAN Number"}),t.jsx("input",{type:"text",value:S.panNumber,onChange:B=>k({...S,panNumber:B.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})]}),t.jsxs("div",{className:"border-t border-slate-200 pt-4 mt-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-4",children:"Address"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Street Address"}),t.jsx("input",{type:"text",value:S.address.street||"",onChange:B=>k({...S,address:{...S.address,street:B.target.value}}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"City"}),t.jsx("input",{type:"text",value:S.address.city||"",onChange:B=>k({...S,address:{...S.address,city:B.target.value}}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"State"}),t.jsx("input",{type:"text",value:S.address.state||"",onChange:B=>k({...S,address:{...S.address,state:B.target.value}}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Pincode"}),t.jsx("input",{type:"text",value:S.address.pincode||"",onChange:B=>k({...S,address:{...S.address,pincode:B.target.value}}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Country"}),t.jsx("input",{type:"text",value:S.address.country||"India",onChange:B=>k({...S,address:{...S.address,country:B.target.value}}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})]})]}),t.jsxs("div",{className:"border-t border-slate-200 pt-4 mt-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-4",children:"Bank Details"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Bank Name"}),t.jsx("input",{type:"text",value:S.bankDetails.bankName||"",onChange:B=>k({...S,bankDetails:{...S.bankDetails,bankName:B.target.value}}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Account Holder Name"}),t.jsx("input",{type:"text",value:S.bankDetails.accountHolderName||"",onChange:B=>k({...S,bankDetails:{...S.bankDetails,accountHolderName:B.target.value}}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Account Number"}),t.jsx("input",{type:"text",value:S.bankDetails.accountNumber||"",onChange:B=>k({...S,bankDetails:{...S.bankDetails,accountNumber:B.target.value}}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"IFSC Code"}),t.jsx("input",{type:"text",value:S.bankDetails.ifscCode||"",onChange:B=>k({...S,bankDetails:{...S.bankDetails,ifscCode:B.target.value}}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})]})]}),t.jsxs("div",{className:"flex gap-4 pt-4",children:[t.jsx("button",{type:"submit",disabled:C,className:"flex-1 px-6 py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition disabled:opacity-50",children:C?"Creating...":"Create Vendor"}),t.jsx("button",{type:"button",onClick:()=>j(!1),className:"px-6 py-3 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition",children:"Cancel"})]})]})]})}),w&&v&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 p-6 flex items-center justify-between",children:[t.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Edit Vendor"}),t.jsx("button",{onClick:()=>{y(!1),N(null)},className:"p-2 hover:bg-slate-100 rounded-lg transition",children:t.jsx(mt,{})})]}),t.jsxs("form",{onSubmit:ce,className:"p-6 space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Name *"}),t.jsx("input",{type:"text",value:S.name,onChange:B=>k({...S,name:B.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Email *"}),t.jsx("input",{type:"email",value:S.email,onChange:B=>k({...S,email:B.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Phone *"}),t.jsx("input",{type:"tel",value:S.phone,onChange:B=>k({...S,phone:B.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"New Password (leave blank to keep current)"}),t.jsx("input",{type:"password",value:S.password,onChange:B=>k({...S,password:B.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Company Name"}),t.jsx("input",{type:"text",value:S.companyName,onChange:B=>k({...S,companyName:B.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"GST Number"}),t.jsx("input",{type:"text",value:S.gstNumber,onChange:B=>k({...S,gstNumber:B.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"PAN Number"}),t.jsx("input",{type:"text",value:S.panNumber,onChange:B=>k({...S,panNumber:B.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})]}),t.jsxs("div",{className:"border-t border-slate-200 pt-4 mt-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-4",children:"Address"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Street Address"}),t.jsx("input",{type:"text",value:((se=S.address)==null?void 0:se.street)||"",onChange:B=>k({...S,address:{...S.address,street:B.target.value}}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"City"}),t.jsx("input",{type:"text",value:((R=S.address)==null?void 0:R.city)||"",onChange:B=>k({...S,address:{...S.address,city:B.target.value}}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"State"}),t.jsx("input",{type:"text",value:((T=S.address)==null?void 0:T.state)||"",onChange:B=>k({...S,address:{...S.address,state:B.target.value}}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Pincode"}),t.jsx("input",{type:"text",value:((O=S.address)==null?void 0:O.pincode)||"",onChange:B=>k({...S,address:{...S.address,pincode:B.target.value}}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Country"}),t.jsx("input",{type:"text",value:((K=S.address)==null?void 0:K.country)||"India",onChange:B=>k({...S,address:{...S.address,country:B.target.value}}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})]})]}),t.jsxs("div",{className:"border-t border-slate-200 pt-4 mt-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-4",children:"Bank Details"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Bank Name"}),t.jsx("input",{type:"text",value:((U=S.bankDetails)==null?void 0:U.bankName)||"",onChange:B=>k({...S,bankDetails:{...S.bankDetails,bankName:B.target.value}}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Account Holder Name"}),t.jsx("input",{type:"text",value:((ee=S.bankDetails)==null?void 0:ee.accountHolderName)||"",onChange:B=>k({...S,bankDetails:{...S.bankDetails,accountHolderName:B.target.value}}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Account Number"}),t.jsx("input",{type:"text",value:((M=S.bankDetails)==null?void 0:M.accountNumber)||"",onChange:B=>k({...S,bankDetails:{...S.bankDetails,accountNumber:B.target.value}}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"IFSC Code"}),t.jsx("input",{type:"text",value:((H=S.bankDetails)==null?void 0:H.ifscCode)||"",onChange:B=>k({...S,bankDetails:{...S.bankDetails,ifscCode:B.target.value}}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})]})]}),t.jsxs("div",{className:"flex gap-4 pt-4",children:[t.jsx("button",{type:"submit",disabled:C,className:"flex-1 px-6 py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition disabled:opacity-50",children:C?"Updating...":"Update Vendor"}),t.jsx("button",{type:"button",onClick:()=>{y(!1),N(null)},className:"px-6 py-3 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition",children:"Cancel"})]})]})]})})]})},Y5e=()=>{var u,m,x,h;const{vendorId:e}=xm(),r=Qt(),{token:s}=wr(),[a,n]=g.useState(null),[i,l]=g.useState(!0),[o,c]=g.useState(null);g.useEffect(()=>{d()},[s,e]);const d=async()=>{if(!(!s||!e)){l(!0),c(null);try{const p=await He.getVendorDetails(s,e);p.success?n(p.vendor):c(p.message||"Failed to fetch vendor details")}catch(p){console.error("Fetch vendor details error:",p),c(p.message||"Failed to fetch vendor details")}finally{l(!1)}}};return i?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):o||!a?t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6",children:[t.jsx("p",{className:"text-rose-500",children:o||"Vendor not found"}),t.jsx("button",{onClick:()=>r("/admin/vendors"),className:"mt-4 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition",children:"Back to Vendors"})]}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("button",{onClick:()=>r("/admin/vendors"),className:"p-2 hover:bg-slate-100 rounded-lg transition",children:t.jsx(Y0,{className:"text-xl"})}),t.jsx(gs,{title:`Vendor: ${a.name}`,description:"View vendor details and activities",icon:vr})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl shadow-sm p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-600",children:"Spare Parts"}),t.jsx(fs,{className:"text-primary text-xl"})]}),t.jsx("p",{className:"text-2xl font-bold text-slate-800",children:((u=a.stats)==null?void 0:u.sparePartsCount)||0})]}),t.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl shadow-sm p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-600",children:"Bookings"}),t.jsx(qn,{className:"text-primary text-xl"})]}),t.jsx("p",{className:"text-2xl font-bold text-slate-800",children:((m=a.stats)==null?void 0:m.bookingsCount)||0})]}),t.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl shadow-sm p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-600",children:"Total Revenue"}),t.jsx(Xt,{className:"text-primary text-xl"})]}),t.jsxs("p",{className:"text-2xl font-bold text-slate-800",children:["",(((x=a.stats)==null?void 0:x.totalRevenue)||0).toLocaleString("en-IN")]})]}),t.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl shadow-sm p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-600",children:"Balance"}),t.jsx(Xt,{className:"text-primary text-xl"})]}),t.jsxs("p",{className:"text-2xl font-bold text-slate-800",children:["",(((h=a.stats)==null?void 0:h.balance)||0).toLocaleString("en-IN")]})]})]}),t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Vendor Information"}),t.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${a.status==="active"?"bg-green-100 text-green-800":a.status==="suspended"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:a.status})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-600 mb-1",children:"Name"}),t.jsxs("p",{className:"text-slate-800 flex items-center gap-2",children:[t.jsx(vr,{className:"text-slate-400"}),a.name]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-600 mb-1",children:"Email"}),t.jsxs("p",{className:"text-slate-800 flex items-center gap-2",children:[t.jsx(en,{className:"text-slate-400"}),a.email]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-600 mb-1",children:"Phone"}),t.jsxs("p",{className:"text-slate-800 flex items-center gap-2",children:[t.jsx(tn,{className:"text-slate-400"}),a.phone]})]}),a.companyName&&t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-600 mb-1",children:"Company Name"}),t.jsx("p",{className:"text-slate-800",children:a.companyName})]}),a.gstNumber&&t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-600 mb-1",children:"GST Number"}),t.jsx("p",{className:"text-slate-800",children:a.gstNumber})]}),a.panNumber&&t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-600 mb-1",children:"PAN Number"}),t.jsx("p",{className:"text-slate-800",children:a.panNumber})]}),a.address&&t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-600 mb-1",children:"Address"}),t.jsxs("p",{className:"text-slate-800",children:[a.address.street&&`${a.address.street}, `,a.address.city&&`${a.address.city}, `,a.address.state&&`${a.address.state} - `,a.address.pincode]})]}),a.bankDetails&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-600 mb-1",children:"Bank Name"}),t.jsx("p",{className:"text-slate-800",children:a.bankDetails.bankName||"N/A"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-600 mb-1",children:"Account Number"}),t.jsx("p",{className:"text-slate-800",children:a.bankDetails.accountNumber||"N/A"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-600 mb-1",children:"IFSC Code"}),t.jsx("p",{className:"text-slate-800",children:a.bankDetails.ifscCode||"N/A"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-600 mb-1",children:"Account Holder Name"}),t.jsx("p",{className:"text-slate-800",children:a.bankDetails.accountHolderName||"N/A"})]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-600 mb-1",children:"Created At"}),t.jsx("p",{className:"text-slate-800",children:new Date(a.createdAt).toLocaleDateString()})]}),a.lastLogin&&t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-600 mb-1",children:"Last Login"}),t.jsx("p",{className:"text-slate-800",children:new Date(a.lastLogin).toLocaleDateString()})]})]})]}),a.spareParts&&a.spareParts.length>0&&t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6",children:[t.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-4",children:"Recent Spare Parts"}),t.jsx("div",{className:"space-y-2",children:a.spareParts.slice(0,5).map(p=>{var f;return t.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold text-slate-800",children:p.name}),t.jsxs("p",{className:"text-sm text-slate-600",children:["",(f=p.price)==null?void 0:f.toLocaleString("en-IN")," | Stock: ",p.stock]})]}),t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${p.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:p.status})]},p._id)})})]}),a.recentBookings&&a.recentBookings.length>0&&t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6",children:[t.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-4",children:"Recent Bookings"}),t.jsx("div",{className:"space-y-2",children:a.recentBookings.slice(0,5).map(p=>{var f,b;return t.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold text-slate-800",children:((f=p.sparePart)==null?void 0:f.name)||"N/A"}),t.jsxs("p",{className:"text-sm text-slate-600",children:["Qty: ",p.quantity," | ",(b=p.totalAmount)==null?void 0:b.toLocaleString("en-IN")]})]}),t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${p.status==="delivered"?"bg-green-100 text-green-800":p.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"}`,children:p.status})]},p._id)})})]})]})},X5e=()=>{const{token:e}=wr(),[r,s]=g.useState([]),[a,n]=g.useState(!0),[i,l]=g.useState(""),[o,c]=g.useState("all"),[d,u]=g.useState(null),[m,x]=g.useState(!1);g.useEffect(()=>{e&&h()},[e]);const h=async()=>{try{n(!0);const j=await He.fetchCustomers(e,{page:1,limit:1e3});s(j.customers||[])}catch(j){console.error("Error fetching customers:",j),s([])}finally{n(!1)}},p=r.filter(j=>{var v,N,S;const w=((v=j.name)==null?void 0:v.toLowerCase().includes(i.toLowerCase()))||((N=j.email)==null?void 0:N.toLowerCase().includes(i.toLowerCase()))||((S=j.phone)==null?void 0:S.includes(i)),y=o==="all"||j.status===o;return w&&y}),f=j=>{u(j),x(!0)},b=()=>{const j=["Name","Email","Phone","Total Bookings","Total Spent","Joined Date"],w=p.map(k=>[k.name,k.email,k.phone,k.totalBookings||0,k.totalSpent||0,new Date(k.createdAt).toLocaleDateString()]),y=[j,...w].map(k=>k.join(",")).join(`
`),v=new Blob([y],{type:"text/csv"}),N=window.URL.createObjectURL(v),S=document.createElement("a");S.href=N,S.download="customers.csv",S.click()};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Customer Management"}),t.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Manage and view all registered customers"})]}),t.jsxs("button",{onClick:b,className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition",children:[t.jsx(kn,{})," Export CSV"]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-slate-500",children:"Total Customers"}),t.jsx("p",{className:"text-2xl font-bold text-slate-800 mt-1",children:r.length})]}),t.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:t.jsx(Ci,{className:"text-blue-600 text-xl"})})]})}),t.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-slate-500",children:"Active Customers"}),t.jsx("p",{className:"text-2xl font-bold text-slate-800 mt-1",children:r.filter(j=>j.status==="active").length})]}),t.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:t.jsx(t9,{className:"text-green-600 text-xl"})})]})}),t.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-slate-500",children:"New This Month"}),t.jsx("p",{className:"text-2xl font-bold text-slate-800 mt-1",children:r.filter(j=>{const w=new Date(j.createdAt),y=new Date;return w.getMonth()===y.getMonth()&&w.getFullYear()===y.getFullYear()}).length})]}),t.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:t.jsx(Ss,{className:"text-purple-600 text-xl"})})]})}),t.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-slate-500",children:"Total Revenue"}),t.jsxs("p",{className:"text-2xl font-bold text-slate-800 mt-1",children:["",r.reduce((j,w)=>j+(w.totalSpent||0),0).toLocaleString()]})]}),t.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:t.jsx(hs,{className:"text-yellow-600 text-xl"})})]})})]}),t.jsx("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-slate-200",children:t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx(bn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),t.jsx("input",{type:"text",placeholder:"Search by name, email, or phone...",value:i,onChange:j=>l(j.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Td,{className:"text-slate-400"}),t.jsxs("select",{value:o,onChange:j=>c(j.target.value),className:"px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"inactive",children:"Inactive"})]})]})]})}),t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:a?t.jsxs("div",{className:"p-8 text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"}),t.jsx("p",{className:"text-slate-500 mt-4",children:"Loading customers..."})]}):p.length===0?t.jsx("div",{className:"p-8 text-center",children:t.jsx("p",{className:"text-slate-500",children:"No customers found"})}):t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Customer"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Contact"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Bookings"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Total Spent"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Joined"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Status"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-slate-200",children:p.map(j=>{var w;return t.jsxs("tr",{className:"hover:bg-slate-50 transition",children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-primary to-primary-dark text-white flex items-center justify-center font-semibold",children:(w=j.name)==null?void 0:w.charAt(0).toUpperCase()}),t.jsxs("div",{className:"ml-3",children:[t.jsx("p",{className:"text-sm font-medium text-slate-900",children:j.name}),t.jsx("p",{className:"text-xs text-slate-500",children:j.email})]})]})}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[t.jsx("div",{className:"text-sm text-slate-900",children:j.phone}),j.currentAddress&&t.jsx("div",{className:"text-xs text-slate-500 mt-1",children:j.currentAddress.pincode&&`PIN: ${j.currentAddress.pincode}`})]}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("div",{className:"text-sm text-slate-900",children:j.totalBookings||0})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("div",{className:"text-sm font-medium text-slate-900",children:["",(j.totalSpent||0).toLocaleString()]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("div",{className:"text-sm text-slate-500",children:new Date(j.createdAt).toLocaleDateString()})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${j.status==="active"?"bg-green-100 text-green-800":"bg-slate-100 text-slate-800"}`,children:j.status||"active"})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:t.jsx("button",{onClick:()=>f(j),className:"text-primary hover:text-primary-dark font-medium",children:"View Details"})})]},j._id)})})]})})}),m&&d&&t.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[t.jsx("div",{className:"p-6 border-b border-slate-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Customer Details"}),t.jsx("button",{onClick:()=>x(!1),className:"text-slate-400 hover:text-slate-600",children:""})]})}),t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-semibold text-slate-500 uppercase mb-3",children:"Basic Information"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-slate-500",children:"Name"}),t.jsx("p",{className:"text-sm font-medium text-slate-900",children:d.name})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-slate-500",children:"Status"}),t.jsx("span",{className:`inline-block px-2 py-1 text-xs font-semibold rounded-full ${d.status==="active"?"bg-green-100 text-green-800":"bg-slate-100 text-slate-800"}`,children:d.status||"active"})]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-semibold text-slate-500 uppercase mb-3",children:"Contact Information"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(en,{className:"text-slate-400"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-slate-500",children:"Email"}),t.jsx("p",{className:"text-sm text-slate-900",children:d.email||"N/A"})]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(tn,{className:"text-slate-400"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-slate-500",children:"Phone"}),t.jsx("p",{className:"text-sm text-slate-900",children:d.phone})]})]}),d.currentAddress&&t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(Pr,{className:"text-slate-400 mt-1"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-xs text-slate-500",children:"Current Address"}),t.jsx("p",{className:"text-sm text-slate-900",children:d.currentAddress.address}),d.currentAddress.landmark&&t.jsxs("p",{className:"text-xs text-slate-600 mt-1",children:["Landmark: ",d.currentAddress.landmark]}),t.jsxs("div",{className:"flex gap-2 mt-1",children:[d.currentAddress.addressType&&t.jsx("span",{className:"inline-block px-2 py-0.5 text-xs font-medium bg-blue-100 text-blue-800 rounded",children:d.currentAddress.addressType}),d.currentAddress.pincode&&t.jsxs("span",{className:"inline-block px-2 py-0.5 text-xs font-medium bg-slate-100 text-slate-800 rounded",children:["PIN: ",d.currentAddress.pincode]})]})]})]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-semibold text-slate-500 uppercase mb-3",children:"Statistics"}),t.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[t.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg",children:[t.jsx("p",{className:"text-xs text-slate-500",children:"Total Bookings"}),t.jsx("p",{className:"text-xl font-bold text-slate-900",children:d.totalBookings||0})]}),t.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg",children:[t.jsx("p",{className:"text-xs text-slate-500",children:"Total Spent"}),t.jsxs("p",{className:"text-xl font-bold text-slate-900",children:["",(d.totalSpent||0).toLocaleString()]})]}),t.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg",children:[t.jsx("p",{className:"text-xs text-slate-500",children:"Member Since"}),t.jsx("p",{className:"text-sm font-medium text-slate-900",children:new Date(d.createdAt).toLocaleDateString()})]})]})]}),d.addresses&&d.addresses.length>0&&t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-semibold text-slate-500 uppercase mb-3",children:"All Saved Addresses"}),t.jsx("div",{className:"space-y-3",children:d.addresses.map((j,w)=>t.jsx("div",{className:"bg-slate-50 p-4 rounded-lg border border-slate-200",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm font-medium text-slate-900",children:j.address}),j.landmark&&t.jsxs("p",{className:"text-xs text-slate-600 mt-1",children:["Landmark: ",j.landmark]}),t.jsxs("div",{className:"flex gap-2 mt-2",children:[j.addressType&&t.jsx("span",{className:"inline-block px-2 py-0.5 text-xs font-medium bg-blue-100 text-blue-800 rounded",children:j.addressType}),j.pincode&&t.jsxs("span",{className:"inline-block px-2 py-0.5 text-xs font-medium bg-slate-200 text-slate-800 rounded",children:["PIN: ",j.pincode]})]})]}),d.selectedAddress===j._id&&t.jsx("span",{className:"ml-2 px-2 py-1 text-xs font-semibold bg-green-100 text-green-800 rounded",children:"Current"})]})},w))})]})]})]})})]})},J5e=()=>{const{token:e}=wr(),[r,s]=g.useState([]),[a,n]=g.useState([]),[i,l]=g.useState({}),[o,c]=g.useState(!0),[d,u]=g.useState(!1),[m,x]=g.useState(null),[h,p]=g.useState({dateRange:"all",status:"all",search:""}),[f,b]=g.useState({currentPage:1,totalPages:1,totalItems:0,itemsPerPage:20,hasNextPage:!1,hasPrevPage:!1}),[j,w]=g.useState(null),[y,v]=g.useState(!1),[N,S]=g.useState(null),[k,C]=g.useState({search:"",sortBy:"name",sortOrder:"asc",partnerType:"all"});g.useEffect(()=>{e&&P(f.currentPage)},[e,h.dateRange,h.status,h.search,f.currentPage,f.itemsPerPage]);const P=async(M=f.currentPage)=>{var H,B;try{c(!0);const Y=typeof M=="number"?M:parseInt(M)||1,ie=await He.fetchBookings(e,{page:Y,limit:f.itemsPerPage,status:h.status!=="all"?h.status:void 0,fromDate:(H=D(h.dateRange))==null?void 0:H.from,toDate:(B=D(h.dateRange))==null?void 0:B.to,search:h.search||void 0});s(ie.data||[]),ie.pagination&&b(me=>({...me,currentPage:ie.pagination.currentPage,totalPages:ie.pagination.totalPages,totalItems:ie.pagination.totalItems,hasNextPage:ie.pagination.hasNextPage,hasPrevPage:ie.pagination.hasPrevPage}))}catch(Y){x(Y.message||"Failed to fetch bookings")}finally{c(!1)}},_=async()=>{try{const M=await He.fetchTeamMembers(e,{status:"active"}),H={};M.data&&M.data.forEach(B=>{var ie;const Y=((ie=B.partner)==null?void 0:ie._id)||B.partner;Y&&(H[Y]||(H[Y]=[]),H[Y].push(B))}),l(H)}catch(M){console.error("Failed to fetch team members:",M)}},A=async()=>{try{u(!0);const H=((await He.fetchPartners(e,{page:1,limit:100,status:"approved"})).partners||[]).map(B=>({_id:B.Profile.id,profile:{name:B.Profile.name,email:B.Profile.email,city:B.Profile.address||`Pincode: ${B.Profile.pincode}`,pincode:B.Profile.pincode,address:B.Profile.address},phone:B.Profile.phone,partnerType:B.Profile.partnerType,mgPlan:B.mgPlan,mgPlanLeadQuota:B.mgPlanLeadQuota||0,mgPlanLeadsUsed:B.mgPlanLeadsUsed||0,mgPlanSubscribedAt:B.mgPlanSubscribedAt,mgPlanExpiresAt:B.mgPlanExpiresAt}));n(H),await _()}catch(M){console.error("Failed to fetch partners:",M)}finally{u(!1)}},D=M=>{const H=new Date;switch(M){case"today":return{from:new Date(H.getFullYear(),H.getMonth(),H.getDate()).toISOString(),to:new Date(H.getFullYear(),H.getMonth(),H.getDate()+1).toISOString()};case"week":const B=new Date(H.setDate(H.getDate()-H.getDay()));return{from:new Date(B.getFullYear(),B.getMonth(),B.getDate()).toISOString(),to:new Date().toISOString()};case"month":return{from:new Date(H.getFullYear(),H.getMonth(),1).toISOString(),to:new Date().toISOString()};default:return null}},F=M=>{M>=1&&M<=f.totalPages&&b(H=>({...H,currentPage:M}))},X=M=>{b(H=>({...H,itemsPerPage:M,currentPage:1}))},ce=()=>{b(M=>({...M,currentPage:1}))},he=(M,H)=>{p(B=>({...B,[M]:H})),ce()},L=M=>({pending:"text-yellow-600 bg-yellow-50",confirmed:"text-blue-600 bg-blue-50",in_progress:"text-purple-600 bg-purple-50",completed:"text-green-600 bg-green-50",cancelled:"text-red-600 bg-red-50",accepted:"text-indigo-600 bg-indigo-50"})[M]||"text-gray-600 bg-gray-50",q=M=>({pending:ns,confirmed:vt,in_progress:Dt,completed:vt,cancelled:Yn,accepted:vt})[M]||Zi,se=g.useCallback(M=>M.mgPlan?Math.max(0,M.mgPlanLeadQuota-M.mgPlanLeadsUsed):"No Plan",[]),R=g.useCallback(M=>!M.mgPlan||M.mgPlanLeadQuota===0?0:Math.min(100,M.mgPlanLeadsUsed/M.mgPlanLeadQuota*100),[]),T=M=>{w(M),v(!0),C({search:"",sortBy:"name",sortOrder:"asc",partnerType:"all"}),A()},O=(M,H)=>{C(B=>({...B,[M]:H}))},K=g.useMemo(()=>{let M=a;if(k.partnerType&&k.partnerType!=="all"&&(M=M.filter(H=>H.partnerType===k.partnerType)),k.search){const H=k.search.toLowerCase();M=M.filter(B=>{var Y,ie,me,de,Ge,Me,it,Ye,Le;return((ie=(Y=B.profile)==null?void 0:Y.name)==null?void 0:ie.toLowerCase().includes(H))||((me=B.phone)==null?void 0:me.includes(k.search))||((Ge=(de=B.profile)==null?void 0:de.address)==null?void 0:Ge.toLowerCase().includes(H))||((it=(Me=B.profile)==null?void 0:Me.city)==null?void 0:it.toLowerCase().includes(H))||((Le=(Ye=B.mgPlan)==null?void 0:Ye.name)==null?void 0:Le.toLowerCase().includes(H))})}return M.sort((H,B)=>{var me,de,Ge,Me,it,Ye;let Y,ie;switch(k.sortBy){case"name":Y=((me=H.profile)==null?void 0:me.name)||"",ie=((de=B.profile)==null?void 0:de.name)||"";break;case"leads":Y=se(H),ie=se(B),Y=typeof Y=="string"?-1:Y,ie=typeof ie=="string"?-1:ie;break;case"mgPlan":Y=((Ge=H.mgPlan)==null?void 0:Ge.name)||"No Plan",ie=((Me=B.mgPlan)==null?void 0:Me.name)||"No Plan";break;case"leadUsage":Y=R(H),ie=R(B);break;default:Y=((it=H.profile)==null?void 0:it.name)||"",ie=((Ye=B.profile)==null?void 0:Ye.name)||""}return typeof Y=="string"&&typeof ie=="string"?k.sortOrder==="asc"?Y.localeCompare(ie):ie.localeCompare(Y):k.sortOrder==="asc"?Y-ie:ie-Y}),M},[a,k,se,R]),U=async M=>{var H;try{S(M);const B=((H=j.booking)==null?void 0:H._id)||j._id;await He.assignBooking(e,B,M,null);const Y=a.find(ie=>ie._id===M);s(ie=>ie.map(me=>{var de;return me._id===j._id?{...me,partner:Y,partnerName:((de=Y==null?void 0:Y.profile)==null?void 0:de.name)||"Unknown Partner",partnerPhone:(Y==null?void 0:Y.phone)||"No phone",partnerId:M}:me})),v(!1),w(null),alert("Partner assigned successfully!")}catch(B){console.error("Failed to assign partner:",B),alert("Failed to assign partner: "+(B.message||"Unknown error"))}finally{S(null)}},ee=r;return o?t.jsx("div",{className:"flex items-center justify-center min-h-96",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Dt,{className:"animate-spin text-2xl text-primary"}),t.jsx("span",{className:"text-lg",children:"Loading bookings..."})]})}):m?t.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:[t.jsxs("div",{className:"flex items-center gap-3 text-red-700",children:[t.jsx(Yn,{className:"text-xl"}),t.jsx("span",{className:"font-medium",children:"Error loading data"})]}),t.jsx("p",{className:"text-red-600 mt-2",children:m}),t.jsx("button",{onClick:P,className:"mt-4 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition",children:"Try Again"})]}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Customer Bookings"}),t.jsx("p",{className:"text-gray-600 mt-1",children:"Manage and assign bookings to partners"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("button",{onClick:P,className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition",children:[t.jsx(Dt,{className:"text-sm"}),"Refresh"]}),t.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition",children:[t.jsx(kn,{className:"text-sm"}),"Export"]})]})]}),t.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[t.jsx(Td,{className:"text-gray-500"}),t.jsx("span",{className:"font-medium text-gray-700",children:"Filters & Search"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search"}),t.jsxs("div",{className:"relative",children:[t.jsx(bn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),t.jsx("input",{type:"text",placeholder:"Search by customer, phone, service...",value:h.search,onChange:M=>he("search",M.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date Range"}),t.jsxs("select",{value:h.dateRange,onChange:M=>he("dateRange",M.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",children:[t.jsx("option",{value:"all",children:"All Time"}),t.jsx("option",{value:"today",children:"Today"}),t.jsx("option",{value:"week",children:"This Week"}),t.jsx("option",{value:"month",children:"This Month"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),t.jsxs("select",{value:h.status,onChange:M=>he("status",M.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"confirmed",children:"Confirmed"}),t.jsx("option",{value:"in_progress",children:"In Progress"}),t.jsx("option",{value:"completed",children:"Completed"}),t.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),t.jsx("div",{className:"flex items-end",children:t.jsx("button",{onClick:()=>p({dateRange:"all",status:"all",search:""}),className:"w-full px-3 py-2 text-sm text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition",children:"Clear Filters"})})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[t.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Bookings"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:f.totalItems}),t.jsxs("p",{className:"text-xs text-gray-500",children:["Showing ",ee.length," on this page"]})]}),t.jsx("div",{className:"p-3 bg-blue-50 rounded-lg",children:t.jsx(Ss,{className:"text-xl text-blue-600"})})]})}),t.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending Assignment"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:ee.filter(M=>!M.partner&&M.partnerName==="Still not assigned").length}),t.jsx("p",{className:"text-xs text-gray-500",children:"On current page"})]}),t.jsx("div",{className:"p-3 bg-yellow-50 rounded-lg",children:t.jsx(Hf,{className:"text-xl text-yellow-600"})})]})}),t.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Assigned"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:ee.filter(M=>M.partner||M.partnerName!=="Still not assigned").length}),t.jsx("p",{className:"text-xs text-gray-500",children:"On current page"})]}),t.jsx("div",{className:"p-3 bg-green-50 rounded-lg",children:t.jsx(vt,{className:"text-xl text-green-600"})})]})}),t.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Page Revenue"}),t.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["",ee.reduce((M,H)=>M+(H.amount||0),0).toLocaleString()]}),t.jsx("p",{className:"text-xs text-gray-500",children:"Current page total"})]}),t.jsx("div",{className:"p-3 bg-purple-50 rounded-lg",children:t.jsx(Xt,{className:"text-xl text-purple-600"})})]})})]}),t.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[t.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:t.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"All Bookings"})}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Service"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date & Time"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Assigned Partner"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ee.map(M=>{var B,Y,ie,me,de;const H=q(M.status);return t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:t.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center text-white font-semibold",children:((Y=(B=M.customerName)==null?void 0:B.charAt(0))==null?void 0:Y.toUpperCase())||"U"})}),t.jsxs("div",{className:"ml-4",children:[t.jsx("div",{className:"text-sm font-medium text-gray-900",children:M.customerName||"Unknown Customer"}),t.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-1",children:[t.jsx(tn,{className:"text-xs"}),M.customerPhone]})]})]})}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[t.jsx("div",{className:"text-sm font-medium text-gray-900",children:M.serviceName||"Service Booking"}),t.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-1",children:[t.jsx(Pr,{className:"text-xs"}),((me=(ie=M.location)==null?void 0:ie.address)==null?void 0:me.substring(0,30))||"No address","..."]})]}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[t.jsx("div",{className:"text-sm font-medium text-gray-900",children:new Date(M.scheduledDate).toLocaleDateString()}),t.jsx("div",{className:"text-sm text-gray-500",children:M.scheduledTime})]}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["",((de=M.amount)==null?void 0:de.toLocaleString())||"0"]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("div",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${L(M.status)}`,children:[t.jsx(H,{className:"text-xs"}),M.status]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:M.partnerName&&M.partnerName!=="Still not assigned"?t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"flex-shrink-0 h-8 w-8",children:t.jsx("div",{className:"h-8 w-8 rounded-full bg-gradient-to-br from-green-500 to-green-600 flex items-center justify-center text-white font-semibold text-xs",children:(()=>{var it;const Ge=M.partnerName||"P";return((it=(typeof Ge=="string"?Ge.trim():"P").charAt(0))==null?void 0:it.toUpperCase())||"P"})()})}),t.jsxs("div",{className:"ml-3 flex flex-col",children:[t.jsx("div",{className:"text-sm font-medium text-gray-900 leading-tight",children:M.partnerName&&M.partnerName!=="Still not assigned"?M.partnerName:"Unknown Partner"}),t.jsx("div",{className:"text-sm text-gray-500 leading-tight mt-1",children:M.partnerPhone&&M.partnerPhone!=="N/A"?M.partnerPhone:"No phone"})]})]}):t.jsx("span",{className:"text-sm text-gray-400",children:"Not assigned"})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:M.partnerName==="Still not assigned"?t.jsxs("button",{onClick:()=>T(M),className:"inline-flex items-center gap-1 px-3 py-1 bg-primary text-white rounded-lg hover:bg-primary-dark transition text-xs",children:[t.jsx(Hf,{className:"text-xs"}),"Assign"]}):t.jsxs("button",{onClick:()=>T(M),className:"inline-flex items-center gap-1 px-3 py-1 bg-gray-100 text-gray-600 rounded-lg hover:bg-gray-200 transition text-xs",children:[t.jsx(Ci,{className:"text-xs"}),"Change"]})})]},M._id)})})]})}),ee.length===0&&t.jsxs("div",{className:"text-center py-12",children:[t.jsx(Ss,{className:"mx-auto text-4xl text-gray-400 mb-4"}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No bookings found"}),t.jsx("p",{className:"text-gray-500",children:"No bookings match your current filters."})]})]}),f.totalItems>0&&t.jsx("div",{className:"bg-white rounded-lg border border-gray-200 px-6 py-4",children:t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",(f.currentPage-1)*f.itemsPerPage+1," to"," ",Math.min(f.currentPage*f.itemsPerPage,f.totalItems)," of"," ",f.totalItems," bookings"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("label",{className:"text-sm text-gray-600",children:"Show:"}),t.jsxs("select",{value:f.itemsPerPage,onChange:M=>X(Number(M.target.value)),className:"px-2 py-1 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-primary focus:border-transparent",children:[t.jsx("option",{value:10,children:"10"}),t.jsx("option",{value:20,children:"20"}),t.jsx("option",{value:50,children:"50"}),t.jsx("option",{value:100,children:"100"})]}),t.jsx("span",{className:"text-sm text-gray-600",children:"per page"})]})]}),f.totalPages>1&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>F(1),disabled:!f.hasPrevPage,className:`px-3 py-2 text-sm font-medium rounded-lg transition ${f.hasPrevPage?"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,children:"First"}),t.jsx("button",{onClick:()=>F(f.currentPage-1),disabled:!f.hasPrevPage,className:`px-3 py-2 text-sm font-medium rounded-lg transition ${f.hasPrevPage?"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,children:"Previous"}),t.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,f.totalPages)},(M,H)=>{let B;return f.totalPages<=5||f.currentPage<=3?B=H+1:f.currentPage>=f.totalPages-2?B=f.totalPages-4+H:B=f.currentPage-2+H,t.jsx("button",{onClick:()=>F(B),className:`px-3 py-2 text-sm font-medium rounded-lg transition ${B===f.currentPage?"bg-primary text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,children:B},B)})}),f.totalPages>5&&t.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Go to:"}),t.jsx("input",{type:"number",min:"1",max:f.totalPages,placeholder:"Page",className:"w-16 px-2 py-1 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-primary focus:border-transparent",onKeyPress:M=>{if(M.key==="Enter"){const H=parseInt(M.target.value);H>=1&&H<=f.totalPages&&(F(H),M.target.value="")}}})]}),t.jsx("button",{onClick:()=>F(f.currentPage+1),disabled:!f.hasNextPage,className:`px-3 py-2 text-sm font-medium rounded-lg transition ${f.hasNextPage?"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,children:"Next"}),t.jsx("button",{onClick:()=>F(f.totalPages),disabled:!f.hasNextPage,className:`px-3 py-2 text-sm font-medium rounded-lg transition ${f.hasNextPage?"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,children:"Last"})]})]})}),y&&j&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Assign Partner - ",j.serviceName]}),t.jsx("button",{onClick:()=>v(!1),className:"text-gray-400 hover:text-gray-600",children:t.jsx(Yn,{className:"text-xl"})})]}),t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[t.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Booking Details"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm text-gray-600",children:["Customer: ",t.jsx("span",{className:"font-medium",children:j.customerName})]}),t.jsxs("p",{className:"text-sm text-gray-600",children:["Phone: ",t.jsx("span",{className:"font-medium",children:j.customerPhone})]})]}),t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm text-gray-600",children:["Date: ",t.jsx("span",{className:"font-medium",children:new Date(j.scheduledDate).toLocaleDateString()})]}),t.jsxs("p",{className:"text-sm text-gray-600",children:["Amount: ",t.jsxs("span",{className:"font-medium",children:["",j.amount]})]})]})]})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h4",{className:"font-semibold text-gray-900",children:"Available Partners"}),t.jsxs("div",{className:"text-sm text-gray-500",children:[K.length," of ",a.length," partners"]})]}),t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search Partners"}),t.jsxs("div",{className:"relative",children:[t.jsx(bn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 text-sm"}),t.jsx("input",{type:"text",placeholder:"Name, phone, location...",value:k.search,onChange:M=>O("search",M.target.value),className:"w-full pl-9 pr-9 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",autoFocus:!0}),k.search&&t.jsx("button",{onClick:()=>O("search",""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:t.jsx(Yn,{className:"text-sm"})})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Sort By",k.sortOrder==="asc"?t.jsx(lr,{className:"inline ml-1 text-xs text-green-600"}):t.jsx(od,{className:"inline ml-1 text-xs text-red-600"})]}),t.jsxs("select",{value:k.sortBy,onChange:M=>O("sortBy",M.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",children:[t.jsx("option",{value:"name",children:"Partner Name"}),t.jsx("option",{value:"leads",children:"Remaining Leads"}),t.jsx("option",{value:"mgPlan",children:"MG Plan"}),t.jsx("option",{value:"leadUsage",children:"Lead Usage %"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Order"}),t.jsxs("select",{value:k.sortOrder,onChange:M=>O("sortOrder",M.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",children:[t.jsx("option",{value:"asc",children:k.sortBy==="name"||k.sortBy==="mgPlan"?"A to Z":"Low to High"}),t.jsx("option",{value:"desc",children:k.sortBy==="name"||k.sortBy==="mgPlan"?"Z to A":"High to Low"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Partner Type"}),t.jsxs("select",{value:k.partnerType,onChange:M=>O("partnerType",M.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",children:[t.jsx("option",{value:"all",children:"All Types"}),t.jsx("option",{value:"franchise",children:"Franchise"}),t.jsx("option",{value:"individual",children:"Individual"})]})]})]}),t.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[t.jsx("button",{onClick:()=>C(M=>({...M,search:"",sortBy:"leads",sortOrder:"desc"})),className:"px-3 py-1 text-xs bg-green-100 text-green-700 rounded-full hover:bg-green-200 transition",children:"Most Leads Available"}),t.jsx("button",{onClick:()=>C(M=>({...M,search:"",sortBy:"leadUsage",sortOrder:"asc"})),className:"px-3 py-1 text-xs bg-blue-100 text-blue-700 rounded-full hover:bg-blue-200 transition",children:"Least Used"}),t.jsx("button",{onClick:()=>C(M=>({...M,search:"",partnerType:"franchise",sortBy:"name",sortOrder:"asc"})),className:"px-3 py-1 text-xs bg-purple-100 text-purple-700 rounded-full hover:bg-purple-200 transition",children:"Franchise Only"}),t.jsx("button",{onClick:()=>C(M=>({...M,search:"",partnerType:"individual",sortBy:"name",sortOrder:"asc"})),className:"px-3 py-1 text-xs bg-indigo-100 text-indigo-700 rounded-full hover:bg-indigo-200 transition",children:"Individual Only"}),t.jsx("button",{onClick:()=>C(M=>({...M,search:"",partnerType:"all",sortBy:"name",sortOrder:"asc"})),className:"px-3 py-1 text-xs bg-gray-100 text-gray-700 rounded-full hover:bg-gray-200 transition",children:"Reset Filters"})]})]}),d?t.jsxs("div",{className:"flex items-center justify-center py-8",children:[t.jsx(Dt,{className:"animate-spin text-xl text-primary mr-2"}),t.jsx("span",{children:"Loading partners..."})]}):t.jsxs("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:[K.map(M=>{var me,de,Ge,Me,it,Ye;const H=se(M),B=R(M),Y=j.partnerId===M._id,ie=i[M._id]||[];return t.jsxs("div",{className:`border rounded-lg p-4 ${Y?"border-primary bg-primary-50":"border-gray-200"}`,children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"flex-shrink-0 h-12 w-12",children:t.jsx("div",{className:"h-12 w-12 rounded-full bg-gradient-to-br from-primary to-primary-dark flex items-center justify-center text-white font-semibold",children:((Ge=(de=(me=M.profile)==null?void 0:me.name)==null?void 0:de.charAt(0))==null?void 0:Ge.toUpperCase())||"P"})}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[t.jsx("h5",{className:"font-medium text-gray-900",children:((Me=M.profile)==null?void 0:Me.name)||"Unknown Partner"}),Y&&t.jsx("span",{className:"px-2 py-1 bg-primary text-white text-xs rounded-full",children:"Current"}),M.partnerType==="franchise"&&t.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full",children:"Franchise"}),M.mgPlan&&t.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-xs rounded-full",children:M.mgPlan.name}),!M.mgPlan&&t.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full",children:"No Plan"})]}),t.jsxs("p",{className:"text-sm text-gray-600 flex items-center gap-1",children:[t.jsx(tn,{className:"text-xs"}),M.phone]}),t.jsxs("p",{className:"text-sm text-gray-600 flex items-center gap-1",children:[t.jsx(Pr,{className:"text-xs"}),((it=M.profile)==null?void 0:it.address)||((Ye=M.profile)==null?void 0:Ye.city)||"Location not specified"]}),M.partnerType==="franchise"&&t.jsxs("p",{className:"text-sm text-gray-600 flex items-center gap-1",children:[t.jsx(Mr,{className:"text-xs"}),"Team: ",ie.length," member",ie.length!==1?"s":""]})]})]}),t.jsxs("div",{className:"text-right",children:[M.mgPlan?t.jsxs("div",{className:"mb-3",children:[t.jsx("div",{className:"text-sm font-medium text-gray-900",children:M.mgPlan.name}),t.jsxs("div",{className:"text-xs text-gray-500",children:["",M.mgPlan.price]}),t.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[t.jsxs("div",{className:"text-xs text-gray-600",children:[M.mgPlanLeadsUsed||0,"/",M.mgPlanLeadQuota||0," leads"]}),t.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-1",children:t.jsx("div",{className:`h-1 rounded-full ${B>=90?"bg-red-500":B>=70?"bg-yellow-500":"bg-green-500"}`,style:{width:`${B}%`}})})]}),t.jsxs("div",{className:`text-xs font-medium flex items-center gap-1 ${typeof H=="number"&&H<=5?"text-red-600":"text-green-600"}`,children:[typeof H=="number"&&H<=5?t.jsx(Zi,{className:"text-xs"}):t.jsx(vt,{className:"text-xs"}),H," remaining"]})]}):t.jsx("div",{className:"mb-3",children:t.jsx("span",{className:"text-xs text-gray-400",children:"No MG Plan"})}),t.jsx("button",{onClick:()=>U(M._id),disabled:N===M._id||typeof H=="number"&&H<=0,className:`px-4 py-2 rounded-lg text-sm font-medium transition ${N===M._id?"bg-gray-300 text-gray-500 cursor-not-allowed":typeof H=="number"&&H<=0?"bg-red-100 text-red-600 cursor-not-allowed":Y?"bg-gray-100 text-gray-600 hover:bg-gray-200":"bg-primary text-white hover:bg-primary-dark"}`,children:N===M._id?t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Dt,{className:"animate-spin text-xs"}),"Assigning..."]}):typeof H=="number"&&H<=0?"No Leads Left":Y?"Currently Assigned":"Assign Partner"})]})]}),M.partnerType==="franchise"&&ie.length>0&&t.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[t.jsxs("h6",{className:"text-sm font-medium text-gray-700 mb-3",children:["Team Members (",ie.length,")"]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[ie.slice(0,4).map(Le=>{var z,xe;return t.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-50 rounded-lg",children:[t.jsx("div",{className:"flex-shrink-0 h-8 w-8",children:t.jsx("div",{className:"h-8 w-8 rounded-full bg-gradient-to-br from-gray-400 to-gray-600 flex items-center justify-center text-white font-semibold text-xs",children:((xe=(z=Le.name)==null?void 0:z.charAt(0))==null?void 0:xe.toUpperCase())||"T"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("div",{className:"text-xs font-medium text-gray-900 truncate",children:Le.name}),t.jsx("div",{className:"text-xs text-gray-500 capitalize",children:Le.role||"technician"})]})]},Le._id)}),ie.length>4&&t.jsxs("div",{className:"flex items-center justify-center p-2 bg-gray-50 rounded-lg text-xs text-gray-500",children:["+",ie.length-4," more"]})]})]})]},M._id)}),K.length===0&&a.length>0&&t.jsxs("div",{className:"text-center py-8",children:[t.jsx(bn,{className:"mx-auto text-3xl text-gray-400 mb-2"}),t.jsx("p",{className:"text-gray-500",children:"No partners match your search criteria"}),t.jsx("button",{onClick:()=>C(M=>({...M,search:""})),className:"mt-2 text-sm text-primary hover:text-primary-dark",children:"Clear search"})]}),a.length===0&&t.jsxs("div",{className:"text-center py-8",children:[t.jsx(Mr,{className:"mx-auto text-3xl text-gray-400 mb-2"}),t.jsx("p",{className:"text-gray-500",children:"No partners available"})]})]})]})]})]})})]})},nh=[{emoji:"",name:"Wrench",category:"Tools"},{emoji:"",name:"Hammer",category:"Tools"},{emoji:"",name:"Tools",category:"Tools"},{emoji:"",name:"Gear",category:"Tools"},{emoji:"",name:"Nut & Bolt",category:"Tools"},{emoji:"",name:"Electrical",category:"Electrical"},{emoji:"",name:"Light Bulb",category:"Electrical"},{emoji:"",name:"Plug",category:"Electrical"},{emoji:"",name:"Antenna",category:"Electrical"},{emoji:"",name:"Battery",category:"Electrical"},{emoji:"",name:"Shower",category:"Plumbing"},{emoji:"",name:"Water",category:"Plumbing"},{emoji:"",name:"Droplet",category:"Plumbing"},{emoji:"",name:"Wave",category:"Plumbing"},{emoji:"",name:"Tap",category:"Plumbing"},{emoji:"",name:"Paint",category:"Painting"},{emoji:"",name:"Paintbrush",category:"Painting"},{emoji:"",name:"Frame",category:"Decor"},{emoji:"",name:"Window",category:"Decor"},{emoji:"",name:"Door",category:"Decor"},{emoji:"",name:"Snowflake",category:"AC"},{emoji:"",name:"Thermometer",category:"AC"},{emoji:"",name:"Cyclone",category:"AC"},{emoji:"",name:"Wind",category:"AC"},{emoji:"",name:"Broom",category:"Cleaning"},{emoji:"",name:"Sponge",category:"Cleaning"},{emoji:"",name:"Bottle",category:"Cleaning"},{emoji:"",name:"Soap",category:"Cleaning"},{emoji:"",name:"Fire Extinguisher",category:"Safety"},{emoji:"",name:"Paperclip",category:"Hardware"},{emoji:"",name:"Pushpin",category:"Hardware"},{emoji:"",name:"Lock",category:"Hardware"},{emoji:"",name:"Key",category:"Hardware"},{emoji:"",name:"Hook",category:"Hardware"},{emoji:"",name:"TV",category:"Appliances"},{emoji:"",name:"Phone",category:"Appliances"},{emoji:"",name:"Laptop",category:"Appliances"},{emoji:"",name:"Computer",category:"Appliances"},{emoji:"",name:"Keyboard",category:"Appliances"},{emoji:"",name:"Construction",category:"Building"},{emoji:"",name:"Brick",category:"Building"},{emoji:"",name:"House",category:"Building"},{emoji:"",name:"Building",category:"Building"},{emoji:"",name:"Factory",category:"Building"},{emoji:"",name:"Package",category:"Storage"},{emoji:"",name:"Clipboard",category:"Storage"},{emoji:"",name:"Card Index",category:"Storage"},{emoji:"",name:"Folder",category:"Storage"},{emoji:"",name:"File Cabinet",category:"Storage"},{emoji:"",name:"Toolbox",category:"General"},{emoji:"",name:"Shopping Cart",category:"General"},{emoji:"",name:"Chart",category:"General"},{emoji:"",name:"Star",category:"General"},{emoji:"",name:"Sparkle",category:"General"},{emoji:"",name:"Glowing Star",category:"General"},{emoji:"",name:"Diamond",category:"General"},{emoji:"",name:"Target",category:"General"},{emoji:"",name:"Check Mark",category:"General"},{emoji:"",name:"Magnifying Glass",category:"General"},{emoji:"",name:"Ladder",category:"Tools"},{emoji:"",name:"Bucket",category:"Tools"},{emoji:"",name:"Magnet",category:"Tools"},{emoji:"",name:"Flashlight",category:"Tools"},{emoji:"",name:"Screwdriver",category:"Tools"}],Q5e=[{header:"SKU",accessor:"sku"},{header:"Part Name",accessor:"name"},{header:"Category",accessor:"category"},{header:"Location",accessor:"location"},{header:"Stock",accessor:"stock",render:(e,r)=>{const s=typeof e=="string"?e:`${r.stock||0} ${r.unit||"units"}`;return t.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold ${r.status==="Critical"?"bg-rose-500/10 text-rose-600":r.status==="Low"?"bg-amber-500/10 text-amber-600":"bg-emerald-500/10 text-emerald-600"}`,children:s})}},{header:"Supplier",accessor:"supplier"},{header:"Lead Time",accessor:"leadTime",render:e=>typeof e=="string"?e:`${e||0} days`},{header:"Actions",accessor:"_id",render:e=>t.jsx("button",{onClick:()=>fetchItemHistory(e),className:"p-1.5 text-slate-600 hover:text-primary hover:bg-primary/10 rounded-lg transition",title:"View History",children:t.jsx(ns,{className:"w-4 h-4"})})}],Z5e=[{header:"PO",accessor:"poId"},{header:"Supplier",accessor:"supplier"},{header:"Parts",accessor:"items",render:e=>typeof e=="string"?e:Array.isArray(e)?e.map(r=>`${r.name||r.sku} (${r.quantity})`).join(", "):"N/A"},{header:"Value",accessor:"value",render:(e,r)=>{if(typeof e=="string")return e;const s=r.totalValue||0;return s>1e5?`${(s/1e5).toFixed(1)}L`:`${s.toLocaleString()}`}},{header:"Status",accessor:"status",render:e=>t.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold ${e==="Delivered"?"bg-emerald-500/10 text-emerald-600":e==="In Transit"?"bg-blue-500/10 text-blue-600":e==="Pending"?"bg-amber-500/10 text-amber-600":e==="Cancelled"?"bg-rose-500/10 text-rose-600":"bg-slate-500/10 text-slate-600"}`,children:e})},{header:"ETA",accessor:"eta",render:(e,r)=>typeof e=="string"?e:r.expectedDeliveryDate?new Date(r.expectedDeliveryDate).toLocaleDateString("en-GB",{day:"numeric",month:"short"}):"N/A"}],e6e=()=>{var dt,fe;const{token:e}=wr(),[r,s]=g.useState("inventory"),[a,n]=g.useState(!1),[i,l]=g.useState(null),[o,c]=g.useState({name:"",icon:"",items:[],order:0,isActive:!0}),[d,u]=g.useState({name:"",priceMin:"",priceMax:""}),[m,x]=g.useState(!1),[h,p]=g.useState(""),[f,b]=g.useState(""),[j,w]=g.useState(!1),[y,v]=g.useState(""),[N,S]=g.useState(!1),[k,C]=g.useState(!1),[P,_]=g.useState({supplier:"",supplierContact:"",expectedDeliveryDate:"",notes:"",items:[]}),[A,D]=g.useState({selectedInventoryItem:"",sku:"",name:"",quantity:"",unitPrice:""}),[F,X]=g.useState(""),[ce,he]=g.useState(!1),[L,q]=g.useState(!1),[se,R]=g.useState(null),[T,O]=g.useState([]),K=g.useRef(null),[U,ee]=g.useState({category:"",minStockLevel:5,reorderLevel:10,criticalLevel:3,autoReorder:!1,autoReorderQuantity:20,leadTimeDays:7}),{data:M,refresh:H}=cr(V=>He.fetchInventoryStats(V),[]),{data:B,isLoading:Y,error:ie,refresh:me}=cr(V=>He.fetchInventoryItems(V),[]),{data:de,isLoading:Ge,error:Me,refresh:it}=cr(V=>He.fetchPurchaseOrders(V),[]),{data:Ye,isLoading:Le,error:z,refresh:xe}=cr(V=>He.fetchMaterialCategories(V),[]),{data:re,isLoading:ge,error:pe,refresh:ve}=cr(V=>He.fetchVendorSpareParts(V),[]),ke=(Ye==null?void 0:Ye.data)||[],Qe=(B==null?void 0:B.data)||[],ft=(de==null?void 0:de.data)||[],je=(M==null?void 0:M.data)||{},Fe=(re==null?void 0:re.data)||[];g.useEffect(()=>{const V=oe=>{K.current&&!K.current.contains(oe.target)&&he(!1)};return ce&&document.addEventListener("mousedown",V),()=>{document.removeEventListener("mousedown",V)}},[ce]);const Tt=[{label:"Inventory Value",value:je.valuation||"0",trend:"Real-time",icon:eZ,description:`Across ${je.totalItems||0} items`},{label:"Critical SKUs",value:je.criticalCount||0,trend:je.criticalCount>0?"Action required":"All good",icon:xj,intent:je.criticalCount>0?"warning":"positive",description:"Below configured safety stock"},{label:"Active Suppliers",value:je.suppliers||0,trend:"Active vendors",icon:nZ,description:"With active purchase orders"},{label:"In-transit Shipments",value:je.inTransit||0,trend:"Pending delivery",icon:r9,description:"Purchase orders in transit"}],Lt=(V=null)=>{V?(l(V._id),c({name:V.name||"",icon:V.icon||"",items:V.items||[],order:V.order||0,isActive:V.isActive!==void 0?V.isActive:!0})):(l(null),c({name:"",icon:"",items:[],order:ke.length>0?Math.max(...ke.map(oe=>oe.order||0))+1:0,isActive:!0})),u({name:"",priceMin:"",priceMax:""}),n(!0),b(""),p("")},ye=()=>{n(!1),l(null),c({name:"",icon:"",items:[],order:0,isActive:!0}),u({name:"",priceMin:"",priceMax:""}),b(""),p(""),w(!1),v("")},I=()=>{d.name.trim()&&(c(V=>({...V,items:[...V.items,{name:d.name.trim(),priceMin:d.priceMin?Number(d.priceMin):null,priceMax:d.priceMax?Number(d.priceMax):null}]})),u({name:"",priceMin:"",priceMax:""}))},ae=V=>{c(oe=>({...oe,items:oe.items.filter((Ue,Je)=>Je!==V)}))},Ce=async V=>{V.preventDefault(),x(!0),b(""),p("");try{if(!o.name||!o.icon||o.items.length===0){b("Please fill in all required fields and add at least one item"),x(!1);return}i?(await He.updateMaterialCategory(e,i,o),p("Material category updated successfully!")):(await He.createMaterialCategory(e,o),p("Material category created successfully!")),setTimeout(()=>{xe(),ye()},1e3)}catch(oe){b(oe.message||"Failed to save material category")}finally{x(!1)}},We=async V=>{if(window.confirm("Are you sure you want to delete this material category?"))try{await He.deleteMaterialCategory(e,V),p("Material category deleted successfully!"),setTimeout(()=>{xe(),p("")},1e3)}catch(oe){b(oe.message||"Failed to delete material category"),setTimeout(()=>b(""),3e3)}},At=async(V,oe)=>{const Ue=ke.findIndex(rt=>rt._id===V);if(Ue===-1)return;const Je=oe==="up"?Ue-1:Ue+1;if(Je<0||Je>=ke.length)return;const Ve=[...ke],[ue]=Ve.splice(Ue,1);Ve.splice(Je,0,ue);const Re=Ve.map((rt,ht)=>({id:rt._id,order:ht}));try{await He.updateMaterialCategoryOrder(e,Re),xe()}catch(rt){b(rt.message||"Failed to update order"),setTimeout(()=>b(""),3e3)}},pt=[{header:"Icon",accessor:"icon",render:V=>t.jsx("span",{className:"text-2xl",children:V})},{header:"Name",accessor:"name"},{header:"Items",accessor:"items",render:V=>t.jsxs("span",{className:"text-sm text-slate-600",children:[Array.isArray(V)?V.length:0," items"]})},{header:"Status",accessor:"isActive",render:V=>t.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold ${V?"bg-emerald-500/10 text-emerald-600":"bg-slate-500/10 text-slate-600"}`,children:V?"Active":"Inactive"})},{header:"Order",accessor:"order"},{header:"Actions",accessor:"_id",render:(V,oe)=>t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>At(V,"up"),className:"p-1.5 text-slate-600 hover:text-primary hover:bg-primary/10 rounded-lg transition",disabled:ke.findIndex(Ue=>Ue._id===V)===0,children:t.jsx(Bf,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>At(V,"down"),className:"p-1.5 text-slate-600 hover:text-primary hover:bg-primary/10 rounded-lg transition",disabled:ke.findIndex(Ue=>Ue._id===V)===ke.length-1,children:t.jsx(Rf,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>Lt(oe),className:"p-1.5 text-slate-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition",children:t.jsx(ks,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>We(V),className:"p-1.5 text-slate-600 hover:text-rose-600 hover:bg-rose-50 rounded-lg transition",children:t.jsx(Ma,{className:"w-4 h-4"})})]})}];return t.jsxs("div",{children:[t.jsx(gs,{title:"Spare Parts",subtitle:"Stay ahead of technician demand with predictive inventory, supplier tracking, and automated procurement flows.",actions:t.jsxs("div",{className:"flex gap-2",children:[r==="materials"&&t.jsxs("button",{onClick:()=>Lt(),className:"px-4 py-2 rounded-xl bg-primary text-white text-sm font-semibold hover:bg-primary-dark transition flex items-center gap-2",children:[t.jsx(Tr,{className:"w-4 h-4"}),"Add Material Category"]}),r==="inventory"&&t.jsxs(t.Fragment,{children:[t.jsxs("button",{onClick:()=>S(!0),className:"px-4 py-2 rounded-xl bg-primary text-white text-sm font-semibold hover:bg-primary-dark transition flex items-center gap-2",children:[t.jsx(Tr,{className:"w-4 h-4"}),"Create Purchase Order"]}),t.jsx("button",{onClick:()=>C(!0),className:"px-4 py-2 rounded-xl border border-primary text-primary text-sm font-semibold hover:bg-primary/10 transition",children:"Configure Thresholds"})]})]})}),t.jsxs("div",{className:"flex gap-2 mb-6 border-b border-slate-200",children:[t.jsx("button",{onClick:()=>s("inventory"),className:`px-4 py-2 font-semibold text-sm transition ${r==="inventory"?"text-primary border-b-2 border-primary":"text-slate-600 hover:text-slate-900"}`,children:"Inventory"}),t.jsx("button",{onClick:()=>s("materials"),className:`px-4 py-2 font-semibold text-sm transition ${r==="materials"?"text-primary border-b-2 border-primary":"text-slate-600 hover:text-slate-900"}`,children:"Available Materials"}),t.jsx("button",{onClick:()=>s("vendor-parts"),className:`px-4 py-2 font-semibold text-sm transition ${r==="vendor-parts"?"text-primary border-b-2 border-primary":"text-slate-600 hover:text-slate-900"}`,children:"Vendor Spare Parts"})]}),h&&t.jsx("div",{className:"mb-4 p-3 bg-emerald-50 border border-emerald-200 text-emerald-700 rounded-lg text-sm",children:h}),f&&t.jsx("div",{className:"mb-4 p-3 bg-rose-50 border border-rose-200 text-rose-700 rounded-lg text-sm",children:f}),r==="materials"&&t.jsxs("section",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-5",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500",children:"Material Categories"}),Le&&t.jsx("span",{className:"text-xs text-slate-400",children:"Loading..."}),z&&t.jsx("span",{className:"text-xs text-rose-500",children:"Error loading materials"})]}),t.jsx(Ia,{columns:pt,data:ke,emptyLabel:"No material categories found. Click 'Add Material Category' to create one."})]}),r==="vendor-parts"&&t.jsxs("section",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-5",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500",children:"Vendor Spare Parts"}),t.jsxs("div",{className:"flex items-center gap-3",children:[pe&&t.jsxs("span",{className:"text-xs text-rose-500",children:["Error loading vendor parts. ",Fe.length>0?`Showing ${Fe.length} cached items.`:"Please refresh."]}),ge&&t.jsx("span",{className:"text-xs text-slate-400",children:"Loading..."}),!ge&&!pe&&t.jsxs("span",{className:"text-xs text-slate-500",children:[Fe.length," parts"]}),t.jsxs("button",{onClick:()=>ve(),className:"text-xs text-primary hover:text-primary-dark font-semibold flex items-center gap-1",children:[t.jsx(Dt,{className:"w-3 h-3"}),"Refresh"]})]})]}),t.jsx(Ia,{columns:[{header:"Image/Icon",accessor:"image",render:(V,oe)=>t.jsx("div",{className:"w-12 h-12 rounded-lg overflow-hidden bg-slate-100 flex items-center justify-center",children:oe.image?t.jsx("img",{src:oe.image,alt:oe.name,className:"w-full h-full object-cover"}):oe.icon?t.jsx("span",{className:"text-2xl",children:oe.icon}):t.jsx(fs,{className:"w-6 h-6 text-slate-400"})})},{header:"Name",accessor:"name"},{header:"Category",accessor:"category"},{header:"Brand",accessor:"brand"},{header:"Price",accessor:"price",render:V=>`${(V==null?void 0:V.toLocaleString("en-IN"))||0}`},{header:"Stock",accessor:"stock",render:(V,oe)=>`${V||0} ${oe.unit||"units"}`},{header:"Vendor",accessor:"vendor",render:V=>typeof V=="object"&&V!==null?t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(vr,{className:"w-4 h-4 text-slate-400"}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-medium",children:V.name||"N/A"}),t.jsx("div",{className:"text-xs text-slate-500",children:V.companyName||V.email||""})]})]}):"N/A"},{header:"Status",accessor:"status",render:V=>t.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold ${V==="active"?"bg-emerald-500/10 text-emerald-600":V==="out_of_stock"?"bg-rose-500/10 text-rose-600":"bg-slate-500/10 text-slate-600"}`,children:V==="out_of_stock"?"Out of Stock":V||"Inactive"})},{header:"Actions",accessor:"_id",render:(V,oe)=>t.jsx("button",{onClick:()=>{var Ue;return window.open(`/admin/vendors/${((Ue=oe.vendor)==null?void 0:Ue._id)||oe.vendor}`,"_blank")},className:"p-1.5 text-slate-600 hover:text-primary hover:bg-primary/10 rounded-lg transition",title:"View Vendor",children:t.jsx(Ci,{className:"w-4 h-4"})})}],data:Fe,emptyLabel:"No vendor spare parts found. Vendors can add spare parts from their dashboard."})]}),r==="inventory"&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"grid gap-5 md:grid-cols-2 xl:grid-cols-4 mb-10",children:Tt.map(V=>t.jsx(Xn,{...V},V.label))}),t.jsxs("div",{className:"space-y-8",children:[t.jsxs("section",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500",children:"Inventory Positions"}),t.jsxs("div",{className:"flex items-center gap-3",children:[ie&&t.jsxs("span",{className:"text-xs text-rose-500",children:["Error loading inventory data. ",Qe.length>0?`Showing ${Qe.length} cached items.`:"Please refresh."]}),Y&&t.jsx("span",{className:"text-xs text-slate-400",children:"Loading stock data..."}),!Y&&!ie&&t.jsxs("span",{className:"text-xs text-slate-500",children:[Qe.length," items"]}),t.jsxs("button",{onClick:()=>me(),className:"text-xs text-primary hover:text-primary-dark font-semibold flex items-center gap-1",children:[t.jsx(Dt,{className:"w-3 h-3"}),"Refresh"]})]})]}),t.jsx(Ia,{columns:Q5e,data:Qe,emptyLabel:"No inventory items found. Add items to track stock levels."})]}),t.jsxs("section",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500",children:"Available Material Categories"}),t.jsxs("span",{className:"text-xs text-slate-500",children:[ke.length," categories"]})]}),t.jsx("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-5",children:Le?t.jsx("div",{className:"text-center py-8 text-slate-400 text-sm",children:"Loading materials..."}):ke.length===0?t.jsx("div",{className:"text-center py-8 text-slate-400 text-sm",children:"No material categories found"}):t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:ke.map(V=>t.jsxs("div",{className:"p-4 bg-gradient-to-br from-primary/5 to-primary/10 rounded-xl border border-primary/20",children:[t.jsx("div",{className:"text-3xl mb-2",children:V.icon}),t.jsx("div",{className:"font-semibold text-sm text-primary mb-1",children:V.name}),t.jsxs("div",{className:"text-xs text-slate-600",children:[Array.isArray(V.items)?V.items.length:0," items"]})]},V._id))})})]}),t.jsxs("section",{className:"grid lg:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"lg:col-span-2 bg-white border border-slate-200 rounded-2xl shadow-sm p-5",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500",children:"Procurement Tracker"}),Me&&t.jsx("span",{className:"text-xs text-rose-500",children:"Error loading orders"}),Ge&&t.jsx("span",{className:"text-xs text-slate-400",children:"Loading..."})]}),t.jsx(Ia,{columns:Z5e,data:ft,emptyLabel:"No purchase orders found. Create a purchase order to track procurement."})]}),t.jsxs("div",{className:"bg-slate-900 text-white rounded-2xl p-6 space-y-5 shadow-lg",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Supplier SLA Watch"}),t.jsx("p",{className:"text-sm text-white/75 leading-relaxed",children:"Track lead times, fill rate, and defect rate for each supplier. Auto-notify procurement ops when SLA breaches exceed configured thresholds."}),t.jsxs("ul",{className:"space-y-3 text-sm text-white/80",children:[t.jsx("li",{children:" Auto-assign alternate supplier if new ETA > threshold"}),t.jsx("li",{children:" Auto-create debit notes for warranty failure"}),t.jsx("li",{children:" Maintain compliance badges for marketplace visibility"})]})]})]})]})]}),N&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 p-5 flex items-center justify-between",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Create Purchase Order"}),t.jsx("button",{onClick:()=>{S(!1),_({supplier:"",supplierContact:"",expectedDeliveryDate:"",notes:"",items:[]}),D({selectedInventoryItem:"",sku:"",name:"",quantity:"",unitPrice:""}),X(""),he(!1)},className:"p-2 hover:bg-slate-100 rounded-lg transition",children:t.jsx(mt,{className:"w-5 h-5"})})]}),t.jsxs("form",{onSubmit:async V=>{if(V.preventDefault(),P.items.length===0){b("Please add at least one item to the purchase order");return}x(!0);try{await He.createPurchaseOrder(e,{...P,expectedDeliveryDate:new Date(P.expectedDeliveryDate).toISOString()}),p("Purchase order created successfully!"),it(),H(),setTimeout(()=>{S(!1),_({supplier:"",supplierContact:"",expectedDeliveryDate:"",notes:"",items:[]}),D({selectedInventoryItem:"",sku:"",name:"",quantity:"",unitPrice:""}),X(""),he(!1)},1e3)}catch(oe){b(oe.message||"Failed to create purchase order")}finally{x(!1)}},className:"p-5 space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Supplier *"}),t.jsx("input",{type:"text",value:P.supplier,onChange:V=>_(oe=>({...oe,supplier:V.target.value})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Contact"}),t.jsx("input",{type:"text",value:P.supplierContact,onChange:V=>_(oe=>({...oe,supplierContact:V.target.value})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Expected Delivery Date *"}),t.jsx("input",{type:"date",value:P.expectedDeliveryDate,onChange:V=>_(oe=>({...oe,expectedDeliveryDate:V.target.value})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Items *"}),t.jsxs("div",{className:"border border-slate-200 rounded-lg p-4 space-y-3",children:[t.jsxs("div",{className:"mb-4 pb-4 border-b border-slate-200",children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-2",children:"Select from Existing Inventory Items"}),t.jsxs("div",{className:"relative",children:[t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("div",{className:"flex-1 relative",ref:K,children:[t.jsx(bn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 w-4 h-4"}),t.jsx("input",{type:"text",placeholder:"Search inventory items by SKU, name, or category...",value:F,onChange:V=>{X(V.target.value),he(!0)},onFocus:()=>he(!0),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg text-sm focus:ring-2 focus:ring-primary focus:border-transparent"}),ce&&Qe.length>0&&t.jsxs("div",{className:"absolute z-20 w-full mt-1 bg-white border border-slate-200 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:[Qe.filter(V=>{var oe,Ue,Je;return F===""||((oe=V.sku)==null?void 0:oe.toLowerCase().includes(F.toLowerCase()))||((Ue=V.name)==null?void 0:Ue.toLowerCase().includes(F.toLowerCase()))||((Je=V.category)==null?void 0:Je.toLowerCase().includes(F.toLowerCase()))}).slice(0,10).map(V=>t.jsxs("button",{type:"button",onClick:()=>{typeof V.stock=="string"?parseInt(V.stock.split(" ")[0]):V.stock,D({selectedInventoryItem:V._id,sku:V.sku,name:V.name,quantity:"",unitPrice:V.unitPrice||0}),X(`${V.sku} - ${V.name}`),he(!1)},className:"w-full text-left px-4 py-2 hover:bg-primary/10 transition flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("div",{className:"font-semibold text-sm",children:V.sku}),t.jsx("div",{className:"text-xs text-slate-600",children:V.name}),t.jsxs("div",{className:"text-xs text-slate-400",children:[V.category,"  ",V.location]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"text-xs font-semibold text-primary",children:["",V.unitPrice||0]}),t.jsxs("div",{className:"text-xs text-slate-400",children:["Stock: ",stockNum]})]})]},V._id)),Qe.filter(V=>{var oe,Ue,Je;return F===""||((oe=V.sku)==null?void 0:oe.toLowerCase().includes(F.toLowerCase()))||((Ue=V.name)==null?void 0:Ue.toLowerCase().includes(F.toLowerCase()))||((Je=V.category)==null?void 0:Je.toLowerCase().includes(F.toLowerCase()))}).length===0&&t.jsx("div",{className:"px-4 py-3 text-sm text-slate-500 text-center",children:"No inventory items found"})]})]}),t.jsx("button",{type:"button",onClick:()=>{X(""),he(!1),D({selectedInventoryItem:"",sku:"",name:"",quantity:"",unitPrice:""})},className:"px-3 py-2 text-sm text-slate-600 hover:bg-slate-100 border border-slate-300 rounded-lg transition",children:"Clear"})]}),A.selectedInventoryItem&&t.jsxs("div",{className:"mt-2 p-2 bg-primary/5 border border-primary/20 rounded-lg text-xs",children:[t.jsx("span",{className:"font-semibold text-primary",children:"Selected:"})," ",A.sku," - ",A.name]})]})]}),t.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs text-slate-600 mb-1",children:"SKU *"}),t.jsx("input",{type:"text",placeholder:"SKU",value:A.sku,onChange:V=>D(oe=>({...oe,sku:V.target.value,selectedInventoryItem:""})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs text-slate-600 mb-1",children:"Name *"}),t.jsx("input",{type:"text",placeholder:"Item Name",value:A.name,onChange:V=>D(oe=>({...oe,name:V.target.value,selectedInventoryItem:""})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs text-slate-600 mb-1",children:"Quantity *"}),t.jsx("input",{type:"number",placeholder:"Qty",value:A.quantity,onChange:V=>D(oe=>({...oe,quantity:V.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm",min:"1",required:!0})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("label",{className:"block text-xs text-slate-600 mb-1",children:"Unit Price *"}),t.jsx("input",{type:"number",placeholder:"Price",value:A.unitPrice,onChange:V=>D(oe=>({...oe,unitPrice:V.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm",min:"0",step:"0.01",required:!0})]}),t.jsx("div",{className:"flex items-end",children:t.jsx("button",{type:"button",onClick:()=>{A.sku&&A.name&&A.quantity&&A.unitPrice?(_(V=>({...V,items:[...V.items,{inventoryItemId:A.selectedInventoryItem||null,sku:A.sku,name:A.name,quantity:parseInt(A.quantity),unitPrice:parseFloat(A.unitPrice)}]})),D({selectedInventoryItem:"",sku:"",name:"",quantity:"",unitPrice:""}),X(""),he(!1)):b("Please fill all item fields (SKU, Name, Quantity, Unit Price)")},className:"px-4 py-2 bg-primary text-white rounded-lg text-sm hover:bg-primary-dark font-semibold",children:"Add"})})]})]}),t.jsxs("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:[P.items.length===0?t.jsx("div",{className:"text-center py-4 text-slate-400 text-sm",children:"No items added yet. Select from inventory or enter manually."}):P.items.map((V,oe)=>{const Ue=V.quantity*V.unitPrice;return t.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg text-sm border border-slate-200",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"font-semibold",children:V.name}),t.jsxs("div",{className:"text-xs text-slate-600",children:["SKU: ",V.sku,"  Qty: ",V.quantity,"  ",V.unitPrice]})]}),t.jsx("div",{className:"text-right mr-3",children:t.jsxs("div",{className:"font-semibold text-primary",children:["",Ue.toLocaleString()]})}),t.jsx("button",{type:"button",onClick:()=>_(Je=>({...Je,items:Je.items.filter((Ve,ue)=>ue!==oe)})),className:"text-rose-600 hover:bg-rose-50 p-1.5 rounded transition",children:t.jsx(mt,{className:"w-4 h-4"})})]},oe)}),P.items.length>0&&t.jsx("div",{className:"pt-2 border-t border-slate-200",children:t.jsxs("div",{className:"flex justify-between items-center font-semibold",children:[t.jsx("span",{children:"Total Value:"}),t.jsxs("span",{className:"text-primary text-lg",children:["",P.items.reduce((V,oe)=>V+oe.quantity*oe.unitPrice,0).toLocaleString()]})]})})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Notes"}),t.jsx("textarea",{value:P.notes,onChange:V=>_(oe=>({...oe,notes:V.target.value})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary",rows:"3"})]}),t.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200",children:[t.jsxs("button",{type:"submit",disabled:m,className:"flex-1 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition font-semibold flex items-center justify-center gap-2 disabled:opacity-50",children:[t.jsx(Xi,{className:"w-4 h-4"}),m?"Creating...":"Create Purchase Order"]}),t.jsx("button",{type:"button",onClick:()=>S(!1),className:"px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition",children:"Cancel"})]})]})]})}),k&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 p-5 flex items-center justify-between",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Configure Thresholds"}),t.jsx("button",{onClick:()=>C(!1),className:"p-2 hover:bg-slate-100 rounded-lg transition",children:t.jsx(mt,{className:"w-5 h-5"})})]}),t.jsxs("form",{onSubmit:async V=>{V.preventDefault(),x(!0);try{await He.upsertThreshold(e,U),p("Threshold configured successfully!"),H(),me(),setTimeout(()=>{C(!1)},1e3)}catch(oe){b(oe.message||"Failed to save threshold")}finally{x(!1)}},className:"p-5 space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Category *"}),t.jsx("input",{type:"text",value:U.category,onChange:V=>ee(oe=>({...oe,category:V.target.value})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary",placeholder:"e.g., Air Conditioning",required:!0})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Critical Level"}),t.jsx("input",{type:"number",value:U.criticalLevel,onChange:V=>ee(oe=>({...oe,criticalLevel:parseInt(V.target.value)||0})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary",min:"0"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Min Stock Level"}),t.jsx("input",{type:"number",value:U.minStockLevel,onChange:V=>ee(oe=>({...oe,minStockLevel:parseInt(V.target.value)||0})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary",min:"0"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Reorder Level"}),t.jsx("input",{type:"number",value:U.reorderLevel,onChange:V=>ee(oe=>({...oe,reorderLevel:parseInt(V.target.value)||0})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary",min:"0"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Lead Time (Days)"}),t.jsx("input",{type:"number",value:U.leadTimeDays,onChange:V=>ee(oe=>({...oe,leadTimeDays:parseInt(V.target.value)||0})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary",min:"0"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Auto Reorder Quantity"}),t.jsx("input",{type:"number",value:U.autoReorderQuantity,onChange:V=>ee(oe=>({...oe,autoReorderQuantity:parseInt(V.target.value)||0})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary",min:"0"})]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("input",{type:"checkbox",id:"autoReorder",checked:U.autoReorder,onChange:V=>ee(oe=>({...oe,autoReorder:V.target.checked})),className:"w-5 h-5 text-primary border-2 border-slate-300 rounded focus:ring-primary"}),t.jsx("label",{htmlFor:"autoReorder",className:"text-sm font-semibold text-slate-700",children:"Enable Auto Reorder"})]}),t.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200",children:[t.jsxs("button",{type:"submit",disabled:m,className:"flex-1 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition font-semibold flex items-center justify-center gap-2 disabled:opacity-50",children:[t.jsx(Xi,{className:"w-4 h-4"}),m?"Saving...":"Save Threshold"]}),t.jsx("button",{type:"button",onClick:()=>C(!1),className:"px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition",children:"Cancel"})]})]})]})}),L&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 p-5 flex items-center justify-between",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Item History"}),t.jsx("button",{onClick:()=>{q(!1),R(null),O([])},className:"p-2 hover:bg-slate-100 rounded-lg transition",children:t.jsx(mt,{className:"w-5 h-5"})})]}),t.jsx("div",{className:"p-5",children:T.length===0?t.jsxs("div",{className:"text-center py-12 text-slate-400",children:[t.jsx(ns,{className:"w-12 h-12 mx-auto mb-4 text-slate-300"}),t.jsx("p",{children:"No history available for this item"})]}):t.jsx("div",{className:"space-y-3",children:T.sort((V,oe)=>new Date(oe.timestamp)-new Date(V.timestamp)).map((V,oe)=>t.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg border border-slate-200",children:[t.jsxs("div",{className:"flex items-start justify-between mb-2",children:[t.jsxs("div",{children:[t.jsx("div",{className:"font-semibold text-sm capitalize",children:V.action.replace("_"," ")}),t.jsx("div",{className:"text-xs text-slate-500",children:new Date(V.timestamp).toLocaleString()})]}),t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${V.action==="created"?"bg-emerald-500/10 text-emerald-600":V.action==="stock_added"?"bg-blue-500/10 text-blue-600":V.action==="stock_removed"?"bg-amber-500/10 text-amber-600":V.action==="status_changed"?"bg-purple-500/10 text-purple-600":"bg-slate-500/10 text-slate-600"}`,children:V.action.replace("_"," ")})]}),V.quantity&&t.jsxs("div",{className:"text-sm text-slate-700",children:["Quantity: ",t.jsx("span",{className:"font-semibold",children:V.quantity})]}),V.previousValue!==void 0&&V.newValue!==void 0&&t.jsxs("div",{className:"text-sm text-slate-700 mt-1",children:[t.jsx("span",{className:"line-through text-slate-400",children:V.previousValue}),"  ",t.jsx("span",{className:"font-semibold text-primary",children:V.newValue})]}),V.notes&&t.jsx("div",{className:"text-xs text-slate-600 mt-2 italic",children:V.notes})]},oe))})})]})}),a&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 p-5 flex items-center justify-between",children:[t.jsx("h3",{className:"text-lg font-semibold",children:i?"Edit Material Category":"Add Material Category"}),t.jsx("button",{onClick:ye,className:"p-2 hover:bg-slate-100 rounded-lg transition",children:t.jsx(mt,{className:"w-5 h-5"})})]}),t.jsxs("form",{onSubmit:Ce,className:"p-5 space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Category Name *"}),t.jsx("input",{type:"text",value:o.name,onChange:V=>c(oe=>({...oe,name:V.target.value})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"e.g., Plumbing materials",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Icon (Emoji) *"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-3xl pointer-events-none z-10 flex items-center justify-center w-10 h-10",children:o.icon||""}),t.jsx("input",{type:"text",value:o.icon,onChange:V=>c(oe=>({...oe,icon:V.target.value})),className:"w-full px-4 py-2 pl-16 pr-4 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent text-transparent caret-slate-700",placeholder:"",required:!0,maxLength:2,style:{color:"transparent",textShadow:"0 0 0 transparent"}}),!o.icon&&t.jsx("div",{className:"absolute left-16 top-1/2 -translate-y-1/2 text-slate-400 text-sm pointer-events-none",children:"Enter emoji or pick from list"})]}),t.jsxs("button",{type:"button",onClick:()=>{w(!j),v("")},className:"px-4 py-2 bg-slate-100 hover:bg-slate-200 border border-slate-300 rounded-lg transition flex items-center gap-2 text-sm font-semibold",children:[t.jsx("span",{className:"text-lg",children:""}),j?"Hide":"Pick Icon"]})]}),j&&t.jsxs("div",{className:"border-2 border-slate-200 rounded-xl p-4 bg-slate-50 max-h-80 overflow-hidden flex flex-col",children:[t.jsxs("div",{className:"relative mb-3",children:[t.jsx(bn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 w-4 h-4"}),t.jsx("input",{type:"text",value:y,onChange:V=>v(V.target.value),placeholder:"Search icons...",className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent text-sm"})]}),t.jsxs("div",{className:"flex-1 overflow-y-auto",children:[t.jsx("div",{className:"grid grid-cols-8 sm:grid-cols-10 gap-2",children:nh.filter(V=>y===""||V.name.toLowerCase().includes(y.toLowerCase())||V.category.toLowerCase().includes(y.toLowerCase())||V.emoji.includes(y)).map((V,oe)=>t.jsx("button",{type:"button",onClick:()=>{c(Ue=>({...Ue,icon:V.emoji})),w(!1)},className:`w-10 h-10 rounded-lg flex items-center justify-center text-xl transition-all duration-200 ${o.icon===V.emoji?"bg-primary text-white ring-2 ring-primary ring-offset-2 scale-110":"bg-white hover:bg-primary/10 hover:scale-105 border border-slate-200"}`,title:`${V.name} (${V.category})`,children:V.emoji},oe))}),nh.filter(V=>y===""||V.name.toLowerCase().includes(y.toLowerCase())||V.category.toLowerCase().includes(y.toLowerCase())||V.emoji.includes(y)).length===0&&t.jsx("div",{className:"text-center py-8 text-slate-500",children:t.jsxs("p",{className:"text-sm",children:['No icons found matching "',y,'"']})})]}),t.jsxs("div",{className:"mt-3 pt-3 border-t border-slate-200",children:[t.jsx("p",{className:"text-xs font-semibold text-slate-600 mb-2",children:"Quick Filter:"}),t.jsx("div",{className:"flex flex-wrap gap-1",children:["All","Tools","Electrical","Plumbing","Painting","AC","Cleaning","Hardware","Appliances","Building"].map(V=>t.jsx("button",{type:"button",onClick:()=>v(V==="All"?"":V),className:`px-2 py-1 text-xs rounded-md transition ${V==="All"&&y===""||y===V?"bg-primary text-white":"bg-white text-slate-600 hover:bg-slate-100 border border-slate-200"}`,children:V},V))})]})]}),t.jsx("p",{className:"text-xs text-slate-500",children:o.icon?t.jsxs("span",{children:["Selected: ",t.jsx("span",{className:"font-semibold",children:((dt=nh.find(V=>V.emoji===o.icon))==null?void 0:dt.name)||"Custom icon"}),nh.find(V=>V.emoji===o.icon)&&t.jsxs("span",{className:"text-slate-400 ml-1",children:["(",(fe=nh.find(V=>V.emoji===o.icon))==null?void 0:fe.category,")"]})]}):'Click "Pick Icon" to browse available icons or type a custom emoji directly'})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-3 flex items-center justify-between",children:t.jsxs("span",{className:"flex items-center gap-2",children:["Items *",t.jsxs("span",{className:"text-xs font-normal text-slate-500 bg-slate-100 px-2 py-0.5 rounded-full",children:[o.items.length," ",o.items.length===1?"item":"items"]})]})}),t.jsxs("div",{className:"mb-4 p-4 bg-gradient-to-br from-slate-50 to-slate-100/50 rounded-xl border-2 border-slate-200 shadow-sm",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1.5",children:"Item Name *"}),t.jsx("input",{type:"text",value:d.name,onChange:V=>u(oe=>({...oe,name:V.target.value})),onKeyPress:V=>V.key==="Enter"&&!V.shiftKey&&(V.preventDefault(),I()),className:"w-full px-4 py-2.5 border-2 border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-all bg-white",placeholder:"e.g., PVC Pipe, Copper Wire, Paint Bucket"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1.5",children:"Min Price ()"}),t.jsxs("div",{className:"relative",children:[t.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 font-medium",children:""}),t.jsx("input",{type:"number",value:d.priceMin,onChange:V=>u(oe=>({...oe,priceMin:V.target.value})),onKeyPress:V=>V.key==="Enter"&&!V.shiftKey&&(V.preventDefault(),I()),className:"w-full pl-8 pr-4 py-2.5 border-2 border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-all bg-white",placeholder:"600",min:"0"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1.5",children:"Max Price ()"}),t.jsxs("div",{className:"relative",children:[t.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 font-medium",children:""}),t.jsx("input",{type:"number",value:d.priceMax,onChange:V=>u(oe=>({...oe,priceMax:V.target.value})),onKeyPress:V=>V.key==="Enter"&&!V.shiftKey&&(V.preventDefault(),I()),className:"w-full pl-8 pr-4 py-2.5 border-2 border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-all bg-white",placeholder:"1000",min:"0"})]})]})]}),t.jsxs("button",{type:"button",onClick:I,disabled:!d.name.trim(),className:"w-full px-4 py-2.5 bg-primary text-white rounded-lg hover:bg-primary-dark transition-all font-semibold flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm hover:shadow-md",children:[t.jsx(Tr,{className:"w-4 h-4"}),"Add Item"]})]}),t.jsxs("p",{className:"text-xs text-slate-500 mt-3 flex items-start gap-1.5",children:[t.jsx("span",{className:"text-primary mt-0.5",children:""}),t.jsx("span",{children:"Price range is optional. Press Enter to quickly add items."})]})]}),o.items.length>0?t.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto pr-1",children:o.items.map((V,oe)=>t.jsxs("div",{className:"group flex items-start gap-3 p-3 bg-white border-2 border-slate-200 rounded-lg hover:border-primary/50 hover:shadow-sm transition-all",children:[t.jsx("div",{className:"flex-shrink-0 w-7 h-7 bg-slate-100 group-hover:bg-primary/10 rounded-full flex items-center justify-center text-xs font-bold text-slate-600 group-hover:text-primary transition-colors",children:oe+1}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("div",{className:"font-medium text-slate-800 text-sm break-words",children:V.name||V}),(V.priceMin||V.priceMax)&&t.jsx("div",{className:"flex items-center gap-2 mt-1.5",children:t.jsxs("div",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 bg-emerald-50 border border-emerald-200 rounded-md",children:[t.jsxs("span",{className:"text-xs font-semibold text-emerald-700",children:["",V.priceMin||"0"]}),t.jsx("span",{className:"text-xs text-emerald-600",children:""}),t.jsxs("span",{className:"text-xs font-semibold text-emerald-700",children:["",V.priceMax||""]})]})})]}),t.jsx("button",{type:"button",onClick:()=>ae(oe),className:"flex-shrink-0 p-2 text-slate-400 hover:text-rose-600 hover:bg-rose-50 rounded-lg transition-all",title:"Remove item",children:t.jsx(Ma,{className:"w-4 h-4"})})]},oe))}):t.jsxs("div",{className:"text-center py-8 px-4 bg-slate-50 border-2 border-dashed border-slate-300 rounded-lg",children:[t.jsx(fs,{className:"w-10 h-10 text-slate-300 mx-auto mb-2"}),t.jsx("p",{className:"text-sm font-medium text-slate-500",children:"No items added yet"}),t.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Add at least one item to continue"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Order"}),t.jsx("input",{type:"number",value:o.order,onChange:V=>c(oe=>({...oe,order:parseInt(V.target.value)||0})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Status"}),t.jsxs("select",{value:o.isActive?"active":"inactive",onChange:V=>c(oe=>({...oe,isActive:V.target.value==="active"})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",children:[t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"inactive",children:"Inactive"})]})]})]}),t.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200",children:[t.jsxs("button",{type:"submit",disabled:m,className:"flex-1 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition font-semibold flex items-center justify-center gap-2 disabled:opacity-50",children:[t.jsx(Xi,{className:"w-4 h-4"}),m?"Saving...":i?"Update":"Create"]}),t.jsx("button",{type:"button",onClick:ye,className:"px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition",children:"Cancel"})]})]})]})})]})},t6e=()=>{var N;const{token:e}=wr(),[r,s]=g.useState([]),[a,n]=g.useState(!1),[i,l]=g.useState({totalRevenue:0,totalSubscribers:0,activeSubscriptions:0}),[o,c]=g.useState([]),[d,u]=g.useState(!1),[m,x]=g.useState(null),[h,p]=g.useState(""),[f,b]=g.useState(!1);g.useEffect(()=>{const S=async()=>{if(!e){console.log("No token available, skipping AMC subscribers fetch");return}n(!0);try{console.log("Fetching AMC subscribers with token:",e?"Present":"Missing");const C=await He.fetchAMCSubscribers(e);if(console.log("AMC subscribers response:",C),C&&C.success){const P=C.data||[];s(P);const _=P.reduce((D,F)=>D+(F.amount||0),0),A=P.filter(D=>D.status==="active").length;l({totalRevenue:_,totalSubscribers:P.length,activeSubscriptions:A})}}catch(C){console.error("Error fetching subscribers:",C),console.error("Error details:",C),C.message&&!C.message.includes("Authentication")&&alert("Error loading AMC subscribers: "+C.message)}finally{n(!1)}},k=async()=>{if(!e){console.log("No token available, skipping partners fetch");return}try{const C=await He.fetchPartners(e,{status:"active",limit:100});C&&C.success&&c(C.data||[])}catch(C){console.error("Error fetching partners:",C)}};e&&(S(),k())},[e]);const j=S=>{x(S),p(""),u(!0)},w=async()=>{if(!(!h||!m)){b(!0);try{console.log("Assigning partner with data:",{userId:m.userId,subscriptionId:m._id||m.txnid,partnerId:h,token:e?"Present":"Missing"});const S=await He.assignAMCSubscriptionToPartner(e,{userId:m.userId,subscriptionId:m._id||m.txnid,partnerId:h});if(console.log("Assignment response:",S),S.success){const k=await He.fetchAMCSubscribers(e);k.success&&s(k.data||[]),u(!1),x(null),p("")}}catch(S){console.error("Error assigning partner:",S),alert("Error assigning partner: "+S.message)}finally{b(!1)}}},y=[{label:"Plan Subscribers",value:i.totalSubscribers||0,trend:`${i.activeSubscriptions||0} active`,icon:Mr,intent:i.totalSubscribers>0?"positive":"neutral",description:"Users with AMC plans"},{label:"AMC Revenue",value:i.totalRevenue>0?`${(i.totalRevenue/1e3).toFixed(1)}K`:"0",trend:"From plan subscriptions",icon:Xt,intent:i.totalRevenue>0?"positive":"neutral",description:"Total revenue generated"},{label:"Assigned Subscriptions",value:r.filter(S=>S.assignedPartner).length||0,trend:`${r.length-r.filter(S=>S.assignedPartner).length||0} unassigned`,icon:Yt,intent:r.filter(S=>S.assignedPartner).length>0?"positive":"neutral",description:"Subscriptions with assigned partners"},{label:"Active Partners",value:o.length||0,trend:"Available for assignment",icon:Ss,description:"Partners ready to handle AMC services"}],v=[{header:"User Name",accessor:"userName"},{header:"Contact",accessor:"userPhone"},{header:"Plan",accessor:"planName"},{header:"Amount",accessor:"amount",render:S=>t.jsxs("span",{className:"font-semibold text-primary",children:["",(S==null?void 0:S.toLocaleString("en-IN"))||0]})},{header:"Status",accessor:"status",render:S=>t.jsx("span",{className:`inline-flex px-2.5 py-1 rounded-full text-xs font-semibold ${S==="active"?"bg-green-100 text-green-800":S==="expired"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:S||"pending"})},{header:"Assigned Partner",accessor:"assignedPartner",render:(S,k)=>t.jsxs("div",{className:"flex items-center gap-2",children:[S?t.jsx("span",{className:"text-sm text-slate-600",children:S}):t.jsx("span",{className:"text-xs text-slate-400",children:"Not assigned"}),t.jsx("button",{onClick:()=>j(k),className:"p-1 hover:bg-slate-100 rounded transition-colors",title:"Assign Partner",children:t.jsx(Hf,{className:"w-4 h-4 text-primary"})})]})},{header:"Subscribed On",accessor:"subscribedAt",render:S=>S?new Date(S).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}):"N/A"}];return t.jsxs("div",{children:[t.jsx(gs,{title:"AMC Management",subtitle:"Coordinate multi-asset contracts, recurring maintenance routines, and SLA commitments with predictive renewal insights.",actions:t.jsx("button",{className:"px-4 py-2 rounded-xl bg-primary text-white text-sm font-semibold hover:bg-primary-dark transition",children:"New AMC Contract"})}),t.jsx("div",{className:"grid gap-5 md:grid-cols-2 xl:grid-cols-4 mb-10",children:y.map(S=>t.jsx(Xn,{...S},S.label))}),t.jsxs("div",{className:"space-y-10",children:[t.jsxs("section",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500",children:"AMC Plan Subscribers"}),t.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Users who purchased AMC plans via payment gateway"})]}),a&&t.jsx("span",{className:"text-xs text-slate-400",children:"Loading subscribers..."})]}),t.jsx("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm overflow-hidden",children:a?t.jsx("div",{className:"flex items-center justify-center py-12",children:t.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):r.length===0?t.jsxs("div",{className:"text-center py-12",children:[t.jsx(hs,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),t.jsx("p",{className:"text-slate-500 font-medium",children:"No AMC plan subscribers yet"}),t.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Users who purchase plans will appear here"})]}):t.jsx(Ia,{columns:v,data:r,emptyLabel:"No subscribers found."})})]}),t.jsxs("section",{children:[t.jsx("div",{className:"flex items-center justify-between mb-4",children:t.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500",children:"Partner Assignment Overview"})}),t.jsx("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6",children:t.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-3",children:"Assignment Statistics"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-slate-600",children:"Total Subscriptions:"}),t.jsx("span",{className:"font-semibold",children:r.length})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-slate-600",children:"Assigned:"}),t.jsx("span",{className:"font-semibold text-green-600",children:r.filter(S=>S.assignedPartner).length})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-slate-600",children:"Unassigned:"}),t.jsx("span",{className:"font-semibold text-orange-600",children:r.length-r.filter(S=>S.assignedPartner).length})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-slate-600",children:"Available Partners:"}),t.jsx("span",{className:"font-semibold text-blue-600",children:o.length})]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-3",children:"Quick Actions"}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("button",{className:"w-full px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition text-sm",children:"Bulk Assign Partners"}),t.jsx("button",{className:"w-full px-4 py-2 bg-slate-100 text-slate-700 rounded-lg hover:bg-slate-200 transition text-sm",children:"Export Assignment Report"}),t.jsx("button",{className:"w-full px-4 py-2 bg-slate-100 text-slate-700 rounded-lg hover:bg-slate-200 transition text-sm",children:"Partner Performance"})]})]})]})})]}),t.jsxs("section",{className:"grid lg:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"lg:col-span-2 bg-white border border-slate-200 rounded-2xl shadow-sm p-5",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500",children:"Recent Partner Assignments"}),t.jsx("button",{className:"text-xs text-primary font-semibold",children:"View All"})]}),r.filter(S=>S.assignedPartner&&S.assignedAt).length>0?t.jsx("div",{className:"space-y-3",children:r.filter(S=>S.assignedPartner&&S.assignedAt).slice(0,5).map((S,k)=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-slate-800",children:S.userName}),t.jsx("p",{className:"text-sm text-slate-600",children:S.planName})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-sm font-medium text-slate-800",children:S.assignedPartner}),t.jsx("p",{className:"text-xs text-slate-500",children:S.assignedAt?new Date(S.assignedAt).toLocaleDateString("en-IN"):"Recently"})]})]},k))}):t.jsxs("div",{className:"text-center py-8",children:[t.jsx(Mr,{className:"w-10 h-10 text-slate-300 mx-auto mb-2"}),t.jsx("p",{className:"text-sm text-slate-500",children:"No partner assignments yet"}),t.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Assignments will appear here once partners are assigned"})]})]}),t.jsxs("div",{className:"bg-slate-900 text-white rounded-2xl p-6 space-y-5 shadow-lg",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"AMC Management"}),t.jsx("p",{className:"text-sm text-white/75 leading-relaxed",children:"Efficiently manage AMC plan subscriptions and partner assignments. Ensure customers get the best service by assigning the right partners."}),t.jsxs("ul",{className:"space-y-3 text-sm text-white/80",children:[t.jsx("li",{children:" Assign partners based on location and expertise"}),t.jsx("li",{children:" Track subscription status and partner performance"}),t.jsx("li",{children:" Monitor revenue from AMC plan sales"}),t.jsx("li",{children:" Automated notifications for assignments"})]})]})]})]}),d&&t.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md",children:[t.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Assign Partner"}),t.jsx("button",{onClick:()=>u(!1),className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:t.jsx(mt,{className:"w-5 h-5"})})]}),t.jsxs("div",{className:"p-6 space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Customer Details"}),t.jsxs("div",{className:"bg-slate-50 rounded-lg p-3 text-sm",children:[t.jsxs("p",{children:[t.jsx("strong",{children:"Name:"})," ",m==null?void 0:m.userName]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Phone:"})," ",m==null?void 0:m.userPhone]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Plan:"})," ",m==null?void 0:m.planName]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Amount:"})," ",(N=m==null?void 0:m.amount)==null?void 0:N.toLocaleString("en-IN")]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Select Partner"}),t.jsxs("select",{value:h,onChange:S=>p(S.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",children:[t.jsx("option",{value:"",children:"Choose a partner..."}),o.map(S=>{var k,C;return t.jsxs("option",{value:S._id,children:[((k=S.profile)==null?void 0:k.name)||S.phone," - ",((C=S.profile)==null?void 0:C.city)||"No city"]},S._id)})]})]})]}),t.jsxs("div",{className:"flex items-center justify-end gap-3 p-6 border-t border-slate-200",children:[t.jsx("button",{onClick:()=>u(!1),className:"px-4 py-2 text-sm font-medium text-slate-600 hover:text-slate-800 transition-colors",children:"Cancel"}),t.jsxs("button",{onClick:w,disabled:!h||f,className:"px-4 py-2 bg-primary text-white text-sm font-semibold rounded-lg hover:bg-primary-dark transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[f&&t.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),f?"Assigning...":"Assign Partner"]})]})]})})]})},yc="https://nexo.works",oE=[{name:"FaMapMarkerAlt",icon:Fl,label:"Map Marker"},{name:"FaCity",icon:cX,label:"City"},{name:"FaBuilding",icon:Eo,label:"Building"},{name:"FaMapPin",icon:jX,label:"Map Pin"}],r6e=()=>{const{token:e}=wr(),[r,s]=g.useState([]),[a,n]=g.useState(!0),[i,l]=g.useState(!1),[o,c]=g.useState(null),[d,u]=g.useState({name:"",icon:"FaMapMarkerAlt",description:"",state:"",displayOrder:0,isEnabled:!0,image:""}),[m,x]=g.useState(null),[h,p]=g.useState(null),[f,b]=g.useState(!1);g.useEffect(()=>{e&&j()},[e]);const j=async()=>{try{n(!0);const P=await Pt.get(`${yc}/api/cities/all`,{headers:{Authorization:`Bearer ${e}`}});P.data.success&&s(P.data.data)}catch(P){console.error("Error fetching cities:",P),alert("Failed to fetch cities")}finally{n(!1)}},w=P=>{const _=P.target.files[0];if(_){x(_);const A=new FileReader;A.onloadend=()=>{p(A.result)},A.readAsDataURL(_)}},y=async()=>{if(!m)return null;const P=new FormData;P.append("image",m);try{return b(!0),(await Pt.post(`${yc}/api/cities/upload-image`,P,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"multipart/form-data"}})).data.imageUrl}catch(_){throw console.error("Error uploading image:",_),_}finally{b(!1)}},v=async P=>{var _,A;P.preventDefault();try{let D=d.image;m&&(D=await y());const F={...d,image:D};o?(await Pt.put(`${yc}/api/cities/${o._id}`,F,{headers:{Authorization:`Bearer ${e}`}}),alert("City updated successfully")):(await Pt.post(`${yc}/api/cities`,F,{headers:{Authorization:`Bearer ${e}`}}),alert("City created successfully")),l(!1),C(),j(),Pu.clearCache()}catch(D){console.error("Error saving city:",D),alert(((A=(_=D.response)==null?void 0:_.data)==null?void 0:A.message)||"Failed to save city")}},N=P=>{c(P),u({name:P.name,icon:P.icon,description:P.description||"",state:P.state||"",displayOrder:P.displayOrder||0,isEnabled:P.isEnabled,image:P.image||""}),p(P.image||null),x(null),l(!0)},S=async P=>{try{await Pt.patch(`${yc}/api/cities/${P}/toggle`,{},{headers:{Authorization:`Bearer ${e}`}}),j(),Pu.clearCache()}catch(_){console.error("Error toggling city:",_),alert("Failed to toggle city status")}},k=async P=>{if(window.confirm("Are you sure you want to delete this city?"))try{await Pt.delete(`${yc}/api/cities/${P}`,{headers:{Authorization:`Bearer ${e}`}}),alert("City deleted successfully"),j(),Pu.clearCache()}catch(_){console.error("Error deleting city:",_),alert("Failed to delete city")}},C=()=>{c(null),u({name:"",icon:"FaMapMarkerAlt",description:"",state:"",displayOrder:0,isEnabled:!0,image:""}),x(null),p(null)};return t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsx("h1",{className:"text-3xl font-bold text-primary",children:"City Management"}),t.jsxs("button",{onClick:()=>{C(),l(!0)},className:"bg-primary text-white px-6 py-3 rounded-lg flex items-center gap-2 hover:bg-primary-dark transition-colors",children:[t.jsx(vs,{})," Add City"]})]}),a?t.jsx("div",{className:"text-center py-12",children:"Loading..."}):t.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Image"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"City"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"State"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Order"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-200",children:r.map(P=>{var A;const _=((A=oE.find(D=>D.name===P.icon))==null?void 0:A.icon)||Fl;return t.jsxs("tr",{children:[t.jsx("td",{className:"px-6 py-4",children:P.image?t.jsx("img",{src:P.image.startsWith("http")?P.image:`${yc}${P.image.startsWith("/")?P.image:"/uploads/"+P.image}`,alt:P.name,className:"w-12 h-12 object-cover rounded-lg shadow-sm",onError:D=>{D.target.style.display="none",D.target.parentElement.innerHTML='<div class="w-12 h-12 bg-gray-200 rounded-lg flex items-center justify-center"><span class="text-gray-400 text-xs">Error</span></div>'}}):t.jsx(_,{className:"w-6 h-6 text-primary"})}),t.jsx("td",{className:"px-6 py-4 font-medium",children:P.name}),t.jsx("td",{className:"px-6 py-4",children:P.state||"-"}),t.jsx("td",{className:"px-6 py-4",children:P.displayOrder}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${P.isEnabled?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:P.isEnabled?"Enabled":"Disabled"})}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:()=>S(P._id),className:"p-2 hover:bg-gray-100 rounded",children:P.isEnabled?t.jsx(TX,{className:"text-green-600"}):t.jsx(AX,{className:"text-gray-400"})}),t.jsx("button",{onClick:()=>N(P),className:"p-2 hover:bg-gray-100 rounded",children:t.jsx(hX,{className:"text-blue-600"})}),t.jsx("button",{onClick:()=>k(P._id),className:"p-2 hover:bg-gray-100 rounded",children:t.jsx(IX,{className:"text-red-600"})})]})})]},P._id)})})]})}),i&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs(E.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-lg p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[t.jsx("h2",{className:"text-2xl font-bold mb-4",children:o?"Edit City":"Add City"}),t.jsxs("form",{onSubmit:v,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"City Name *"}),t.jsx("input",{type:"text",value:d.name,onChange:P=>u({...d,name:P.target.value}),className:"w-full border rounded-lg px-4 py-2",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Icon"}),t.jsx("div",{className:"grid grid-cols-4 gap-2",children:oE.map(P=>t.jsxs("button",{type:"button",onClick:()=>u({...d,icon:P.name}),className:`p-4 border rounded-lg flex flex-col items-center gap-2 ${d.icon===P.name?"border-primary bg-primary/10":"border-gray-300"}`,children:[t.jsx(P.icon,{className:"w-6 h-6"}),t.jsx("span",{className:"text-xs",children:P.label})]},P.name))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"State"}),t.jsx("input",{type:"text",value:d.state,onChange:P=>u({...d,state:P.target.value}),className:"w-full border rounded-lg px-4 py-2"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Description"}),t.jsx("textarea",{value:d.description,onChange:P=>u({...d,description:P.target.value}),className:"w-full border rounded-lg px-4 py-2",rows:"3"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"City Image"}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("input",{type:"file",accept:"image/*",onChange:w,className:"w-full border rounded-lg px-4 py-2"}),h&&t.jsxs("div",{className:"relative w-full h-48 border rounded-lg overflow-hidden",children:[t.jsx("img",{src:h,alt:"Preview",className:"w-full h-full object-cover"}),t.jsx("button",{type:"button",onClick:()=>{x(null),p(null),u({...d,image:""})},className:"absolute top-2 right-2 bg-red-500 text-white p-2 rounded-full hover:bg-red-600",children:""})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Display Order"}),t.jsx("input",{type:"number",value:d.displayOrder,onChange:P=>u({...d,displayOrder:parseInt(P.target.value)}),className:"w-full border rounded-lg px-4 py-2"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"checkbox",checked:d.isEnabled,onChange:P=>u({...d,isEnabled:P.target.checked}),className:"w-4 h-4"}),t.jsx("label",{className:"text-sm font-medium",children:"Enabled"})]}),t.jsxs("div",{className:"flex gap-2 justify-end",children:[t.jsx("button",{type:"button",onClick:()=>{l(!1),C()},className:"px-6 py-2 border rounded-lg hover:bg-gray-50",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:f,className:"px-6 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark disabled:opacity-50",children:f?"Uploading...":o?"Update":"Create"})]})]})]})})]})},s6e=()=>{var Qe,ft;const{token:e}=wr(),[r,s]=g.useState({status:"all",city:"",allocationStrategy:"all"}),[a,n]=g.useState(1),[i,l]=g.useState(!1),[o,c]=g.useState(1),[d,u]=g.useState(""),[m,x]=g.useState(null),[h,p]=g.useState(!1),[f,b]=g.useState({category:"",service:"",subService:"",city:"",address:"",landmark:"",pincode:"",value:"",allocationStrategy:"rule_based",priority:"medium",description:""}),[j,w]=g.useState([]),[y,v]=g.useState([]),[N,S]=g.useState([]),[k,C]=g.useState(!1),[P,_]=g.useState(!1),[A,D]=g.useState(null),[F,X]=g.useState(!1),ce=g.useMemo(()=>{const je={page:a,limit:50};return r.status&&r.status!=="all"&&(je.status=r.status),r.city&&r.city.trim()&&(je.city=r.city.trim()),r.allocationStrategy&&r.allocationStrategy!=="all"&&(je.allocationStrategy=r.allocationStrategy),je},[r.status,r.city,r.allocationStrategy,a]),he=g.useMemo(()=>JSON.stringify(ce),[ce]),{data:L,isLoading:q,error:se,refresh:R}=cr(je=>He.fetchLeads(je,ce),[he]),{data:T,isLoading:O,error:K}=cr(je=>He.fetchLeadAnalytics(je),[]),{data:U,isLoading:ee,error:M}=cr(je=>He.fetchBids(je,{page:1,limit:50}),[]),H=q||O||ee,B=se||K||M,Y=Array.isArray(L==null?void 0:L.data)?L.data:[],ie=Array.isArray(U==null?void 0:U.data)?U.data:[],me=T||{},de=(L==null?void 0:L.pagination)||{};_t.useEffect(()=>{var je,Fe;L&&console.log(" Lead Management - API Response:",{success:L.success,hasData:!!L.data,dataType:Array.isArray(L.data)?"array":typeof L.data,dataLength:((je=L.data)==null?void 0:je.length)||0,pagination:L.pagination,firstLead:(Fe=L.data)==null?void 0:Fe[0]}),se&&console.error(" Lead Management - Error:",se),console.log(" Extracted leads:",Y.length,Y)},[L,se,Y]);const Ge=[{label:"Lead Pool",value:me.active||0,trend:me.highValueLeads?`${me.highValueLeads} high-value leads awaiting bids`:null,icon:Eh,description:me.cityCount?`Across ${me.cityCount} cities`:"Active leads"},{label:"Conversion Rate",value:me.conversion||"0%",trend:me.convertedLeads30d?`${me.convertedLeads30d} converted (30d)`:null,icon:pn,description:"Rolling 30-day window"},{label:"Avg Allocation Time",value:me.allocationTime||"0m 0s",trend:"Includes dispute overrides",icon:pj,description:"From ingestion to assignment"},{label:"Bid Health",value:me.bidParticipation||"0.0 bids/lead",trend:"Maintaining fair marketplace",icon:sZ,description:"Ensures SLA coverage"}],Me=[{header:"Lead ID",accessor:"leadId"},{header:"Source",accessor:"source",render:je=>{const Fe={"Partner Registration":"bg-purple-500/10 text-purple-600","Plan Subscription":"bg-blue-500/10 text-blue-600","Customer Enquiry":"bg-green-500/10 text-green-600",Booking:"bg-indigo-500/10 text-indigo-600",Manual:"bg-gray-500/10 text-gray-600"};return t.jsx("span",{className:`inline-flex items-center gap-2 px-2.5 py-1 rounded-full text-xs font-semibold ${Fe[je]||"bg-slate-200 text-slate-700"}`,children:je})}},{header:"Partner/Customer",accessor:"partnerName",render:(je,Fe)=>{const Tt=Fe.partnerName||Fe.customerName||"N/A",Lt=Fe.partnerPhone||Fe.customerPhone||"",ye=Fe.partnerEmail||Fe.customerEmail||"";return Tt==="N/A"?t.jsx("span",{className:"text-slate-400",children:"N/A"}):t.jsxs("div",{className:"text-sm",children:[t.jsx("div",{className:"font-semibold text-slate-900",children:Tt}),Lt&&t.jsx("div",{className:"text-xs text-slate-500",children:Lt}),ye&&t.jsx("div",{className:"text-xs text-slate-400",children:ye})]})}},{header:"Service",accessor:"service"},{header:"City",accessor:"city"},{header:"Value",accessor:"value"},{header:"Allocation",accessor:"allocationStrategy"},{header:"Assigned To",accessor:"assignedPartner"},{header:"Bids",accessor:"bids"},{header:"Status",accessor:"status",render:je=>{const Fe={Pending:"bg-slate-500/10 text-slate-600","Awaiting Bid":"bg-amber-500/10 text-amber-600",Bidding:"bg-blue-500/10 text-blue-600",Assigned:"bg-indigo-500/10 text-indigo-600",Converted:"bg-emerald-500/10 text-emerald-600",Escalated:"bg-rose-500/10 text-rose-600",Cancelled:"bg-gray-500/10 text-gray-600",Expired:"bg-orange-500/10 text-orange-600"};return t.jsx("span",{className:`inline-flex items-center gap-2 px-2.5 py-1 rounded-full text-xs font-semibold ${Fe[je]||"bg-slate-200 text-slate-700"}`,children:je})}}],it=[{header:"Lead",accessor:"lead"},{header:"Partner",accessor:"partner"},{header:"Bid Amount",accessor:"amount"},{header:"Score",accessor:"score"},{header:"ETA",accessor:"eta"},{header:"Status",accessor:"status",render:je=>{const Fe={Pending:"bg-amber-500/10 text-amber-600",Accepted:"bg-emerald-500/10 text-emerald-600",Rejected:"bg-rose-500/10 text-rose-600",Withdrawn:"bg-gray-500/10 text-gray-600"};return t.jsx("span",{className:`inline-flex items-center gap-2 px-2.5 py-1 rounded-full text-xs font-semibold ${Fe[je]||"bg-slate-200 text-slate-700"}`,children:je})}}],Ye=(je,Fe)=>{s(Tt=>({...Tt,[je]:Fe})),n(1)},Le=()=>{s({status:"all",city:"",allocationStrategy:"all"}),n(1)},z=()=>{try{let je=`Lead Bidding Activity Export
`;je+=`Exported At: ${new Date().toLocaleString("en-IN")}

`,je+=`Lead,Partner,Bid Amount,Score,ETA,Status,Submitted At
`,ie.forEach(ye=>{const I=ye.submittedAt?new Date(ye.submittedAt).toLocaleString("en-IN"):"N/A";je+=`${ye.lead},${ye.partner},${ye.amount},${ye.score},${ye.eta},${ye.status},${I}
`});const Fe=new Blob([je],{type:"text/csv;charset=utf-8;"}),Tt=document.createElement("a"),Lt=URL.createObjectURL(Fe);Tt.setAttribute("href",Lt),Tt.setAttribute("download",`bids-export-${new Date().toISOString().split("T")[0]}.csv`),Tt.style.visibility="hidden",document.body.appendChild(Tt),Tt.click(),document.body.removeChild(Tt)}catch(je){console.error("Error exporting bids:",je),alert("Failed to export bids. Please try again.")}},xe=async(je,Fe)=>{if(window.confirm(`Change lead status to ${Fe}?`))try{await He.updateLeadStatus(e,je,Fe),alert("Lead status updated successfully!"),R()}catch(Tt){alert("Failed to update lead status: "+(Tt.message||"Unknown error"))}};_t.useEffect(()=>{i&&o===2&&j.length===0&&(async()=>{try{const Fe=await He.fetchCategories(e);Fe!=null&&Fe.data&&w(Fe.data)}catch(Fe){console.error("Error loading categories:",Fe)}})()},[i,o,e]);const re=async()=>{if(!d.trim()){alert("Please enter partner phone number or ID");return}p(!0);try{const je=await He.fetchPartners(e,{search:d.trim(),limit:10});if(je!=null&&je.data&&je.data.length>0){const Fe=je.data[0];x(Fe),c(2)}else alert("Partner not found. Please check the phone number or ID.")}catch(je){alert("Error searching partner: "+(je.message||"Unknown error"))}finally{p(!1)}},ge=async je=>{if(b(Fe=>({...Fe,category:je,service:"",subService:""})),v([]),S([]),je)try{const Fe=j.find(Tt=>Tt._id===je);Fe!=null&&Fe.services&&v(Fe.services||[])}catch(Fe){console.error("Error loading services:",Fe)}},pe=je=>{if(b(Fe=>({...Fe,service:je,subService:""})),S([]),je){const Fe=y.find(Tt=>Tt._id===je);Fe!=null&&Fe.subServices&&S(Fe.subServices||[])}},ve=async je=>{if(je.preventDefault(),!m){alert("Please verify partner first");return}if(!f.category||!f.city||!f.value){alert("Please fill all required fields");return}C(!0);try{const Fe={partnerId:m._id,category:f.category,service:f.service,subService:f.subService,city:f.city,address:f.address,landmark:f.landmark,pincode:f.pincode,value:parseFloat(f.value),allocationStrategy:f.allocationStrategy,priority:f.priority,description:f.description};(await He.createManualLead(e,Fe)).success&&(alert("Lead created successfully!"),l(!1),c(1),x(null),u(""),b({category:"",service:"",subService:"",city:"",address:"",landmark:"",pincode:"",value:"",allocationStrategy:"rule_based",priority:"medium",description:""}),R())}catch(Fe){alert("Failed to create lead: "+(Fe.message||"Unknown error"))}finally{C(!1)}},ke=je=>{var Lt;const Tt={Pending:"pending","Awaiting Bid":"awaiting_bid",Bidding:"bidding",Assigned:"assigned",Converted:"converted",Escalated:"escalated",Cancelled:"cancelled",Expired:"expired"}[je.status]||((Lt=je.status)==null?void 0:Lt.toLowerCase().replace(" ","_"))||"pending";return t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>{D(je),X(!0)},className:"text-xs px-2 py-1 bg-primary/10 text-primary rounded-lg hover:bg-primary/20 transition",title:"View Details",children:t.jsx(Yt,{className:"w-4 h-4"})}),t.jsxs("select",{value:Tt,onChange:ye=>xe(je.id,ye.target.value),className:"text-xs px-2 py-1 border border-slate-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-primary",children:[t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"awaiting_bid",children:"Awaiting Bid"}),t.jsx("option",{value:"bidding",children:"Bidding"}),t.jsx("option",{value:"assigned",children:"Assigned"}),t.jsx("option",{value:"converted",children:"Converted"}),t.jsx("option",{value:"escalated",children:"Escalated"}),t.jsx("option",{value:"cancelled",children:"Cancelled"}),t.jsx("option",{value:"expired",children:"Expired"})]})]})};return t.jsxs("div",{children:[t.jsx(gs,{title:"Lead Management",subtitle:"Automate allocation logic, manage partner bidding, and maximize conversion across acquisition funnels.",actions:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("button",{onClick:async()=>{if(window.confirm("This will create leads from all pending bookings. Continue?"))try{await He.syncBookingsToLeads(e),alert("Leads synced successfully!"),R()}catch(je){alert("Failed to sync leads: "+(je.message||"Unknown error"))}},className:"px-4 py-2 rounded-xl border border-slate-300 text-slate-700 text-sm font-semibold hover:bg-slate-50 transition inline-flex items-center gap-2",children:[t.jsx(Dt,{})," Sync from Bookings"]}),t.jsxs("button",{className:"px-4 py-2 rounded-xl border border-primary text-primary text-sm font-semibold hover:bg-primary/10 transition inline-flex items-center gap-2",children:[t.jsx(kl,{})," Configure Allocation Rules"]})]})}),t.jsx("div",{className:"grid gap-5 md:grid-cols-2 xl:grid-cols-4 mb-10",children:Ge.map(je=>t.jsx(Xn,{...je},je.label))}),t.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-5 shadow-sm mb-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Td,{className:"w-5 h-5 text-slate-500"}),t.jsx("h3",{className:"text-sm font-semibold text-slate-700",children:"Filters"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:R,className:"p-2 hover:bg-slate-100 rounded-lg transition",title:"Refresh",children:t.jsx(Dt,{className:"w-4 h-4 text-slate-600"})}),(r.status!=="all"||r.city||r.allocationStrategy!=="all")&&t.jsxs("button",{onClick:Le,className:"px-3 py-1.5 text-xs font-semibold text-slate-600 hover:text-slate-900 transition inline-flex items-center gap-1",children:[t.jsx(mt,{className:"w-3 h-3"}),"Clear Filters"]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-2",children:"Status"}),t.jsxs("select",{value:r.status,onChange:je=>Ye("status",je.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent text-sm",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"awaiting_bid",children:"Awaiting Bid"}),t.jsx("option",{value:"bidding",children:"Bidding"}),t.jsx("option",{value:"assigned",children:"Assigned"}),t.jsx("option",{value:"converted",children:"Converted"}),t.jsx("option",{value:"escalated",children:"Escalated"}),t.jsx("option",{value:"cancelled",children:"Cancelled"}),t.jsx("option",{value:"expired",children:"Expired"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-2",children:"City"}),t.jsx("input",{type:"text",value:r.city,onChange:je=>Ye("city",je.target.value),placeholder:"Filter by city...",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent text-sm"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-2",children:"Allocation Strategy"}),t.jsxs("select",{value:r.allocationStrategy,onChange:je=>Ye("allocationStrategy",je.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent text-sm",children:[t.jsx("option",{value:"all",children:"All Strategies"}),t.jsx("option",{value:"instant_assign",children:"Instant Assign"}),t.jsx("option",{value:"tiered_bid",children:"Tiered Bid"}),t.jsx("option",{value:"rule_based",children:"Rule Based"}),t.jsx("option",{value:"manual",children:"Manual"})]})]})]})]}),t.jsxs("div",{className:"space-y-8",children:[t.jsxs("section",{children:[t.jsx("div",{className:"flex items-center justify-between mb-4",children:t.jsxs("div",{className:"flex items-center gap-4",children:[B&&t.jsxs("span",{className:"text-xs text-rose-500",children:["Error: ",B]}),H&&t.jsx("span",{className:"text-xs text-slate-400",children:"Loading leads..."}),!H&&!B&&t.jsxs("span",{className:"text-xs text-slate-500",children:[de.total||0," total leads"]})]})}),t.jsx(Ia,{columns:Me,data:Y,emptyLabel:"No leads available. Try syncing from bookings or creating a manual lead.",renderActions:ke}),de.pages>1&&t.jsxs("div",{className:"flex items-center justify-between mt-4",children:[t.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",(de.page-1)*de.limit+1," to ",Math.min(de.page*de.limit,de.total)," of ",de.total," leads"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>n(je=>Math.max(1,je-1)),disabled:de.page===1,className:"px-3 py-1.5 border border-slate-300 rounded-lg text-sm font-semibold text-slate-700 hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),t.jsxs("span",{className:"text-sm text-slate-600",children:["Page ",de.page," of ",de.pages]}),t.jsx("button",{onClick:()=>n(je=>Math.min(de.pages,je+1)),disabled:de.page===de.pages,className:"px-3 py-1.5 border border-slate-300 rounded-lg text-sm font-semibold text-slate-700 hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),t.jsxs("section",{className:"grid lg:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"lg:col-span-2 bg-white border border-slate-200 rounded-2xl shadow-sm p-5",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500",children:"Bidding Activity"}),t.jsxs("button",{onClick:z,className:"text-xs text-primary font-semibold hover:underline inline-flex items-center gap-1",children:[t.jsx(kn,{className:"w-3 h-3"})," Download Logs"]})]}),t.jsx(Ia,{columns:it,data:ie,emptyLabel:"No bids registered."})]}),t.jsxs("div",{className:"bg-slate-900 text-white rounded-2xl p-6 space-y-5 shadow-lg",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Allocation Intelligence"}),t.jsx("p",{className:"text-sm text-white/80 leading-relaxed",children:"Blend skill matrices, SLA history, proximity, and wallet health before assigning leads. Override manually when enterprise SLAs demand it."}),t.jsxs("ul",{className:"space-y-3 text-sm text-white/80",children:[t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx(vt,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),t.jsx("span",{children:"Auto-standby pool when primary declines"})]}),t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx(vt,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),t.jsx("span",{children:"Bid ceilings to maintain margin guardrails"})]}),t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx(vt,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),t.jsx("span",{children:"Quality scores updated post each job"})]})]})]})]})]}),i&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between",children:[t.jsxs("h2",{className:"text-xl font-bold text-slate-900 flex items-center gap-2",children:[t.jsx(Eh,{className:"w-5 h-5"}),o===1?"Verify Partner":"Create Lead"]}),t.jsx("button",{onClick:()=>{l(!1),c(1),x(null),u("")},className:"p-2 hover:bg-slate-100 rounded-lg transition",children:t.jsx(mt,{className:"w-5 h-5 text-slate-600"})})]}),t.jsx("div",{className:"p-6",children:o===1?t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:t.jsxs("p",{className:"text-sm text-blue-700",children:[t.jsx("strong",{children:"Step 1:"})," Verify the partner by entering their phone number or partner ID."]})}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:[t.jsx(vr,{className:"w-4 h-4 inline mr-1"}),"Partner Phone Number or ID"]}),t.jsx("input",{type:"text",value:d,onChange:je=>u(je.target.value),placeholder:"Enter phone number (e.g., 9876543210) or partner ID",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",onKeyPress:je=>je.key==="Enter"&&re()})]}),m&&t.jsxs("div",{className:"bg-emerald-50 border border-emerald-200 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(vt,{className:"w-5 h-5 text-emerald-600"}),t.jsx("span",{className:"font-semibold text-emerald-900",children:"Partner Verified"})]}),t.jsxs("p",{className:"text-sm text-emerald-700",children:[t.jsx("strong",{children:"Name:"})," ",((Qe=m.profile)==null?void 0:Qe.name)||"N/A",t.jsx("br",{}),t.jsx("strong",{children:"Phone:"})," ",m.phone||"N/A",t.jsx("br",{}),t.jsx("strong",{children:"Status:"})," ",m.profileStatus||"N/A"]})]}),t.jsxs("div",{className:"flex gap-3 pt-4",children:[t.jsx("button",{type:"button",onClick:()=>l(!1),className:"flex-1 px-4 py-2 border border-slate-300 rounded-lg text-slate-700 font-semibold hover:bg-slate-50 transition",children:"Cancel"}),t.jsx("button",{onClick:re,disabled:h||!d.trim(),className:"flex-1 px-4 py-2 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed inline-flex items-center justify-center gap-2",children:h?t.jsxs(t.Fragment,{children:[t.jsx(ns,{className:"w-4 h-4 animate-spin"}),"Searching..."]}):t.jsxs(t.Fragment,{children:[t.jsx(bn,{className:"w-4 h-4"}),"Verify Partner"]})})]})]}):t.jsxs("form",{onSubmit:ve,className:"space-y-6",children:[t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[t.jsxs("p",{className:"text-sm text-blue-700",children:[t.jsx("strong",{children:"Step 2:"})," Fill in the lead details below."]}),m&&t.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["Partner: ",((ft=m.profile)==null?void 0:ft.name)||m.phone]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"md:col-span-2",children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Category ",t.jsx("span",{className:"text-rose-500",children:"*"})]}),t.jsxs("select",{value:f.category,onChange:je=>ge(je.target.value),required:!0,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",children:[t.jsx("option",{value:"",children:"Select Category"}),j.map(je=>t.jsx("option",{value:je._id,children:je.name},je._id))]})]}),y.length>0&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Service"}),t.jsxs("select",{value:f.service,onChange:je=>pe(je.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",children:[t.jsx("option",{value:"",children:"Select Service"}),y.map(je=>t.jsx("option",{value:je._id,children:je.name},je._id))]})]}),N.length>0&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Sub Service"}),t.jsxs("select",{value:f.subService,onChange:je=>b(Fe=>({...Fe,subService:je.target.value})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",children:[t.jsx("option",{value:"",children:"Select Sub Service"}),N.map(je=>t.jsx("option",{value:je._id,children:je.name},je._id))]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:[t.jsx(Pr,{className:"w-4 h-4 inline mr-1"}),"City ",t.jsx("span",{className:"text-rose-500",children:"*"})]}),t.jsx("input",{type:"text",value:f.city,onChange:je=>b(Fe=>({...Fe,city:je.target.value})),required:!0,placeholder:"Enter city",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:[t.jsx(Xt,{className:"w-4 h-4 inline mr-1"}),"Lead Value () ",t.jsx("span",{className:"text-rose-500",children:"*"})]}),t.jsx("input",{type:"number",value:f.value,onChange:je=>b(Fe=>({...Fe,value:je.target.value})),required:!0,min:"0",step:"0.01",placeholder:"Enter lead value",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Allocation Strategy"}),t.jsxs("select",{value:f.allocationStrategy,onChange:je=>b(Fe=>({...Fe,allocationStrategy:je.target.value})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",children:[t.jsx("option",{value:"rule_based",children:"Rule Based"}),t.jsx("option",{value:"instant_assign",children:"Instant Assign"}),t.jsx("option",{value:"tiered_bid",children:"Tiered Bid"}),t.jsx("option",{value:"manual",children:"Manual"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Priority"}),t.jsxs("select",{value:f.priority,onChange:je=>b(Fe=>({...Fe,priority:je.target.value})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",children:[t.jsx("option",{value:"low",children:"Low"}),t.jsx("option",{value:"medium",children:"Medium"}),t.jsx("option",{value:"high",children:"High"}),t.jsx("option",{value:"urgent",children:"Urgent"})]})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:[t.jsx(Pr,{className:"w-4 h-4 inline mr-1"}),"Address"]}),t.jsx("input",{type:"text",value:f.address,onChange:je=>b(Fe=>({...Fe,address:je.target.value})),placeholder:"Enter full address",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Landmark"}),t.jsx("input",{type:"text",value:f.landmark,onChange:je=>b(Fe=>({...Fe,landmark:je.target.value})),placeholder:"Enter landmark",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Pincode"}),t.jsx("input",{type:"text",value:f.pincode,onChange:je=>b(Fe=>({...Fe,pincode:je.target.value})),placeholder:"Enter pincode",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:[t.jsx(Yt,{className:"w-4 h-4 inline mr-1"}),"Description"]}),t.jsx("textarea",{value:f.description,onChange:je=>b(Fe=>({...Fe,description:je.target.value})),placeholder:"Enter lead description or notes",rows:"3",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]})]}),t.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200",children:[t.jsx("button",{type:"button",onClick:()=>c(1),className:"flex-1 px-4 py-2 border border-slate-300 rounded-lg text-slate-700 font-semibold hover:bg-slate-50 transition",children:"Back"}),t.jsx("button",{type:"button",onClick:()=>l(!1),className:"flex-1 px-4 py-2 border border-slate-300 rounded-lg text-slate-700 font-semibold hover:bg-slate-50 transition",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:k,className:"flex-1 px-4 py-2 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed inline-flex items-center justify-center gap-2",children:k?t.jsxs(t.Fragment,{children:[t.jsx(ns,{className:"w-4 h-4 animate-spin"}),"Creating..."]}):t.jsxs(t.Fragment,{children:[t.jsx(vt,{className:"w-4 h-4"}),"Create Lead"]})})]})]})})]})}),F&&A&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:()=>X(!1),children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",onClick:je=>je.stopPropagation(),children:[t.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between",children:[t.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Lead Details"}),t.jsx("button",{onClick:()=>X(!1),className:"p-2 hover:bg-slate-100 rounded-lg transition",children:t.jsx(mt,{className:"w-5 h-5 text-slate-600"})})]}),t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase",children:"Lead ID"}),t.jsx("div",{className:"text-sm font-semibold text-slate-900",children:A.leadId})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase",children:"Source"}),t.jsx("div",{className:"text-sm text-slate-700",children:A.source})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase",children:"Service"}),t.jsx("div",{className:"text-sm text-slate-700",children:A.service})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase",children:"City"}),t.jsx("div",{className:"text-sm text-slate-700",children:A.city})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase",children:"Value"}),t.jsx("div",{className:"text-sm font-semibold text-primary",children:A.value})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase",children:"Status"}),t.jsx("div",{className:"text-sm text-slate-700",children:A.status})]})]}),(A.partnerName||A.customerName)&&t.jsxs("div",{className:"border-t border-slate-200 pt-4",children:[t.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-3",children:A.source==="Partner Registration"||A.source==="Plan Subscription"?"Partner Information":"Customer Information"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase",children:"Name"}),t.jsx("div",{className:"text-sm text-slate-900 font-semibold",children:A.partnerName||A.customerName})]}),(A.partnerPhone||A.customerPhone)&&t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase",children:"Phone"}),t.jsx("div",{className:"text-sm text-slate-700",children:A.partnerPhone||A.customerPhone})]}),(A.partnerEmail||A.customerEmail)&&t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase",children:"Email"}),t.jsx("div",{className:"text-sm text-slate-700",children:A.partnerEmail||A.customerEmail})]}),A.partnerId&&t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase",children:"Partner ID"}),t.jsx("div",{className:"text-sm text-slate-700",children:A.partnerId})]})]})]}),A.description&&t.jsxs("div",{className:"border-t border-slate-200 pt-4",children:[t.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase block mb-2",children:"Description"}),t.jsx("div",{className:"text-sm text-slate-700 bg-slate-50 p-3 rounded-lg",children:A.description})]}),A.metadata&&Object.keys(A.metadata).length>0&&t.jsxs("div",{className:"border-t border-slate-200 pt-4",children:[t.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase block mb-2",children:"Additional Information"}),t.jsx("div",{className:"text-xs text-slate-600 bg-slate-50 p-3 rounded-lg",children:t.jsx("pre",{className:"whitespace-pre-wrap",children:JSON.stringify(A.metadata,null,2)})})]})]})]})})]})},a6e=[{label:"Revenue",key:"revenue",intent:"positive",icon:lr},{label:"Penalties",key:"penalties",intent:"warning",icon:i0},{label:"Refunds",key:"refunds",intent:"negative",icon:t4},{label:"Average Rating",key:"ratings",intent:"positive",icon:lr}],n6e=()=>{const{token:e}=wr(),[r,s]=g.useState(!1),[a,n]=g.useState(""),[i,l]=g.useState("weekly"),[o,c]=g.useState(!1),{data:d,isLoading:u,error:m}=cr(L=>He.fetchRevenueAnalytics(L),[]),{data:x,isLoading:h,error:p}=cr(L=>He.fetchUserAnalytics(L),[]),{data:f,isLoading:b,error:j}=cr(L=>He.fetchPartnerPerformance(L),[]),{data:w,isLoading:y,error:v}=cr(L=>He.fetchCategoryRevenue(L),[]),N=u||h||b||y,S=m||p||j||v,k=d||{},C=x||{},P=f||[],_=Array.isArray(w)?w:[],A=[{label:"Total Revenue",value:k!=null&&k.totalRevenue?`${(k.totalRevenue/1e5).toFixed(1)}L`:"0",trend:k!=null&&k.transactionCount?`${k.transactionCount} transactions`:null,description:"After refunds and penalties",icon:lr},{label:"Successful Transactions",value:(k==null?void 0:k.successfulTransactions)??0,trend:k!=null&&k.failedTransactions?`${k.failedTransactions} failed`:null,description:"Payment gateway success rate",icon:i0,intent:"positive"},{label:"Total Users",value:(C==null?void 0:C.totalUsers)??0,trend:C!=null&&C.newUsers?`${C.newUsers} new (30d)`:null,description:"Registered customers",icon:t4},{label:"User Retention",value:C!=null&&C.userRetentionRate?`${C.userRetentionRate.toFixed(1)}%`:"0%",trend:C!=null&&C.activeUsers?`${C.activeUsers} active`:null,description:"Active user percentage",icon:lr}],D=_.length>0?Math.max(..._.map(L=>L.revenue||0)):1,F=()=>t.jsx("div",{className:"flex items-center justify-center py-16",children:t.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})}),X=async()=>{c(!0);try{const L={summary:{totalRevenue:(k==null?void 0:k.totalRevenue)||0,transactionCount:(k==null?void 0:k.transactionCount)||0,successfulTransactions:(k==null?void 0:k.successfulTransactions)||0,failedTransactions:(k==null?void 0:k.failedTransactions)||0,totalUsers:(C==null?void 0:C.totalUsers)||0,activeUsers:(C==null?void 0:C.activeUsers)||0,newUsers:(C==null?void 0:C.newUsers)||0,userRetentionRate:(C==null?void 0:C.userRetentionRate)||0},categoryRevenue:_,partnerPerformance:P,exportedAt:new Date().toISOString()};let q=`Reports & Analytics Dashboard Export
`;q+=`Exported At: ${new Date().toLocaleString("en-IN")}

`,q+=`SUMMARY STATISTICS
`,q+=`Metric,Value
`,q+=`Total Revenue,${(L.summary.totalRevenue||0).toLocaleString("en-IN")}
`,q+=`Total Transactions,${L.summary.transactionCount}
`,q+=`Successful Transactions,${L.summary.successfulTransactions}
`,q+=`Failed Transactions,${L.summary.failedTransactions}
`,q+=`Total Users,${L.summary.totalUsers}
`,q+=`Active Users,${L.summary.activeUsers}
`,q+=`New Users (30d),${L.summary.newUsers}
`,q+=`User Retention Rate,${L.summary.userRetentionRate.toFixed(2)}%

`,_.length>0&&(q+=`CATEGORY-WISE REVENUE
`,q+=`Category,Revenue,Penalties,Rating,Booking Count
`,_.forEach(O=>{q+=`${O.category},${(O.revenue||0).toLocaleString("en-IN")},${(O.penalties||0).toLocaleString("en-IN")},${O.rating||0},${O.bookingCount||0}
`}),q+=`
`),P.length>0&&(q+=`PARTNER PERFORMANCE
`,q+=`Partner Name,Rating,Completion Rate,Total Earnings,Completed Bookings,Cancelled Bookings
`,P.forEach(O=>{var K;q+=`${O.name||"Unknown"},${O.rating||0},${((K=O.completionRate)==null?void 0:K.toFixed(2))||0}%,${(O.totalEarnings||0).toLocaleString("en-IN")},${O.completedBookings||0},${O.cancelledBookings||0}
`}));const se=new Blob([q],{type:"text/csv;charset=utf-8;"}),R=document.createElement("a"),T=URL.createObjectURL(se);R.setAttribute("href",T),R.setAttribute("download",`dashboard-export-${new Date().toISOString().split("T")[0]}.csv`),R.style.visibility="hidden",document.body.appendChild(R),R.click(),document.body.removeChild(R)}catch(L){console.error("Error exporting dashboard:",L),alert("Failed to export dashboard. Please try again.")}finally{c(!1)}},ce=()=>{s(!0)},he=async L=>{L.preventDefault(),alert(`Email digest scheduled for ${a} (${i}). This feature will be implemented soon.`),s(!1),n("")};return t.jsxs("div",{children:[t.jsx(gs,{title:"Reports & Analytics",subtitle:"Get finance-ready metrics by category, city, partner performance, penalties, and customer satisfaction.",actions:t.jsxs(t.Fragment,{children:[t.jsxs("button",{onClick:ce,className:"px-4 py-2 rounded-xl border border-primary text-primary text-sm font-semibold hover:bg-primary/10 transition inline-flex items-center gap-2",children:[t.jsx(Ss,{})," Schedule Digest"]}),t.jsxs("button",{onClick:X,disabled:o||N,className:"px-4 py-2 rounded-xl bg-primary text-white text-sm font-semibold hover:bg-primary-dark transition inline-flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[t.jsx(kn,{})," ",o?"Exporting...":"Export Dashboard"]})]})}),t.jsx("div",{className:"grid gap-5 md:grid-cols-2 xl:grid-cols-4 mb-10",children:A.map(L=>t.jsx(Xn,{...L},L.label))}),N?F():S?t.jsxs("div",{className:"bg-rose-50 border border-rose-200 text-rose-600 px-6 py-4 rounded-2xl",children:["Unable to fetch live analytics. ",S]}):t.jsxs("div",{className:"space-y-10",children:[t.jsxs("section",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6",children:[t.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500 mb-6",children:"Category-wise Revenue Snapshot"}),_.length===0?t.jsx("div",{className:"text-center py-8 text-slate-400 text-sm",children:"No category revenue data available"}):t.jsx("div",{className:"space-y-6",children:_.map(L=>{const q=D>0?L.revenue/D*100:0;return t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-900",children:L.category}),t.jsxs("p",{className:"text-xs text-slate-400 uppercase tracking-wide",children:["Revenue: ",L.revenueFormatted||`${(L.revenue||0).toLocaleString("en-IN")}`,"  Penalties: ",L.penaltiesFormatted||`${(L.penalties||0).toLocaleString("en-IN")}`]})]}),L.rating>0&&t.jsxs("div",{className:"text-sm font-semibold text-primary",children:["Rating ",L.rating]})]}),t.jsx("div",{className:"h-2 rounded-full bg-slate-100 overflow-hidden",children:t.jsx("div",{className:"h-full bg-primary rounded-full transition-all",style:{width:`${q}%`}})})]},L.categoryId||L.category)})})]}),t.jsx("section",{className:"grid lg:grid-cols-3 gap-6",children:a6e.map(L=>t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-900",children:L.label}),t.jsx("p",{className:"text-xs text-slate-400 uppercase tracking-wide",children:"Trendline (12 weeks)"})]}),t.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary/10 text-primary flex items-center justify-center",children:t.jsx(L.icon,{})})]}),t.jsx("div",{className:"mt-5 h-28",children:t.jsx("div",{className:"w-full h-full rounded-lg bg-gradient-to-br from-primary/5 to-primary/20 flex items-center justify-center text-sm text-primary font-semibold",children:t.jsx("span",{children:"Coming soon"})})})]},L.label))})]}),r&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("h2",{className:"text-xl font-bold text-slate-900 flex items-center gap-2",children:[t.jsx(en,{className:"w-5 h-5"}),"Schedule Email Digest"]}),t.jsx("button",{onClick:()=>{s(!1),n("")},className:"p-2 hover:bg-slate-100 rounded-lg transition",children:t.jsx(mt,{className:"w-5 h-5 text-slate-600"})})]}),t.jsxs("form",{onSubmit:he,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Email Address"}),t.jsx("input",{type:"email",value:a,onChange:L=>n(L.target.value),required:!0,placeholder:"admin@example.com",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Frequency"}),t.jsxs("select",{value:i,onChange:L=>l(L.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",children:[t.jsx("option",{value:"daily",children:"Daily"}),t.jsx("option",{value:"weekly",children:"Weekly"}),t.jsx("option",{value:"monthly",children:"Monthly"})]})]}),t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 text-sm text-blue-700",children:[t.jsx("p",{className:"font-semibold mb-1",children:"Coming Soon"}),t.jsx("p",{children:"Email digest scheduling will be available soon. You'll receive automated reports with all analytics data."})]}),t.jsxs("div",{className:"flex gap-3 pt-4",children:[t.jsx("button",{type:"button",onClick:()=>{s(!1),n("")},className:"flex-1 px-4 py-2 border border-slate-300 rounded-lg text-slate-700 font-semibold hover:bg-slate-50 transition",children:"Cancel"}),t.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition",children:"Schedule"})]})]})]})})]})},i6e=[{header:"Template",accessor:"name"},{header:"Channel",accessor:"channel"},{header:"Audience",accessor:"audience"},{header:"Last Updated",accessor:"updatedAt"},{header:"Owner",accessor:"owner"},{header:"Status",accessor:"status",render:e=>t.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold ${e==="Active"?"bg-emerald-500/10 text-emerald-600":e==="Draft"?"bg-slate-200 text-slate-700":"bg-amber-500/10 text-amber-600"}`,children:e})}],l6e=[{header:"Flow",accessor:"flow"},{header:"Trigger",accessor:"trigger"},{header:"Audience",accessor:"audience"},{header:"Channels",accessor:"channels"},{header:"Sends (7d)",accessor:"sends"},{header:"Status",accessor:"status"}],o6e=[{id:1,name:"Booking Confirmation",channel:"WhatsApp",audience:"Customer",updatedAt:"12 Nov, 10:12",owner:"CX Ops",status:"Active"},{id:2,name:"Partner Allocation Alert",channel:"SMS + WhatsApp",audience:"Partner",updatedAt:"11 Nov, 18:04",owner:"Partner Ops",status:"Active"},{id:3,name:"Refund Initiated",channel:"WhatsApp",audience:"Customer",updatedAt:"10 Nov, 16:40",owner:"Finance",status:"Draft"}],c6e=()=>{const{data:e,isLoading:r,error:s}=cr(n=>He.fetchModuleData("/notifications/templates",n)),a=[{label:"Templates Live",value:(e==null?void 0:e.templateCount)??48,trend:"8 pending WhatsApp approval",icon:e4,description:"Across partners, customers, finance"},{label:"Automation Journeys",value:(e==null?void 0:e.journeys)??14,trend:"3 paused due to SLA breach",icon:kl,description:"Trigger-condition-action flows"},{label:"Messages Sent (24h)",value:(e==null?void 0:e.messagesSent)??"18,240",trend:"Delivery rate 97.4%",icon:Uf,description:"WhatsApp + SMS combined"},{label:"Tokenized Content",value:(e==null?void 0:e.tokenUsage)??"83%",trend:"Personalized with real-time data",icon:Ui,description:"Dynamic placeholders"}];return t.jsxs("div",{children:[t.jsx(gs,{title:"Notifications",subtitle:"Build and orchestrate WhatsApp and SMS templates with audit-ready versions, journey automation, and compliance guardrails.",actions:t.jsx("button",{className:"px-4 py-2 rounded-xl bg-primary text-white text-sm font-semibold hover:bg-primary-dark transition",children:"Create Template"})}),t.jsx("div",{className:"grid gap-5 md:grid-cols-2 xl:grid-cols-4 mb-10",children:a.map(n=>t.jsx(Xn,{...n},n.label))}),t.jsxs("div",{className:"space-y-8",children:[t.jsxs("section",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500",children:"Template Library"}),s&&t.jsx("span",{className:"text-xs text-rose-500",children:"Template sync failed. Showing cached data."}),r&&t.jsx("span",{className:"text-xs text-slate-400",children:"Loading templates..."})]}),t.jsx(Ia,{columns:i6e,data:(e==null?void 0:e.templates)??o6e,emptyLabel:"No templates created."})]}),t.jsxs("section",{className:"grid lg:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"lg:col-span-2 bg-white border border-slate-200 rounded-2xl shadow-sm p-5",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500",children:"Journey Automation"}),t.jsx("button",{className:"text-xs text-primary font-semibold",children:"New Flow"})]}),t.jsx(Ia,{columns:l6e,data:(e==null?void 0:e.journeySummary)??[{id:1,flow:"Lead Allocated  Partner Reminder",trigger:"No bid in 15 mins",audience:"Partner",channels:"WhatsApp + Push",sends:"546",status:"Active"},{id:2,flow:"Service Completed  Feedback",trigger:"Job completion event",audience:"Customer",channels:"WhatsApp + Email",sends:"1,824",status:"Active"}],emptyLabel:"No automation journeys configured."})]}),t.jsxs("div",{className:"bg-slate-900 text-white rounded-2xl p-6 space-y-5 shadow-lg",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Compliance Guardrails"}),t.jsx("p",{className:"text-sm text-white/80 leading-relaxed",children:"Centralized audit logs, template versioning, and opt-out controls ensure every WhatsApp or SMS message adheres to regulatory requirements."}),t.jsxs("ul",{className:"space-y-3 text-sm text-white/80",children:[t.jsx("li",{children:" Maintain DLT IDs and expiry alerts"}),t.jsx("li",{children:" Auto-block sending if opt-out thresholds exceeded"}),t.jsx("li",{children:" Attach escalation notes for manual overrides"})]})]})]})]})]})},d6e=()=>{const{notifications:e}=wr(),r=(e==null?void 0:e.notifications)||[],s=(e==null?void 0:e.isLoading)||!1,a=(e==null?void 0:e.unreadCount)||0,n=e==null?void 0:e.markAsRead,i=e==null?void 0:e.fetchNotifications,[l,o]=g.useState("all"),c=r.filter(x=>l==="unread"?!x.seen&&!x.read:l==="read"?x.seen||x.read:!0),d=async(x=null)=>{n&&(await n(x),i&&await i())},u=async()=>{n&&(await n(),i&&await i())},m=x=>{if(!x)return"";const h=new Date(x),f=new Date-h,b=Math.floor(f/6e4),j=Math.floor(f/36e5),w=Math.floor(f/864e5);return b<1?"Just now":b<60?`${b} minutes ago`:j<24?`${j} hours ago`:w<7?`${w} days ago`:h.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})};return t.jsxs("div",{children:[t.jsx(gs,{title:"Notifications",subtitle:"View and manage all your notifications",actions:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("button",{onClick:()=>i&&i(),className:"px-4 py-2 rounded-xl bg-slate-100 text-slate-700 text-sm font-semibold hover:bg-slate-200 transition flex items-center gap-2",children:[t.jsx(Dt,{className:"w-4 h-4"}),"Refresh"]}),a>0&&t.jsxs("button",{onClick:u,className:"px-4 py-2 rounded-xl bg-primary text-white text-sm font-semibold hover:bg-primary-dark transition flex items-center gap-2",children:[t.jsx(vt,{className:"w-4 h-4"}),"Mark All Read"]})]})}),t.jsxs("div",{className:"mb-6 flex items-center gap-2 border-b border-slate-200",children:[t.jsxs("button",{onClick:()=>o("all"),className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${l==="all"?"border-primary text-primary":"border-transparent text-slate-600 hover:text-slate-900"}`,children:["All (",r.length,")"]}),t.jsxs("button",{onClick:()=>o("unread"),className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${l==="unread"?"border-primary text-primary":"border-transparent text-slate-600 hover:text-slate-900"}`,children:["Unread (",a,")"]}),t.jsxs("button",{onClick:()=>o("read"),className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${l==="read"?"border-primary text-primary":"border-transparent text-slate-600 hover:text-slate-900"}`,children:["Read (",r.length-a,")"]})]}),s?t.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 p-12 text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),t.jsx("p",{className:"text-slate-600",children:"Loading notifications..."})]}):c.length===0?t.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 p-12 text-center",children:[t.jsx(Sn,{className:"w-16 h-16 mx-auto mb-4 text-slate-300"}),t.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"No notifications"}),t.jsx("p",{className:"text-slate-600",children:l==="unread"?"You're all caught up! No unread notifications.":l==="read"?"No read notifications to display.":"You don't have any notifications yet."})]}):t.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 divide-y divide-slate-100",children:c.map(x=>{var p;const h=!x.seen&&!x.read;return t.jsx("div",{className:`p-6 hover:bg-slate-50 transition-colors ${h?"bg-blue-50/30 border-l-4 border-l-primary":""}`,children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"flex-shrink-0 mt-1",children:t.jsx("div",{className:`w-3 h-3 rounded-full ${h?"bg-primary":"bg-slate-300"}`})}),t.jsx("div",{className:"flex-1 min-w-0",children:t.jsxs("div",{className:"flex items-start justify-between gap-4",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"text-base font-semibold text-slate-900 mb-1",children:x.title||((p=x.message)==null?void 0:p.split(": ")[0])||"New notification"}),x.message&&t.jsx("p",{className:"text-sm text-slate-600 mb-2 line-clamp-3",children:x.title?x.message:x.message.split(": ").slice(1).join(": ")||x.message}),t.jsxs("div",{className:"flex items-center gap-4 text-xs text-slate-400",children:[t.jsx("span",{children:m(x.date||x.createdAt)}),x.type&&t.jsx("span",{className:"px-2 py-0.5 rounded-full bg-slate-100 text-slate-600",children:x.type})]})]}),h&&t.jsx("button",{onClick:()=>d(x._id||x.id),className:"flex-shrink-0 p-2 hover:bg-slate-100 rounded-lg transition-colors",title:"Mark as read",children:t.jsx(Sl,{className:"w-5 h-5 text-slate-400 hover:text-primary"})})]})})]})},x._id||x.id||Math.random())})})]})},u6e=[{header:"Refund ID",accessor:"refundId"},{header:"Booking",accessor:"bookingId"},{header:"Customer",accessor:"customer"},{header:"Reason",accessor:"reason"},{header:"Channel",accessor:"channel"},{header:"Amount",accessor:"amount"},{header:"Status",accessor:"status",render:e=>t.jsx("span",{className:`inline-flex items-center gap-2 px-2.5 py-1 rounded-full text-xs font-semibold ${e==="Auto Refunded"?"bg-emerald-500/10 text-emerald-600":e==="Manual Review"?"bg-amber-500/10 text-amber-600":"bg-slate-200 text-slate-700"}`,children:e})},{header:"SLA",accessor:"sla"}],m6e=[{header:"Case",accessor:"caseId"},{header:"Booking",accessor:"bookingId"},{header:"Escalation Level",accessor:"level"},{header:"Amount",accessor:"amount"},{header:"Owner",accessor:"owner"},{header:"Status",accessor:"status"}],h6e=[{id:1,refundId:"RF-2210",bookingId:"BK-2991",customer:"Megha Patil",reason:"Technician no-show",channel:"Auto",amount:"1,299",status:"Auto Refunded",sla:"Closed in 1.8 hrs"},{id:2,refundId:"RF-2206",bookingId:"BK-2986",customer:"Arjun Desai",reason:"Quality dispute",channel:"Manual",amount:"2,450",status:"Manual Review",sla:"Awaiting Finance (4.2 hrs)"},{id:3,refundId:"RF-2201",bookingId:"BK-2978",customer:"Latika Rao",reason:"Double charge",channel:"Auto",amount:"1,049",status:"Auto Refunded",sla:"Closed in 35 mins"}],x6e=()=>{const{data:e,isLoading:r,error:s}=cr(n=>He.fetchModuleData("/refunds",n)),a=[{label:"Auto Closure Rate",value:(e==null?void 0:e.autoRate)??"76%",trend:"Policy engine handling majority scenarios",icon:oZ,description:"Within defined risk guardrails"},{label:"Average Turnaround",value:(e==null?void 0:e.turnaround)??"2.1 hrs",trend:"Manual queue aging at 6.4 hrs",icon:ns,description:"From request to settlement",intent:(e==null?void 0:e.turnaround)>3?"warning":"positive"},{label:"Finance Exceptions",value:(e==null?void 0:e.exceptions)??12,trend:"Escalated to level-2 for approval",icon:ZQ,description:"Needs manual override",intent:"warning"},{label:"Chargeback Prevention",value:(e==null?void 0:e.chargebackAvoided)??"4.6L",trend:"By proactive customer engagement",icon:Xa,description:"Month to date"}];return t.jsxs("div",{children:[t.jsx(gs,{title:"Refund Management",subtitle:"Track refund automation logs, manual overrides, and finance escalations with granular audit trails.",actions:t.jsx("button",{className:"px-4 py-2 rounded-xl border border-primary text-primary text-sm font-semibold hover:bg-primary/10 transition",children:"Configure Policies"})}),t.jsx("div",{className:"grid gap-5 md:grid-cols-2 xl:grid-cols-4 mb-10",children:a.map(n=>t.jsx(Xn,{...n},n.label))}),t.jsxs("div",{className:"space-y-8",children:[t.jsxs("section",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500",children:"Refund Ledger"}),s&&t.jsx("span",{className:"text-xs text-rose-500",children:"Refund service offline."}),r&&t.jsx("span",{className:"text-xs text-slate-400",children:"Syncing latest refunds..."})]}),t.jsx(Ia,{columns:u6e,data:(e==null?void 0:e.refunds)??h6e,emptyLabel:"No refunds recorded today."})]}),t.jsxs("section",{className:"grid lg:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"lg:col-span-2 bg-white border border-slate-200 rounded-2xl shadow-sm p-5",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500",children:"Manual Overrides"}),t.jsx("button",{className:"text-xs text-primary font-semibold",children:"New Override"})]}),t.jsx(Ia,{columns:m6e,data:(e==null?void 0:e.exceptionsList)??[{id:1,caseId:"EX-1982",bookingId:"BK-2986",level:"Finance L2",amount:"2,450",owner:"Sana Qureshi",status:"Pending"},{id:2,caseId:"EX-1979",bookingId:"BK-2971",level:"Ops L1",amount:"980",owner:"Raghav Iyer",status:"Approved"}],emptyLabel:"No manual overrides pending."})]}),t.jsxs("div",{className:"bg-slate-900 text-white rounded-2xl p-6 space-y-5 shadow-lg",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Risk & Escalation Engine"}),t.jsx("p",{className:"text-sm text-white/80 leading-relaxed",children:"Every refund request is scored on past incidents, ticket sentiment, wallet health, and policy compliance. Higher risk cases auto-assign to finance controllers."}),t.jsxs("ul",{className:"space-y-3 text-sm text-white/80",children:[t.jsx("li",{children:" Auto-close low-risk refunds instantly"}),t.jsx("li",{children:" Dual-auth approvals above 5,000"}),t.jsx("li",{children:" SLA breach alerts for pending overrides"})]})]})]})]})]})},p6e=()=>{const{token:e}=wr(),{data:r,isLoading:s,error:a,refresh:n}=cr(y=>He.fetchMGPlans(y),[]),[i,l]=g.useState(!1),[o,c]=g.useState(null),[d,u]=g.useState({name:"",price:"",leads:"",commission:"",leadFee:"",minWalletBalance:"",description:"",refundPolicy:"",features:"",validityType:"monthly",validityMonths:"",partnerType:"individual",isDefault:!1,isActive:!0}),[m,x]=g.useState(!1),h=(r==null?void 0:r.data)||[],p=()=>{c(null),u({name:"",price:"",leads:"",commission:"",leadFee:"",minWalletBalance:"",description:"",refundPolicy:"",features:"",validityType:"monthly",validityMonths:"",partnerType:"individual",isDefault:!1,isActive:!0}),l(!0)},f=y=>{var v;c(y),u({name:y.name,price:y.price,leads:y.leads,commission:y.commission,leadFee:y.leadFee??"",minWalletBalance:y.minWalletBalance??"",description:y.description||"",refundPolicy:y.refundPolicy||"",features:((v=y.features)==null?void 0:v.join(`
`))||"",validityType:y.validityType||"monthly",validityMonths:y.validityType==="custom"&&y.validityMonths||"",partnerType:y.partnerType||"individual",isDefault:y.isDefault||!1,isActive:y.isActive!==void 0?y.isActive:!0}),l(!0)},b=async y=>{y.preventDefault(),x(!0);try{const v={...d,price:Number(d.price),leads:Number(d.leads),commission:Number(d.commission),leadFee:d.leadFee===""?void 0:Number(d.leadFee),minWalletBalance:d.minWalletBalance===""?void 0:Number(d.minWalletBalance),features:d.features.split(`
`).filter(N=>N.trim()),validityType:d.validityType,validityMonths:d.validityType==="custom"&&d.validityMonths?Number(d.validityMonths):void 0};o?await He.updateMGPlan(e,o._id,v):await He.createMGPlan(e,v),l(!1),n()}catch(v){alert(v.message||"Failed to save plan")}finally{x(!1)}},j=async y=>{if(confirm("Are you sure you want to delete this plan?"))try{await He.deleteMGPlan(e,y),n()}catch(v){alert(v.message||"Failed to delete plan")}},w=y=>{if(!y)return"";const v=y.toLowerCase();return v.includes("silver")?"":v.includes("gold")?"":v.includes("platinum")?"":v.includes("basic")?"":v.includes("premium")?"":v.includes("enterprise")||v.includes("business")?"":v.includes("starter")?"":v.includes("pro")?"":""};return t.jsxs("div",{children:[t.jsx(gs,{title:"MG Plan Management",subtitle:"Manage Minimum Guarantee plans for partners - pricing, leads, and commission rates."}),t.jsx("div",{className:"mb-6 flex justify-end",children:t.jsxs("button",{onClick:p,className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-xl font-semibold hover:bg-primary-dark transition",children:[t.jsx(Tr,{})," Create New Plan"]})}),s?t.jsx("div",{className:"flex justify-center items-center py-12",children:t.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):a?t.jsxs("div",{className:"bg-rose-50 border border-rose-200 text-rose-600 px-6 py-4 rounded-2xl",children:["Error loading plans: ",a]}):t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:h.map(y=>{var v;return t.jsxs("div",{className:"bg-white border-2 border-slate-200 rounded-2xl p-6 shadow-sm hover:shadow-md transition",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"text-4xl",children:w(y.name)}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900",children:y.name}),y.isDefault&&t.jsx("span",{className:"text-xs text-primary font-semibold",children:"Default Plan"})]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:()=>f(y),className:"p-2 hover:bg-slate-100 rounded-lg transition",children:t.jsx(ks,{className:"text-slate-600"})}),t.jsx("button",{onClick:()=>j(y._id),className:"p-2 hover:bg-rose-50 rounded-lg transition",children:t.jsx(Ma,{className:"text-rose-600"})})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"text-3xl font-bold text-primary",children:["",y.price.toLocaleString("en-IN")]}),t.jsx("div",{className:"text-sm text-gray-500",children:"per month"})]}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(vt,{className:"text-green-500"}),t.jsxs("span",{className:"text-gray-700",children:[y.leads," Guaranteed Leads"]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(vt,{className:"text-green-500"}),t.jsxs("span",{className:"text-gray-700",children:[y.commission,"% Commission Rate"]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(vt,{className:"text-green-500"}),t.jsxs("span",{className:"text-gray-700",children:["Lead Fee ",(y.leadFee??0).toLocaleString("en-IN")]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(vt,{className:"text-green-500"}),t.jsxs("span",{className:"text-gray-700",children:["Min Wallet ",(y.minWalletBalance??0).toLocaleString("en-IN")]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(vt,{className:"text-blue-500"}),t.jsxs("span",{className:"text-gray-700",children:["Validity: ",y.validityType==="monthly"?"1 Month":y.validityType==="quarterly"?"3 Months":y.validityType==="yearly"?"12 Months":y.validityType==="custom"?`${y.validityMonths||1} Month(s)`:"1 Month"]})]})]}),y.description&&t.jsx("p",{className:"text-sm text-gray-600 mt-3",children:y.description}),y.refundPolicy&&t.jsx("p",{className:"text-xs text-gray-500 mt-2 italic",children:y.refundPolicy}),(v=y.features)!=null&&v.length?t.jsxs("div",{className:"pt-3 border-t",children:[t.jsx("p",{className:"text-xs font-semibold text-slate-500 mb-2",children:"Highlights"}),t.jsx("ul",{className:"space-y-1 text-xs text-slate-600",children:y.features.map((N,S)=>t.jsxs("li",{className:"flex items-center gap-2",children:[t.jsx(vt,{className:"text-green-500"}),t.jsx("span",{children:N})]},S))})]}):null,t.jsxs("div",{className:"pt-3 border-t flex items-center gap-2 flex-wrap",children:[t.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold ${y.isActive?"bg-emerald-500/10 text-emerald-600":"bg-gray-500/10 text-gray-600"}`,children:y.isActive?"Active":"Inactive"}),t.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold ${y.partnerType==="franchise"?"bg-purple-500/10 text-purple-600":y.partnerType==="both"?"bg-blue-500/10 text-blue-600":"bg-slate-500/10 text-slate-600"}`,children:y.partnerType==="franchise"?"Franchise":y.partnerType==="both"?"Both":"Individual"})]})]})]},y._id)})}),i&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full p-6 max-h-[90vh] overflow-y-auto",children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:o?"Edit Plan":"Create New Plan"}),t.jsxs("form",{onSubmit:b,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Plan Name ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",value:d.name,onChange:y=>u(v=>({...v,name:y.target.value.trim()})),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"Enter plan name (e.g., Silver, Gold, Platinum, Basic, Premium, etc.)",required:!0}),t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:'You can use the same name for different partner types (e.g., "Silver" for Individual and "Silver" for Franchise)'})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Partner Type ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("select",{value:d.partnerType,onChange:y=>u(v=>({...v,partnerType:y.target.value})),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",required:!0,children:[t.jsx("option",{value:"individual",children:"Individual Partner"}),t.jsx("option",{value:"franchise",children:"Franchise Partner"}),t.jsx("option",{value:"both",children:"Both (Individual & Franchise)"})]}),t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Select which partner type can subscribe to this plan"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Price () ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"number",value:d.price,onChange:y=>u(v=>({...v,price:y.target.value})),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"1000",min:"0",required:!0})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Guaranteed Leads ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"number",value:d.leads,onChange:y=>u(v=>({...v,leads:y.target.value})),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"20",min:"0",required:!0})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Commission (%) ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"number",value:d.commission,onChange:y=>u(v=>({...v,commission:y.target.value})),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"5",min:"0",max:"100",step:"0.1",required:!0})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Lead Fee () ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"number",value:d.leadFee,onChange:y=>u(v=>({...v,leadFee:y.target.value})),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"50",min:"0",required:!0})]}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Min Wallet Balance () ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"number",value:d.minWalletBalance,onChange:y=>u(v=>({...v,minWalletBalance:y.target.value})),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"20",min:"0",required:!0})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Description"}),t.jsx("textarea",{value:d.description,onChange:y=>u(v=>({...v,description:y.target.value})),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",rows:3,placeholder:"Plan description..."})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Plan Validity ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("select",{value:d.validityType,onChange:y=>u(v=>({...v,validityType:y.target.value,validityMonths:y.target.value==="custom"?v.validityMonths:""})),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",required:!0,children:[t.jsx("option",{value:"monthly",children:"Monthly (1 Month)"}),t.jsx("option",{value:"quarterly",children:"Quarterly (3 Months)"}),t.jsx("option",{value:"yearly",children:"Yearly (12 Months)"}),t.jsx("option",{value:"custom",children:"Custom Duration"})]}),d.validityType==="custom"&&t.jsxs("div",{className:"mt-3",children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Custom Duration (Months) ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"number",value:d.validityMonths,onChange:y=>u(v=>({...v,validityMonths:y.target.value})),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"Enter number of months",min:"1",required:d.validityType==="custom"}),t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Enter the number of months for plan validity"})]}),t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Select how long the plan remains valid after subscription"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Refund Policy"}),t.jsx("textarea",{value:d.refundPolicy,onChange:y=>u(v=>({...v,refundPolicy:y.target.value})),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",rows:2,placeholder:"Refund policy details..."})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Features (one per line)"}),t.jsx("textarea",{value:d.features,onChange:y=>u(v=>({...v,features:y.target.value})),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",rows:4,placeholder:`Feature 1
Feature 2
Feature 3`})]}),t.jsx("div",{className:"flex items-center gap-4",children:t.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:d.isDefault,onChange:y=>u(v=>({...v,isDefault:y.target.checked})),className:"w-4 h-4 text-primary rounded focus:ring-primary"}),t.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Set as Default Plan"})]})}),t.jsx("div",{className:"flex items-center gap-4",children:t.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:d.isActive,onChange:y=>u(v=>({...v,isActive:y.target.checked})),className:"w-4 h-4 text-primary rounded focus:ring-primary"}),t.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Active"})]})}),t.jsxs("div",{className:"flex gap-3 pt-4",children:[t.jsx("button",{type:"button",onClick:()=>l(!1),className:"flex-1 px-4 py-3 bg-slate-100 text-slate-700 rounded-xl font-semibold hover:bg-slate-200 transition",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:m,className:"flex-1 px-4 py-3 bg-primary text-white rounded-xl font-semibold hover:bg-primary-dark transition disabled:opacity-50",children:m?"Saving...":o?"Update Plan":"Create Plan"})]})]})]})})]})},f6e=()=>{const{token:e}=wr(),[r,s]=g.useState("individual"),[a,n]=g.useState({individual:{registrationFee:"",securityDeposit:"",toolkitPrice:"",registrationFeeRefundable:!1,securityDepositRefundable:!1,toolkitPriceRefundable:!1},franchise:{registrationFee:"",securityDeposit:"",toolkitPrice:"",registrationFeeRefundable:!1,securityDepositRefundable:!1,toolkitPriceRefundable:!1}}),[i,l]=g.useState(!1),[o,c]=g.useState(""),[d,u]=g.useState(""),{data:m,isLoading:x,error:h,refresh:p}=cr(y=>He.fetchFees(y),[]);_t.useEffect(()=>{var y,v,N,S,k,C,P,_,A,D,F,X;m!=null&&m.data&&n({individual:{registrationFee:((y=m.data.individual)==null?void 0:y.registrationFee)||m.data.registrationFee||"",securityDeposit:((v=m.data.individual)==null?void 0:v.securityDeposit)||m.data.securityDeposit||"",toolkitPrice:((N=m.data.individual)==null?void 0:N.toolkitPrice)||m.data.toolkitPrice||"",registrationFeeRefundable:((S=m.data.individual)==null?void 0:S.registrationFeeRefundable)||m.data.registrationFeeRefundable||!1,securityDepositRefundable:((k=m.data.individual)==null?void 0:k.securityDepositRefundable)||m.data.securityDepositRefundable||!1,toolkitPriceRefundable:((C=m.data.individual)==null?void 0:C.toolkitPriceRefundable)||m.data.toolkitPriceRefundable||!1},franchise:{registrationFee:((P=m.data.franchise)==null?void 0:P.registrationFee)||m.data.registrationFee||"",securityDeposit:((_=m.data.franchise)==null?void 0:_.securityDeposit)||m.data.securityDeposit||"",toolkitPrice:((A=m.data.franchise)==null?void 0:A.toolkitPrice)||m.data.toolkitPrice||"",registrationFeeRefundable:((D=m.data.franchise)==null?void 0:D.registrationFeeRefundable)||m.data.registrationFeeRefundable||!1,securityDepositRefundable:((F=m.data.franchise)==null?void 0:F.securityDepositRefundable)||m.data.securityDepositRefundable||!1,toolkitPriceRefundable:((X=m.data.franchise)==null?void 0:X.toolkitPriceRefundable)||m.data.toolkitPriceRefundable||!1}})},[m]);const f=async y=>{y.preventDefault(),l(!0),u(""),c("");try{const v=a[r];await He.updateFees(e,{partnerType:r,registrationFee:Number(v.registrationFee),securityDeposit:Number(v.securityDeposit),toolkitPrice:Number(v.toolkitPrice),registrationFeeRefundable:v.registrationFeeRefundable,securityDepositRefundable:v.securityDepositRefundable,toolkitPriceRefundable:v.toolkitPriceRefundable}),c(`${r==="individual"?"Individual":"Franchise"} partner fees updated successfully!`),p(),setTimeout(()=>{c("")},3e3)}catch(v){u(v.message||"Failed to update fees")}finally{l(!1)}},b=()=>{var y,v,N,S,k,C,P,_,A,D,F,X;m!=null&&m.data&&n({individual:{registrationFee:((y=m.data.individual)==null?void 0:y.registrationFee)||m.data.registrationFee||"",securityDeposit:((v=m.data.individual)==null?void 0:v.securityDeposit)||m.data.securityDeposit||"",toolkitPrice:((N=m.data.individual)==null?void 0:N.toolkitPrice)||m.data.toolkitPrice||"",registrationFeeRefundable:((S=m.data.individual)==null?void 0:S.registrationFeeRefundable)||m.data.registrationFeeRefundable||!1,securityDepositRefundable:((k=m.data.individual)==null?void 0:k.securityDepositRefundable)||m.data.securityDepositRefundable||!1,toolkitPriceRefundable:((C=m.data.individual)==null?void 0:C.toolkitPriceRefundable)||m.data.toolkitPriceRefundable||!1},franchise:{registrationFee:((P=m.data.franchise)==null?void 0:P.registrationFee)||m.data.registrationFee||"",securityDeposit:((_=m.data.franchise)==null?void 0:_.securityDeposit)||m.data.securityDeposit||"",toolkitPrice:((A=m.data.franchise)==null?void 0:A.toolkitPrice)||m.data.toolkitPrice||"",registrationFeeRefundable:((D=m.data.franchise)==null?void 0:D.registrationFeeRefundable)||m.data.registrationFeeRefundable||!1,securityDepositRefundable:((F=m.data.franchise)==null?void 0:F.securityDepositRefundable)||m.data.securityDepositRefundable||!1,toolkitPriceRefundable:((X=m.data.franchise)==null?void 0:X.toolkitPriceRefundable)||m.data.toolkitPriceRefundable||!1}}),u(""),c("")},j=()=>{const y=a[r],v=Number(y.registrationFee)||0,N=Number(y.securityDeposit)||0;return v+N},w=a[r];return t.jsxs("div",{children:[t.jsx(gs,{title:"Fee Management",subtitle:"Manage registration fee, security deposit, and toolkit pricing for partner onboarding."}),x?t.jsx("div",{className:"flex justify-center items-center py-12",children:t.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):h?t.jsxs("div",{className:"bg-rose-50 border border-rose-200 text-rose-600 px-6 py-4 rounded-2xl",children:["Error loading fees: ",h]}):t.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[t.jsx("div",{className:"lg:col-span-2",children:t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Update Fees"}),t.jsxs("button",{onClick:b,className:"flex items-center gap-2 px-3 py-2 text-sm text-slate-600 hover:bg-slate-100 rounded-lg transition",children:[t.jsx(Dt,{className:"w-4 h-4"}),"Reset"]})]}),t.jsxs("div",{className:"flex gap-2 mb-6 p-1 bg-slate-100 rounded-xl",children:[t.jsx("button",{type:"button",onClick:()=>s("individual"),className:`flex-1 px-4 py-2.5 rounded-lg font-semibold transition ${r==="individual"?"bg-white text-primary shadow-sm":"text-slate-600 hover:text-slate-900"}`,children:"Individual Partner"}),t.jsx("button",{type:"button",onClick:()=>s("franchise"),className:`flex-1 px-4 py-2.5 rounded-lg font-semibold transition ${r==="franchise"?"bg-white text-purple-600 shadow-sm":"text-slate-600 hover:text-slate-900"}`,children:"Franchise Partner"})]}),d&&t.jsx("div",{className:"bg-rose-50 border border-rose-200 text-rose-600 px-4 py-3 rounded-lg mb-6 text-sm",children:d}),o&&t.jsx("div",{className:"bg-emerald-50 border border-emerald-200 text-emerald-600 px-4 py-3 rounded-lg mb-6 text-sm",children:o}),t.jsxs("form",{onSubmit:f,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Registration Fee () ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("div",{className:"relative",children:[t.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-500",children:""}),t.jsx("input",{type:"number",value:w.registrationFee,onChange:y=>n(v=>({...v,[r]:{...v[r],registrationFee:y.target.value}})),className:"w-full pl-8 pr-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"500",min:"0",step:"1",required:!0})]}),t.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["One-time registration fee charged to ",r==="individual"?"individual":"franchise"," partners during onboarding"]}),t.jsxs("div",{className:"flex items-center gap-3 mt-3 p-3 bg-slate-50 rounded-lg border border-slate-200",children:[t.jsx("input",{type:"checkbox",id:"registrationFeeRefundable",checked:w.registrationFeeRefundable,onChange:y=>n(v=>({...v,[r]:{...v[r],registrationFeeRefundable:y.target.checked}})),className:"w-5 h-5 text-primary border-2 border-slate-300 rounded focus:ring-primary"}),t.jsx("label",{htmlFor:"registrationFeeRefundable",className:"flex-1 cursor-pointer",children:t.jsx("span",{className:"text-sm font-semibold text-slate-700",children:"Registration Fee is Refundable"})})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Security Deposit () ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("div",{className:"relative",children:[t.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-500",children:""}),t.jsx("input",{type:"number",value:w.securityDeposit,onChange:y=>n(v=>({...v,[r]:{...v[r],securityDeposit:y.target.value}})),className:"w-full pl-8 pr-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"1000",min:"0",step:"1",required:!0})]}),t.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Security deposit amount collected from ",r==="individual"?"individual":"franchise"," partners"]}),t.jsxs("div",{className:"flex items-center gap-3 mt-3 p-3 bg-slate-50 rounded-lg border border-slate-200",children:[t.jsx("input",{type:"checkbox",id:"securityDepositRefundable",checked:w.securityDepositRefundable,onChange:y=>n(v=>({...v,[r]:{...v[r],securityDepositRefundable:y.target.checked}})),className:"w-5 h-5 text-primary border-2 border-slate-300 rounded focus:ring-primary"}),t.jsx("label",{htmlFor:"securityDepositRefundable",className:"flex-1 cursor-pointer",children:t.jsx("span",{className:"text-sm font-semibold text-slate-700",children:"Security Deposit is Refundable"})})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Toolkit Price () ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("div",{className:"relative",children:[t.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-500",children:""}),t.jsx("input",{type:"number",value:w.toolkitPrice,onChange:y=>n(v=>({...v,[r]:{...v[r],toolkitPrice:y.target.value}})),className:"w-full pl-8 pr-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"2499",min:"0",step:"1",required:!0})]}),t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Price for professional toolkit (optional purchase during onboarding)"}),t.jsxs("div",{className:"flex items-center gap-3 mt-3 p-3 bg-slate-50 rounded-lg border border-slate-200",children:[t.jsx("input",{type:"checkbox",id:"toolkitPriceRefundable",checked:w.toolkitPriceRefundable,onChange:y=>n(v=>({...v,[r]:{...v[r],toolkitPriceRefundable:y.target.checked}})),className:"w-5 h-5 text-primary border-2 border-slate-300 rounded focus:ring-primary"}),t.jsx("label",{htmlFor:"toolkitPriceRefundable",className:"flex-1 cursor-pointer",children:t.jsx("span",{className:"text-sm font-semibold text-slate-700",children:"Toolkit Price is Refundable"})})]})]}),t.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200",children:[t.jsx("button",{type:"button",onClick:b,className:"flex-1 px-4 py-3 bg-slate-100 text-slate-700 rounded-xl font-semibold hover:bg-slate-200 transition",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:i,className:"flex-1 px-4 py-3 bg-primary text-white rounded-xl font-semibold hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:i?t.jsxs(t.Fragment,{children:[t.jsx(Dt,{className:"w-5 h-5 animate-spin"}),"Updating..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Xi,{className:"w-5 h-5"}),"Update Fees"]})})]})]})]})}),t.jsx("div",{className:"lg:col-span-1",children:t.jsxs("div",{className:`bg-gradient-to-br border rounded-2xl p-6 sticky top-6 ${r==="individual"?"from-primary/10 to-primary/5 border-primary/20":"from-purple-500/10 to-purple-500/5 border-purple-500/20"}`,children:[t.jsxs("h3",{className:"text-lg font-bold text-slate-900 mb-2 flex items-center gap-2",children:[t.jsx(Xt,{className:`w-5 h-5 ${r==="individual"?"text-primary":"text-purple-600"}`}),"Fee Summary"]}),t.jsxs("p",{className:"text-xs text-slate-600 mb-4",children:[r==="individual"?"Individual Partner":"Franchise Partner"," Fees"]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"bg-white/80 rounded-xl p-4",children:[t.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Registration Fee"}),t.jsxs("p",{className:"text-2xl font-bold text-slate-900",children:["",(Number(w.registrationFee)||0).toLocaleString("en-IN")]})]}),t.jsxs("div",{className:"bg-white/80 rounded-xl p-4",children:[t.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Security Deposit"}),t.jsxs("p",{className:"text-2xl font-bold text-slate-900",children:["",(Number(w.securityDeposit)||0).toLocaleString("en-IN")]})]}),t.jsxs("div",{className:"bg-white/80 rounded-xl p-4",children:[t.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Toolkit Price"}),t.jsxs("p",{className:"text-2xl font-bold text-slate-900",children:["",(Number(w.toolkitPrice)||0).toLocaleString("en-IN")]})]}),t.jsx("div",{className:`border-t pt-4 mt-4 ${r==="individual"?"border-primary/20":"border-purple-500/20"}`,children:t.jsxs("div",{className:"bg-white/80 rounded-xl p-4",children:[t.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Total Onboarding Fee"}),t.jsxs("p",{className:`text-2xl font-bold ${r==="individual"?"text-primary":"text-purple-600"}`,children:["",j().toLocaleString("en-IN")]}),t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"(Registration + Security Deposit)"})]})}),t.jsxs("div",{className:"bg-white/80 rounded-xl p-4 space-y-2",children:[t.jsx("p",{className:"text-xs text-slate-500 mb-2 font-semibold",children:"Refundable Status"}),t.jsxs("div",{className:"space-y-1",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs text-slate-600",children:"Registration Fee:"}),t.jsx("span",{className:`text-xs font-semibold ${w.registrationFeeRefundable?"text-emerald-600":"text-slate-600"}`,children:w.registrationFeeRefundable?" Refundable":" Non-Refundable"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs text-slate-600",children:"Security Deposit:"}),t.jsx("span",{className:`text-xs font-semibold ${w.securityDepositRefundable?"text-emerald-600":"text-slate-600"}`,children:w.securityDepositRefundable?" Refundable":" Non-Refundable"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs text-slate-600",children:"Toolkit Price:"}),t.jsx("span",{className:`text-xs font-semibold ${w.toolkitPriceRefundable?"text-emerald-600":"text-slate-600"}`,children:w.toolkitPriceRefundable?" Refundable":" Non-Refundable"})]})]})]}),t.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 mt-4",children:t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx(ZO,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),t.jsxs("div",{className:"text-xs text-blue-700",children:[t.jsx("p",{className:"font-semibold mb-1",children:"Note:"}),t.jsx("p",{children:"Toolkit is optional. Total onboarding fee = Registration Fee + Security Deposit"}),(w.registrationFeeRefundable||w.securityDepositRefundable||w.toolkitPriceRefundable)&&t.jsxs("p",{className:"mt-2 text-emerald-700 font-semibold",children:[" Refundable fees will be displayed to ",r==="individual"?"individual":"franchise"," partners during onboarding"]})]})]})})]})]})})]})]})},K5=({data:e,type:r="booking",onClose:s})=>{var j,w,y,v,N,S,k,C,P,_,A,D;const a=g.useRef(null),n=r==="booking"||r==="job",i=r==="transaction",l=n?(e==null?void 0:e.bookingId)||((j=e==null?void 0:e._id)==null?void 0:j.toString().slice(-8))||`INV-${Date.now()}`:(e==null?void 0:e.transactionId)||((w=e==null?void 0:e._id)==null?void 0:w.toString().slice(-8))||`TXN-${Date.now()}`,o=n?(e==null?void 0:e.completedAt)||(e==null?void 0:e.createdAt)||new Date:(e==null?void 0:e.createdAt)||new Date,c=n?((y=e==null?void 0:e.user)==null?void 0:y.name)||(e==null?void 0:e.customerName)||"Customer":((N=(v=e==null?void 0:e.partner)==null?void 0:v.profile)==null?void 0:N.name)||(e==null?void 0:e.partnerName)||"Partner",d=n?((S=e==null?void 0:e.user)==null?void 0:S.phone)||(e==null?void 0:e.customerPhone)||"N/A":((k=e==null?void 0:e.partner)==null?void 0:k.phone)||"N/A",u=n?((C=e==null?void 0:e.subService)==null?void 0:C.name)||(e==null?void 0:e.serviceName)||((P=e==null?void 0:e.service)==null?void 0:P.name)||"Service":null,m=n?(e==null?void 0:e.amount)||0:((A=(_=e==null?void 0:e.metadata)==null?void 0:_.priceBreakdown)==null?void 0:A.totalAmount)||(e==null?void 0:e.amount)||0,x=n?(e==null?void 0:e.status)||"pending":(e==null?void 0:e.status)||"success",h=n?(e==null?void 0:e.paymentMode)||"cash":null,p=n?(e==null?void 0:e.location)||{}:null,f=i?(e==null?void 0:e.description)||"Transaction":u,b=async()=>{var L;const F=(L=a.current)==null?void 0:L.querySelector(".invoice-logo-img");let X="";if(F&&F.src)try{if(F.complete&&F.naturalWidth>0){const q=document.createElement("canvas");q.width=F.naturalWidth||60,q.height=F.naturalHeight||60,q.getContext("2d").drawImage(F,0,0),X=q.toDataURL("image/png")}else{const q=new Image;q.crossOrigin="anonymous",await new Promise((se,R)=>{q.onload=()=>{const T=document.createElement("canvas");T.width=q.width,T.height=q.height,T.getContext("2d").drawImage(q,0,0),X=T.toDataURL("image/png"),se()},q.onerror=()=>{X=F.src.startsWith("http")?F.src:`${window.location.origin}${F.src}`,se()},q.src=F.src.startsWith("http")?F.src:`${window.location.origin}${F.src}`})}}catch(q){console.error("Error converting logo:",q),F.src&&(X=F.src.startsWith("http")?F.src:`${window.location.origin}${F.src}`)}const ce=window.open("","_blank");let he=a.current.innerHTML;X&&(he=he.replace(/<img[^>]*class="invoice-logo-img"[^>]*>/,`<img src="${X}" alt="NEXO Logo" style="width: auto; height: 120px; object-fit: contain; display: block;" />`)),ce.document.write(`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Invoice - ${l}</title>
          <style>
            @media print {
              @page {
                size: A4;
                margin: 20mm;
              }
              body {
                margin: 0;
                padding: 0;
              }
              .no-print {
                display: none !important;
              }
            }
            * {
              margin: 0;
              padding: 0;
              box-sizing: border-box;
            }
            body {
              font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
              background: white;
              color: #1a202c;
              padding: 40px;
            }
            .invoice-container {
              max-width: 800px;
              margin: 0 auto;
              background: white;
            }
            .invoice-header {
              border-bottom: 3px solid #214A73;
              padding-bottom: 30px;
              margin-bottom: 30px;
            }
            .invoice-header-top {
              display: flex;
              justify-content: space-between;
              align-items: flex-start;
              margin-bottom: 20px;
            }
            .invoice-logo-container {
              display: flex;
              align-items: center;
            }
            .invoice-logo-box {
              width: auto;
              height: 120px;
              border-radius: 8px;
              display: flex;
              align-items: center;
              justify-content: center;
              overflow: hidden;
              padding: 10px;
            }
            .invoice-logo-img {
              width: auto;
              height: 100%;
              object-fit: contain;
              display: block;
            }
            img.invoice-logo-img {
              max-width: none;
              max-height: 120px;
            }
            .invoice-number {
              text-align: right;
            }
            .invoice-number h1 {
              font-size: 28px;
              color: #214A73;
              margin-bottom: 5px;
            }
            .invoice-number p {
              color: #718096;
              font-size: 14px;
            }
            .invoice-info {
              display: grid;
              grid-template-columns: 1fr 1fr;
              gap: 40px;
              margin-bottom: 30px;
            }
            .info-section h3 {
              color: #214A73;
              font-size: 14px;
              text-transform: uppercase;
              letter-spacing: 1px;
              margin-bottom: 15px;
              padding-bottom: 8px;
              border-bottom: 2px solid #e2e8f0;
            }
            .info-section p {
              color: #4a5568;
              margin-bottom: 8px;
              font-size: 14px;
            }
            .invoice-items {
              margin: 30px 0;
            }
            .invoice-items h3 {
              color: #214A73;
              font-size: 14px;
              text-transform: uppercase;
              letter-spacing: 1px;
              margin-bottom: 15px;
              padding-bottom: 8px;
              border-bottom: 2px solid #e2e8f0;
            }
            .items-table {
              width: 100%;
              border-collapse: collapse;
              margin-bottom: 20px;
            }
            .items-table thead {
              background: #f7fafc;
            }
            .items-table th {
              padding: 12px;
              text-align: left;
              color: #214A73;
              font-weight: 600;
              font-size: 12px;
              text-transform: uppercase;
              letter-spacing: 0.5px;
            }
            .items-table td {
              padding: 15px 12px;
              border-bottom: 1px solid #e2e8f0;
              color: #2d3748;
            }
            .items-table tbody tr:last-child td {
              border-bottom: none;
            }
            .invoice-total {
              margin-top: 20px;
              text-align: right;
            }
            .total-row {
              display: flex;
              justify-content: flex-end;
              margin-bottom: 10px;
              padding: 8px 0;
            }
            .total-label {
              width: 200px;
              text-align: right;
              color: #4a5568;
              font-size: 14px;
            }
            .total-value {
              width: 150px;
              text-align: right;
              color: #1a202c;
              font-weight: 600;
              font-size: 14px;
            }
            .total-row.grand-total {
              border-top: 2px solid #214A73;
              padding-top: 15px;
              margin-top: 15px;
            }
            .total-row.grand-total .total-label,
            .total-row.grand-total .total-value {
              font-size: 18px;
              font-weight: 700;
              color: #214A73;
            }
            .invoice-footer {
              margin-top: 50px;
              padding-top: 30px;
              border-top: 2px solid #e2e8f0;
              text-align: center;
              color: #718096;
              font-size: 12px;
            }
            .status-badge {
              display: inline-block;
              padding: 6px 12px;
              border-radius: 6px;
              font-size: 12px;
              font-weight: 600;
              text-transform: uppercase;
            }
            .status-completed {
              background: #c6f6d5;
              color: #22543d;
            }
            .status-success {
              background: #c6f6d5;
              color: #22543d;
            }
            .status-pending {
              background: #feebc8;
              color: #7c2d12;
            }
            .status-in_progress {
              background: #bee3f8;
              color: #2c5282;
            }
          </style>
        </head>
        <body>
          ${he}
        </body>
      </html>
    `),ce.document.close(),setTimeout(()=>{ce.print()},250)};return t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-4xl w-full my-8",children:[t.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Invoice"}),t.jsxs("p",{className:"text-sm text-slate-600 mt-1",children:["#",l]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("button",{onClick:b,className:"px-4 py-2 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition flex items-center gap-2",children:[t.jsx(X0,{})," Print"]}),t.jsx("button",{onClick:s,className:"p-2 hover:bg-slate-100 rounded-lg transition",children:t.jsx(mt,{className:"text-xl"})})]})]}),t.jsx("div",{className:"p-8 overflow-y-auto max-h-[calc(100vh-200px)] bg-gradient-to-br from-slate-50 to-white",children:t.jsxs("div",{ref:a,className:"invoice-container bg-white rounded-lg shadow-lg p-8",children:[t.jsxs("div",{className:"invoice-header",children:[t.jsxs("div",{className:"invoice-header-top",children:[t.jsx("div",{className:"invoice-logo-container",children:t.jsx("div",{className:"invoice-logo-box",children:t.jsx("img",{src:"/logo.png",alt:"NEXO Logo",className:"invoice-logo-img"})})}),t.jsxs("div",{className:"invoice-number",children:[t.jsx("h1",{children:"INVOICE"}),t.jsxs("p",{children:["#",l]})]})]}),t.jsxs("div",{className:"invoice-info",children:[t.jsxs("div",{className:"info-section",children:[t.jsx("h3",{children:"Bill To"}),t.jsx("p",{className:"font-semibold text-slate-800",children:c}),t.jsx("p",{children:d}),p&&p.address&&t.jsx("p",{className:"mt-2 text-sm",children:p.address}),p&&p.city&&t.jsxs("p",{className:"text-sm",children:[p.city," - ",p.pincode]})]}),t.jsxs("div",{className:"info-section",children:[t.jsx("h3",{children:"Invoice Details"}),t.jsxs("p",{children:[t.jsx("strong",{children:"Date:"})," ",new Date(o).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"})]}),n&&(e==null?void 0:e.scheduledDate)&&t.jsxs("p",{children:[t.jsx("strong",{children:"Service Date:"})," ",new Date(e.scheduledDate).toLocaleDateString("en-IN")]}),n&&(e==null?void 0:e.scheduledTime)&&t.jsxs("p",{children:[t.jsx("strong",{children:"Service Time:"})," ",e.scheduledTime]}),t.jsx("p",{className:"mt-2",children:t.jsx("span",{className:`status-badge ${x==="completed"||x==="success"?"status-completed":x==="pending"?"status-pending":x==="in_progress"?"status-in_progress":"status-pending"}`,children:x})})]})]})]}),t.jsxs("div",{className:"invoice-items",children:[t.jsx("h3",{children:"Items"}),t.jsxs("table",{className:"items-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Description"}),t.jsx("th",{style:{textAlign:"right"},children:"Amount"})]})}),t.jsx("tbody",{children:t.jsxs("tr",{children:[t.jsxs("td",{children:[t.jsx("div",{className:"font-semibold text-slate-800",children:f}),n&&u&&t.jsx("div",{className:"text-sm text-slate-600 mt-1",children:u}),i&&(e==null?void 0:e.reference)&&t.jsxs("div",{className:"text-sm text-slate-600 mt-1",children:["Ref: ",e.reference]}),n&&h&&t.jsxs("div",{className:"text-sm text-slate-600 mt-1",children:["Payment: ",h]})]}),t.jsxs("td",{style:{textAlign:"right",fontWeight:600},children:["",m.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})})]})]}),t.jsxs("div",{className:"invoice-total",children:[i&&((D=e==null?void 0:e.metadata)==null?void 0:D.priceBreakdown)&&t.jsxs(t.Fragment,{children:[e.metadata.priceBreakdown.registrationFee>0&&t.jsxs("div",{className:"total-row",children:[t.jsx("div",{className:"total-label",children:"Registration Fee:"}),t.jsxs("div",{className:"total-value",children:["",e.metadata.priceBreakdown.registrationFee.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),e.metadata.priceBreakdown.securityDeposit>0&&t.jsxs("div",{className:"total-row",children:[t.jsx("div",{className:"total-label",children:"Security Deposit:"}),t.jsxs("div",{className:"total-value",children:["",e.metadata.priceBreakdown.securityDeposit.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),e.metadata.priceBreakdown.toolkitPrice>0&&t.jsxs("div",{className:"total-row",children:[t.jsx("div",{className:"total-label",children:"Toolkit:"}),t.jsxs("div",{className:"total-value",children:["",e.metadata.priceBreakdown.toolkitPrice.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),e.metadata.priceBreakdown.mgPlanFee>0&&t.jsxs("div",{className:"total-row",children:[t.jsx("div",{className:"total-label",children:"MG Plan Fee:"}),t.jsxs("div",{className:"total-value",children:["",e.metadata.priceBreakdown.mgPlanFee.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),e.metadata.priceBreakdown.leadFee>0&&t.jsxs("div",{className:"total-row",children:[t.jsx("div",{className:"total-label",children:"Lead Fee:"}),t.jsxs("div",{className:"total-value",children:["",e.metadata.priceBreakdown.leadFee.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]}),t.jsxs("div",{className:"total-row",children:[t.jsx("div",{className:"total-label",children:"Subtotal:"}),t.jsxs("div",{className:"total-value",children:["",m.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),t.jsxs("div",{className:"total-row",children:[t.jsx("div",{className:"total-label",children:"Tax:"}),t.jsx("div",{className:"total-value",children:"0.00"})]}),t.jsxs("div",{className:"total-row grand-total",children:[t.jsx("div",{className:"total-label",children:"Total:"}),t.jsxs("div",{className:"total-value",children:["",m.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]}),t.jsxs("div",{className:"invoice-footer",children:[t.jsx("p",{className:"mb-2",children:t.jsx("strong",{children:"Thank you for your business!"})}),t.jsx("p",{children:"This is a computer-generated invoice and does not require a signature."}),t.jsx("p",{className:"mt-4",children:"For support, contact us at support@nexo.works"}),t.jsx("p",{className:"mt-2",children:"www.nexo.works"})]})]})})]})})},g6e=()=>{const{token:e}=wr(),[r,s]=g.useState({feeType:"all",status:"all",source:"all",startDate:"",endDate:""}),[a,n]=g.useState(1),[i,l]=g.useState("individual"),[o,c]=g.useState(null),d=g.useMemo(()=>{const A={page:a,limit:r.feeType!=="all"||r.status!=="all"||r.startDate||r.endDate?100:50};return r.feeType&&r.feeType!=="all"&&(A.feeType=r.feeType),r.status&&r.status!=="all"&&(A.status=r.status),r.startDate&&(A.startDate=r.startDate),r.endDate&&(A.endDate=r.endDate),A},[r.feeType,r.status,r.startDate,r.endDate,a]),u=g.useMemo(()=>JSON.stringify(d),[d]),m=g.useMemo(()=>{const A={...d};return D=>He.fetchFeeTransactions(D,A)},[u]),{data:x,isLoading:h,error:p,refresh:f}=cr(m,[u]),b=Array.isArray(x==null?void 0:x.data)?x.data:[],j=(x==null?void 0:x.stats)||{},w=(x==null?void 0:x.pagination)||{},y=b&&b.length>0,v=g.useMemo(()=>{if(i!=="grouped")return{};const A={};return b.forEach(D=>{const F=D.feeType||"other";A[F]||(A[F]={feeType:F,transactions:[],totalAmount:0,count:0,successCount:0,successAmount:0}),A[F].transactions.push(D),A[F].totalAmount+=D.amount||0,A[F].count+=1,D.status==="success"&&(A[F].successCount+=1,A[F].successAmount+=D.amount||0)}),A},[b,i]),N=(A,D)=>{s(F=>{const X={...F,[A]:D};return A==="startDate"&&D&&X.endDate&&new Date(D)>new Date(X.endDate)&&(X.endDate=""),A==="endDate"&&D&&X.startDate&&new Date(D)<new Date(X.startDate)&&(X.startDate=""),X}),n(1)},S=()=>{s({feeType:"all",status:"all",source:"all",startDate:"",endDate:""}),n(1)},k=A=>{switch(A){case"registration":return"bg-blue-500/10 text-blue-600";case"mg_plan":return"bg-purple-500/10 text-purple-600";case"security_deposit":return"bg-yellow-500/10 text-yellow-600";case"toolkit":return"bg-green-500/10 text-green-600";case"lead_fee":return"bg-orange-500/10 text-orange-600";case"amc_plan":return"bg-indigo-500/10 text-indigo-600";case"subscription":return"bg-pink-500/10 text-pink-600";case"wallet_recharge":return"bg-teal-500/10 text-teal-600";default:return"bg-slate-500/10 text-slate-600"}},C=(A,D)=>{const F=(D==null?void 0:D.manualApproval)===!0;switch(A){case"partner":return{color:"bg-blue-500/10 text-blue-600",label:"Partner Payment"};case"user":return{color:"bg-green-500/10 text-green-600",label:"User Payment"};case"admin":return F?{color:"bg-orange-500/10 text-orange-600",label:"Manual Approval",icon:""}:{color:"bg-purple-500/10 text-purple-600",label:"Admin Entry"};default:return{color:"bg-slate-500/10 text-slate-600",label:"Unknown"}}},P=A=>{switch(A){case"success":return"bg-emerald-500/10 text-emerald-600";case"failed":return"bg-rose-500/10 text-rose-600";case"pending":return"bg-yellow-500/10 text-yellow-600";case"refunded":return"bg-blue-500/10 text-blue-600";default:return"bg-slate-500/10 text-slate-600"}},_=A=>(A==null?void 0:A.replace("_"," ").replace(/\b\w/g,D=>D.toUpperCase()))||"Other";return t.jsxs("div",{children:[t.jsx(gs,{title:"Fee Transactions",subtitle:"View and manage all fee transactions including registration fees, MG plans, security deposits, and toolkit purchases.",actions:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("div",{className:"flex items-center gap-2 bg-slate-100 rounded-lg p-1",children:[t.jsxs("button",{onClick:()=>l("individual"),className:`px-3 py-1.5 rounded-md text-sm font-semibold transition flex items-center gap-2 ${i==="individual"?"bg-white text-primary shadow-sm":"text-slate-600 hover:text-slate-900"}`,children:[t.jsx(iZ,{className:"w-4 h-4"}),"Individual"]}),t.jsxs("button",{onClick:()=>l("grouped"),className:`px-3 py-1.5 rounded-md text-sm font-semibold transition flex items-center gap-2 ${i==="grouped"?"bg-white text-primary shadow-sm":"text-slate-600 hover:text-slate-900"}`,children:[t.jsx(yo,{className:"w-4 h-4"}),"Grouped"]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("button",{onClick:()=>{const A=b.map(D=>{var F,X,ce,he,L,q,se,R,T,O,K,U,ee,M,H;return{"Date & Time":new Date(D.createdAt).toLocaleString("en-IN"),Name:((F=D.partner)==null?void 0:F.name)||((X=D.user)==null?void 0:X.name)||((ce=D.metadata)==null?void 0:ce.partnerName)||((he=D.metadata)==null?void 0:he.userName)||"Unknown",Phone:((L=D.partner)==null?void 0:L.phone)||((q=D.user)==null?void 0:q.phone)||((se=D.metadata)==null?void 0:se.partnerPhone)||((R=D.metadata)==null?void 0:R.userPhone)||D.partnerId||D.userId||"N/A",Source:C(D.source||((T=D.metadata)==null?void 0:T.source)||"partner",D.metadata).label,"Manual Approval":(O=D.metadata)!=null&&O.manualApproval?"Yes":"No","Approved By":((K=D.metadata)==null?void 0:K.approvedBy)||"N/A","Amount ()":D.amount||0,Status:((U=D.status)==null?void 0:U.charAt(0).toUpperCase())+((ee=D.status)==null?void 0:ee.slice(1))||"Unknown","Payment Method":((M=D.paymentMethod)==null?void 0:M.charAt(0).toUpperCase())+((H=D.paymentMethod)==null?void 0:H.slice(1))||"N/A","Transaction ID":D.transactionId||"N/A",Description:D.description||"N/A","Fee Type":D.feeType||"N/A"}});Bd(A,[{header:"Date & Time",accessor:"Date & Time"},{header:"Name",accessor:"Name"},{header:"Phone",accessor:"Phone"},{header:"Source",accessor:"Source"},{header:"Manual Approval",accessor:"Manual Approval"},{header:"Approved By",accessor:"Approved By"},{header:"Amount ()",accessor:"Amount ()"},{header:"Status",accessor:"Status"},{header:"Payment Method",accessor:"Payment Method"},{header:"Transaction ID",accessor:"Transaction ID"},{header:"Description",accessor:"Description"},{header:"Fee Type",accessor:"Fee Type"}],"Fee_Transactions","Transactions",{columnWidths:[20,20,15,12,12,15,15,12,15,25,30,15]})},disabled:!y,className:"px-4 py-2 rounded-xl border border-slate-300 text-slate-700 text-sm font-semibold hover:bg-slate-50 transition inline-flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",title:"Export to Excel",children:[t.jsx(kn,{})," Export Excel"]}),t.jsxs("button",{onClick:f,className:"px-4 py-2 rounded-xl border border-slate-300 text-slate-700 text-sm font-semibold hover:bg-slate-50 transition inline-flex items-center gap-2",children:[t.jsx(Dt,{})," Refresh"]})]})]})}),!h&&t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 mb-6",children:[t.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-5 shadow-sm",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("p",{className:"text-sm text-slate-500",children:"Total Amount"}),t.jsx(hs,{className:"w-5 h-5 text-slate-400"})]}),t.jsxs("p",{className:"text-2xl font-bold text-slate-900",children:["",(j.totalAmount||0).toLocaleString("en-IN")]}),t.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[j.totalCount||0," transaction",(j.totalCount||0)!==1?"s":""]})]}),t.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-5 shadow-sm",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("p",{className:"text-sm text-slate-500",children:"Successful"}),t.jsx("div",{className:"w-5 h-5 rounded-full bg-emerald-500/20 flex items-center justify-center",children:t.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500 rounded-full"})})]}),t.jsxs("p",{className:"text-2xl font-bold text-emerald-600",children:["",(j.successAmount||0).toLocaleString("en-IN")]}),t.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[j.successCount||0," transaction",(j.successCount||0)!==1?"s":""]})]}),t.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-5 shadow-sm",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("p",{className:"text-sm text-slate-500",children:"Manual Approvals"}),t.jsx("div",{className:"w-5 h-5 rounded-full bg-orange-500/20 flex items-center justify-center",children:t.jsx("span",{className:"text-xs",children:""})})]}),t.jsx("p",{className:"text-2xl font-bold text-orange-600",children:b.filter(A=>{var D;return(D=A.metadata)==null?void 0:D.manualApproval}).length}),t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Admin approved"})]}),t.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-5 shadow-sm",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("p",{className:"text-sm text-slate-500",children:"Failed"}),t.jsx("div",{className:"w-5 h-5 rounded-full bg-rose-500/20 flex items-center justify-center",children:t.jsx("div",{className:"w-2 h-2 rounded-full bg-rose-500 rounded-full"})})]}),t.jsx("p",{className:"text-2xl font-bold text-rose-600",children:j.failedCount||0}),t.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Failed transaction",(j.failedCount||0)!==1?"s":""]})]}),t.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-5 shadow-sm",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("p",{className:"text-sm text-slate-500",children:"Success Rate"}),t.jsx(Dt,{className:"w-5 h-5 text-slate-400"})]}),t.jsxs("p",{className:"text-2xl font-bold text-slate-900",children:[(j.totalCount||0)>0?((j.successCount||0)/(j.totalCount||1)*100).toFixed(1):0,"%"]}),t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Payment success rate"})]})]}),t.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-5 shadow-sm mb-6",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[t.jsx(Td,{className:"w-5 h-5 text-slate-500"}),t.jsx("h3",{className:"text-sm font-semibold text-slate-700",children:"Filters"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-2",children:"Fee Type"}),t.jsxs("select",{value:r.feeType,onChange:A=>N("feeType",A.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent text-sm",children:[t.jsx("option",{value:"all",children:"All Types"}),t.jsx("option",{value:"registration",children:"Registration"}),t.jsx("option",{value:"security_deposit",children:"Security Deposit"}),t.jsx("option",{value:"toolkit",children:"Toolkit"}),t.jsx("option",{value:"mg_plan",children:"MG Plan"}),t.jsx("option",{value:"lead_fee",children:"Lead Fee"}),t.jsx("option",{value:"amc_plan",children:"AMC Plan"}),t.jsx("option",{value:"subscription",children:"Subscription"}),t.jsx("option",{value:"wallet_recharge",children:"Wallet Recharge"}),t.jsx("option",{value:"other",children:"Other"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-2",children:"Transaction Source"}),t.jsxs("select",{value:r.source,onChange:A=>N("source",A.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent text-sm",children:[t.jsx("option",{value:"all",children:"All Sources"}),t.jsx("option",{value:"partner",children:"Partner Payments"}),t.jsx("option",{value:"user",children:"User Payments"}),t.jsx("option",{value:"admin",children:"Admin Manual Entry"}),t.jsx("option",{value:"manual_approval",children:"Manual Approvals"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-2",children:"Status"}),t.jsxs("select",{value:r.status,onChange:A=>N("status",A.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent text-sm",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"success",children:"Success"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"failed",children:"Failed"}),t.jsx("option",{value:"refunded",children:"Refunded"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-2",children:"Date Range"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"date",value:r.startDate,onChange:A=>N("startDate",A.target.value),max:r.endDate||void 0,className:"flex-1 px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent text-sm",placeholder:"Start Date"}),t.jsx("input",{type:"date",value:r.endDate,onChange:A=>N("endDate",A.target.value),min:r.startDate||void 0,className:"flex-1 px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent text-sm",placeholder:"End Date"})]}),r.startDate&&r.endDate&&new Date(r.startDate)>new Date(r.endDate)&&t.jsx("p",{className:"text-xs text-rose-600 mt-1",children:"End date must be after start date"})]})]}),(r.feeType!=="all"||r.status!=="all"||r.source!=="all"||r.startDate||r.endDate)&&t.jsx("div",{className:"mt-4 flex justify-end",children:t.jsxs("button",{onClick:S,className:"px-4 py-2 text-sm font-semibold text-slate-600 hover:text-slate-900 transition inline-flex items-center gap-2",children:[t.jsx(mt,{className:"w-4 h-4"}),"Clear Filters"]})})]}),t.jsx("div",{className:"bg-white border border-slate-200 rounded-xl shadow-sm overflow-hidden",children:h?t.jsx("div",{className:"flex items-center justify-center py-16",children:t.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):p?t.jsxs("div",{className:"bg-rose-50 border border-rose-200 text-rose-600 px-6 py-4 m-6 rounded-lg",children:[t.jsx("p",{className:"font-semibold mb-1",children:"Error loading transactions"}),t.jsx("p",{className:"text-sm",children:p}),t.jsx("button",{onClick:f,className:"mt-3 px-4 py-2 bg-rose-600 text-white rounded-lg text-sm font-semibold hover:bg-rose-700 transition",children:"Retry"})]}):y?i==="grouped"?t.jsx("div",{className:"divide-y divide-slate-200",children:!y||Object.keys(v).length===0?t.jsxs("div",{className:"text-center py-16",children:[t.jsx(hs,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),t.jsx("p",{className:"text-slate-500 font-medium text-lg mb-2",children:"No transactions found"}),t.jsx("p",{className:"text-sm text-slate-400 mb-4",children:r.feeType!=="all"||r.status!=="all"||r.startDate||r.endDate?"No transactions match your current filters. Try adjusting your filters or clear them to see all transactions.":"There are no fee transactions in the system yet."}),(r.feeType!=="all"||r.status!=="all"||r.startDate||r.endDate)&&t.jsxs("button",{onClick:S,className:"px-4 py-2 bg-primary text-white rounded-lg text-sm font-semibold hover:bg-primary-dark transition inline-flex items-center gap-2",children:[t.jsx(mt,{className:"w-4 h-4"}),"Clear All Filters"]})]}):Object.values(v).map(A=>t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4 pb-4 border-b border-slate-200",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("span",{className:`inline-flex items-center px-3 py-1.5 rounded-lg text-sm font-semibold ${k(A.feeType)}`,children:_(A.feeType)}),t.jsxs("span",{className:"text-sm text-slate-500",children:[A.count," transaction",A.count!==1?"s":""]})]}),t.jsxs("div",{className:"flex items-center gap-6 text-sm",children:[t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-slate-500",children:"Total Amount"}),t.jsxs("p",{className:"font-bold text-slate-900",children:["",A.totalAmount.toLocaleString("en-IN")]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-slate-500",children:"Successful"}),t.jsxs("p",{className:"font-bold text-emerald-600",children:["",A.successAmount.toLocaleString("en-IN")]})]})]})]}),A.transactions.length===0?t.jsx("div",{className:"text-center py-8 text-slate-500 text-sm",children:"No transactions in this group"}):t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-slate-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-slate-600 uppercase",children:"Date & Time"}),t.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-slate-600 uppercase",children:"Partner/User"}),t.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-slate-600 uppercase",children:"Source"}),t.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-slate-600 uppercase",children:"Amount"}),t.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-slate-600 uppercase",children:"Status"}),t.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-slate-600 uppercase",children:"Payment Method"}),t.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-slate-600 uppercase",children:"Transaction ID"}),t.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-slate-600 uppercase",children:"Description"}),t.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-slate-600 uppercase",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-slate-100",children:A.transactions.map(D=>{var F,X,ce,he,L,q,se,R,T,O,K,U,ee,M,H;return t.jsxs("tr",{className:"hover:bg-slate-50 transition",children:[t.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-700",children:new Date(D.createdAt).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("div",{className:"text-sm",children:[t.jsx("p",{className:"font-semibold text-slate-900",children:((F=D.partner)==null?void 0:F.name)||((X=D.user)==null?void 0:X.name)||((ce=D.metadata)==null?void 0:ce.partnerName)||((he=D.metadata)==null?void 0:he.userName)||"Unknown"}),t.jsx("p",{className:"text-xs text-slate-500",children:((L=D.partner)==null?void 0:L.phone)||((q=D.user)==null?void 0:q.phone)||((se=D.metadata)==null?void 0:se.partnerPhone)||((R=D.metadata)==null?void 0:R.userPhone)||D.partnerId||D.userId||"N/A"})]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:(()=>{var Y,ie;const B=C(D.source||((Y=D.metadata)==null?void 0:Y.source)||"partner",D.metadata);return t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsxs("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold ${B.color}`,children:[B.icon&&t.jsx("span",{className:"mr-1",children:B.icon}),B.label]}),((ie=D.metadata)==null?void 0:ie.manualApproval)&&t.jsxs("span",{className:"text-xs text-orange-600 font-medium",children:["By: ",D.metadata.approvedBy||"Admin"]})]})})()}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("p",{className:"text-sm font-semibold text-slate-900",children:["",((T=D.amount)==null?void 0:T.toLocaleString("en-IN"))||0]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold ${P(D.status)}`,children:((O=D.status)==null?void 0:O.charAt(0).toUpperCase())+((K=D.status)==null?void 0:K.slice(1))||"Unknown"})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-600",children:((U=D.paymentMethod)==null?void 0:U.charAt(0).toUpperCase())+((ee=D.paymentMethod)==null?void 0:ee.slice(1))||"N/A"}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsx("div",{className:"text-xs text-slate-500 font-mono",children:D.transactionId||"N/A"})}),t.jsx("td",{className:"px-4 py-3 text-sm text-slate-600 max-w-xs",children:t.jsxs("div",{children:[t.jsx("p",{className:"truncate",children:D.description||"N/A"}),((M=D.metadata)==null?void 0:M.manualApproval)&&t.jsxs("div",{className:"mt-1 text-xs bg-orange-50 border border-orange-200 rounded p-2",children:[t.jsx("p",{className:"font-semibold text-orange-700 mb-1",children:" Manual Approval"}),t.jsxs("div",{className:"space-y-0.5 text-orange-600",children:[t.jsxs("p",{children:["By: ",D.metadata.approvedBy]}),t.jsxs("p",{children:["Method: ",D.metadata.paymentMethod||"Manual"]})]})]}),((H=D.metadata)==null?void 0:H.priceBreakdown)&&t.jsxs("details",{className:"mt-1",children:[t.jsx("summary",{className:"text-xs text-primary cursor-pointer hover:underline",children:"View Payment Breakdown"}),t.jsxs("div",{className:"mt-1 text-xs text-slate-500 space-y-0.5 pl-2 bg-slate-50 p-2 rounded",children:[D.metadata.priceBreakdown.registrationFee>0&&t.jsxs("p",{className:r.feeType==="registration"?"font-semibold text-primary bg-primary/10 px-2 py-1 rounded":"",children:["Registration Fee: ",D.metadata.priceBreakdown.registrationFee.toLocaleString("en-IN"),r.feeType==="registration"&&" (Current Filter)"]}),D.metadata.priceBreakdown.securityDeposit>0&&t.jsxs("p",{className:r.feeType==="security_deposit"?"font-semibold text-primary bg-primary/10 px-2 py-1 rounded":"",children:["Security Deposit: ",D.metadata.priceBreakdown.securityDeposit.toLocaleString("en-IN"),r.feeType==="security_deposit"&&" (Current Filter)"]}),D.metadata.priceBreakdown.toolkitPrice>0&&t.jsxs("p",{className:r.feeType==="toolkit"?"font-semibold text-primary bg-primary/10 px-2 py-1 rounded":"",children:["Toolkit: ",D.metadata.priceBreakdown.toolkitPrice.toLocaleString("en-IN"),r.feeType==="toolkit"&&" (Current Filter)"]}),D.metadata.priceBreakdown.totalAmount>0&&t.jsxs("p",{className:"font-semibold text-slate-700 border-t border-slate-200 pt-1 mt-1",children:["Total Paid: ",D.metadata.priceBreakdown.totalAmount.toLocaleString("en-IN")]})]})]})]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("button",{onClick:()=>c({data:D,type:"transaction"}),className:"px-3 py-1.5 bg-primary/10 text-primary rounded-lg text-sm font-semibold hover:bg-primary/20 transition flex items-center gap-2",children:[t.jsx(Yt,{})," Invoice"]})})]},D._id)})})]})})]},A.feeType))}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Date & Time"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Partner/User"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Fee Type"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Source"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Amount"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Status"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Payment Method"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Transaction ID"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Description"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-slate-200",children:b.map(A=>{var D,F,X,ce,he,L,q,se,R,T,O,K,U,ee,M;return t.jsxs("tr",{className:"hover:bg-slate-50 transition",children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-700",children:new Date(A.createdAt).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("div",{className:"text-sm",children:[t.jsx("p",{className:"font-semibold text-slate-900",children:((D=A.partner)==null?void 0:D.name)||((F=A.user)==null?void 0:F.name)||((X=A.metadata)==null?void 0:X.partnerName)||((ce=A.metadata)==null?void 0:ce.userName)||"Unknown"}),t.jsx("p",{className:"text-xs text-slate-500",children:((he=A.partner)==null?void 0:he.phone)||((L=A.user)==null?void 0:L.phone)||((q=A.metadata)==null?void 0:q.partnerPhone)||((se=A.metadata)==null?void 0:se.userPhone)||A.partnerId||A.userId||"N/A"})]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold ${k(A.feeType)}`,children:_(A.feeType)})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:(()=>{var B,Y;const H=C(A.source||((B=A.metadata)==null?void 0:B.source)||"partner",A.metadata);return t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsxs("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold ${H.color}`,children:[H.icon&&t.jsx("span",{className:"mr-1",children:H.icon}),H.label]}),((Y=A.metadata)==null?void 0:Y.manualApproval)&&t.jsxs("span",{className:"text-xs text-orange-600 font-medium",children:["By: ",A.metadata.approvedBy||"Admin"]})]})})()}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("p",{className:"text-sm font-semibold text-slate-900",children:["",((R=A.amount)==null?void 0:R.toLocaleString("en-IN"))||0]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold ${P(A.status)}`,children:((T=A.status)==null?void 0:T.charAt(0).toUpperCase())+((O=A.status)==null?void 0:O.slice(1))||"Unknown"})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-600",children:((K=A.paymentMethod)==null?void 0:K.charAt(0).toUpperCase())+((U=A.paymentMethod)==null?void 0:U.slice(1))||"N/A"}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("div",{className:"text-xs text-slate-500 font-mono",children:A.transactionId||"N/A"})}),t.jsx("td",{className:"px-6 py-4 text-sm text-slate-600 max-w-xs",children:t.jsxs("div",{children:[t.jsx("p",{className:"truncate",children:A.description||"N/A"}),((ee=A.metadata)==null?void 0:ee.manualApproval)&&t.jsxs("div",{className:"mt-1 text-xs bg-orange-50 border border-orange-200 rounded p-2",children:[t.jsx("p",{className:"font-semibold text-orange-700 mb-1",children:" Manual Approval Details"}),t.jsxs("div",{className:"space-y-0.5 text-orange-600",children:[t.jsxs("p",{children:["Approved by: ",A.metadata.approvedBy]}),t.jsxs("p",{children:["Date: ",new Date(A.metadata.approvedAt).toLocaleDateString("en-IN")]}),t.jsxs("p",{children:["Payment Method: ",A.metadata.paymentMethod||"Manual"]}),A.metadata.originalPayId&&t.jsxs("p",{children:["Reference: ",A.metadata.originalPayId]})]})]}),((M=A.metadata)==null?void 0:M.priceBreakdown)&&t.jsxs("details",{className:"mt-1",children:[t.jsx("summary",{className:"text-xs text-primary cursor-pointer hover:underline",children:"View Payment Breakdown"}),t.jsxs("div",{className:"mt-1 text-xs text-slate-500 space-y-0.5 pl-2 bg-slate-50 p-2 rounded",children:[A.metadata.priceBreakdown.registrationFee>0&&t.jsxs("p",{className:r.feeType==="registration"?"font-semibold text-primary bg-primary/10 px-2 py-1 rounded":"",children:["Registration Fee: ",A.metadata.priceBreakdown.registrationFee.toLocaleString("en-IN"),r.feeType==="registration"&&" (Current Filter)"]}),A.metadata.priceBreakdown.securityDeposit>0&&t.jsxs("p",{className:r.feeType==="security_deposit"?"font-semibold text-primary bg-primary/10 px-2 py-1 rounded":"",children:["Security Deposit: ",A.metadata.priceBreakdown.securityDeposit.toLocaleString("en-IN"),r.feeType==="security_deposit"&&" (Current Filter)"]}),A.metadata.priceBreakdown.toolkitPrice>0&&t.jsxs("p",{className:r.feeType==="toolkit"?"font-semibold text-primary bg-primary/10 px-2 py-1 rounded":"",children:["Toolkit: ",A.metadata.priceBreakdown.toolkitPrice.toLocaleString("en-IN"),r.feeType==="toolkit"&&" (Current Filter)"]}),A.metadata.priceBreakdown.totalAmount>0&&t.jsxs("p",{className:"font-semibold text-slate-700 border-t border-slate-200 pt-1 mt-1",children:["Total Paid: ",A.metadata.priceBreakdown.totalAmount.toLocaleString("en-IN")]})]})]})]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("button",{onClick:()=>c({data:A,type:"transaction"}),className:"px-3 py-1.5 bg-primary/10 text-primary rounded-lg text-sm font-semibold hover:bg-primary/20 transition flex items-center gap-2",children:[t.jsx(Yt,{})," Invoice"]})})]},A._id)})})]})}),w.pages>1&&t.jsxs("div",{className:"px-6 py-4 border-t border-slate-200 flex items-center justify-between",children:[t.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",(a-1)*(w.limit||20)+1," to"," ",Math.min(a*(w.limit||20),w.total)," of"," ",w.total," transactions"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>n(A=>Math.max(1,A-1)),disabled:a===1,className:"px-4 py-2 text-sm font-semibold text-slate-700 bg-white border border-slate-300 rounded-lg hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed transition",children:"Previous"}),t.jsxs("span",{className:"px-4 py-2 text-sm font-semibold text-slate-700",children:["Page ",a," of ",w.pages||1]}),t.jsx("button",{onClick:()=>n(A=>Math.min(w.pages||1,A+1)),disabled:a>=(w.pages||1),className:"px-4 py-2 text-sm font-semibold text-slate-700 bg-white border border-slate-300 rounded-lg hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed transition",children:"Next"})]})]})]}):t.jsxs("div",{className:"text-center py-16",children:[t.jsx(hs,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),t.jsx("p",{className:"text-slate-500 font-medium text-lg mb-2",children:"No transactions found"}),t.jsx("p",{className:"text-sm text-slate-400 mb-4",children:r.feeType!=="all"||r.status!=="all"||r.startDate||r.endDate?"No transactions match your current filters. Try adjusting your filters or clear them to see all transactions.":"There are no fee transactions in the system yet."}),(r.feeType!=="all"||r.status!=="all"||r.startDate||r.endDate)&&t.jsxs("button",{onClick:S,className:"px-4 py-2 bg-primary text-white rounded-lg text-sm font-semibold hover:bg-primary-dark transition inline-flex items-center gap-2",children:[t.jsx(mt,{className:"w-4 h-4"}),"Clear All Filters"]})]})}),o&&t.jsx(K5,{data:o.data,type:o.type,onClose:()=>c(null)})]})},y6e=[{emoji:"",name:"Tools"},{emoji:"",name:"Home"},{emoji:"",name:"Plumbing"},{emoji:"",name:"Electrical"},{emoji:"",name:"Cleaning"},{emoji:"",name:"Painting"},{emoji:"",name:"Carpentry"},{emoji:"",name:"Repair"},{emoji:"",name:"Gardening"},{emoji:"",name:"Automotive"},{emoji:"",name:"Tech"},{emoji:"",name:"Commercial"},{emoji:"",name:"Security"},{emoji:"",name:"AC/Heating"},{emoji:"",name:"Moving"},{emoji:"",name:"Maintenance"},{emoji:"",name:"Mobile"},{emoji:"",name:"Lighting"},{emoji:"",name:"Doors"},{emoji:"",name:"Windows"},{emoji:"",name:"Construction"},{emoji:"",name:"Fire Safety"},{emoji:"",name:"Water"},{emoji:"",name:"Internet"},{emoji:"",name:"TV/Media"},{emoji:"",name:"Appliances"},{emoji:"",name:"Protection"},{emoji:"",name:"Target"},{emoji:"",name:"Star"},{emoji:"",name:"Premium"},{emoji:"",name:"Gift"},{emoji:"",name:"Hot"},{emoji:"",name:"Sparkle"},{emoji:"",name:"Shining"},{emoji:"",name:"Event"},{emoji:"",name:"Medical"},{emoji:"",name:"Kitchen"},{emoji:"",name:"Furniture"},{emoji:"",name:"Bathroom"},{emoji:"",name:"Bedroom"},{emoji:"",name:"Package"},{emoji:"",name:"Design"},{emoji:"",name:"Photography"},{emoji:"",name:"Video"},{emoji:"",name:"Music"},{emoji:"",name:"Fitness"},{emoji:"",name:"Beauty"},{emoji:"",name:"Hair"},{emoji:"",name:"Nails"},{emoji:"",name:"Professional"},{emoji:"",name:"Education"},{emoji:"",name:"Learning"},{emoji:"",name:"Computer"},{emoji:"",name:"Keyboard"},{emoji:"",name:"Printer"},{emoji:"",name:"Phone"},{emoji:"",name:"Watch"},{emoji:"",name:"Audio"},{emoji:"",name:"Camera"},{emoji:"",name:"Gaming"},{emoji:"",name:"Bicycle"},{emoji:"",name:"Scooter"},{emoji:"",name:"Travel"},{emoji:"",name:"Hotel"},{emoji:"",name:"Food"},{emoji:"",name:"Coffee"},{emoji:"",name:"Bakery"},{emoji:"",name:"Restaurant"},{emoji:"",name:"Shopping"},{emoji:"",name:"Payment"},{emoji:"",name:"Bank"},{emoji:"",name:"Analytics"},{emoji:"",name:"Growth"},{emoji:"",name:"Business"},{emoji:"",name:"Partnership"},{emoji:"",name:"Global"},{emoji:"",name:"Location"},{emoji:"",name:"Map"},{emoji:"",name:"Time"},{emoji:"",name:"Calendar"},{emoji:"",name:"Check"},{emoji:"",name:"Cross"},{emoji:"",name:"Warning"},{emoji:"",name:"Info"},{emoji:"",name:"Search"},{emoji:"",name:"Chat"},{emoji:"",name:"Call"},{emoji:"",name:"Email"},{emoji:"",name:"Document"},{emoji:"",name:"Clipboard"},{emoji:"",name:"File"},{emoji:"",name:"Pages"},{emoji:"",name:"Bookmark"},{emoji:"",name:"Label"},{emoji:"",name:"Ticket"},{emoji:"",name:"Voucher"},{emoji:"",name:"Dice"},{emoji:"",name:"Casino"},{emoji:"",name:"Theater"},{emoji:"",name:"Art"},{emoji:"",name:"Frame"},{emoji:"",name:"Paintbrush"},{emoji:"",name:"Crayon"},{emoji:"",name:"Pencil"},{emoji:"",name:"Pen"},{emoji:"",name:"Ballpoint"},{emoji:"",name:"Fountain Pen"},{emoji:"",name:"Ruler"},{emoji:"",name:"Triangle"},{emoji:"",name:"Scissors"},{emoji:"",name:"Pin"},{emoji:"",name:"Pushpin"},{emoji:"",name:"Paperclip"},{emoji:"",name:"Linked Clips"},{emoji:"",name:"Straight Ruler"},{emoji:"",name:"Triangular Ruler"},{emoji:"",name:"Card Index"},{emoji:"",name:"Folder"},{emoji:"",name:"Open Folder"},{emoji:"",name:"Card File"},{emoji:"",name:"File Cabinet"},{emoji:"",name:"Bar Chart"},{emoji:"",name:"Chart Increasing"},{emoji:"",name:"Chart Decreasing"},{emoji:"",name:"Clipboard"},{emoji:"",name:"Pushpin"},{emoji:"",name:"Round Pushpin"},{emoji:"",name:"Paperclip"},{emoji:"",name:"Linked Paperclips"},{emoji:"",name:"Straightedge Ruler"},{emoji:"",name:"Triangular Ruler"},{emoji:"",name:"Scissors"},{emoji:"",name:"Card File Box"},{emoji:"",name:"File Cabinet"},{emoji:"",name:"Wastebasket"}],b6e=()=>{const{token:e}=wr(),[r,s]=g.useState(!1),[a,n]=g.useState(null),[i,l]=g.useState({name:"",description:"",subtitle:"",icon:"",isActive:!0}),[o,c]=g.useState(!1),[d,u]=g.useState(""),[m,x]=g.useState(""),[h,p]=g.useState(""),{data:f,isLoading:b,error:j,refresh:w}=cr(_=>He.fetchCategories(_),[]),v=((f==null?void 0:f.data)||[]).filter(_=>{var A,D;return((A=_.name)==null?void 0:A.toLowerCase().includes(h.toLowerCase()))||((D=_.description)==null?void 0:D.toLowerCase().includes(h.toLowerCase()))}),N=(_=null)=>{_?(n(_._id),l({name:_.name||"",description:_.description||"",subtitle:_.subtitle||"",icon:_.icon||"",isActive:_.isActive!==void 0?_.isActive:!0})):(n(null),l({name:"",description:"",subtitle:"",icon:"",isActive:!0})),s(!0),x(""),u("")},S=()=>{s(!1),n(null),l({name:"",description:"",subtitle:"",icon:"",isActive:!0}),x(""),u("")},k=async _=>{_.preventDefault(),c(!0),x(""),u("");try{a?(await He.updateCategory(e,a,{name:i.name,description:i.description,subtitle:i.subtitle,icon:i.icon,isActive:i.isActive}),u("Category updated successfully!")):(await He.createCategory(e,{name:i.name,description:i.description,subtitle:i.subtitle,icon:i.icon,isActive:i.isActive}),u("Category created successfully!")),w(),setTimeout(()=>{S()},1500)}catch(A){x(A.message||"Failed to save category")}finally{c(!1)}},C=async _=>{if(window.confirm("Are you sure you want to delete this category?"))try{await He.deleteCategory(e,_),u("Category deleted successfully!"),w(),setTimeout(()=>u(""),3e3)}catch(A){x(A.message||"Failed to delete category"),setTimeout(()=>x(""),3e3)}},P=_=>/[\u{1F300}-\u{1F9FF}]|[\u{2600}-\u{26FF}]|[\u{2700}-\u{27BF}]/u.test(_);return t.jsxs("div",{children:[t.jsx(gs,{title:"Category Management",subtitle:"Manage service categories with icons, descriptions, and status.",actions:t.jsxs("button",{onClick:()=>N(),className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-xl font-semibold hover:bg-primary-dark transition",children:[t.jsx(Tr,{className:"w-5 h-5"}),"Add Category"]})}),m&&t.jsx("div",{className:"bg-rose-50 border border-rose-200 text-rose-600 px-4 py-3 rounded-lg mb-6",children:m}),d&&t.jsx("div",{className:"bg-emerald-50 border border-emerald-200 text-emerald-600 px-4 py-3 rounded-lg mb-6",children:d}),t.jsx("div",{className:"mb-6",children:t.jsx("input",{type:"text",placeholder:"Search categories...",value:h,onChange:_=>p(_.target.value),className:"w-full max-w-md px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary"})}),b?t.jsx("div",{className:"flex justify-center items-center py-12",children:t.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):j?t.jsxs("div",{className:"bg-rose-50 border border-rose-200 text-rose-600 px-6 py-4 rounded-2xl",children:["Error loading categories: ",j]}):t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:v.map(_=>t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6 hover:shadow-md transition",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-primary/10 to-primary/5 flex items-center justify-center text-2xl",children:[P(_.icon)?_.icon:t.jsx("img",{src:_.icon,alt:_.name,className:"w-8 h-8 object-contain",onError:A=>{A.target.style.display="none",A.target.nextSibling.style.display="block"}}),t.jsx("span",{style:{display:"none"},children:""})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-slate-900",children:_.name}),t.jsx("p",{className:"text-sm text-slate-500",children:_.subtitle})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>N(_),className:"p-2 text-slate-600 hover:bg-slate-100 rounded-lg transition",children:t.jsx(ks,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>C(_._id),className:"p-2 text-rose-600 hover:bg-rose-50 rounded-lg transition",children:t.jsx(Ma,{className:"w-4 h-4"})})]})]}),t.jsx("p",{className:"text-sm text-slate-600 mb-4 line-clamp-2",children:_.description}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${_.isActive?"bg-emerald-100 text-emerald-700":"bg-slate-100 text-slate-600"}`,children:_.isActive?"Active":"Inactive"}),t.jsx("span",{className:"text-xs text-slate-400",children:new Date(_.createdAt).toLocaleDateString()})]})]},_._id))}),r&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-2xl w-full p-6 max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900",children:a?"Edit Category":"Create New Category"}),t.jsx("button",{onClick:S,className:"p-2 text-slate-600 hover:bg-slate-100 rounded-lg transition",children:t.jsx(mt,{className:"w-5 h-5"})})]}),m&&t.jsx("div",{className:"bg-rose-50 border border-rose-200 text-rose-600 px-4 py-3 rounded-lg mb-6 text-sm",children:m}),d&&t.jsx("div",{className:"bg-emerald-50 border border-emerald-200 text-emerald-600 px-4 py-3 rounded-lg mb-6 text-sm",children:d}),t.jsxs("form",{onSubmit:k,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Category Name ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",value:i.name,onChange:_=>l(A=>({...A,name:_.target.value})),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"e.g., Plumbing, Electrical, Cleaning",required:!0})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Subtitle ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",value:i.subtitle,onChange:_=>l(A=>({...A,subtitle:_.target.value})),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"Short description or tagline",required:!0})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Description ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("textarea",{value:i.description,onChange:_=>l(A=>({...A,description:_.target.value})),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"Detailed description of the category",rows:"3",required:!0})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Icon ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("div",{className:"grid grid-cols-8 gap-2 max-h-48 overflow-y-auto p-2 border-2 border-slate-200 rounded-xl",children:y6e.map((_,A)=>t.jsx("button",{type:"button",onClick:()=>l(D=>({...D,icon:_.emoji})),className:`w-12 h-12 rounded-lg flex items-center justify-center text-2xl transition ${i.icon===_.emoji?"bg-primary text-white ring-2 ring-primary ring-offset-2":"bg-slate-100 hover:bg-slate-200"}`,title:_.name,children:_.emoji},A))}),t.jsxs("p",{className:"text-xs text-slate-500 mt-2",children:["Selected: ",i.icon||"None"]})]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("input",{type:"checkbox",id:"isActive",checked:i.isActive,onChange:_=>l(A=>({...A,isActive:_.target.checked})),className:"w-5 h-5 text-primary border-2 border-slate-300 rounded focus:ring-primary"}),t.jsx("label",{htmlFor:"isActive",className:"text-sm font-semibold text-gray-700",children:"Active (Category will be visible to partners)"})]}),t.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200",children:[t.jsx("button",{type:"button",onClick:S,className:"flex-1 px-4 py-3 bg-slate-100 text-slate-700 rounded-xl font-semibold hover:bg-slate-200 transition",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:o,className:"flex-1 px-4 py-3 bg-primary text-white rounded-xl font-semibold hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:o?t.jsxs(t.Fragment,{children:[t.jsx(Dt,{className:"w-5 h-5 animate-spin"}),"Saving..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Xi,{className:"w-5 h-5"}),a?"Update Category":"Create Category"]})})]})]})]})})]})},v6e=()=>{const{token:e}=wr(),[r,s]=g.useState(!1),[a,n]=g.useState(!1),[i,l]=g.useState(null),[o,c]=g.useState(null),[d,u]=g.useState(null),[m,x]=g.useState(""),[h,p]=g.useState({name:"",description:"",city:"",state:"",status:"active"}),[f,b]=g.useState({areaName:"",pinCodesText:""}),[j,w]=g.useState(!1),{data:y,isLoading:v,error:N,refresh:S}=cr(R=>He.fetchHubs(R,{search:m}),[m]),{data:k}=cr(R=>He.fetchPartners(R),[]),C=(y==null?void 0:y.data)||[];k!=null&&k.partners;const P=()=>{p({name:"",description:"",city:"",state:"",status:"active"}),l(null)},_=()=>{b({areaName:"",pinCodesText:""}),c(null),u(null)},A=()=>{P(),s(!0)},D=R=>{p({name:R.name||"",description:R.description||"",city:R.city||"",state:R.state||"",status:R.status||"active"}),l(R),s(!0)},F=R=>{_(),u(R),n(!0)},X=(R,T)=>{var O;b({areaName:T.areaName||"",pinCodesText:((O=T.pinCodes)==null?void 0:O.join(", "))||""}),c(T),u(R),n(!0)},ce=async R=>{if(R.preventDefault(),!h.name.trim()){alert("Hub name is required");return}w(!0);try{i?await He.updateHub(e,i._id,h):await He.createHub(e,{...h,areas:[]}),s(!1),P(),S()}catch(T){alert(T.message||"Failed to save hub")}finally{w(!1)}},he=async R=>{if(R.preventDefault(),!f.areaName.trim()||!f.pinCodesText.trim()){alert("Area name and pin codes are required");return}const T=Array.from(new Set(f.pinCodesText.split(/[\s,]+/).map(O=>O.trim()).filter(O=>O.length>0&&/^\d{6}$/.test(O))));if(T.length===0){alert("Please add at least one valid 6-digit pin code");return}w(!0);try{o?await He.updateAreaInHub(e,d._id,o._id,{areaName:f.areaName.trim(),pinCodes:T}):await He.addAreaToHub(e,d._id,{areaName:f.areaName.trim(),pinCodes:T}),n(!1),_(),S()}catch(O){alert(O.message||"Failed to save area")}finally{w(!1)}},L=async R=>{if(window.confirm("Are you sure you want to delete this hub? This action cannot be undone."))try{await He.deleteHub(e,R),S()}catch(T){alert(T.message||"Failed to delete hub")}},q=async(R,T)=>{if(window.confirm("Are you sure you want to delete this area?"))try{await He.deleteAreaFromHub(e,R,T),S()}catch(O){alert(O.message||"Failed to delete area")}},se=R=>{var T;return((T=R.areas)==null?void 0:T.reduce((O,K)=>[...O,...K.pinCodes||[]],[]))||[]};return t.jsxs("div",{children:[t.jsx(gs,{title:"Hub Management",subtitle:"Create and manage service hubs with pin codes. Hubs can be assigned to partners in Partner Control."}),t.jsx("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-5 mb-6",children:t.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[t.jsx("div",{className:"flex-1 w-full md:w-auto",children:t.jsxs("div",{className:"relative",children:[t.jsx(bn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400"}),t.jsx("input",{type:"text",value:m,onChange:R=>x(R.target.value),placeholder:"Search hubs by name, city, or state...",className:"w-full md:w-96 pl-10 pr-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary"})]})}),t.jsxs("button",{onClick:A,className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-xl text-sm font-semibold hover:bg-primary-dark transition",children:[t.jsx(Tr,{})," Create Hub"]})]})}),t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-5",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{children:[t.jsxs("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500",children:["All Hubs (",C.length,")"]}),t.jsx("p",{className:"text-xs text-slate-400",children:"Manage hubs and their area-wise pin codes"})]}),t.jsxs("button",{onClick:S,className:"flex items-center gap-2 px-3 py-2 bg-slate-100 text-slate-700 rounded-lg text-xs font-semibold hover:bg-slate-200 transition",children:[t.jsx(Dt,{})," Refresh"]})]}),v?t.jsx("div",{className:"text-sm text-slate-400 py-8 text-center",children:"Loading hubs..."}):N?t.jsxs("div",{className:"text-sm text-rose-500 py-8 text-center",children:["Failed to load hubs: ",N]}):C.length===0?t.jsx("div",{className:"text-sm text-slate-500 py-8 text-center",children:m?"No hubs found matching your search.":"No hubs created yet. Create your first hub above."}):t.jsx("div",{className:"space-y-4",children:C.map(R=>{var K,U,ee;const T=se(R),O=((K=R.assignedPartners)==null?void 0:K.length)||0;return t.jsxs("div",{className:"border border-slate-200 rounded-xl p-5 bg-slate-50 hover:bg-slate-100 transition",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx(Pr,{className:"text-primary text-xl"}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-slate-900",children:R.name}),(R.city||R.state)&&t.jsx("p",{className:"text-xs text-slate-500 mt-0.5",children:[R.city,R.state].filter(Boolean).join(", ")})]}),t.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-semibold ${R.status==="active"?"bg-green-100 text-green-700":"bg-slate-100 text-slate-600"}`,children:R.status})]}),R.description&&t.jsx("p",{className:"text-sm text-slate-600 mt-2",children:R.description}),t.jsxs("div",{className:"flex items-center gap-4 mt-3 text-xs text-slate-500",children:[t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Pr,{})," ",((U=R.areas)==null?void 0:U.length)||0," Area",((ee=R.areas)==null?void 0:ee.length)===1?"":"s"]}),t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Pr,{})," ",T.length," Pin Code",T.length===1?"":"s"]}),O>0&&t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Mr,{})," ",O," Partner",O===1?"":"s"]})]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("button",{onClick:()=>F(R),className:"px-3 py-1.5 bg-primary/10 text-primary rounded-lg text-xs font-semibold hover:bg-primary/20 transition",title:"Add Area",children:[t.jsx(Tr,{className:"inline mr-1"})," Area"]}),t.jsx("button",{onClick:()=>D(R),className:"p-2 hover:bg-slate-200 rounded-lg transition",title:"Edit Hub",children:t.jsx(ks,{className:"text-slate-600"})}),t.jsx("button",{onClick:()=>L(R._id),className:"p-2 hover:bg-rose-100 rounded-lg transition",title:"Delete Hub",children:t.jsx(Ma,{className:"text-rose-600"})})]})]}),R.areas&&R.areas.length>0?t.jsxs("div",{className:"mt-4 space-y-3",children:[t.jsx("h4",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500",children:"Areas"}),R.areas.map(M=>{var H,B;return t.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg p-3",children:[t.jsxs("div",{className:"flex items-start justify-between mb-2",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-800",children:M.areaName}),t.jsxs("p",{className:"text-xs text-slate-500 mt-0.5",children:[((H=M.pinCodes)==null?void 0:H.length)||0," pin code",((B=M.pinCodes)==null?void 0:B.length)===1?"":"s"]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:()=>X(R,M),className:"p-1.5 hover:bg-slate-100 rounded transition",title:"Edit Area",children:t.jsx(ks,{className:"text-slate-600 text-sm"})}),t.jsx("button",{onClick:()=>q(R._id,M._id),className:"p-1.5 hover:bg-rose-100 rounded transition",title:"Delete Area",children:t.jsx(Ma,{className:"text-rose-600 text-sm"})})]})]}),M.pinCodes&&M.pinCodes.length>0&&t.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:M.pinCodes.map(Y=>t.jsx("span",{className:"px-2.5 py-1 bg-primary/10 border border-primary/20 rounded-full text-xs font-semibold text-primary",children:Y},Y))})]},M._id)})]}):t.jsx("div",{className:"mt-4 text-center py-4 bg-slate-100 rounded-lg",children:t.jsx("p",{className:"text-xs text-slate-500",children:'No areas added yet. Click "Add Area" to get started.'})})]},R._id)})})]}),r&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full p-6 max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h2",{className:"text-xl font-bold text-slate-900",children:i?"Edit Hub":"Create Hub"}),t.jsx("button",{onClick:()=>{s(!1),P()},className:"p-2 hover:bg-slate-100 rounded-lg transition",children:t.jsx(mt,{className:"w-5 h-5 text-slate-600"})})]}),t.jsxs("form",{onSubmit:ce,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Hub Name ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",value:h.name,onChange:R=>p(T=>({...T,name:R.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary",required:!0,placeholder:"e.g., Whitefield"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Description"}),t.jsx("textarea",{value:h.description,onChange:R=>p(T=>({...T,description:R.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary",rows:3,placeholder:"Hub description (optional)"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"City"}),t.jsx("input",{type:"text",value:h.city,onChange:R=>p(T=>({...T,city:R.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary",placeholder:"e.g., Bangalore"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"State"}),t.jsx("input",{type:"text",value:h.state,onChange:R=>p(T=>({...T,state:R.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary",placeholder:"e.g., Karnataka"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Status"}),t.jsxs("select",{value:h.status,onChange:R=>p(T=>({...T,status:R.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary",children:[t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"inactive",children:"Inactive"})]})]}),t.jsxs("div",{className:"flex gap-3 pt-4",children:[t.jsx("button",{type:"button",onClick:()=>{s(!1),P()},className:"flex-1 px-4 py-3 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:j,className:"flex-1 px-4 py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",children:j?"Saving...":i?"Update Hub":"Create Hub"})]})]})]})}),a&&d&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold text-slate-900",children:o?"Edit Area":"Add Area"}),t.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Hub: ",d.name]})]}),t.jsx("button",{onClick:()=>{n(!1),_()},className:"p-2 hover:bg-slate-100 rounded-lg transition",children:t.jsx(mt,{className:"w-5 h-5 text-slate-600"})})]}),t.jsxs("form",{onSubmit:he,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Area Name ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",value:f.areaName,onChange:R=>b(T=>({...T,areaName:R.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary",required:!0,placeholder:"e.g., Whitefield Main, ITPL"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Pin Codes ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("textarea",{value:f.pinCodesText,onChange:R=>b(T=>({...T,pinCodesText:R.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary",rows:4,required:!0,placeholder:"Enter pin codes separated by commas or spaces (e.g., 560066, 560067, 560087)"}),t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Separate multiple pin codes with commas or spaces. Each pin code must be 6 digits."})]}),t.jsxs("div",{className:"flex gap-3 pt-4",children:[t.jsx("button",{type:"button",onClick:()=>{n(!1),_()},className:"flex-1 px-4 py-3 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:j,className:"flex-1 px-4 py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",children:j?"Saving...":o?"Update Area":"Add Area"})]})]})]})})]})},Pp=[{name:"FaSnowflake",label:"AC Service",icon:Ju},{name:"FaBolt",label:"Electrical",icon:Nl},{name:"FaTint",label:"Plumbing",icon:Qu},{name:"FaBroom",label:"Cleaning",icon:Ku},{name:"FaPaintRoller",label:"Painting",icon:Xu},{name:"FaTools",label:"Tools/Repair",icon:fa},{name:"FaHammer",label:"Carpentry",icon:Yu},{name:"FaFilter",label:"Water Filter",icon:id},{name:"FaPlug",label:"Plug/Outlet",icon:Dy},{name:"FaWrench",label:"Wrench",icon:V0},{name:"FaCheckCircle",label:"Check Circle",icon:$e},{name:"FaRupeeSign",label:"Rupee",icon:Ad},{name:"FaCreditCard",label:"Credit Card",icon:Ti},{name:"FaMobileAlt",label:"Mobile",icon:Oy},{name:"FaUserCheck",label:"User Check",icon:Ua},{name:"FaCommentDots",label:"Comment",icon:_y}],j6e=()=>{const{token:e}=wr(),r=Qt(),[s,a]=g.useState(!1),[n,i]=g.useState(null),[l,o]=g.useState({name:"",slug:"",icon:"FaTools",description:"",price:"",basePrice:0,discount:0,discountType:"percentage",cgst:0,sgst:0,serviceCharge:0,serviceChargeType:"amount",trusted:"Trusted by thousands of homes",included:[],excluded:[],addOns:[],cities:[],order:0,isActive:!0}),[c,d]=g.useState({name:"",description:"",basePrice:0,discount:0,cgst:0,sgst:0,serviceCharge:0,price:"",icon:"FaTools",included:[],excluded:[],subServices:[]}),[u,m]=g.useState(""),[x,h]=g.useState(""),[p,f]=g.useState({name:"",shortDescription:"",price:"",icon:"FaTools"}),[b,j]=g.useState(null),[w,y]=g.useState(null),[v,N]=g.useState(!1),[S,k]=g.useState(""),[C,P]=g.useState(""),[_,A]=g.useState(""),[D,F]=g.useState(!1),[X,ce]=g.useState(null),[he,L]=g.useState([]),[q,se]=g.useState(!1),{data:R,isLoading:T,error:O,refresh:K}=cr(I=>He.fetchPopularServices(I),[]),U=(R==null?void 0:R.data)||[],ee=U.filter(I=>{var ae,Ce;return((ae=I.name)==null?void 0:ae.toLowerCase().includes(_.toLowerCase()))||((Ce=I.slug)==null?void 0:Ce.toLowerCase().includes(_.toLowerCase()))});g.useEffect(()=>{e&&(async()=>{se(!0);try{const ae=await He.fetchAllCities(e);ae.success&&L(ae.data||[])}catch(ae){console.error("Failed to fetch cities:",ae)}finally{se(!1)}})()},[e]);const M=(I=null)=>{var ae,Ce;I?(i(I._id),o({name:I.name||"",slug:I.slug||"",icon:I.icon||"FaTools",description:I.description||"",price:I.price||"",basePrice:I.basePrice||0,discount:I.discount||0,discountType:I.discountType||"percentage",cgst:I.cgst||0,sgst:I.sgst||0,serviceCharge:I.serviceCharge||0,serviceChargeType:I.serviceChargeType||"amount",trusted:I.trusted||"Trusted by thousands of homes",included:I.included||[],excluded:I.excluded||[],addOns:((ae=I.addOns)==null?void 0:ae.map(We=>({...We,included:We.included||[],excluded:We.excluded||[],subServices:We.subServices||[]})))||[],cities:((Ce=I.cities)==null?void 0:Ce.map(We=>typeof We=="string"?We:We._id))||[],order:I.order||0,isActive:I.isActive!==void 0?I.isActive:!0})):(i(null),o({name:"",slug:"",icon:"FaTools",description:"",price:"",basePrice:0,discount:0,discountType:"percentage",cgst:0,sgst:0,serviceCharge:0,serviceChargeType:"amount",trusted:"Trusted by thousands of homes",included:[],excluded:[],addOns:[],cities:[],order:U.length>0?Math.max(...U.map(We=>We.order||0))+1:0,isActive:!0})),d({name:"",description:"",basePrice:0,discount:0,cgst:0,sgst:0,serviceCharge:0,price:"",icon:"FaTools",included:[],excluded:[],subServices:[]}),m(""),h(""),f({name:"",shortDescription:"",price:"",icon:"FaTools"}),j(null),y(null),a(!0),P(""),k("")},H=()=>{a(!1),i(null),o({name:"",slug:"",icon:"FaTools",description:"",price:"",basePrice:0,discount:0,discountType:"percentage",cgst:0,sgst:0,serviceCharge:0,serviceChargeType:"amount",trusted:"Trusted by thousands of homes",included:[],excluded:[],addOns:[],cities:[],order:0,isActive:!0}),m(""),h(""),f({name:"",shortDescription:"",price:"",icon:"FaTools"}),P(""),k("")},B=()=>{u.trim()&&(d(I=>({...I,included:[...I.included,u.trim()]})),m(""))},Y=I=>{d(ae=>({...ae,included:ae.included.filter((Ce,We)=>We!==I)}))},ie=()=>{x.trim()&&(d(I=>({...I,excluded:[...I.excluded,x.trim()]})),h(""))},me=I=>{d(ae=>({...ae,excluded:ae.excluded.filter((Ce,We)=>We!==I)}))},de=()=>{p.name.trim()&&p.price.trim()&&(w!==null?(d(I=>({...I,subServices:I.subServices.map((ae,Ce)=>Ce===w?{...p}:ae)})),y(null)):d(I=>({...I,subServices:[...I.subServices,{...p}]})),f({name:"",shortDescription:"",price:""}))},Ge=I=>{const ae=c.subServices[I];f({name:ae.name||"",shortDescription:ae.shortDescription||"",price:ae.price||"",icon:ae.icon||"FaTools"}),y(I)},Me=I=>{d(ae=>({...ae,subServices:ae.subServices.filter((Ce,We)=>We!==I)})),w===I&&(y(null),f({name:"",shortDescription:"",price:""}))},it=()=>{y(null),f({name:"",shortDescription:"",price:"",icon:"FaTools"})},Ye=I=>{if(!I.basePrice||I.basePrice<=0)return"";let ae=I.basePrice||0;I.discount>0&&(ae-=ae*I.discount/100),I.serviceCharge>0&&(ae+=I.serviceCharge);const Ce=(I.basePrice||0)-(I.discount>0?(I.basePrice||0)*I.discount/100:0)+(I.serviceCharge||0);return ae+=Ce*(I.cgst||0)/100+Ce*(I.sgst||0)/100,`${Math.round(ae)}`};g.useEffect(()=>{if(c.basePrice>0){const I=Ye(c);(!c.price||c.price.startsWith("")||c.price==="")&&d(ae=>({...ae,price:I}))}},[c.basePrice,c.discount,c.cgst,c.sgst,c.serviceCharge]);const Le=()=>{if(c.name.trim()&&c.basePrice>0){const I={...c,price:c.price||Ye(c),included:c.included||[],excluded:c.excluded||[],subServices:c.subServices||[]};b!==null?(o(ae=>({...ae,addOns:ae.addOns.map((Ce,We)=>We===b?I:Ce)})),j(null)):o(ae=>({...ae,addOns:[...ae.addOns,I]})),d({name:"",description:"",basePrice:0,discount:0,cgst:0,sgst:0,serviceCharge:0,price:"",icon:"FaTools",included:[],excluded:[],subServices:[]}),m(""),h(""),f({name:"",shortDescription:"",price:""}),y(null)}},z=I=>{const ae=l.addOns[I];d({name:ae.name||"",description:ae.description||"",basePrice:ae.basePrice||0,discount:ae.discount||0,cgst:ae.cgst||0,sgst:ae.sgst||0,serviceCharge:ae.serviceCharge||0,price:ae.price||"",icon:ae.icon||"FaTools",included:ae.included||[],excluded:ae.excluded||[],subServices:ae.subServices||[]}),j(I),m(""),h(""),f({name:"",shortDescription:"",price:"",icon:"FaTools"}),y(null)},xe=I=>{o(ae=>({...ae,addOns:ae.addOns.filter((Ce,We)=>We!==I)})),b===I&&(j(null),d({name:"",description:"",basePrice:0,discount:0,cgst:0,sgst:0,serviceCharge:0,price:"",icon:"FaTools"}))},re=()=>{j(null),d({name:"",description:"",basePrice:0,discount:0,cgst:0,sgst:0,serviceCharge:0,price:"",icon:"FaTools",included:[],excluded:[],subServices:[]}),m(""),h(""),f({name:"",shortDescription:"",price:"",icon:"FaTools"}),y(null)},ge=I=>I.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,""),pe=I=>{o(ae=>({...ae,name:I,slug:n?ae.slug:ge(I)}))},ve=async I=>{I.preventDefault(),N(!0),P(""),k("");try{n?(await He.updatePopularService(e,n,l),k("Popular service updated successfully!")):(await He.createPopularService(e,l),k("Popular service created successfully!")),K(),setTimeout(()=>{H()},1500)}catch(ae){P(ae.message||"Failed to save popular service")}finally{N(!1)}},ke=async I=>{if(window.confirm("Are you sure you want to delete this popular service?"))try{await He.deletePopularService(e,I),k("Popular service deleted successfully!"),K(),setTimeout(()=>k(""),3e3)}catch(ae){P(ae.message||"Failed to delete popular service"),setTimeout(()=>P(""),3e3)}},Qe=async(I,ae)=>{const Ce=U.find(dt=>dt._id===I);if(!Ce)return;const We=Ce.order||0,At=ae==="up"?We-1:We+1,pt=U.find(dt=>(dt.order||0)===At);try{const dt=[{id:I,order:At}];pt&&dt.push({id:pt._id,order:We}),await He.updatePopularServicesOrder(e,dt),K()}catch(dt){P(dt.message||"Failed to update order"),setTimeout(()=>P(""),3e3)}},ft=I=>{const ae=Pp.find(Ce=>Ce.name===I);return ae?ae.icon:fa},je=I=>{ce(I),F(!0)},Fe=()=>{F(!1),ce(null)},Tt=I=>{if(!I||!I.basePrice)return 0;let ae=I.basePrice||0;I.discount>0&&(I.discountType==="percentage"?ae-=ae*I.discount/100:ae-=I.discount),I.serviceCharge>0&&(I.serviceChargeType==="percentage"?ae+=(I.basePrice||0)*I.serviceCharge/100:ae+=I.serviceCharge);const Ce=(I.basePrice||0)-(I.discount>0?I.discountType==="percentage"?(I.basePrice||0)*I.discount/100:I.discount:0)+(I.serviceCharge>0?I.serviceChargeType==="percentage"?(I.basePrice||0)*I.serviceCharge/100:I.serviceCharge:0);return ae+=Ce*(I.cgst||0)/100+Ce*(I.sgst||0)/100,ae},Lt=(I=l)=>{if(!I.basePrice||I.basePrice<=0)return"";const ae=Tt(I);return`Starting at ${Math.round(ae)}`};g.useEffect(()=>{if(l.basePrice>0){const I=Lt(l);(!l.price||l.price.startsWith("Starting at ")||l.price==="")&&o(ae=>({...ae,price:I}))}},[l.basePrice,l.discount,l.discountType,l.cgst,l.sgst,l.serviceCharge,l.serviceChargeType]);const ye=async()=>{if(window.confirm("This will update all existing services in the database with new fields (basePrice, discount, CGST, SGST, serviceCharge, excluded, etc.). This ensures all services have the required fields. Continue?")){N(!0),P(""),k("");try{await He.migratePopularServices(e),k("Migration completed successfully! All existing services have been updated with new fields."),K(),setTimeout(()=>k(""),5e3)}catch(I){P(I.message||"Failed to migrate services"),setTimeout(()=>P(""),5e3)}finally{N(!1)}}};return t.jsxs("div",{children:[t.jsx(gs,{title:"Popular Services Management",subtitle:"Manage popular services displayed on the homepage. Control order, icons, and visibility.",actions:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("button",{onClick:ye,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-xl font-semibold hover:bg-blue-700 transition",title:"Update existing services with new fields",children:[t.jsx(Dt,{className:"w-5 h-5"}),"Migrate Data"]}),t.jsxs("button",{onClick:()=>M(),className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-xl font-semibold hover:bg-primary-dark transition",children:[t.jsx(Tr,{className:"w-5 h-5"}),"Add Service"]})]})}),C&&t.jsx("div",{className:"bg-rose-50 border border-rose-200 text-rose-600 px-4 py-3 rounded-lg mb-6",children:C}),S&&t.jsx("div",{className:"bg-emerald-50 border border-emerald-200 text-emerald-600 px-4 py-3 rounded-lg mb-6",children:S}),t.jsx("div",{className:"mb-6",children:t.jsx("input",{type:"text",placeholder:"Search popular services...",value:_,onChange:I=>A(I.target.value),className:"w-full max-w-md px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary"})}),T?t.jsx("div",{className:"flex justify-center items-center py-12",children:t.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):O?t.jsxs("div",{className:"bg-rose-50 border border-rose-200 text-rose-600 px-6 py-4 rounded-2xl",children:["Error loading popular services: ",O]}):t.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Order"}),t.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Icon"}),t.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Name"}),t.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Slug"}),t.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Cities"}),t.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Status"}),t.jsx("th",{className:"px-6 py-4 text-right text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-slate-200",children:ee.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:"7",className:"px-6 py-12 text-center text-slate-400",children:'No popular services found. Click "Add Service" to create one.'})}):ee.sort((I,ae)=>(I.order||0)-(ae.order||0)).map((I,ae)=>{const Ce=ft(I.icon);return t.jsxs("tr",{className:"hover:bg-slate-50 transition",children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm font-medium text-slate-700",children:I.order||0}),t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsx("button",{onClick:()=>Qe(I._id,"up"),disabled:ae===0,className:"p-1 text-slate-400 hover:text-primary disabled:opacity-30 disabled:cursor-not-allowed",title:"Move up",children:t.jsx(Bf,{className:"w-3 h-3"})}),t.jsx("button",{onClick:()=>Qe(I._id,"down"),disabled:ae===ee.length-1,className:"p-1 text-slate-400 hover:text-primary disabled:opacity-30 disabled:cursor-not-allowed",title:"Move down",children:t.jsx(Rf,{className:"w-3 h-3"})})]})]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center",children:t.jsx(Ce,{className:"w-5 h-5 text-primary"})})}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("div",{className:"text-sm font-semibold text-slate-900",children:I.name})}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("div",{className:"text-sm text-slate-500 font-mono",children:I.slug})}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("div",{className:"text-xs text-slate-600",children:!I.cities||I.cities.length===0?t.jsx("span",{className:"text-slate-400",children:"All cities"}):t.jsxs("div",{className:"flex flex-wrap gap-1",children:[I.cities.slice(0,2).map((We,At)=>t.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded bg-blue-50 text-blue-700",children:typeof We=="string"?We:We.name},At)),I.cities.length>2&&t.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded bg-slate-100 text-slate-600",children:["+",I.cities.length-2," more"]})]})})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("span",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-full text-xs font-semibold ${I.isActive?"bg-emerald-500/10 text-emerald-600":"bg-slate-200 text-slate-600"}`,children:I.isActive?"Active":"Inactive"})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:t.jsxs("div",{className:"flex items-center justify-end gap-2",children:[t.jsx("button",{onClick:()=>{I!=null&&I.slug&&r(`/service/${I.slug}`)},className:"p-2 text-slate-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition",title:"View Service on Website",children:t.jsx(WC,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>je(I),className:"p-2 text-slate-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition",title:"View Details",children:t.jsx(Ci,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>M(I),className:"p-2 text-slate-600 hover:text-primary hover:bg-primary/10 rounded-lg transition",title:"Edit",children:t.jsx(ks,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>ke(I._id),className:"p-2 text-slate-600 hover:text-rose-600 hover:bg-rose-50 rounded-lg transition",title:"Delete",children:t.jsx(Ma,{className:"w-4 h-4"})})]})})]},I._id)})})]})})}),s&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between",children:[t.jsx("h3",{className:"text-xl font-semibold text-slate-900",children:n?"Edit Popular Service":"Add Popular Service"}),t.jsx("button",{onClick:H,className:"p-2 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-lg transition",children:t.jsx(mt,{className:"w-5 h-5"})})]}),t.jsxs("form",{onSubmit:ve,className:"p-6 space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Service Name *"}),t.jsx("input",{type:"text",value:l.name,onChange:I=>pe(I.target.value),required:!0,className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"e.g., AC Service"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Slug *"}),t.jsx("input",{type:"text",value:l.slug,onChange:I=>o(ae=>({...ae,slug:I.target.value})),required:!0,className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary font-mono",placeholder:"e.g., ac-service"}),t.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"URL-friendly identifier (auto-generated from name)"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Icon *"}),t.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-6 gap-3",children:Pp.map(I=>{const ae=I.icon,Ce=l.icon===I.name;return t.jsxs("button",{type:"button",onClick:()=>o(We=>({...We,icon:I.name})),className:`p-4 rounded-xl border-2 transition ${Ce?"border-primary bg-primary/10":"border-slate-200 hover:border-primary/50"}`,title:I.label,children:[t.jsx(ae,{className:`w-6 h-6 mx-auto ${Ce?"text-primary":"text-slate-400"}`}),t.jsx("p",{className:"mt-2 text-xs text-center text-slate-600",children:I.label})]},I.name)})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Description"}),t.jsx("textarea",{value:l.description,onChange:I=>o(ae=>({...ae,description:I.target.value})),rows:"3",className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"Service description..."})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Trusted Text"}),t.jsx("input",{type:"text",value:l.trusted,onChange:I=>o(ae=>({...ae,trusted:I.target.value})),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"e.g., Trusted by thousands of homes"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Add-On Services"}),t.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border-2 border-slate-200 mb-4",children:[t.jsx("h4",{className:"text-sm font-semibold text-slate-700 mb-3",children:b!==null?"Edit Add-On Service":"Add New Add-On Service"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1",children:"Name *"}),t.jsx("input",{type:"text",value:c.name,onChange:I=>d(ae=>({...ae,name:I.target.value})),className:"w-full px-3 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary text-sm",placeholder:"Add-on service name..."})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1",children:"Description"}),t.jsx("textarea",{value:c.description,onChange:I=>d(ae=>({...ae,description:I.target.value})),className:"w-full px-3 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary text-sm",placeholder:"Service description...",rows:"2"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1",children:"Base Price () *"}),t.jsx("input",{type:"number",value:c.basePrice,onChange:I=>d(ae=>({...ae,basePrice:parseFloat(I.target.value)||0})),className:"w-full px-3 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary text-sm",placeholder:"0",min:"0",step:"0.01"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1",children:"Discount (%)"}),t.jsx("input",{type:"number",value:c.discount,onChange:I=>d(ae=>({...ae,discount:parseFloat(I.target.value)||0})),className:"w-full px-3 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary text-sm",placeholder:"0",min:"0",step:"0.01"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1",children:"CGST (%)"}),t.jsx("input",{type:"number",value:c.cgst,onChange:I=>d(ae=>({...ae,cgst:parseFloat(I.target.value)||0})),className:"w-full px-3 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary text-sm",placeholder:"0",min:"0",step:"0.01"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1",children:"SGST (%)"}),t.jsx("input",{type:"number",value:c.sgst,onChange:I=>d(ae=>({...ae,sgst:parseFloat(I.target.value)||0})),className:"w-full px-3 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary text-sm",placeholder:"0",min:"0",step:"0.01"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1",children:"Service Charge ()"}),t.jsx("input",{type:"number",value:c.serviceCharge,onChange:I=>d(ae=>({...ae,serviceCharge:parseFloat(I.target.value)||0})),className:"w-full px-3 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary text-sm",placeholder:"0",min:"0",step:"0.01"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-xs font-semibold text-slate-600 mb-1",children:["Display Price (Text) ",t.jsx("span",{className:"text-slate-400",children:"(Auto-calculated)"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",value:c.price,onChange:I=>d(ae=>({...ae,price:I.target.value})),className:"flex-1 px-3 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary text-sm",placeholder:"e.g., 299"}),c.basePrice>0&&t.jsx("button",{type:"button",onClick:()=>{const I=Ye(c);d(ae=>({...ae,price:I}))},className:"px-3 py-2 bg-primary/10 text-primary rounded-lg hover:bg-primary/20 transition text-xs font-semibold whitespace-nowrap",children:"Auto Calculate"})]}),c.basePrice>0&&t.jsxs("p",{className:"mt-1 text-xs text-emerald-600",children:[" Calculated: ",Ye(c)]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-2",children:"Icon"}),t.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-6 gap-2",children:Pp.map(I=>{const ae=I.icon,Ce=c.icon===I.name;return t.jsx("button",{type:"button",onClick:()=>d(We=>({...We,icon:I.name})),className:`p-2 rounded-lg border-2 transition ${Ce?"border-primary bg-primary/10":"border-slate-200 hover:border-primary/50"}`,title:I.label,children:t.jsx(ae,{className:`w-4 h-4 mx-auto ${Ce?"text-primary":"text-slate-400"}`})},I.name)})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1",children:"Included Items"}),t.jsxs("div",{className:"flex gap-2 mb-2",children:[t.jsx("input",{type:"text",value:u,onChange:I=>m(I.target.value),onKeyPress:I=>I.key==="Enter"&&(I.preventDefault(),B()),className:"flex-1 px-3 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary text-sm",placeholder:"Add included item..."}),t.jsx("button",{type:"button",onClick:B,className:"px-3 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition text-sm",children:"Add"})]}),t.jsx("div",{className:"space-y-1",children:c.included.map((I,ae)=>t.jsxs("div",{className:"flex items-center justify-between bg-white px-2 py-1.5 rounded border border-slate-200",children:[t.jsx("span",{className:"text-xs text-slate-700",children:I}),t.jsx("button",{type:"button",onClick:()=>Y(ae),className:"text-rose-600 hover:text-rose-700",children:t.jsx(mt,{className:"w-3 h-3"})})]},ae))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1",children:"Excluded Items"}),t.jsxs("div",{className:"flex gap-2 mb-2",children:[t.jsx("input",{type:"text",value:x,onChange:I=>h(I.target.value),onKeyPress:I=>I.key==="Enter"&&(I.preventDefault(),ie()),className:"flex-1 px-3 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary text-sm",placeholder:"Add excluded item..."}),t.jsx("button",{type:"button",onClick:ie,className:"px-3 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition text-sm",children:"Add"})]}),t.jsx("div",{className:"space-y-1",children:c.excluded.map((I,ae)=>t.jsxs("div",{className:"flex items-center justify-between bg-white px-2 py-1.5 rounded border border-slate-200",children:[t.jsx("span",{className:"text-xs text-slate-700",children:I}),t.jsx("button",{type:"button",onClick:()=>me(ae),className:"text-rose-600 hover:text-rose-700",children:t.jsx(mt,{className:"w-3 h-3"})})]},ae))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-2",children:"Sub-Services"}),t.jsxs("div",{className:"bg-white p-3 rounded-lg border-2 border-slate-200 space-y-2 mb-2",children:[t.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs text-slate-600 mb-1",children:"Service Name *"}),t.jsx("input",{type:"text",value:p.name,onChange:I=>f(ae=>({...ae,name:I.target.value})),className:"w-full px-2 py-1.5 border border-slate-300 rounded focus:outline-none focus:border-primary text-xs",placeholder:"Sub-service name..."})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs text-slate-600 mb-1",children:"Short Description"}),t.jsx("input",{type:"text",value:p.shortDescription,onChange:I=>f(ae=>({...ae,shortDescription:I.target.value})),className:"w-full px-2 py-1.5 border border-slate-300 rounded focus:outline-none focus:border-primary text-xs",placeholder:"Brief description..."})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs text-slate-600 mb-1",children:"Price *"}),t.jsx("input",{type:"text",value:p.price,onChange:I=>f(ae=>({...ae,price:I.target.value})),className:"w-full px-2 py-1.5 border border-slate-300 rounded focus:outline-none focus:border-primary text-xs",placeholder:"e.g., 299"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1",children:"Icon"}),t.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-6 gap-1.5 max-h-32 overflow-y-auto p-1 border border-slate-200 rounded",children:Pp.map(I=>{const ae=I.icon,Ce=p.icon===I.name;return t.jsx("button",{type:"button",onClick:()=>f(We=>({...We,icon:I.name})),className:`p-1.5 rounded border transition ${Ce?"border-primary bg-primary/10":"border-slate-200 hover:border-primary/50"}`,title:I.label,children:t.jsx(ae,{className:`w-3 h-3 mx-auto ${Ce?"text-primary":"text-slate-400"}`})},I.name)})})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{type:"button",onClick:de,className:"flex-1 px-3 py-1.5 bg-primary text-white rounded hover:bg-primary-dark transition text-xs font-semibold",children:w!==null?"Update Sub-Service":"Add Sub-Service"}),w!==null&&t.jsx("button",{type:"button",onClick:it,className:"px-3 py-1.5 bg-slate-200 text-slate-700 rounded hover:bg-slate-300 transition text-xs font-semibold",children:"Cancel"})]})]}),t.jsx("div",{className:"space-y-1",children:c.subServices.map((I,ae)=>{const Ce=ft(I.icon||"FaTools");return t.jsxs("div",{className:"flex items-start justify-between bg-white px-3 py-2 rounded-lg border border-slate-200",children:[t.jsxs("div",{className:"flex items-start gap-2 flex-1",children:[t.jsx("div",{className:"w-6 h-6 bg-primary/10 rounded flex items-center justify-center flex-shrink-0 mt-0.5",children:t.jsx(Ce,{className:"w-3 h-3 text-primary"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"text-xs font-semibold text-slate-900",children:I.name}),I.shortDescription&&t.jsx("div",{className:"text-xs text-slate-600 mt-0.5",children:I.shortDescription}),t.jsx("div",{className:"text-xs text-primary font-semibold mt-0.5",children:I.price})]})]}),t.jsxs("div",{className:"flex items-center gap-1 ml-2",children:[t.jsx("button",{type:"button",onClick:()=>Ge(ae),className:"p-1 text-primary hover:bg-primary/10 rounded transition",title:"Edit",children:t.jsx(ks,{className:"w-3 h-3"})}),t.jsx("button",{type:"button",onClick:()=>Me(ae),className:"p-1 text-rose-600 hover:bg-rose-50 rounded transition",title:"Remove",children:t.jsx(mt,{className:"w-3 h-3"})})]})]},ae)})})]}),t.jsxs("div",{className:"flex gap-2 pt-2",children:[t.jsx("button",{type:"button",onClick:Le,className:"flex-1 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition font-semibold text-sm",children:b!==null?"Update Add-On":"Add Add-On"}),b!==null&&t.jsx("button",{type:"button",onClick:re,className:"px-4 py-2 bg-slate-200 text-slate-700 rounded-lg hover:bg-slate-300 transition font-semibold text-sm",children:"Cancel"})]})]})]}),t.jsx("div",{className:"space-y-2",children:l.addOns.length===0?t.jsx("p",{className:"text-sm text-slate-400 text-center py-4",children:"No add-on services added yet"}):l.addOns.map((I,ae)=>{const Ce=ft(I.icon||"FaTools");return t.jsxs("div",{className:"flex items-start justify-between bg-slate-50 px-4 py-3 rounded-lg border border-slate-200",children:[t.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[t.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-lg flex items-center justify-center flex-shrink-0 mt-0.5",children:t.jsx(Ce,{className:"w-4 h-4 text-primary"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("div",{className:"text-sm font-semibold text-slate-900",children:I.name}),I.description&&t.jsx("div",{className:"text-xs text-slate-600 mt-1",children:I.description}),t.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:["Base: ",I.basePrice||0," |",I.discount>0&&` Discount: ${I.discount}% |`,I.cgst>0&&` CGST: ${I.cgst}% |`,I.sgst>0&&` SGST: ${I.sgst}% |`,I.serviceCharge>0&&` Charge: ${I.serviceCharge} |`," ","Price: ",I.price||"N/A"]}),I.included&&I.included.length>0&&t.jsxs("div",{className:"text-xs text-slate-600 mt-1",children:[t.jsx("span",{className:"font-semibold",children:"Included:"})," ",I.included.join(", ")]}),I.excluded&&I.excluded.length>0&&t.jsxs("div",{className:"text-xs text-slate-600 mt-1",children:[t.jsx("span",{className:"font-semibold",children:"Excluded:"})," ",I.excluded.join(", ")]}),I.subServices&&I.subServices.length>0&&t.jsxs("div",{className:"text-xs text-slate-600 mt-1",children:[t.jsx("span",{className:"font-semibold",children:"Sub-Services:"})," ",I.subServices.length," item(s)"]})]})]}),t.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[t.jsx("button",{type:"button",onClick:()=>z(ae),className:"p-1.5 text-primary hover:bg-primary/10 rounded transition",title:"Edit",children:t.jsx(ks,{className:"w-4 h-4"})}),t.jsx("button",{type:"button",onClick:()=>xe(ae),className:"p-1.5 text-rose-600 hover:bg-rose-50 rounded transition",title:"Remove",children:t.jsx(mt,{className:"w-4 h-4"})})]})]},ae)})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Available Cities"}),q?t.jsx("div",{className:"text-sm text-slate-500",children:"Loading cities..."}):t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[t.jsx("button",{type:"button",onClick:()=>{const I=he.map(ae=>ae._id);o(ae=>({...ae,cities:I}))},className:"px-3 py-1.5 text-xs bg-primary/10 text-primary rounded-lg hover:bg-primary/20 transition font-semibold",children:"Select All"}),t.jsx("button",{type:"button",onClick:()=>o(I=>({...I,cities:[]})),className:"px-3 py-1.5 text-xs bg-slate-100 text-slate-600 rounded-lg hover:bg-slate-200 transition font-semibold",children:"Clear All"})]}),t.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2 max-h-48 overflow-y-auto p-2 border-2 border-slate-200 rounded-xl",children:he.length===0?t.jsx("div",{className:"col-span-full text-sm text-slate-400 text-center py-4",children:"No cities available. Please add cities first."}):he.map(I=>t.jsxs("label",{className:`flex items-center gap-2 p-2 rounded-lg border-2 cursor-pointer transition ${l.cities.includes(I._id)?"border-primary bg-primary/5":"border-slate-200 hover:border-primary/50"} ${I.isEnabled?"":"opacity-50"}`,children:[t.jsx("input",{type:"checkbox",checked:l.cities.includes(I._id),onChange:ae=>{ae.target.checked?o(Ce=>({...Ce,cities:[...Ce.cities,I._id]})):o(Ce=>({...Ce,cities:Ce.cities.filter(We=>We!==I._id)}))},className:"w-4 h-4 text-primary rounded focus:ring-primary"}),t.jsx("span",{className:"text-sm text-slate-700 flex-1",children:I.name}),!I.isEnabled&&t.jsx("span",{className:"text-xs text-slate-400",children:"(Disabled)"})]},I._id))}),t.jsx("p",{className:"mt-1 text-xs text-slate-500",children:l.cities.length===0?"No cities selected - service will be available in all cities":`Selected ${l.cities.length} ${l.cities.length===1?"city":"cities"}`})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Display Order"}),t.jsx("input",{type:"number",value:l.order,onChange:I=>o(ae=>({...ae,order:parseInt(I.target.value)||0})),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",min:"0"}),t.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Lower numbers appear first"})]}),t.jsx("div",{children:t.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:l.isActive,onChange:I=>o(ae=>({...ae,isActive:I.target.checked})),className:"w-5 h-5 text-primary rounded focus:ring-primary"}),t.jsx("span",{className:"text-sm font-semibold text-slate-700",children:"Active (visible on homepage)"})]})}),t.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-slate-200",children:[t.jsx("button",{type:"button",onClick:H,className:"px-6 py-3 text-slate-600 font-semibold rounded-xl hover:bg-slate-100 transition",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:v,className:"flex items-center gap-2 px-6 py-3 bg-primary text-white font-semibold rounded-xl hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",children:v?t.jsxs(t.Fragment,{children:[t.jsx(Dt,{className:"w-4 h-4 animate-spin"}),"Saving..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Xi,{className:"w-4 h-4"}),n?"Update":"Create"]})})]})]})]})}),D&&X&&t.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:Fe,children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",onClick:I=>I.stopPropagation(),children:[t.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between",children:[t.jsxs("h3",{className:"text-xl font-semibold text-slate-900",children:["Service Details: ",X.name]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("button",{onClick:()=>{X!=null&&X.slug&&(r(`/service/${X.slug}`),Fe())},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition text-sm font-semibold flex items-center gap-2",title:"View service on website",children:[t.jsx(WC,{className:"w-4 h-4"}),"View Service"]}),t.jsxs("button",{onClick:()=>{Fe(),M(X)},className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition text-sm font-semibold flex items-center gap-2",children:[t.jsx(ks,{className:"w-4 h-4"}),"Edit"]}),t.jsx("button",{onClick:Fe,className:"p-2 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-lg transition",children:t.jsx(mt,{className:"w-5 h-5"})})]})]}),t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsxs("div",{className:"bg-slate-50 rounded-xl p-6",children:[t.jsx("h4",{className:"text-lg font-bold text-slate-900 mb-4 pb-2 border-b border-slate-200",children:"Basic Information"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-semibold text-slate-600",children:"Service Name"}),t.jsx("p",{className:"text-base text-slate-900 mt-1",children:X.name})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-semibold text-slate-600",children:"Slug"}),t.jsx("p",{className:"text-base text-slate-900 font-mono mt-1",children:X.slug})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-semibold text-slate-600",children:"Icon"}),t.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[t.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center",children:_t.createElement(ft(X.icon),{className:"w-5 h-5 text-primary"})}),t.jsx("span",{className:"text-base text-slate-900",children:X.icon})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-semibold text-slate-600",children:"Display Order"}),t.jsx("p",{className:"text-base text-slate-900 mt-1",children:X.order||0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-semibold text-slate-600",children:"Status"}),t.jsx("p",{className:"mt-1",children:t.jsx("span",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-full text-xs font-semibold ${X.isActive?"bg-emerald-500/10 text-emerald-600":"bg-slate-200 text-slate-600"}`,children:X.isActive?"Active":"Inactive"})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-semibold text-slate-600",children:"Display Price"}),t.jsx("p",{className:"text-base text-slate-900 mt-1",children:X.price||"Not set"})]})]}),X.description&&t.jsxs("div",{className:"mt-4",children:[t.jsx("label",{className:"text-sm font-semibold text-slate-600",children:"Description"}),t.jsx("p",{className:"text-base text-slate-900 mt-1",children:X.description})]}),X.trusted&&t.jsxs("div",{className:"mt-4",children:[t.jsx("label",{className:"text-sm font-semibold text-slate-600",children:"Trusted Text"}),t.jsx("p",{className:"text-base text-slate-900 mt-1",children:X.trusted})]})]}),t.jsxs("div",{className:"bg-slate-50 rounded-xl p-6",children:[t.jsx("h4",{className:"text-lg font-bold text-slate-900 mb-4 pb-2 border-b border-slate-200",children:"Available Cities"}),!X.cities||X.cities.length===0?t.jsx("p",{className:"text-slate-600",children:"Available in all cities"}):t.jsx("div",{className:"flex flex-wrap gap-2",children:X.cities.map((I,ae)=>t.jsx("span",{className:"inline-flex items-center px-3 py-1.5 rounded-lg bg-blue-100 text-blue-700 text-sm font-semibold",children:typeof I=="string"?I:I.name},ae))})]}),X.included&&X.included.length>0&&t.jsxs("div",{className:"bg-slate-50 rounded-xl p-6",children:[t.jsx("h4",{className:"text-lg font-bold text-slate-900 mb-4 pb-2 border-b border-slate-200",children:"Included Items"}),t.jsx("ul",{className:"space-y-2",children:X.included.map((I,ae)=>t.jsxs("li",{className:"flex items-center gap-2 text-slate-900",children:[t.jsx($e,{className:"text-primary flex-shrink-0"}),t.jsx("span",{children:I})]},ae))})]}),X.excluded&&X.excluded.length>0&&t.jsxs("div",{className:"bg-slate-50 rounded-xl p-6",children:[t.jsx("h4",{className:"text-lg font-bold text-slate-900 mb-4 pb-2 border-b border-slate-200",children:"Excluded Items"}),t.jsx("ul",{className:"space-y-2",children:X.excluded.map((I,ae)=>t.jsxs("li",{className:"flex items-center gap-2 text-slate-900",children:[t.jsx(Gt,{className:"text-rose-600 flex-shrink-0"}),t.jsx("span",{children:I})]},ae))})]}),X.addOns&&X.addOns.length>0&&t.jsxs("div",{className:"bg-slate-50 rounded-xl p-6",children:[t.jsx("h4",{className:"text-lg font-bold text-slate-900 mb-4 pb-2 border-b border-slate-200",children:"Add-On Services"}),t.jsx("div",{className:"grid sm:grid-cols-1 gap-4",children:X.addOns.map((I,ae)=>{const Ce=ft(I.icon||"FaTools"),At=(pt=>{if(!pt.basePrice||pt.basePrice<=0)return 0;let dt=pt.basePrice||0;pt.discount>0&&(dt-=dt*pt.discount/100),pt.serviceCharge>0&&(dt+=pt.serviceCharge);const fe=(pt.basePrice||0)-(pt.discount>0?(pt.basePrice||0)*pt.discount/100:0)+(pt.serviceCharge||0);return dt+=fe*(pt.cgst||0)/100+fe*(pt.sgst||0)/100,dt})(I);return t.jsxs("div",{className:"bg-white p-5 rounded-lg border-2 border-slate-200 hover:border-primary/30 transition",children:[t.jsxs("div",{className:"flex items-start gap-4 mb-3",children:[t.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center flex-shrink-0",children:t.jsx(Ce,{className:"w-6 h-6 text-primary"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"font-bold text-slate-900 text-lg",children:I.name}),I.description&&t.jsx("p",{className:"text-sm text-slate-600 mt-1",children:I.description})]})]}),t.jsxs("div",{className:"bg-slate-50 rounded-lg p-3 space-y-1.5 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-600",children:"Base Price:"}),t.jsxs("span",{className:"font-semibold text-slate-900",children:["",(I.basePrice||0).toFixed(2)]})]}),I.discount>0&&t.jsxs("div",{className:"flex justify-between text-rose-600",children:[t.jsxs("span",{children:["Discount (",I.discount,"%):"]}),t.jsxs("span",{children:["-",((I.basePrice||0)*I.discount/100).toFixed(2)]})]}),I.serviceCharge>0&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-600",children:"Service Charge:"}),t.jsxs("span",{className:"font-semibold text-slate-900",children:["+",(I.serviceCharge||0).toFixed(2)]})]}),(I.cgst>0||I.sgst>0)&&t.jsxs("div",{className:"flex justify-between",children:[t.jsxs("span",{className:"text-slate-600",children:["GST (",(I.cgst||0)+(I.sgst||0),"%):"]}),t.jsxs("span",{className:"font-semibold text-slate-900",children:["+",(()=>{const pt=(I.basePrice||0)-(I.discount>0?(I.basePrice||0)*I.discount/100:0)+(I.serviceCharge||0);return(pt*(I.cgst||0)/100+pt*(I.sgst||0)/100).toFixed(2)})()]})]}),t.jsxs("div",{className:"flex justify-between pt-2 mt-2 border-t border-slate-200",children:[t.jsx("span",{className:"font-bold text-slate-900",children:"Total Price:"}),t.jsxs("span",{className:"text-lg font-bold text-primary",children:["",At.toFixed(2)]})]}),I.price&&t.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:["Display Price: ",I.price]})]}),I.included&&I.included.length>0&&t.jsxs("div",{className:"mt-3 pt-3 border-t border-slate-200",children:[t.jsx("h5",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Included Items"}),t.jsx("ul",{className:"space-y-1",children:I.included.map((pt,dt)=>t.jsxs("li",{className:"flex items-center gap-2 text-sm text-slate-700",children:[t.jsx($e,{className:"text-primary flex-shrink-0 text-xs"}),t.jsx("span",{children:pt})]},dt))})]}),I.excluded&&I.excluded.length>0&&t.jsxs("div",{className:"mt-3 pt-3 border-t border-slate-200",children:[t.jsx("h5",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Excluded Items"}),t.jsx("ul",{className:"space-y-1",children:I.excluded.map((pt,dt)=>t.jsxs("li",{className:"flex items-center gap-2 text-sm text-slate-700",children:[t.jsx(Gt,{className:"text-rose-600 flex-shrink-0 text-xs"}),t.jsx("span",{children:pt})]},dt))})]}),I.subServices&&I.subServices.length>0&&t.jsxs("div",{className:"mt-3 pt-3 border-t border-slate-200",children:[t.jsx("h5",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Sub-Services"}),t.jsx("div",{className:"space-y-2",children:I.subServices.map((pt,dt)=>{const fe=ft(pt.icon||"FaTools");return t.jsxs("div",{className:"bg-white p-2 rounded border border-slate-200 flex items-start gap-2",children:[t.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-lg flex items-center justify-center flex-shrink-0",children:t.jsx(fe,{className:"w-4 h-4 text-primary"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"text-sm font-semibold text-slate-900",children:pt.name}),pt.shortDescription&&t.jsx("div",{className:"text-xs text-slate-600 mt-0.5",children:pt.shortDescription}),t.jsx("div",{className:"text-xs text-primary font-semibold mt-1",children:pt.price})]})]},dt)})})]})]},ae)})})]}),t.jsxs("div",{className:"bg-slate-50 rounded-xl p-6",children:[t.jsx("h4",{className:"text-lg font-bold text-slate-900 mb-4 pb-2 border-b border-slate-200",children:"Metadata"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-slate-600 font-semibold",children:"Created At"}),t.jsx("p",{className:"text-slate-900 mt-1",children:X.createdAt?new Date(X.createdAt).toLocaleString():"N/A"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-slate-600 font-semibold",children:"Last Updated"}),t.jsx("p",{className:"text-slate-900 mt-1",children:X.updatedAt?new Date(X.updatedAt).toLocaleString():"N/A"})]})]})]})]})]})})]})},w6e=()=>{const{token:e}=wr(),{data:r,isLoading:s,error:a,refresh:n}=cr(y=>He.fetchFeaturedReviews(y),[]),[i,l]=g.useState(!1),[o,c]=g.useState(null),[d,u]=g.useState({text:"",author:"",rating:5,authorRole:"",authorLocation:"",serviceType:"",isActive:!0,displayOrder:0,featured:!1}),[m,x]=g.useState(!1),h=_t.useMemo(()=>r?typeof r=="string"&&r.trim().startsWith("<!")?[]:typeof r!="object"||r===null?[]:Array.isArray(r)?r:r.success&&Array.isArray(r.data)||Array.isArray(r.data)?r.data:[]:[],[r]),p=()=>{c(null),u({text:"",author:"",rating:5,authorRole:"",authorLocation:"",serviceType:"",isActive:!0,displayOrder:h.length,featured:!1}),l(!0)},f=y=>{c(y),u({text:y.text||"",author:y.author||"",rating:y.rating||5,authorRole:y.authorRole||"",authorLocation:y.authorLocation||"",serviceType:y.serviceType||"",isActive:y.isActive!==void 0?y.isActive:!0,displayOrder:y.displayOrder||0,featured:y.featured||!1}),l(!0)},b=async y=>{y.preventDefault(),x(!0);try{const v={...d,rating:Number(d.rating),displayOrder:Number(d.displayOrder)||0};o?await He.updateFeaturedReview(e,o._id,v):await He.createFeaturedReview(e,v),l(!1),n()}catch(v){alert(v.message||"Failed to save review")}finally{x(!1)}},j=async y=>{if(confirm("Are you sure you want to delete this review?"))try{await He.deleteFeaturedReview(e,y),n()}catch(v){alert(v.message||"Failed to delete review")}},w=y=>[...Array(5)].map((v,N)=>t.jsx("span",{className:N<y?"text-yellow-400":"text-gray-300",children:""},N));return t.jsxs("div",{children:[t.jsx(gs,{title:"Featured Reviews Management",subtitle:"Manage customer reviews displayed on the home page."}),t.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[t.jsx("div",{className:"text-sm text-slate-600",children:h.length>0&&t.jsxs("span",{children:["Total Reviews: ",t.jsx("strong",{children:h.length})]})}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:n,disabled:s,className:"flex items-center gap-2 px-4 py-2 bg-slate-200 text-slate-700 rounded-xl font-semibold hover:bg-slate-300 transition disabled:opacity-50",children:s?"Loading...":"Refresh"}),t.jsxs("button",{onClick:p,className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-xl font-semibold hover:bg-primary-dark transition",children:[t.jsx(Tr,{})," Add New Review"]})]})]}),s?t.jsx("div",{className:"flex justify-center items-center py-12",children:t.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):a?t.jsxs("div",{className:"bg-rose-50 border border-rose-200 text-rose-600 px-6 py-4 rounded-2xl",children:[t.jsx("p",{className:"font-semibold mb-2",children:"Error loading reviews"}),t.jsx("p",{className:"text-sm mb-4",children:a}),t.jsx("button",{onClick:n,className:"px-4 py-2 bg-rose-600 text-white rounded-lg hover:bg-rose-700 transition",children:"Retry"})]}):h.length===0?t.jsxs("div",{className:"bg-slate-50 border-2 border-dashed border-slate-300 rounded-2xl p-12 text-center",children:[t.jsx("p",{className:"text-lg font-semibold text-slate-700 mb-2",children:"No reviews found"}),t.jsx("p",{className:"text-slate-600 mb-6",children:"Add your first customer review to get started"}),t.jsxs("button",{onClick:p,className:"px-6 py-3 bg-primary text-white rounded-xl font-semibold hover:bg-primary-dark transition inline-flex items-center gap-2",children:[t.jsx(Tr,{})," Add First Review"]})]}):t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:h.map(y=>t.jsxs("div",{className:`bg-white border-2 rounded-2xl p-6 shadow-sm hover:shadow-md transition ${y.featured?"border-primary border-l-4":"border-slate-200"}`,children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx("div",{className:"flex gap-1",children:w(y.rating)}),y.featured&&t.jsx("span",{className:"text-xs bg-primary text-white px-2 py-1 rounded",children:"Featured"}),!y.isActive&&t.jsx("span",{className:"text-xs text-rose-600 font-semibold",children:"Inactive"})]}),t.jsxs("p",{className:"text-sm text-gray-600 italic mb-3 line-clamp-3",children:['"',y.text,'"']}),t.jsxs("div",{children:[t.jsxs("p",{className:"text-primary font-semibold",children:[" ",y.author]}),y.authorLocation&&t.jsx("p",{className:"text-xs text-gray-500",children:y.authorLocation}),y.serviceType&&t.jsx("p",{className:"text-xs text-gray-500",children:y.serviceType})]})]}),t.jsxs("div",{className:"flex gap-2 ml-2",children:[t.jsx("button",{onClick:()=>f(y),className:"p-2 hover:bg-slate-100 rounded-lg transition",children:t.jsx(ks,{className:"text-slate-600"})}),t.jsx("button",{onClick:()=>j(y._id),className:"p-2 hover:bg-rose-50 rounded-lg transition",children:t.jsx(Ma,{className:"text-rose-600"})})]})]}),t.jsxs("div",{className:"pt-3 border-t border-slate-200 text-xs text-gray-500",children:["Order: ",y.displayOrder]})]},y._id))}),i&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between z-10",children:[t.jsx("h2",{className:"text-xl font-bold text-slate-900",children:o?"Edit Review":"Add New Review"}),t.jsx("button",{onClick:()=>l(!1),className:"p-2 hover:bg-slate-100 rounded-lg transition",children:t.jsx(mt,{className:"w-5 h-5 text-slate-600"})})]}),t.jsxs("form",{onSubmit:b,className:"p-6 space-y-6",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Review Text ",t.jsx("span",{className:"text-rose-500",children:"*"})]}),t.jsx("textarea",{value:d.text,onChange:y=>u(v=>({...v,text:y.target.value})),required:!0,rows:"4",placeholder:"Enter the customer review text...",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Author Name ",t.jsx("span",{className:"text-rose-500",children:"*"})]}),t.jsx("input",{type:"text",value:d.author,onChange:y=>u(v=>({...v,author:y.target.value})),required:!0,placeholder:"e.g., Rajesh K.",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Rating ",t.jsx("span",{className:"text-rose-500",children:"*"})]}),t.jsxs("select",{value:d.rating,onChange:y=>u(v=>({...v,rating:Number(y.target.value)})),required:!0,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[t.jsx("option",{value:5,children:"5 Stars"}),t.jsx("option",{value:4,children:"4 Stars"}),t.jsx("option",{value:3,children:"3 Stars"}),t.jsx("option",{value:2,children:"2 Stars"}),t.jsx("option",{value:1,children:"1 Star"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Author Role (Optional)"}),t.jsx("input",{type:"text",value:d.authorRole,onChange:y=>u(v=>({...v,authorRole:y.target.value})),placeholder:"e.g., Homeowner, Business Owner",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Location (Optional)"}),t.jsx("input",{type:"text",value:d.authorLocation,onChange:y=>u(v=>({...v,authorLocation:y.target.value})),placeholder:"e.g., Mumbai, Delhi",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Service Type (Optional)"}),t.jsx("input",{type:"text",value:d.serviceType,onChange:y=>u(v=>({...v,serviceType:y.target.value})),placeholder:"e.g., AC Service, Plumbing",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Display Order"}),t.jsx("input",{type:"number",value:d.displayOrder,onChange:y=>u(v=>({...v,displayOrder:y.target.value})),min:"0",placeholder:"0",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:d.isActive,onChange:y=>u(v=>({...v,isActive:y.target.checked})),className:"w-4 h-4 text-primary border-slate-300 rounded focus:ring-primary"}),t.jsx("span",{className:"text-sm font-semibold text-slate-700",children:"Active"})]}),t.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:d.featured,onChange:y=>u(v=>({...v,featured:y.target.checked})),className:"w-4 h-4 text-primary border-slate-300 rounded focus:ring-primary"}),t.jsx("span",{className:"text-sm font-semibold text-slate-700",children:"Featured"})]})]}),t.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200",children:[t.jsx("button",{type:"button",onClick:()=>l(!1),className:"flex-1 px-4 py-2 border border-slate-300 rounded-lg text-slate-700 font-semibold hover:bg-slate-50 transition",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:m,className:"flex-1 px-4 py-2 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",children:m?"Saving...":o?"Update Review":"Create Review"})]})]})]})})]})},N6e=()=>{const{token:e}=wr(),{data:r,isLoading:s,error:a,refresh:n}=cr(L=>He.fetchAMCPlans(L),[]),[i,l]=g.useState("plans"),[o,c]=g.useState([]),[d,u]=g.useState(!1),[m,x]=g.useState(!1),[h,p]=g.useState(null),[f,b]=g.useState({name:"",price:"",priceDisplay:"",features:"",description:"",isActive:!0,displayOrder:0,highlight:!1,highlightText:"",whatsappNumber:"",planType:"business",targetCustomer:"",includedServices:[],serviceFrequency:{},duration:12,durationUnit:"months"}),[j,w]=g.useState([]),[y,v]=g.useState(!1),[N,S]=g.useState(!1),[k,C]=g.useState("all");g.useEffect(()=>{e&&(async()=>{var q;v(!0);try{const se=await He.fetchPopularServices(e);se.success&&(w(se.data||[]),console.log(" Loaded popular services:",((q=se.data)==null?void 0:q.length)||0))}catch(se){console.error(" Failed to fetch popular services:",se)}finally{v(!1)}})()},[e]);const P=_t.useMemo(()=>r?typeof r=="string"&&r.trim().startsWith("<!")?(console.error(" API returned HTML instead of JSON"),[]):typeof r!="object"||r===null?[]:Array.isArray(r)?r:r.success&&Array.isArray(r.data)||Array.isArray(r.data)?r.data:[]:[],[r]);g.useEffect(()=>{P.length>0&&j.length>0&&(console.log(" Plans with services:",P.length,"Popular services:",j.length),P.forEach(L=>{L.includedServices&&L.includedServices.length>0&&L.includedServices.forEach(q=>{const se=typeof q=="object"?q._id:q;!j.find(T=>T._id===se)&&typeof q=="string"&&console.warn(" Service not found in popular services:",se)})}))},[P,j]);const _=()=>{p(null),b({name:"",price:"",priceDisplay:"",features:"",description:"",isActive:!0,displayOrder:P.length,highlight:!1,highlightText:"",whatsappNumber:"",planType:"business",targetCustomer:"",includedServices:[],serviceFrequency:{},duration:12,durationUnit:"months"}),x(!0)},A=L=>{var q;p(L),b({name:L.name||"",price:L.price||"",priceDisplay:L.priceDisplay||`${L.price||""}`,features:((q=L.features)==null?void 0:q.join(`
`))||"",description:L.description||"",isActive:L.isActive!==void 0?L.isActive:!0,displayOrder:L.displayOrder||0,highlight:L.highlight||!1,highlightText:L.highlightText||"",whatsappNumber:L.whatsappNumber||"",planType:L.planType||"business",targetCustomer:L.targetCustomer||"",includedServices:L.includedServices||[],serviceFrequency:L.serviceFrequency||{},duration:L.duration||12,durationUnit:L.durationUnit||"months"}),x(!0)},D=async L=>{L.preventDefault(),S(!0);try{const q={...f,price:Number(f.price),priceDisplay:f.priceDisplay||`${Number(f.price).toLocaleString("en-IN")}`,features:f.features.split(`
`).filter(se=>se.trim()),displayOrder:Number(f.displayOrder)||0,duration:Number(f.duration)||12,durationUnit:f.durationUnit||"months",planType:f.planType||"business",targetCustomer:f.targetCustomer||"",includedServices:f.includedServices||[],serviceFrequency:f.serviceFrequency||{}};h?await He.updateAMCPlan(e,h._id,q):await He.createAMCPlan(e,q),x(!1),n()}catch(q){alert(q.message||"Failed to save plan")}finally{S(!1)}},F=async L=>{if(confirm("Are you sure you want to delete this plan?"))try{await He.deleteAMCPlan(e,L),n()}catch(q){alert(q.message||"Failed to delete plan")}},X=async()=>{if(confirm("This will generate AMC plans based on your popular services. Existing plans with the same names will not be overwritten. Continue?")){S(!0);try{const L=await He.generateAMCPlansFromServices(e);alert(`Successfully generated ${L.data.createdPlans} AMC plans from ${L.data.totalServices} popular services!`),n()}catch(L){alert(L.message||"Failed to generate AMC plans from services")}finally{S(!1)}}},ce=async()=>{var L;v(!0);try{const q=await He.fetchPopularServices(e);q.success&&(w(q.data||[]),console.log(" Refreshed popular services:",((L=q.data)==null?void 0:L.length)||0))}catch(q){console.error(" Failed to refresh popular services:",q),alert("Failed to refresh services. Please try again.")}finally{v(!1)}},he=async()=>{u(!0);try{const L=await He.fetchAMCSubscribers(e);L.success?c(L.data||[]):c([])}catch(L){console.error("Error fetching subscribers:",L),c([])}finally{u(!1)}};return _t.useEffect(()=>{i==="subscribers"&&he()},[i]),t.jsx("div",{className:"min-h-screen bg-gray-50",children:t.jsxs("div",{className:"max-w-7xl mx-auto p-4",children:[t.jsxs("div",{className:"mb-6",children:[t.jsx(gs,{title:"AMC Plans Management",subtitle:"Create and manage service-based AMC plans for different customer segments"}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mt-4",children:[t.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center",children:t.jsx(yo,{className:"w-5 h-5 text-primary"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xl font-bold text-gray-900",children:P.length}),t.jsx("div",{className:"text-xs text-gray-600",children:"Total Plans"})]})]})}),t.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center",children:t.jsx(kl,{className:"w-5 h-5 text-primary"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xl font-bold text-gray-900",children:j.length}),t.jsx("div",{className:"text-xs text-gray-600",children:"Services"})]})]})}),t.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:t.jsx(vt,{className:"w-5 h-5 text-green-600"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xl font-bold text-gray-900",children:P.filter(L=>L.isActive).length}),t.jsx("div",{className:"text-xs text-gray-600",children:"Active"})]})]})}),t.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:t.jsx(Eh,{className:"w-5 h-5 text-blue-600"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xl font-bold text-gray-900",children:P.filter(L=>L.includedServices&&L.includedServices.length>0).length}),t.jsx("div",{className:"text-xs text-gray-600",children:"Service-Based"})]})]})})]})]}),t.jsx("div",{className:"mb-6",children:t.jsxs("div",{className:"bg-white rounded-xl p-1 shadow-sm border border-gray-200 inline-flex",children:[t.jsxs("button",{onClick:()=>l("plans"),className:`px-4 py-2 rounded-lg font-medium transition-all duration-200 flex items-center gap-2 text-sm ${i==="plans"?"bg-primary text-white shadow-sm":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[t.jsx(yo,{className:"w-4 h-4"}),"Plans Management"]}),t.jsxs("button",{onClick:()=>l("subscribers"),className:`px-4 py-2 rounded-lg font-medium transition-all duration-200 flex items-center gap-2 text-sm ${i==="subscribers"?"bg-primary text-white shadow-sm":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[t.jsx(Mr,{className:"w-4 h-4"}),"Plan Subscribers"]})]})}),i==="plans"?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"mb-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Filter:"}),t.jsxs("div",{className:"flex gap-1",children:[t.jsxs("button",{onClick:()=>C("all"),className:`px-3 py-1.5 text-xs font-medium rounded-lg transition flex items-center gap-1.5 ${k==="all"?"bg-primary text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[t.jsx(yo,{className:"w-3 h-3"}),"All Plans"]}),t.jsxs("button",{onClick:()=>C("individual"),className:`px-3 py-1.5 text-xs font-medium rounded-lg transition flex items-center gap-1.5 ${k==="individual"?"bg-primary text-white":"bg-blue-50 text-blue-700 hover:bg-blue-100"}`,children:[t.jsx(Za,{className:"w-3 h-3"}),"Individual"]}),t.jsxs("button",{onClick:()=>C("business"),className:`px-3 py-1.5 text-xs font-medium rounded-lg transition flex items-center gap-1.5 ${k==="business"?"bg-primary text-white":"bg-green-50 text-green-700 hover:bg-green-100"}`,children:[t.jsx(Eh,{className:"w-3 h-3"}),"Business"]}),t.jsxs("button",{onClick:()=>C("corporate"),className:`px-3 py-1.5 text-xs font-medium rounded-lg transition flex items-center gap-1.5 ${k==="corporate"?"bg-primary text-white":"bg-purple-50 text-purple-700 hover:bg-purple-100"}`,children:[t.jsx(yo,{className:"w-3 h-3"}),"Corporate"]})]})]})}),t.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[t.jsxs("div",{className:"flex items-center gap-6 text-sm text-slate-600",children:[P.length>0&&t.jsxs("span",{children:["Total Plans: ",t.jsx("strong",{children:P.length}),k!=="all"&&t.jsxs("span",{className:"ml-2 text-xs text-slate-500",children:["(Showing ",P.filter(L=>L.planType===k).length," ",k," plans)"]})]}),t.jsxs("span",{className:j.length>0?"text-green-600":"text-red-600",children:["Available Services: ",t.jsx("strong",{children:j.length}),j.length===0&&t.jsx("span",{className:"ml-2 text-xs",children:"( No services loaded)"})]}),P.length>0&&t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("span",{children:[" Individual: ",t.jsx("strong",{children:P.filter(L=>L.planType==="individual").length})]}),t.jsxs("span",{children:[" Business: ",t.jsx("strong",{children:P.filter(L=>L.planType==="business").length})]}),t.jsxs("span",{children:[" Corporate: ",t.jsx("strong",{children:P.filter(L=>L.planType==="corporate").length})]})]}),y&&t.jsxs("span",{className:"text-blue-600",children:[t.jsx("span",{className:"animate-spin inline-block mr-1",children:""}),"Loading services..."]})]}),t.jsxs("div",{className:"flex flex-wrap gap-2 justify-end",children:[t.jsxs("button",{onClick:n,disabled:s,className:"flex items-center gap-2 px-3 py-2 bg-white border border-gray-200 text-gray-700 rounded-lg text-sm font-medium hover:border-gray-300 hover:shadow-sm transition-all disabled:opacity-50",children:[t.jsx(Dt,{className:`w-4 h-4 ${s?"animate-spin":""}`}),s?"Loading...":"Refresh"]}),t.jsxs("button",{onClick:ce,disabled:y,className:"flex items-center gap-2 px-3 py-2 bg-blue-50 border border-blue-200 text-blue-700 rounded-lg text-sm font-medium hover:bg-blue-100 transition-all disabled:opacity-50",children:[t.jsx(kl,{className:`w-4 h-4 ${y?"animate-spin":""}`}),"Services"]}),t.jsxs("button",{onClick:X,disabled:N||y||j.length===0,className:"flex items-center gap-2 px-3 py-2 bg-primary/10 border border-primary/20 text-primary rounded-lg text-sm font-medium hover:bg-primary/20 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:[t.jsx(lr,{className:`w-4 h-4 ${N?"animate-spin":""}`}),N?"Generating...":"Auto-Generate"]}),t.jsxs("button",{onClick:_,className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg text-sm font-medium hover:bg-primary-dark shadow-sm hover:shadow-md transition-all",children:[t.jsx(Tr,{className:"w-4 h-4"}),"Create Plan"]})]})]}),s?t.jsx("div",{className:"flex justify-center items-center py-12",children:t.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):a?t.jsxs("div",{className:"bg-rose-50 border border-rose-200 text-rose-600 px-6 py-4 rounded-2xl",children:[t.jsx("p",{className:"font-semibold mb-2",children:"Error loading plans"}),t.jsx("p",{className:"text-sm mb-4",children:a}),t.jsx("button",{onClick:n,className:"px-4 py-2 bg-rose-600 text-white rounded-lg hover:bg-rose-700 transition",children:"Retry"})]}):P.length===0?t.jsxs("div",{className:"bg-slate-50 border-2 border-dashed border-slate-300 rounded-2xl p-12 text-center",children:[t.jsx("p",{className:"text-lg font-semibold text-slate-700 mb-2",children:"No AMC plans found"}),t.jsx("p",{className:"text-slate-600 mb-6",children:"Create your first AMC plan to get started."}),t.jsxs("div",{className:"flex gap-3 justify-center",children:[t.jsxs("button",{onClick:_,className:"px-6 py-3 bg-primary text-white rounded-xl font-semibold hover:bg-primary-dark transition inline-flex items-center gap-2",children:[t.jsx(Tr,{})," Create First Plan"]}),t.jsx("button",{onClick:n,className:"px-6 py-3 bg-slate-200 text-slate-700 rounded-xl font-semibold hover:bg-slate-300 transition inline-flex items-center gap-2",children:"Refresh"})]})]}):t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:P.filter(L=>k==="all"||L.planType===k).map(L=>{var q,se,R,T;return t.jsxs("div",{className:`bg-white rounded-xl shadow-sm hover:shadow-md transition-all duration-200 overflow-hidden relative border ${L.highlight?"border-primary shadow-md":"border-gray-200 hover:border-gray-300"}`,children:[t.jsx("div",{className:`absolute top-0 right-0 px-2 py-1 rounded-bl-lg text-xs font-medium ${L.planType==="individual"?"bg-blue-500 text-white":L.planType==="business"?"bg-green-500 text-white":L.planType==="corporate"?"bg-purple-500 text-white":"bg-gray-500 text-white"}`,children:L.planType==="individual"?t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(Za,{className:"w-3 h-3"}),t.jsx("span",{children:"Individual"})]}):L.planType==="business"?t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(Eh,{className:"w-3 h-3"}),t.jsx("span",{children:"Business"})]}):L.planType==="corporate"?t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(yo,{className:"w-3 h-3"}),t.jsx("span",{children:"Corporate"})]}):t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(yo,{className:"w-3 h-3"}),t.jsx("span",{children:"General"})]})}),L.highlight&&t.jsx("div",{className:"absolute top-2 left-2 bg-primary text-white px-2 py-1 rounded-lg text-xs font-medium shadow-sm",children:L.highlightText||"Featured"}),t.jsxs("div",{className:"p-4 pt-8",children:[t.jsxs("div",{className:"flex items-start justify-between mb-3",children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-1 truncate",children:L.name}),L.targetCustomer&&t.jsx("p",{className:"text-xs text-gray-600 mb-2 line-clamp-2",children:L.targetCustomer}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsxs("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${L.isActive?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[t.jsx(vt,{className:"w-3 h-3 mr-1"}),L.isActive?"Active":"Inactive"]})})]}),t.jsxs("div",{className:"flex gap-1 ml-2",children:[t.jsx("button",{onClick:()=>A(L),className:"p-2 bg-blue-50 hover:bg-blue-100 text-blue-600 rounded-lg transition-colors",title:"Edit Plan",children:t.jsx(ks,{className:"w-3 h-3"})}),t.jsx("button",{onClick:()=>F(L._id),className:"p-2 bg-red-50 hover:bg-red-100 text-red-600 rounded-lg transition-colors",title:"Delete Plan",children:t.jsx(Ma,{className:"w-3 h-3"})})]})]}),t.jsxs("div",{className:"bg-primary/5 rounded-lg p-3 mb-3 text-center",children:[t.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[t.jsx(Ad,{className:"w-4 h-4 text-primary"}),t.jsx("span",{className:"text-2xl font-bold text-primary",children:((q=L.price)==null?void 0:q.toLocaleString("en-IN"))||0})]}),t.jsxs("div",{className:"text-xs text-gray-600",children:["per ",L.durationUnit==="years"?"year":`${L.duration||12} months`]})]}),L.description&&t.jsx("div",{className:"mb-3",children:t.jsx("p",{className:"text-xs text-gray-600 bg-gray-50 p-2 rounded-lg",children:L.description})}),t.jsxs("div",{className:"mb-3",children:[t.jsxs("h4",{className:"text-xs font-semibold text-gray-700 mb-2 flex items-center gap-1",children:[t.jsx(vt,{className:"w-3 h-3 text-green-600"}),"Features (",((se=L.features)==null?void 0:se.length)||0,")"]}),t.jsxs("div",{className:"space-y-1",children:[(R=L.features)==null?void 0:R.slice(0,3).map((O,K)=>t.jsxs("div",{className:"flex items-start gap-2 text-xs text-gray-700",children:[t.jsx($e,{className:"text-green-600 flex-shrink-0 mt-0.5 w-2 h-2"}),t.jsx("span",{className:"line-clamp-2",children:O})]},K)),((T=L.features)==null?void 0:T.length)>3&&t.jsxs("div",{className:"text-xs text-gray-500",children:["+",L.features.length-3," more features"]})]})]}),L.includedServices&&L.includedServices.length>0&&t.jsxs("div",{className:"mb-3",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("h4",{className:"text-xs font-semibold text-gray-700 flex items-center gap-1",children:[t.jsx(kl,{className:"w-3 h-3 text-primary"}),"Services",t.jsx("span",{className:"bg-primary/10 text-primary px-1.5 py-0.5 rounded text-xs font-medium",children:L.includedServices.length})]}),j.length===0&&t.jsx("button",{onClick:ce,className:"text-xs text-blue-600 hover:text-blue-700 underline",children:"Load"})]}),t.jsxs("div",{className:"space-y-2",children:[L.includedServices.slice(0,4).map((O,K)=>{var B;let U=null,ee=null;typeof O=="object"&&O!==null?(U=O,ee=O._id):(ee=O,U=j.find(Y=>Y._id===ee));const M=(B=L.serviceFrequency)==null?void 0:B[ee],H=Y=>({FaSnowflake:Ju,FaBolt:Nl,FaTint:Qu,FaBroom:Ku,FaPaintRoller:Xu,FaTools:fa,FaHammer:Yu,FaFilter:id,FaPlug:Dy,FaWrench:V0})[Y]||fa;if(U){const Y=H(U.icon);return t.jsxs("div",{className:"flex items-center justify-between p-2 bg-primary/5 rounded-lg border border-primary/10",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-6 h-6 bg-white rounded-md flex items-center justify-center",children:t.jsx(Y,{className:"w-3 h-3 text-primary"})}),t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsx("div",{className:"text-xs font-medium text-gray-800 truncate",children:U.name}),U.price&&t.jsx("div",{className:"text-xs text-gray-500",children:U.price})]})]}),M&&t.jsx("div",{className:"text-right ml-2",children:t.jsx("div",{className:"text-xs font-semibold text-primary",children:M==="unlimited"?"":`${M}x`})})]},K)}else return t.jsx("div",{className:"flex items-center justify-between p-2 bg-yellow-50 rounded-lg border border-yellow-200",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-6 h-6 bg-yellow-100 rounded-md flex items-center justify-center",children:t.jsx(mt,{className:"w-3 h-3 text-yellow-600"})}),t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsx("div",{className:"text-xs font-medium text-yellow-800",children:"Unavailable"}),t.jsx("div",{className:"text-xs text-yellow-600 font-mono",children:(ee==null?void 0:ee.slice(-6))||"Unknown"})]})]})},K)}),L.includedServices.length>3&&t.jsx("div",{className:"text-center mt-2",children:t.jsxs("div",{className:"inline-flex items-center px-2 py-1 bg-gray-100 rounded-lg text-xs text-gray-600 font-medium",children:[t.jsx(yo,{className:"w-3 h-3 mr-1"}),"+",L.includedServices.length-3," more"]})})]})]}),t.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200",children:t.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[t.jsxs("div",{className:"bg-gray-50 p-2 rounded-lg",children:[t.jsx("div",{className:"text-gray-500 mb-0.5",children:"Duration"}),t.jsxs("div",{className:"font-medium text-gray-700",children:[L.duration||12," ",L.durationUnit||"months"]})]}),t.jsxs("div",{className:"bg-gray-50 p-2 rounded-lg",children:[t.jsx("div",{className:"text-gray-500 mb-0.5",children:"Order"}),t.jsx("div",{className:"font-medium text-gray-700",children:L.displayOrder})]})]})})]})]},L._id)})}),m&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between z-10",children:[t.jsx("h2",{className:"text-xl font-bold text-slate-900",children:h?"Edit AMC Plan":"Create AMC Plan"}),t.jsx("button",{onClick:()=>x(!1),className:"p-2 hover:bg-slate-100 rounded-lg transition",children:t.jsx(mt,{className:"w-5 h-5 text-slate-600"})})]}),t.jsxs("form",{onSubmit:D,className:"p-6 space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Plan Name ",t.jsx("span",{className:"text-rose-500",children:"*"})]}),t.jsx("input",{type:"text",value:f.name,onChange:L=>b(q=>({...q,name:L.target.value})),required:!0,placeholder:"e.g., Basic, Standard, Premium",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Price () ",t.jsx("span",{className:"text-rose-500",children:"*"})]}),t.jsx("input",{type:"number",value:f.price,onChange:L=>{const q=L.target.value;b(se=>({...se,price:q,priceDisplay:se.priceDisplay||`${Number(q).toLocaleString("en-IN")}`}))},required:!0,min:"0",step:"0.01",placeholder:"2500",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Price Display"}),t.jsx("input",{type:"text",value:f.priceDisplay,onChange:L=>b(q=>({...q,priceDisplay:L.target.value})),placeholder:"2,500 (auto-generated if empty)",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Plan Type ",t.jsx("span",{className:"text-rose-500",children:"*"})]}),t.jsxs("select",{value:f.planType,onChange:L=>b(q=>({...q,planType:L.target.value})),required:!0,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[t.jsx("option",{value:"individual",children:" Individual (Homeowners)"}),t.jsx("option",{value:"business",children:" Business (Small-Medium)"}),t.jsx("option",{value:"corporate",children:" Corporate (Large Enterprise)"})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Target Customer Description"}),t.jsx("input",{type:"text",value:f.targetCustomer,onChange:L=>b(q=>({...q,targetCustomer:L.target.value})),placeholder:"e.g., Small businesses with 10-50 employees, Homeowners with 2-3 BHK",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"}),t.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Optional description of who this plan is designed for"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Display Order"}),t.jsx("input",{type:"number",value:f.displayOrder,onChange:L=>b(q=>({...q,displayOrder:L.target.value})),min:"0",placeholder:"0",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsx("div",{className:"flex items-end",children:t.jsxs("div",{className:"w-full",children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Plan Category"}),t.jsx("div",{className:`px-4 py-2 rounded-lg border-2 text-sm font-medium ${f.planType==="individual"?"border-blue-200 bg-blue-50 text-blue-700":f.planType==="business"?"border-green-200 bg-green-50 text-green-700":"border-purple-200 bg-purple-50 text-purple-700"}`,children:f.planType==="individual"?" Individual Plan":f.planType==="business"?" Business Plan":" Corporate Plan"})]})})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Features ",t.jsx("span",{className:"text-rose-500",children:"*"}),t.jsx("span",{className:"text-xs text-gray-500 ml-2",children:"(One per line)"})]}),t.jsx("textarea",{value:f.features,onChange:L=>b(q=>({...q,features:L.target.value})),required:!0,rows:"6",placeholder:`Monthly inspection
Basic repairs included
Electrical maintenance
Plumbing maintenance
AC service (quarterly)`,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Plan Duration"}),t.jsx("input",{type:"number",value:f.duration,onChange:L=>b(q=>({...q,duration:parseInt(L.target.value)||1})),min:"1",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"12"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Duration Unit"}),t.jsxs("select",{value:f.durationUnit,onChange:L=>b(q=>({...q,durationUnit:L.target.value})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[t.jsx("option",{value:"months",children:"Months"}),t.jsx("option",{value:"years",children:"Years"})]})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-3",children:[" Select Services for AMC Plan",t.jsx("span",{className:"text-xs text-slate-500 ml-2 block mt-1",children:"Choose which services to include in this AMC plan and configure their frequencies"})]}),y?t.jsx("div",{className:"flex items-center justify-center py-8",children:t.jsx("div",{className:"text-sm text-slate-500",children:"Loading available services..."})}):t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-4",children:[t.jsx("div",{className:"text-xs font-semibold text-slate-700 mr-2",children:"Quick Select:"}),t.jsx("button",{type:"button",onClick:()=>{const L=j.filter(q=>["ac","electrical","plumbing"].some(se=>q.name.toLowerCase().includes(se))).map(q=>q._id);b(q=>({...q,includedServices:L,serviceFrequency:L.reduce((se,R)=>({...se,[R]:"4"}),{})}))},className:"px-3 py-1.5 text-xs bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition font-semibold",children:" Essential (AC, Electrical, Plumbing)"}),t.jsx("button",{type:"button",onClick:()=>{const L=j.filter(q=>["cleaning","maintenance","repair"].some(se=>q.name.toLowerCase().includes(se))).map(q=>q._id);b(q=>({...q,includedServices:L,serviceFrequency:L.reduce((se,R)=>({...se,[R]:"6"}),{})}))},className:"px-3 py-1.5 text-xs bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition font-semibold",children:" Maintenance & Cleaning"}),t.jsx("button",{type:"button",onClick:()=>{const L=j.map(q=>q._id);b(q=>({...q,includedServices:L,serviceFrequency:L.reduce((se,R)=>({...se,[R]:"2"}),{})}))},className:"px-3 py-1.5 text-xs bg-primary/10 text-primary rounded-lg hover:bg-primary/20 transition font-semibold",children:" All Services"}),t.jsx("button",{type:"button",onClick:()=>b(L=>({...L,includedServices:[],serviceFrequency:{}})),className:"px-3 py-1.5 text-xs bg-slate-100 text-slate-600 rounded-lg hover:bg-slate-200 transition font-semibold",children:" Clear All"})]}),t.jsxs("div",{className:"border-2 border-slate-200 rounded-xl bg-slate-50 p-4",children:[t.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[t.jsxs("span",{className:"text-sm font-medium text-slate-700",children:["Available Services (",j.length,")"]}),t.jsxs("span",{className:"text-xs text-slate-500",children:[f.includedServices.length," selected"]})]}),t.jsx("div",{className:"grid grid-cols-1 gap-3 max-h-80 overflow-y-auto",children:j.length===0?t.jsxs("div",{className:"text-center py-12 bg-white rounded-lg border-2 border-dashed border-slate-300",children:[t.jsx("div",{className:"text-4xl mb-3",children:""}),t.jsx("div",{className:"text-sm font-medium text-slate-600 mb-1",children:"No services available"}),t.jsx("div",{className:"text-xs text-slate-500",children:"Please add popular services first to include them in AMC plans"})]}):j.map(L=>{const q=f.includedServices.includes(L._id),se=R=>({FaSnowflake:"",FaBolt:"",FaTint:"",FaBroom:"",FaPaintRoller:"",FaTools:"",FaHammer:"",FaFilter:"",FaPlug:"",FaWrench:""})[R]||"";return t.jsxs("div",{className:`bg-white rounded-lg border-2 transition-all duration-200 ${q?"border-primary shadow-lg ring-2 ring-primary/20":"border-slate-200 hover:border-slate-300 hover:shadow-md"}`,children:[t.jsx("div",{className:`p-4 ${q?"bg-primary/5":""}`,children:t.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:q,onChange:R=>{R.target.checked?b(T=>({...T,includedServices:[...T.includedServices,L._id],serviceFrequency:{...T.serviceFrequency,[L._id]:"4"}})):b(T=>({...T,includedServices:T.includedServices.filter(O=>O!==L._id),serviceFrequency:{...T.serviceFrequency,[L._id]:void 0}}))},className:"w-5 h-5 text-primary rounded focus:ring-primary"}),t.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[t.jsx("span",{className:"text-2xl",children:se(L.icon)}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("h4",{className:"text-sm font-semibold text-slate-900",children:L.name}),t.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${L.isActive?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:L.isActive?" Active":" Inactive"})]}),t.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[L.price&&t.jsx("span",{className:"text-xs font-medium text-primary bg-primary/10 px-2 py-0.5 rounded",children:L.price}),L.basePrice&&t.jsxs("span",{className:"text-xs text-slate-500",children:["Base: ",L.basePrice]})]})]})]})]})}),q&&t.jsx("div",{className:"px-4 pb-4 border-t border-slate-200 bg-slate-50/50",children:t.jsxs("div",{className:"pt-4 space-y-3",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-xs font-semibold text-slate-700 mb-2",children:[" Service Frequency (per ",f.durationUnit==="years"?"year":f.duration+" months",")"]}),t.jsxs("select",{value:f.serviceFrequency[L._id]||"4",onChange:R=>b(T=>({...T,serviceFrequency:{...T.serviceFrequency,[L._id]:R.target.value}})),className:"w-full px-3 py-2 text-sm border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary bg-white",children:[t.jsx("option",{value:"1",children:"1 time (Annual) - Basic maintenance"}),t.jsx("option",{value:"2",children:"2 times (Bi-annual) - Standard care"}),t.jsx("option",{value:"4",children:"4 times (Quarterly) - Regular maintenance"}),t.jsx("option",{value:"6",children:"6 times (Bi-monthly) - Frequent care"}),t.jsx("option",{value:"12",children:"12 times (Monthly) - Premium maintenance"}),t.jsx("option",{value:"unlimited",children:"Unlimited visits - On-demand"})]})]}),L.basePrice&&t.jsxs("div",{className:"bg-green-50 border border-green-200 p-3 rounded-lg",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs font-medium text-green-800",children:" Estimated Cost"}),t.jsxs("span",{className:"text-sm font-bold text-green-700",children:["",f.serviceFrequency[L._id]==="unlimited"?(L.basePrice*12).toLocaleString("en-IN"):((L.basePrice||0)*parseInt(f.serviceFrequency[L._id]||4)).toLocaleString("en-IN")]})]}),t.jsx("div",{className:"text-xs text-green-600 mt-1",children:f.serviceFrequency[L._id]==="unlimited"?"Unlimited visits (calculated as 12x base price)":`${L.basePrice}  ${f.serviceFrequency[L._id]||4} visits`})]}),t.jsxs("div",{className:"bg-blue-50 border border-blue-200 p-3 rounded-lg",children:[t.jsx("div",{className:"text-xs font-medium text-blue-800 mb-1",children:" Recommendation"}),t.jsxs("div",{className:"text-xs text-blue-700",children:[L.name.toLowerCase().includes("ac")&&"AC services work best with quarterly maintenance for optimal performance",L.name.toLowerCase().includes("electrical")&&"Electrical systems should be inspected bi-annually for safety",L.name.toLowerCase().includes("plumbing")&&"Plumbing maintenance prevents major issues when done annually",L.name.toLowerCase().includes("cleaning")&&"Regular cleaning maintains hygiene and professional appearance",!L.name.toLowerCase().match(/(ac|electrical|plumbing|cleaning)/)&&"Configure frequency based on your business requirements"]})]})]})})]},L._id)})}),f.includedServices.length>0&&t.jsxs("div",{className:"mt-4 p-4 bg-gradient-to-r from-primary/5 to-primary/10 border-2 border-primary/20 rounded-xl",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h4",{className:"text-sm font-bold text-slate-800 flex items-center gap-2",children:" AMC Plan Summary"}),t.jsxs("span",{className:"px-3 py-1 bg-primary text-white text-xs font-semibold rounded-full",children:[f.includedServices.length," Services"]})]}),t.jsx("div",{className:"grid grid-cols-1 gap-2 mb-4",children:f.includedServices.map(L=>{const q=j.find(O=>O._id===L),se=f.serviceFrequency[L]||"4",R=(q==null?void 0:q.basePrice)||0,T=se==="unlimited"?R*12:R*parseInt(se);return q?t.jsxs("div",{className:"flex items-center justify-between py-2 px-3 bg-white rounded-lg border border-slate-200",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("span",{className:"text-lg",children:q.icon==="FaSnowflake"?"":q.icon==="FaBolt"?"":q.icon==="FaTint"?"":q.icon==="FaBroom"?"":""}),t.jsxs("div",{children:[t.jsx("span",{className:"text-sm font-medium text-slate-800",children:q.name}),t.jsx("div",{className:"text-xs text-slate-500",children:se==="unlimited"?"Unlimited visits":`${se} visits per ${f.durationUnit==="years"?"year":f.duration+" months"}`})]})]}),R>0&&t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"text-sm font-semibold text-primary",children:["",T.toLocaleString("en-IN")]}),t.jsxs("div",{className:"text-xs text-slate-500",children:["",R,"  ",se==="unlimited"?"12":se]})]})]},L):null})}),t.jsxs("div",{className:"border-t border-primary/20 pt-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-sm font-semibold text-slate-800",children:" Total Estimated Cost"}),t.jsxs("span",{className:"text-xl font-bold text-primary",children:["",f.includedServices.reduce((L,q)=>{const se=j.find(K=>K._id===q),R=f.serviceFrequency[q]||"4",T=(se==null?void 0:se.basePrice)||0,O=R==="unlimited"?T*12:T*parseInt(R);return L+O},0).toLocaleString("en-IN")]})]}),t.jsxs("div",{className:"text-xs text-slate-600 mb-3",children:["Per ",f.durationUnit==="years"?"year":f.duration+" months","  Based on service base prices"]}),t.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 p-3 rounded-lg",children:[t.jsx("div",{className:"text-xs font-medium text-yellow-800 mb-1",children:" Pricing Tip"}),t.jsx("div",{className:"text-xs text-yellow-700",children:"Set your plan price above to add profit margin or offer customer discounts. Consider market rates and competitor pricing."})]})]})]}),t.jsx("div",{className:"mt-4",children:t.jsx("p",{className:"text-xs text-slate-500 text-center",children:f.includedServices.length===0?"No services selected - Select services above to include in this AMC plan":` ${f.includedServices.length} service${f.includedServices.length===1?"":"s"} selected for this AMC plan`})})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Description"}),t.jsx("textarea",{value:f.description,onChange:L=>b(q=>({...q,description:L.target.value})),rows:"3",placeholder:"Optional description for the plan",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"WhatsApp Number (Optional)"}),t.jsx("input",{type:"text",value:f.whatsappNumber,onChange:L=>b(q=>({...q,whatsappNumber:L.target.value})),placeholder:"919590926068",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:f.isActive,onChange:L=>b(q=>({...q,isActive:L.target.checked})),className:"w-4 h-4 text-primary border-slate-300 rounded focus:ring-primary"}),t.jsx("span",{className:"text-sm font-semibold text-slate-700",children:"Active"})]}),t.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:f.highlight,onChange:L=>b(q=>({...q,highlight:L.target.checked})),className:"w-4 h-4 text-primary border-slate-300 rounded focus:ring-primary"}),t.jsx("span",{className:"text-sm font-semibold text-slate-700",children:"Highlight"})]})]})]}),f.highlight&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Highlight Text"}),t.jsx("input",{type:"text",value:f.highlightText,onChange:L=>b(q=>({...q,highlightText:L.target.value})),placeholder:"e.g., Most Popular, Recommended",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200",children:[t.jsx("button",{type:"button",onClick:()=>x(!1),className:"flex-1 px-4 py-2 border border-slate-300 rounded-lg text-slate-700 font-semibold hover:bg-slate-50 transition",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:N,className:"flex-1 px-4 py-2 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",children:N?"Saving...":h?"Update Plan":"Create Plan"})]})]})]})})]}):t.jsxs("div",{children:[t.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[t.jsx("div",{className:"text-sm text-slate-600",children:o.length>0&&t.jsxs("span",{children:["Total Subscribers: ",t.jsx("strong",{children:o.length})]})}),t.jsx("button",{onClick:he,disabled:d,className:"flex items-center gap-2 px-4 py-2 bg-slate-200 text-slate-700 rounded-xl font-semibold hover:bg-slate-300 transition disabled:opacity-50",children:d?"Loading...":"Refresh"})]}),d?t.jsx("div",{className:"flex justify-center items-center py-12",children:t.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):o.length===0?t.jsxs("div",{className:"bg-slate-50 border-2 border-dashed border-slate-300 rounded-2xl p-12 text-center",children:[t.jsx("p",{className:"text-lg font-semibold text-slate-700 mb-2",children:"No subscribers yet"}),t.jsx("p",{className:"text-slate-600",children:"Users who purchase AMC plans will appear here."})]}):t.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-700 uppercase tracking-wider",children:"User"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-700 uppercase tracking-wider",children:"Plan"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-700 uppercase tracking-wider",children:"Amount"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-700 uppercase tracking-wider",children:"Transaction ID"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-700 uppercase tracking-wider",children:"Status"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-700 uppercase tracking-wider",children:"Subscribed On"})]})}),t.jsx("tbody",{className:"divide-y divide-slate-200",children:o.map((L,q)=>{var se;return t.jsxs("tr",{className:"hover:bg-slate-50 transition",children:[t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{children:[t.jsx("div",{className:"font-semibold text-slate-900",children:L.userName||"N/A"}),t.jsx("div",{className:"text-sm text-slate-600",children:L.userEmail||L.userPhone||"N/A"})]})}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("div",{className:"font-medium text-slate-900",children:L.planName||"N/A"})}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"font-semibold text-primary",children:["",((se=L.amount)==null?void 0:se.toLocaleString("en-IN"))||"0"]})}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("div",{className:"font-mono text-xs text-slate-600",children:L.txnid||"N/A"})}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("span",{className:`inline-flex px-3 py-1 rounded-full text-xs font-semibold ${L.status==="active"?"bg-green-100 text-green-800":L.status==="expired"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:L.status||"pending"})}),t.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:L.subscribedAt?new Date(L.subscribedAt).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}):"N/A"})]},q)})})]})})})]})]})})},S6e=()=>{const{token:e}=wr(),[r,s]=g.useState({isReady:!1,isAuthenticated:!1,qrCode:null,autoReconnect:!0,reconnectAttempts:0,isReconnecting:!1}),[a,n]=g.useState(!1),[i,l]=g.useState(null),[o,c]=g.useState(null),[d,u]=g.useState(""),[m,x]=g.useState(""),[h,p]=g.useState(!1),[f,b]=g.useState(!1),j=g.useRef(!1);g.useEffect(()=>{if(w(),!r.isReady||r.isReconnecting){b(!0);const k=setInterval(()=>{w()},15e3);return()=>{clearInterval(k),b(!1)}}else b(!1)},[r.isReady,r.isReconnecting]);const w=async()=>{if(!j.current){j.current=!0;try{const k=await He.getWhatsAppStatus(e);k.success&&s(C=>{const P={isReady:k.isReady||!1,isAuthenticated:k.isAuthenticated||!1,qrCode:k.qrCode||null,autoReconnect:k.autoReconnect!==void 0?k.autoReconnect:!0,reconnectAttempts:k.reconnectAttempts||0,isReconnecting:k.isReconnecting||!1};return C.isReady!==P.isReady||C.isReconnecting!==P.isReconnecting||C.qrCode!==P.qrCode||C.reconnectAttempts!==P.reconnectAttempts?P:C})}catch(k){console.error("Error checking status:",k)}finally{j.current=!1}}},y=async()=>{n(!0),l(null),c(null);try{const k=await He.initializeWhatsApp(e);k.success&&(s({isReady:k.isReady||!1,isAuthenticated:k.isAuthenticated||!1,qrCode:k.qrCode||null}),c("WhatsApp client initialized. Please scan the QR code."),setTimeout(()=>{v()},2e3))}catch(k){l(k.message||"Failed to initialize WhatsApp")}finally{n(!1)}},v=async()=>{try{const k=await He.getWhatsAppQRCode(e);k.success&&s(C=>({...C,qrCode:k.qrCode||null,isReady:k.isReady||!1,isAuthenticated:k.isAuthenticated||!1}))}catch(k){console.error("Error fetching QR code:",k)}},N=async()=>{if(window.confirm("Are you sure you want to disconnect WhatsApp? This will require re-authentication.")){n(!0),l(null),c(null);try{(await He.disconnectWhatsApp(e)).success&&(s({isReady:!1,isAuthenticated:!1,qrCode:null}),c("WhatsApp disconnected successfully"))}catch(k){l(k.message||"Failed to disconnect WhatsApp")}finally{n(!1)}}},S=async()=>{if(!d){l("Please enter a phone number");return}p(!0),l(null),c(null);try{(await He.sendTestWhatsAppMessage(e,d,m||"Test message from Nexo Works")).success&&(c("Test message sent successfully!"),u(""),x(""))}catch(k){l(k.message||"Failed to send test message")}finally{p(!1)}};return t.jsxs("div",{className:"space-y-6",children:[t.jsx(gs,{title:"WhatsApp Settings",subtitle:"Connect WhatsApp to send OTP messages for free"}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Connection Status"}),t.jsx("button",{onClick:w,className:"p-2 hover:bg-slate-100 rounded-lg transition",disabled:a,children:t.jsx(Dt,{className:`text-slate-600 ${a?"animate-spin":""}`})})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("div",{className:"flex items-center gap-4",children:r.isReady?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[t.jsx(vt,{className:"text-2xl"}),t.jsx("span",{className:"font-semibold",children:"Connected"})]}),t.jsx("p",{className:"text-sm text-slate-600",children:"WhatsApp is connected and ready to send OTP messages"})]}):r.isReconnecting?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex items-center gap-2 text-yellow-600",children:[t.jsx(Dt,{className:"text-2xl animate-spin"}),t.jsx("span",{className:"font-semibold",children:"Reconnecting..."})]}),t.jsxs("p",{className:"text-sm text-slate-600",children:["Attempting to reconnect automatically (Attempt ",r.reconnectAttempts,"/10)"]})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex items-center gap-2 text-red-600",children:[t.jsx(Yn,{className:"text-2xl"}),t.jsx("span",{className:"font-semibold",children:"Not Connected"})]}),t.jsxs("p",{className:"text-sm text-slate-600",children:["WhatsApp is not connected. ",r.autoReconnect?"Auto-reconnect is enabled.":"Please scan QR code to connect."]})]})}),t.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[t.jsx("div",{className:`w-2 h-2 rounded-full ${r.autoReconnect?"bg-green-500":"bg-gray-400"}`}),t.jsxs("span",{children:["Auto-reconnect: ",r.autoReconnect?"Enabled":"Disabled"]}),r.reconnectAttempts>0&&t.jsxs("span",{className:"ml-2",children:[" Attempts: ",r.reconnectAttempts,"/10"]})]})]})]}),!r.isReady&&t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-4",children:"Scan QR Code"}),r.qrCode?t.jsxs("div",{className:"flex flex-col items-center gap-4",children:[t.jsx("div",{className:"bg-white p-4 rounded-lg border-2 border-slate-200",children:t.jsx("img",{src:r.qrCode,alt:"WhatsApp QR Code",className:"w-64 h-64"})}),t.jsxs("div",{className:"text-center space-y-2",children:[t.jsx("p",{className:"text-sm font-medium text-slate-700",children:"Scan this QR code with your WhatsApp"}),t.jsxs("ol",{className:"text-sm text-slate-600 text-left max-w-md mx-auto space-y-1",children:[t.jsx("li",{children:"1. Open WhatsApp on your phone"}),t.jsx("li",{children:"2. Go to Settings  Linked Devices"}),t.jsx("li",{children:'3. Tap "Link a Device"'}),t.jsx("li",{children:"4. Scan this QR code"})]})]})]}):t.jsx("div",{className:"text-center py-8",children:t.jsx("p",{className:"text-slate-600 mb-4",children:'No QR code available. Click "Initialize" to generate one.'})}),t.jsxs("div",{className:"flex gap-3 mt-6",children:[t.jsx("button",{onClick:y,disabled:a,className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",children:a?t.jsxs(t.Fragment,{children:[t.jsx(Dt,{className:"animate-spin"}),"Initializing..."]}):t.jsxs(t.Fragment,{children:[t.jsx(uZ,{}),"Initialize WhatsApp"]})}),r.qrCode&&t.jsx("button",{onClick:v,className:"px-4 py-3 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition",children:t.jsx(Dt,{})})]})]}),r.isReady&&t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-4",children:"Actions"}),t.jsx("div",{className:"space-y-4",children:t.jsxs("button",{onClick:N,disabled:a,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-red-50 text-red-600 rounded-lg font-semibold hover:bg-red-100 transition disabled:opacity-50 disabled:cursor-not-allowed",children:[t.jsx(dZ,{}),"Disconnect WhatsApp"]})})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-4",children:"Auto-Reconnect Settings"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-slate-700",children:"Automatic Reconnection"}),t.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Automatically reconnect WhatsApp if connection is lost"})]}),t.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:r.autoReconnect,onChange:async k=>{try{await He.setAutoReconnect(e,k.target.checked),s(C=>({...C,autoReconnect:k.target.checked})),c(`Auto-reconnect ${k.target.checked?"enabled":"disabled"}`)}catch(C){l(C.message||"Failed to update auto-reconnect setting")}},className:"sr-only peer"}),t.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"})]})]}),!r.isReady&&t.jsxs("button",{onClick:async()=>{n(!0),l(null),c(null);try{const k=await He.reconnectWhatsApp(e);k.success&&(s(C=>({...C,isReady:k.isReady||!1,isAuthenticated:k.isAuthenticated||!1,qrCode:k.qrCode||null})),c("Reconnection initiated. Please wait..."),setTimeout(()=>w(),3e3))}catch(k){l(k.message||"Failed to reconnect")}finally{n(!1)}},disabled:a||r.isReconnecting,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",children:[t.jsx(Dt,{className:a?"animate-spin":""}),r.isReconnecting?"Reconnecting...":"Manual Reconnect"]})]})]}),r.isReady&&t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[t.jsxs("h3",{className:"text-lg font-semibold text-slate-800 mb-4 flex items-center gap-2",children:[t.jsx(zf,{}),"Send Test Message"]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Phone Number (with country code, e.g., 919876543210)"}),t.jsx("input",{type:"text",value:d,onChange:k=>u(k.target.value),placeholder:"919876543210",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Message (optional)"}),t.jsx("textarea",{value:m,onChange:k=>x(k.target.value),placeholder:"Test message from Nexo Works",rows:3,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),t.jsx("button",{onClick:S,disabled:h||!d,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",children:h?t.jsxs(t.Fragment,{children:[t.jsx(Dt,{className:"animate-spin"}),"Sending..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Uf,{}),"Send Test Message"]})})]})]}),i&&t.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center gap-2 text-red-700",children:[t.jsx(Yn,{}),t.jsx("span",{children:i})]}),o&&t.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 flex items-center gap-2 text-green-700",children:[t.jsx(vt,{}),t.jsx("span",{children:o})]}),t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[t.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"How it works:"}),t.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[t.jsx("li",{children:' Click "Initialize WhatsApp" to generate a QR code'}),t.jsx("li",{children:" Scan the QR code with your WhatsApp mobile app"}),t.jsx("li",{children:" Once connected, all OTP messages will be sent via WhatsApp instead of SMS"}),t.jsx("li",{children:" This is completely free and doesn't require any SMS API"}),t.jsx("li",{children:" The connection persists until you disconnect or restart the server"})]})]})]})},xz=g.createContext(null),pz={isLoading:!0,isAuthenticated:!1,partner:null,token:null,error:null};function k6e(e,r){var s,a,n;switch(r.type){case"INIT":return{...e,isLoading:!1,isAuthenticated:!!((s=r.payload)!=null&&s.token),partner:((a=r.payload)==null?void 0:a.partner)??null,token:((n=r.payload)==null?void 0:n.token)??null};case"LOGIN_START":return{...e,isLoading:!0,error:null};case"LOGIN_SUCCESS":return{...e,isLoading:!1,isAuthenticated:!0,partner:r.payload.partner,token:r.payload.token,error:null};case"LOGIN_ERROR":return{...e,isLoading:!1,isAuthenticated:!1,partner:null,token:null,error:r.payload};case"LOGOUT":return{...pz,isLoading:!1};case"UPDATE_PARTNER":return{...e,partner:{...e.partner,...r.payload}};default:return e}}const C6e=({children:e})=>{const[r,s]=g.useReducer(k6e,pz);g.useEffect(()=>{(async()=>{var o;const l=localStorage.getItem("nexo_partner_auth");if(l)try{const c=JSON.parse(l);if(s({type:"INIT",payload:c}),c.token)try{const d=await jt.getProfile(c.token);if(d.success&&d.profile){const u={...c.partner,...d.profile,profile:{...(o=c.partner)==null?void 0:o.profile,...d.profile}},m={token:c.token,partner:u};localStorage.setItem("nexo_partner_auth",JSON.stringify(m)),s({type:"UPDATE_PARTNER",payload:u})}}catch(d){console.error("Failed to fetch profile on init:",d)}}catch(c){console.error("Failed to parse partner auth cache",c),localStorage.removeItem("nexo_partner_auth"),s({type:"INIT",payload:null})}else s({type:"INIT",payload:null})})()},[]);const a=p4(jt,r.token,r.isAuthenticated),n=g.useMemo(()=>({...r,notifications:a,login:async(i,l)=>{s({type:"LOGIN_START"});try{const o=await jt.verifyOTP(i,l);if(o.success&&o.partner){let c=o.partner;try{const u=await jt.getProfile(o.partner.token);u.success&&u.profile&&(c={...o.partner,...u.profile,profile:{...o.partner.profile,...u.profile}})}catch(u){console.error("Failed to fetch complete profile:",u)}const d={token:o.partner.token,partner:c};return localStorage.setItem("nexo_partner_auth",JSON.stringify(d)),s({type:"LOGIN_SUCCESS",payload:d}),d}else throw new Error(o.message||"Login failed")}catch(o){const c=(o==null?void 0:o.message)??"Unable to login";throw s({type:"LOGIN_ERROR",payload:c}),new Error(c)}},logout:()=>{localStorage.removeItem("nexo_partner_auth"),s({type:"LOGOUT"})},clearError:()=>s({type:"LOGIN_ERROR",payload:null}),updatePartner:i=>{const l=localStorage.getItem("nexo_partner_auth");if(l)try{const o=JSON.parse(l);o.partner={...o.partner,...i},localStorage.setItem("nexo_partner_auth",JSON.stringify(o)),s({type:"UPDATE_PARTNER",payload:i})}catch(o){console.error("Failed to update partner data",o)}},refreshProfile:async()=>{var i;if(r.token)try{const l=await jt.getProfile(r.token);if(l.success&&l.profile){const o={...r.partner,...l.profile,profile:{...(i=r.partner)==null?void 0:i.profile,...l.profile}},c=localStorage.getItem("nexo_partner_auth");if(c){const d=JSON.parse(c);d.partner=o,localStorage.setItem("nexo_partner_auth",JSON.stringify(d))}return s({type:"UPDATE_PARTNER",payload:o}),o}}catch(l){console.error("Failed to refresh profile:",l)}}}),[r,a]);return t.jsx(xz.Provider,{value:n,children:e})},In=()=>{const e=g.useContext(xz);if(!e)throw new Error("usePartnerAuth must be used within PartnerAuthProvider");return e},P6e=()=>{const e=Qt(),{login:r,error:s,clearError:a}=In(),[n,i]=g.useState(1),[l,o]=g.useState({phone:"",otp:""}),[c,d]=g.useState(!1),[u,m]=g.useState(null),[x,h]=g.useState(!1),[p,f]=g.useState(0);_t.useEffect(()=>{let v=null;return p>0&&(v=setInterval(()=>{f(N=>N-1)},1e3)),()=>{v&&clearInterval(v)}},[p]);const b=async v=>{if(v.preventDefault(),m(null),a(),!l.phone||l.phone.length!==10){m("Please enter a valid 10-digit phone number");return}d(!0);try{const N=await jt.sendOTP(l.phone);N.success?(N.otp&&alert(`OTP for testing: ${N.otp}`),h(!0),i(2),f(60)):m(N.message||"Failed to send OTP")}catch(N){m(N.message||"Failed to send OTP. Please try again.")}finally{d(!1)}},j=async()=>{if(!(p>0)){d(!0),m(null);try{const v=await jt.resendOTP(l.phone);v.success?f(60):m(v.message||"Failed to resend OTP")}catch(v){m(v.message||"Failed to resend OTP")}finally{d(!1)}}},w=async v=>{if(v.preventDefault(),m(null),a(),!l.otp||l.otp.length!==6){m("Please enter a valid 6-digit OTP");return}d(!0);let N=null;if("Notification"in window){const S=Notification.permission;if(S==="default"||S==="denied")try{N=Notification.requestPermission()}catch(k){console.error("Cannot request notification permission:",k)}}try{await r(l.phone,l.otp),N&&await N==="granted"&&setTimeout(()=>{window.dispatchEvent(new Event("notificationPermissionGranted"))},500),e("/partner/dashboard",{replace:!0})}catch(S){m(S.message||"Invalid OTP. Please try again.")}finally{d(!1)}},y=v=>{const{name:N,value:S}=v.target;o(k=>({...k,[N]:S.replace(/\D/g,"").slice(0,N==="otp"?6:10)})),m(null),s&&a()};return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center px-4 py-10",children:t.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:t.jsxs("div",{className:"bg-white/10 backdrop-blur-xl rounded-2xl shadow-2xl border border-white/20 p-8",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-primary rounded-full mb-4",children:t.jsx(_s,{className:"text-2xl text-white"})}),t.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Partner Login"}),t.jsx("p",{className:"text-slate-300",children:"Welcome back! Please login to continue"})]}),(u||s)&&t.jsx("div",{className:"mb-6 p-4 bg-red-500/20 border border-red-500/50 rounded-xl text-red-200 text-sm",children:u||s}),n===1&&t.jsxs("form",{onSubmit:b,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-200 mb-2",children:"Phone Number"}),t.jsxs("div",{className:"relative",children:[t.jsx(tn,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-slate-400"}),t.jsx("input",{type:"tel",name:"phone",value:l.phone,onChange:y,className:"w-full pl-12 pr-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Enter 10-digit phone number",maxLength:10,required:!0,disabled:c})]})]}),t.jsx("button",{type:"submit",disabled:c,className:"w-full py-3 bg-primary hover:bg-primary-dark text-white font-semibold rounded-xl transition flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:c?t.jsxs(t.Fragment,{children:[t.jsx(Dt,{className:"animate-spin"}),"Sending OTP..."]}):t.jsxs(t.Fragment,{children:["Send OTP",t.jsx(ds,{})]})})]}),n===2&&t.jsxs("form",{onSubmit:w,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-200 mb-2",children:"Enter OTP"}),t.jsxs("div",{className:"relative",children:[t.jsx(_s,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-slate-400"}),t.jsx("input",{type:"text",name:"otp",value:l.otp,onChange:y,className:"w-full pl-12 pr-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent text-center text-2xl tracking-widest",placeholder:"000000",maxLength:6,required:!0,disabled:c,autoFocus:!0})]}),t.jsxs("p",{className:"mt-2 text-xs text-slate-400 text-center",children:["OTP sent to +91 ",l.phone]})]}),t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("button",{type:"button",onClick:()=>{i(1),o(v=>({...v,otp:""})),h(!1),f(0)},className:"text-slate-300 hover:text-white transition",children:"Change Number"}),t.jsx("button",{type:"button",onClick:j,disabled:p>0||c,className:"text-primary hover:text-primary-light transition disabled:opacity-50 disabled:cursor-not-allowed",children:p>0?`Resend OTP in ${p}s`:"Resend OTP"})]}),t.jsx("button",{type:"submit",disabled:c,className:"w-full py-3 bg-primary hover:bg-primary-dark text-white font-semibold rounded-xl transition flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:c?t.jsxs(t.Fragment,{children:[t.jsx(Dt,{className:"animate-spin"}),"Verifying..."]}):t.jsxs(t.Fragment,{children:["Login",t.jsx(ds,{})]})})]}),t.jsx("div",{className:"mt-8 text-center",children:t.jsxs("p",{className:"text-sm text-slate-400",children:["Don't have an account?"," ",t.jsx("button",{onClick:()=>e("/partner/onboard"),className:"text-primary hover:text-primary-light font-semibold transition",children:"Register as Partner"})]})})]})})})},A6e=()=>{const{token:e}=In(),[r,s]=g.useState(null),[a,n]=g.useState(!0),[i,l]=g.useState(null),[o,c]=g.useState(!1),[d,u]=g.useState(""),[m,x]=g.useState(""),[h,p]=g.useState(!1),[f]=g.useState([500,1e3,2e3,5e3,1e4]);g.useEffect(()=>{b()},[e]);const b=async()=>{if(e){n(!0),l(null);try{const N=await jt.getWallet(e);s((N==null?void 0:N.data)||N)}catch(N){l(N.message||"Failed to fetch wallet")}finally{n(!1)}}},j=async()=>{if(!d||parseFloat(d)<=0){alert("Please enter a valid amount");return}p(!0);try{const N=await jt.topUpWallet(e,parseFloat(d),m||"Topup",`TOPUP-${Date.now()}`);N.success||N.message?(alert("Wallet topped up successfully!"),c(!1),u(""),x(""),await b()):alert(N.message||"Failed to top up wallet")}catch(N){console.error("Top-up error:",N),alert(N.message||"Failed to top up wallet")}finally{p(!1)}};if(a)return t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})});if(i)return t.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-6 text-center",children:[t.jsx("p",{className:"text-red-600",children:i}),t.jsx("button",{onClick:b,className:"mt-4 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition",children:"Retry"})]});const w=(r==null?void 0:r.balance)||0,y=(r==null?void 0:r.transactions)||[],v=(r==null?void 0:r.mgPlan)||null;return t.jsxs("div",{className:"space-y-4 sm:space-y-6 px-2 sm:px-0",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-800 mb-1 sm:mb-2",children:"Wallet"}),t.jsx("p",{className:"text-sm sm:text-base text-slate-600",children:"Manage your wallet balance and transactions"})]}),t.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[t.jsxs("button",{onClick:()=>c(!0),className:"px-4 sm:px-6 py-2.5 sm:py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition flex items-center gap-2 shadow-lg text-sm sm:text-base",children:[t.jsx(Tr,{})," ",t.jsx("span",{className:"hidden sm:inline",children:"Top Up Wallet"}),t.jsx("span",{className:"sm:hidden",children:"Top Up"})]}),t.jsx("button",{onClick:b,className:"p-2.5 sm:p-3 bg-white rounded-lg shadow-md hover:shadow-lg transition border border-slate-200",children:t.jsx(Dt,{className:"text-lg sm:text-xl text-slate-600"})})]})]}),t.jsxs("div",{className:"bg-gradient-to-br from-primary to-primary-dark rounded-2xl shadow-xl p-6 sm:p-8 text-white",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-white/80 text-xs sm:text-sm mb-1",children:"Current Balance"}),t.jsxs("h2",{className:"text-3xl sm:text-4xl font-bold",children:["",w.toLocaleString("en-IN")]})]}),t.jsx("div",{className:"bg-white/20 p-3 sm:p-4 rounded-xl",children:t.jsx(Xt,{className:"text-3xl sm:text-4xl"})})]}),v&&t.jsxs("div",{className:"bg-white/10 rounded-xl p-4 mt-4",children:[t.jsxs("p",{className:"text-sm text-white/80 mb-2",children:["Active Plan: ",v.name]}),t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsxs("span",{children:["Leads Remaining: ",v.leadsRemaining||0]}),t.jsxs("span",{children:["Lead Fee: ",v.leadFee||0]})]})]}),(r==null?void 0:r.minWalletBalance)&&w<r.minWalletBalance&&t.jsx("div",{className:"bg-yellow-500/20 border border-yellow-500/50 rounded-xl p-4 mt-4",children:t.jsxs("p",{className:"text-sm text-yellow-100",children:[" Wallet balance is below minimum threshold (",r.minWalletBalance,"). Recharge to continue accepting leads."]})})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 sm:p-6 border border-slate-200",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4 mb-4",children:[t.jsx("h2",{className:"text-lg sm:text-xl font-bold text-slate-800",children:"Recent Transactions"}),y.length>0&&t.jsxs("button",{onClick:()=>{const N=y.map(S=>{var k,C;return{"Date & Time":S.createdAt?new Date(S.createdAt).toLocaleString("en-IN"):"N/A",Type:((k=S.type)==null?void 0:k.charAt(0).toUpperCase())+((C=S.type)==null?void 0:C.slice(1))||"N/A","Amount ()":S.amount||0,"Balance ()":S.balance||0,Description:S.description||"N/A",Reference:S.reference||"N/A"}});Bd(N,[{header:"Date & Time",accessor:"Date & Time"},{header:"Type",accessor:"Type"},{header:"Amount ()",accessor:"Amount ()"},{header:"Balance ()",accessor:"Balance ()"},{header:"Description",accessor:"Description"},{header:"Reference",accessor:"Reference"}],"Wallet_Transactions","Transactions",{columnWidths:[20,12,15,15,30,20]})},className:"px-3 sm:px-4 py-2 rounded-lg text-xs sm:text-sm font-semibold bg-primary text-white hover:bg-primary-dark transition inline-flex items-center gap-2 self-start sm:self-auto",title:"Export to Excel",children:[t.jsx(kn,{})," ",t.jsx("span",{className:"hidden sm:inline",children:"Export Excel"}),t.jsx("span",{className:"sm:hidden",children:"Export"})]})]}),y.length===0?t.jsxs("div",{className:"text-center py-8 text-slate-500",children:[t.jsx(Xt,{className:"text-4xl mx-auto mb-2 opacity-50"}),t.jsx("p",{children:"No transactions yet"})]}):t.jsx("div",{className:"space-y-3",children:y.slice(0,10).map((N,S)=>{var k,C;return t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 p-3 sm:p-4 bg-slate-50 rounded-lg hover:bg-slate-100 transition",children:[t.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 flex-1",children:[t.jsx("div",{className:`p-2 sm:p-3 rounded-lg flex-shrink-0 ${N.type==="credit"?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:N.type==="credit"?t.jsx(lr,{className:"text-lg sm:text-xl"}):t.jsx(od,{className:"text-lg sm:text-xl"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"font-semibold text-slate-800 text-sm sm:text-base truncate",children:N.description||"Transaction"}),t.jsx("p",{className:"text-xs sm:text-sm text-slate-500",children:N.createdAt?new Date(N.createdAt).toLocaleString("en-IN"):new Date().toLocaleString("en-IN")})]})]}),t.jsxs("div",{className:"text-left sm:text-right flex-shrink-0",children:[t.jsxs("p",{className:`font-bold text-lg sm:text-xl ${N.type==="credit"?"text-green-600":"text-red-600"}`,children:[N.type==="credit"?"+":"-","",((k=N.amount)==null?void 0:k.toLocaleString("en-IN"))||0]}),t.jsxs("p",{className:"text-xs sm:text-sm text-slate-500",children:["Balance: ",((C=N.balance)==null?void 0:C.toLocaleString("en-IN"))||0]})]})]},S)})})]}),o&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-4 sm:p-6 my-auto",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[t.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-slate-800",children:"Top Up Wallet"}),t.jsx("button",{onClick:()=>{c(!1),u(""),x("")},className:"p-2 hover:bg-slate-100 rounded-lg transition",children:t.jsx(mt,{className:"text-lg sm:text-xl"})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Amount ()"}),t.jsx("input",{type:"number",value:d,onChange:N=>u(N.target.value),placeholder:"Enter amount",min:"1",step:"0.01",className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-lg"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Quick Select"}),t.jsx("div",{className:"grid grid-cols-5 gap-2",children:f.map(N=>t.jsxs("button",{onClick:()=>u(N.toString()),className:`px-2 sm:px-3 py-1.5 sm:py-2 rounded-lg text-xs sm:text-sm font-semibold transition ${d===N.toString()?"bg-primary text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:["",N]},N))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Description (Optional)"}),t.jsx("input",{type:"text",value:m,onChange:N=>x(N.target.value),placeholder:"Add a note for this transaction",className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{className:"bg-primary/10 border border-primary/20 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-slate-600",children:"Current Balance:"}),t.jsxs("span",{className:"font-bold text-slate-800",children:["",w.toLocaleString("en-IN")]})]}),d&&parseFloat(d)>0&&t.jsxs("div",{className:"flex items-center justify-between text-sm mt-2",children:[t.jsx("span",{className:"text-slate-600",children:"After Top-up:"}),t.jsxs("span",{className:"font-bold text-green-600",children:["",(w+parseFloat(d)).toLocaleString("en-IN")]})]})]}),t.jsxs("div",{className:"flex gap-3 pt-4",children:[t.jsx("button",{onClick:j,disabled:h||!d||parseFloat(d)<=0,className:"flex-1 py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",children:h?"Processing...":"Top Up"}),t.jsx("button",{onClick:()=>{c(!1),u(""),x("")},className:"px-6 py-3 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition",children:"Cancel"})]})]})]})})]})},T6e=({member:e,partner:r,onClose:s})=>{var f;const a=g.useRef(null),[n,i]=g.useState(!1),l=async()=>{var P;const b=(P=a.current)==null?void 0:P.querySelector("svg");let j="";if(b){const _=new XMLSerializer().serializeToString(b),A=new Blob([_],{type:"image/svg+xml;charset=utf-8"}),D=URL.createObjectURL(A),F=new Image;await new Promise(X=>{F.onload=()=>{const ce=document.createElement("canvas");ce.width=F.width,ce.height=F.height,ce.getContext("2d").drawImage(F,0,0),j=ce.toDataURL("image/png"),URL.revokeObjectURL(D),X()},F.onerror=()=>X(),F.src=D})}const w=a.current;if(!w)return;const y=w.cloneNode(!0);n&&y.classList.add("id-card-cut");const v=(_,A)=>{const D=window.getComputedStyle(_);Array.from(D).forEach(F=>{A.style.setProperty(F,D.getPropertyValue(F),D.getPropertyPriority(F))})},N=y.querySelectorAll("*"),S=w.querySelectorAll("*");if(N.forEach((_,A)=>{S[A]&&v(S[A],_)}),v(w,y),j){const _=y.querySelector("svg");if(_&&_.parentNode){const A=document.createElement("img");A.src=j,A.style.width="65px",A.style.height="65px",A.style.display="block",_.parentNode.replaceChild(A,_)}}const k=window.open("","_blank"),C=y.outerHTML;k.document.write(`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Team Member ID Card - Nexo</title>
          <style>
            @media print {
              @page {
                size: A4;
                margin: 0;
              }
              body {
                margin: 0;
                padding: 0;
                display: flex;
                justify-content: center;
                align-items: flex-start;
                min-height: 100vh;
                padding-top: 30px;
              }
              .id-card {
                transform: scale(1.8);
                transform-origin: top center;
                margin: 0 auto;
              }
            }
            * {
              margin: 0;
              padding: 0;
              box-sizing: border-box;
            }
            body {
              font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
              background: #f5f5f5;
            }
            .id-card {
              width: 85.6mm;
              height: 53.98mm;
              background: linear-gradient(135deg, #4F46E5 0%, #7C3AED 100%);
              border-radius: 12px;
              padding: 10px;
              box-shadow: 0 10px 40px rgba(79, 70, 229, 0.4);
              position: relative;
              overflow: hidden;
            }
            .id-card-cut {
              height: 70mm;
              overflow: visible;
            }
            .id-card-cut::after {
              content: '';
              position: absolute;
              bottom: 16mm;
              left: 5mm;
              right: 5mm;
              height: 1px;
              border-top: 1px dashed rgba(255,255,255,0.6);
            }
            .id-card::before {
              content: '';
              position: absolute;
              top: -50%;
              right: -50%;
              width: 200%;
              height: 200%;
              background: radial-gradient(circle, rgba(255,255,255,0.15) 0%, transparent 70%);
            }
            .id-card::after {
              content: '';
              position: absolute;
              bottom: 0;
              left: 0;
              right: 0;
              height: 3px;
              background: linear-gradient(90deg, #4F46E5 0%, #7C3AED 50%, #4F46E5 100%);
            }
            .id-card-content {
              position: relative;
              z-index: 1;
              display: flex;
              height: 100%;
              background: white;
              border-radius: 8px;
              padding: 8px;
              box-shadow: inset 0 0 20px rgba(79, 70, 229, 0.1);
            }
            .id-card-cut .id-card-content {
              height: calc(100% - 16mm);
              margin-bottom: 16mm;
            }
            .id-card-tear-section {
              position: absolute;
              bottom: 0;
              left: 0;
              right: 0;
              height: 16mm;
              background: linear-gradient(135deg, #4F46E5 0%, #7C3AED 100%);
              border-radius: 0 0 12px 12px;
              padding: 4px 8px;
              display: flex;
              flex-direction: column;
              justify-content: center;
              align-items: center;
              gap: 2px;
              z-index: 5;
              font-size: 6px;
              color: rgba(255,255,255,0.9);
              text-align: center;
            }
            .id-card-left {
              flex: 1;
              display: flex;
              flex-direction: column;
              justify-content: space-between;
              padding-right: 8px;
            }
            .id-card-header {
              display: flex;
              align-items: center;
              gap: 6px;
              margin-bottom: 6px;
              padding-bottom: 6px;
              border-bottom: 2px solid #4F46E5;
            }
            .id-card-logo {
              width: 28px;
              height: 28px;
              background: linear-gradient(135deg, #4F46E5 0%, #7C3AED 100%);
              border-radius: 4px;
              display: flex;
              align-items: center;
              justify-content: center;
              color: white;
              font-weight: 800;
              font-size: 11px;
              letter-spacing: 0.5px;
            }
            .id-card-title {
              font-size: 9px;
              font-weight: 800;
              color: #4F46E5;
              text-transform: uppercase;
              letter-spacing: 1.2px;
            }
            .id-card-photo {
              width: 65px;
              height: 65px;
              border-radius: 8px;
              border: 3px solid #4F46E5;
              object-fit: cover;
              margin: 6px 0;
              box-shadow: 0 2px 8px rgba(79, 70, 229, 0.2);
            }
            .id-card-name {
              font-size: 15px;
              font-weight: 800;
              color: #1a202c;
              margin-bottom: 4px;
              letter-spacing: 0.3px;
            }
            .id-card-details {
              font-size: 8.5px;
              color: #4a5568;
              line-height: 1.5;
            }
            .id-card-detail-item {
              margin-bottom: 3px;
              display: flex;
              align-items: center;
              gap: 4px;
            }
            .id-card-detail-item strong {
              color: #4F46E5;
              font-weight: 700;
              min-width: 45px;
            }
            .id-card-right {
              width: 85px;
              display: flex;
              flex-direction: column;
              align-items: center;
              justify-content: center;
              gap: 6px;
              border-left: 2px dashed #e2e8f0;
              padding-left: 8px;
            }
            .id-card-qr {
              width: 75px;
              height: 75px;
              padding: 5px;
              background: white;
              border-radius: 6px;
              border: 2px solid #4F46E5;
              display: flex;
              align-items: center;
              justify-content: center;
              box-shadow: 0 2px 8px rgba(79, 70, 229, 0.15);
            }
            .id-card-verified {
              font-size: 7px;
              color: #48bb78;
              text-align: center;
              font-weight: 700;
              display: flex;
              align-items: center;
              justify-content: center;
              gap: 3px;
              background: #f0fdf4;
              padding: 3px 6px;
              border-radius: 4px;
              border: 1px solid #86efac;
            }
            .id-card-id {
              font-size: 7.5px;
              color: #4F46E5;
              text-align: center;
              font-weight: 700;
              letter-spacing: 0.5px;
            }
            .id-card-footer {
              font-size: 6.5px;
              color: #718096;
              text-align: center;
              margin-top: 2px;
            }
          </style>
        </head>
        <body>
          ${C}
        </body>
      </html>
    `),k.document.close(),setTimeout(()=>{k.print()},250)},o=(e._id||e.id||"").toString().slice(-8).toUpperCase(),c=`${window.location.origin}/verify/team-member/${e._id||e.id}`,d=e.name||"Team Member",u=e.phone||"N/A",m=e.city||"N/A",x=(e.role||"technician").toUpperCase(),h=e.profilePicture?e.profilePicture.startsWith("http")?e.profilePicture:`https://nexo.works/${e.profilePicture}`:null,p=((f=e.kyc)==null?void 0:f.status)==="approved"||e.status==="active";return t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-6 max-w-lg w-full",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-primary mb-1",children:"Team Member ID Card"}),t.jsx("p",{className:"text-sm text-slate-600",children:"Professional identification card with QR verification"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("button",{onClick:()=>i(!n),className:`px-4 py-2 rounded-lg font-semibold transition flex items-center gap-2 ${n?"bg-indigo-600 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,title:n?"Switch to Regular Card":"Switch to Cut Card",children:[t.jsx(cZ,{}),n?"Cut Card":"Regular Card"]}),t.jsx("button",{onClick:s,className:"p-2 hover:bg-slate-100 rounded-lg transition",children:t.jsx(mt,{className:"text-xl"})})]})]}),t.jsx("div",{className:"flex justify-center mb-6 bg-gradient-to-br from-slate-50 to-slate-100 p-8 rounded-xl",children:t.jsxs("div",{ref:a,className:"id-card",style:{width:"85.6mm",height:n?"70mm":"53.98mm",background:"linear-gradient(135deg, #4F46E5 0%, #7C3AED 100%)",borderRadius:"12px",padding:"10px",boxShadow:"0 10px 40px rgba(79, 70, 229, 0.4)",position:"relative",overflow:n?"visible":"hidden"},children:[n&&t.jsx("div",{style:{position:"absolute",bottom:"16mm",left:"5mm",right:"5mm",height:"1px",borderTop:"1px dashed #fff",opacity:.6,zIndex:10}}),n&&t.jsxs("div",{style:{position:"absolute",bottom:0,left:0,right:0,height:"16mm",background:"linear-gradient(135deg, #4F46E5 0%, #7C3AED 100%)",borderRadius:"0 0 12px 12px",padding:"4px 8px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:"2px",zIndex:5},children:[t.jsx("div",{style:{fontSize:"6px",color:"rgba(255,255,255,0.9)",fontWeight:600,textAlign:"center",letterSpacing:"0.5px"},children:"TEAR HERE"}),t.jsx("div",{style:{fontSize:"5.5px",color:"rgba(255,255,255,0.7)",textAlign:"center",marginTop:"2px"},children:o}),t.jsx("div",{style:{fontSize:"5px",color:"rgba(255,255,255,0.6)",textAlign:"center",marginTop:"1px"},children:"Keep this section for records"})]}),t.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"radial-gradient(circle at 20% 20%, rgba(255,255,255,0.15) 0%, transparent 50%)",pointerEvents:"none"}}),t.jsxs("div",{className:"id-card-content",style:{position:"relative",zIndex:1,display:"flex",height:"100%",background:"white",borderRadius:"8px",padding:"8px",boxShadow:"inset 0 0 20px rgba(79, 70, 229, 0.1)"},children:[t.jsx("div",{className:"id-card-left",style:{flex:1,display:"flex",flexDirection:"column",justifyContent:"space-between",paddingRight:"8px"},children:t.jsxs("div",{children:[t.jsxs("div",{className:"id-card-header",style:{display:"flex",alignItems:"center",gap:"6px",marginBottom:"6px",paddingBottom:"6px",borderBottom:"2px solid #4F46E5"},children:[t.jsx("div",{className:"id-card-logo",style:{width:"28px",height:"28px",background:"linear-gradient(135deg, #4F46E5 0%, #7C3AED 100%)",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:800,fontSize:"11px",letterSpacing:"0.5px"},children:"NEXO"}),t.jsx("div",{className:"id-card-title",style:{fontSize:"9px",fontWeight:800,color:"#4F46E5",textTransform:"uppercase",letterSpacing:"1.2px"},children:"Team Member"})]}),h?t.jsx("img",{src:h,alt:d,className:"id-card-photo",style:{width:"65px",height:"65px",borderRadius:"8px",border:"3px solid #4F46E5",objectFit:"cover",margin:"6px 0",boxShadow:"0 2px 8px rgba(79, 70, 229, 0.2)"}}):t.jsx("div",{className:"id-card-photo",style:{width:"65px",height:"65px",borderRadius:"8px",border:"3px solid #4F46E5",background:"linear-gradient(135deg, #4F46E5 0%, #7C3AED 100%)",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"bold",fontSize:"24px",margin:"6px 0",boxShadow:"0 2px 8px rgba(79, 70, 229, 0.2)"},children:d.charAt(0).toUpperCase()}),t.jsx("div",{className:"id-card-name",style:{fontSize:"15px",fontWeight:800,color:"#1a202c",marginBottom:"4px",letterSpacing:"0.3px"},children:d}),t.jsxs("div",{className:"id-card-details",style:{fontSize:"8.5px",color:"#4a5568",lineHeight:1.5},children:[t.jsxs("div",{className:"id-card-detail-item",style:{marginBottom:"3px",display:"flex",alignItems:"center",gap:"4px"},children:[t.jsx("strong",{style:{color:"#4F46E5",fontWeight:700,minWidth:"45px"},children:"ID:"}),t.jsx("span",{children:o})]}),t.jsxs("div",{className:"id-card-detail-item",style:{marginBottom:"3px",display:"flex",alignItems:"center",gap:"4px"},children:[t.jsx("strong",{style:{color:"#4F46E5",fontWeight:700,minWidth:"45px"},children:"Role:"}),t.jsx("span",{children:x})]}),t.jsxs("div",{className:"id-card-detail-item",style:{marginBottom:"3px",display:"flex",alignItems:"center",gap:"4px"},children:[t.jsx("strong",{style:{color:"#4F46E5",fontWeight:700,minWidth:"45px"},children:"Phone:"}),t.jsx("span",{children:u})]}),m!=="N/A"&&t.jsxs("div",{className:"id-card-detail-item",style:{marginBottom:"3px",display:"flex",alignItems:"center",gap:"4px"},children:[t.jsx("strong",{style:{color:"#4F46E5",fontWeight:700,minWidth:"45px"},children:"City:"}),t.jsx("span",{children:m})]})]})]})}),t.jsxs("div",{className:"id-card-right",style:{width:"85px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"6px",borderLeft:"2px dashed #e2e8f0",paddingLeft:"8px"},children:[t.jsx("div",{className:"id-card-qr",style:{width:"75px",height:"75px",padding:"5px",background:"white",borderRadius:"6px",border:"2px solid #4F46E5",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px rgba(79, 70, 229, 0.15)"},children:t.jsx(q5,{value:c,size:65,level:"H",includeMargin:!1})}),p&&t.jsxs("div",{className:"id-card-verified",style:{fontSize:"7px",color:"#48bb78",textAlign:"center",fontWeight:700,display:"flex",alignItems:"center",justifyContent:"center",gap:"3px",background:"#f0fdf4",padding:"3px 6px",borderRadius:"4px",border:"1px solid #86efac"},children:[t.jsx(vt,{style:{fontSize:"8px"}}),"Verified"]}),t.jsx("div",{className:"id-card-id",style:{fontSize:"7.5px",color:"#4F46E5",textAlign:"center",fontWeight:700,letterSpacing:"0.5px"},children:"Scan to Verify"}),t.jsx("div",{className:"id-card-footer",style:{fontSize:"6.5px",color:"#718096",textAlign:"center",marginTop:"2px"},children:"nexo.works"})]})]})]})}),t.jsxs("div",{className:"flex gap-3 justify-center mt-6",children:[t.jsxs("button",{onClick:l,className:"px-6 py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition flex items-center gap-2 shadow-lg",children:[t.jsx(X0,{})," Print ID Card"]}),t.jsxs("button",{onClick:s,className:"px-6 py-3 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition flex items-center gap-2",children:[t.jsx(mt,{})," Close"]})]}),t.jsx("div",{className:"mt-4 p-4 bg-indigo-50 rounded-lg border border-indigo-200",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(Xa,{className:"text-indigo-600 text-xl flex-shrink-0 mt-0.5"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-indigo-600 mb-1",children:"Verification Features"}),t.jsxs("ul",{className:"text-xs text-slate-600 space-y-1",children:[t.jsx("li",{children:" QR code links to public verification page"}),t.jsx("li",{children:" Anyone can scan to verify team member status"}),t.jsx("li",{children:" Shows verification status and credentials"}),t.jsx("li",{children:" Professional ID card format for printing"})]})]})]})})]})})},E6e=()=>{const{token:e}=In(),[r,s]=g.useState([]),[a,n]=g.useState(!1),[i,l]=g.useState(null),[o,c]=g.useState(!1),[d,u]=g.useState(null),[m,x]=g.useState({}),[h,p]=g.useState({}),[f,b]=g.useState(null);g.useEffect(()=>{e&&(j(),w(),y())},[e]);const j=async()=>{if(e){c(!0);try{const H=await jt.getTeamMembers(e),B=(H==null?void 0:H.data)||H||[];s(Array.isArray(B)?B:[])}catch(H){console.error("Failed to fetch team members:",H),s([])}finally{c(!1)}}},w=async()=>{try{const H=await jt.getAvailableHubs(e),B=(H==null?void 0:H.data)||H||[];F(Array.isArray(B)?B:[])}catch(H){console.error("Failed to fetch hubs:",H),F([])}},y=async()=>{try{const H=await jt.getCategories(e),B=(H==null?void 0:H.categories)||(H==null?void 0:H.data)||H||[];ce(Array.isArray(B)?B:[])}catch(H){console.error("Failed to fetch categories:",H),ce([])}},[v,N]=g.useState({name:"",email:"",phone:"",whatsappNumber:"",qualification:"",experience:"",address:"",city:"",pincode:"",role:"technician",profilePicture:null,categories:[],categoryNames:[],hubs:[]}),[S,k]=g.useState(null),[C,P]=g.useState({panCard:null,aadhaar:null,aadhaarback:null,chequeImage:null,drivingLicence:null,bill:null,accountNumber:"",ifscCode:"",accountHolderName:"",bankName:""}),[_,A]=g.useState({}),[D,F]=g.useState([]),[X,ce]=g.useState([]),[he,L]=g.useState(!1),q=async()=>{if(!v.name||!v.phone){alert("Please fill in all required fields");return}if(!e){alert("Authentication required");return}c(!0);try{const H={...v,profilePicture:v.profilePicture,kycData:C},B=await jt.addTeamMember(e,H);B.success?(await j(),N({name:"",email:"",phone:"",whatsappNumber:"",qualification:"",experience:"",address:"",city:"",pincode:"",role:"technician",profilePicture:null,categories:[],categoryNames:[],hubs:[]}),k(null),P({panCard:null,aadhaar:null,aadhaarback:null,chequeImage:null,drivingLicence:null,bill:null,accountNumber:"",ifscCode:"",accountHolderName:"",bankName:""}),A({}),n(!1),L(!1),alert("Team member added successfully!")):alert(B.message||"Failed to add team member")}catch(H){console.error("Failed to add team member:",H),alert(H.message||"Failed to add team member")}finally{c(!1)}},se=H=>{l(H),N({name:H.name||"",email:H.email||"",phone:H.phone||"",whatsappNumber:H.whatsappNumber||"",qualification:H.qualification||"",experience:H.experience||"",address:H.address||"",city:H.city||"",pincode:H.pincode||"",role:H.role||"technician",profilePicture:null,categories:H.categories||[],categoryNames:H.categoryNames||[],hubs:H.hubs||[]}),k(H.profilePicture||null),P(H.kycData||{panCard:null,aadhaar:null,aadhaarback:null,chequeImage:null,drivingLicence:null,bill:null,accountNumber:"",ifscCode:"",accountHolderName:"",bankName:""}),A(H.kyc||{}),n(!0)},R=H=>{const B=H.target.files[0];if(B){N({...v,profilePicture:B});const Y=new FileReader;Y.onloadend=()=>{k(Y.result)},Y.readAsDataURL(B)}},T=(H,B)=>{if(B){P(ie=>({...ie,[H]:B}));const Y=new FileReader;Y.onloadend=()=>{A(ie=>({...ie,[H]:Y.result}))},Y.readAsDataURL(B)}},O=(H,B)=>{(v.categories||[]).includes(H)?N(ie=>({...ie,categories:(ie.categories||[]).filter(me=>me!==H),categoryNames:(ie.categoryNames||[]).filter(me=>me!==B)})):N(ie=>({...ie,categories:[...ie.categories||[],H],categoryNames:[...ie.categoryNames||[],B]}))},K=H=>{(v.hubs||[]).includes(H)?N(Y=>({...Y,hubs:(Y.hubs||[]).filter(ie=>ie!==H)})):N(Y=>({...Y,hubs:[...Y.hubs||[],H]}))},U=async()=>{if(!v.name||!v.phone){alert("Please fill in all required fields");return}if(!e||!i){alert("Authentication required");return}const H=i._id||i.id;if(!H){alert("Invalid team member");return}c(!0);try{const B={...v,profilePicture:v.profilePicture,kycData:C},Y=await jt.updateTeamMember(e,H,B);Y.success?(await j(),N({name:"",email:"",phone:"",whatsappNumber:"",qualification:"",experience:"",address:"",city:"",pincode:"",role:"technician",profilePicture:null,categories:[],categoryNames:[],hubs:[]}),k(null),P({panCard:null,aadhaar:null,aadhaarback:null,chequeImage:null,drivingLicence:null,bill:null,accountNumber:"",ifscCode:"",accountHolderName:"",bankName:""}),A({}),l(null),n(!1),L(!1),alert("Team member updated successfully!")):alert(Y.message||"Failed to update team member")}catch(B){console.error("Failed to update team member:",B),alert(B.message||"Failed to update team member")}finally{c(!1)}},ee=async H=>{if(!window.confirm("Are you sure you want to remove this team member?"))return;if(!e){alert("Authentication required");return}const B=H._id||H.id;if(!B){alert("Invalid team member");return}c(!0);try{const Y=await jt.deleteTeamMember(e,B);Y.success?(await j(),alert("Team member deleted successfully!")):alert(Y.message||"Failed to delete team member")}catch(Y){console.error("Failed to delete team member:",Y),alert(Y.message||"Failed to delete team member")}finally{c(!1)}},M=async H=>{const B=H._id||H.id;if(!(!B||!e)){if(m[B]){u(H);return}p(Y=>({...Y,[B]:!0}));try{const Y=await jt.getTeamMemberActivities(e,B),ie=(Y==null?void 0:Y.data)||Y||[];x(me=>({...me,[B]:ie})),u(H)}catch(Y){console.error("Failed to fetch activities:",Y),x(ie=>({...ie,[B]:[]})),u(H)}finally{p(Y=>({...Y,[B]:!1}))}}};return t.jsxs("div",{className:"space-y-4 sm:space-y-6 px-2 sm:px-0",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-800 mb-1 sm:mb-2",children:"Team Members"}),t.jsx("p",{className:"text-sm sm:text-base text-slate-600",children:"Manage your team members and technicians"})]}),t.jsxs("button",{onClick:()=>{l(null),N({name:"",email:"",phone:"",whatsappNumber:"",qualification:"",experience:"",address:"",city:"",pincode:"",role:"technician",profilePicture:null,categories:[],categoryNames:[],hubs:[]}),k(null),P({panCard:null,aadhaar:null,aadhaarback:null,chequeImage:null,drivingLicence:null,bill:null,accountNumber:"",ifscCode:"",accountHolderName:"",bankName:""}),A({}),L(!1),n(!0)},className:"px-4 sm:px-6 py-2.5 sm:py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition flex items-center gap-2 text-sm sm:text-base self-start sm:self-auto",children:[t.jsx(Hf,{})," ",t.jsx("span",{className:"hidden sm:inline",children:"Add Team Member"}),t.jsx("span",{className:"sm:hidden",children:"Add Member"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 sm:gap-4 lg:gap-6",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 sm:p-6 border border-slate-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("p",{className:"text-xs sm:text-sm text-slate-600",children:"Total Members"}),t.jsx(Mr,{className:"text-primary text-lg sm:text-xl"})]}),t.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-slate-800",children:r.length})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 sm:p-6 border border-slate-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("p",{className:"text-xs sm:text-sm text-slate-600",children:"Active Members"}),t.jsx(Mr,{className:"text-green-600 text-lg sm:text-xl"})]}),t.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-green-600",children:r.filter(H=>H.status==="active").length})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 sm:p-6 border border-slate-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("p",{className:"text-xs sm:text-sm text-slate-600",children:"Technicians"}),t.jsx(Mr,{className:"text-blue-600 text-lg sm:text-xl"})]}),t.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-blue-600",children:r.filter(H=>H.role==="technician").length})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-slate-200 overflow-hidden",children:[r.length>0&&t.jsx("div",{className:"p-3 sm:p-4 border-b border-slate-200 flex items-center justify-end",children:t.jsxs("button",{onClick:()=>{const H=r.map(B=>{var Y;return{Name:B.name||"N/A",Phone:B.phone||"N/A",Email:B.email||"N/A",WhatsApp:B.whatsappNumber||"N/A",Role:B.role||"N/A",Status:B.status||"N/A",Qualification:B.qualification||"N/A",Experience:B.experience||"N/A",Address:B.address||"N/A",City:B.city||"N/A",Pincode:B.pincode||"N/A",Categories:((Y=B.categoryNames)==null?void 0:Y.join(", "))||"N/A","Joined Date":B.joinedDate?new Date(B.joinedDate).toLocaleDateString("en-IN"):"N/A"}});Bd(H,[{header:"Name",accessor:"Name"},{header:"Phone",accessor:"Phone"},{header:"Email",accessor:"Email"},{header:"WhatsApp",accessor:"WhatsApp"},{header:"Role",accessor:"Role"},{header:"Status",accessor:"Status"},{header:"Qualification",accessor:"Qualification"},{header:"Experience",accessor:"Experience"},{header:"Address",accessor:"Address"},{header:"City",accessor:"City"},{header:"Pincode",accessor:"Pincode"},{header:"Categories",accessor:"Categories"},{header:"Joined Date",accessor:"Joined Date"}],"Team_Members","Team Members",{columnWidths:[20,15,25,15,12,12,20,15,30,15,10,30,15]})},className:"px-3 sm:px-4 py-2 rounded-lg text-xs sm:text-sm font-semibold bg-primary text-white hover:bg-primary-dark transition inline-flex items-center gap-2",title:"Export to Excel",type:"button",children:[t.jsx(kn,{})," ",t.jsx("span",{className:"hidden sm:inline",children:"Export Excel"}),t.jsx("span",{className:"sm:hidden",children:"Export"})]})}),r.length===0?t.jsxs("div",{className:"p-12 text-center text-slate-500",children:[t.jsx(Mr,{className:"text-4xl mx-auto mb-2 opacity-50"}),t.jsx("p",{className:"mb-4",children:"No team members added yet"}),t.jsx("button",{onClick:()=>{l(null),N({name:"",email:"",phone:"",whatsappNumber:"",qualification:"",experience:"",address:"",city:"",pincode:"",role:"technician",profilePicture:null,categories:[],categoryNames:[],hubs:[]}),k(null),P({panCard:null,aadhaar:null,aadhaarback:null,chequeImage:null,drivingLicence:null,bill:null,accountNumber:"",ifscCode:"",accountHolderName:"",bankName:""}),A({}),L(!1),n(!0)},className:"px-6 py-2 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition",children:"Add Your First Team Member"})]}):o?t.jsx("div",{className:"p-12 text-center text-slate-500",children:t.jsx("p",{children:"Loading team members..."})}):t.jsx("div",{className:"divide-y divide-slate-200",children:r.map(H=>{const B=H._id||H.id,Y=H.categoryNames||H.categories&&H.categories.map(me=>typeof me=="object"?me.name:me)||[],ie=H.hubs||[];return t.jsx("div",{className:"p-3 sm:p-4 hover:bg-slate-50 transition",children:t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3 sm:gap-4",children:[t.jsxs("div",{className:"flex items-start gap-3 sm:gap-4 flex-1 min-w-0",children:[H.profilePicture?t.jsx("img",{src:H.profilePicture,alt:H.name,className:"w-12 h-12 sm:w-16 sm:h-16 rounded-full object-cover border-2 border-primary/20 flex-shrink-0"}):t.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 rounded-full bg-gradient-to-br from-primary to-primary-dark text-white flex items-center justify-center font-bold text-lg sm:text-xl border-2 border-primary/20 flex-shrink-0",children:H.name.charAt(0).toUpperCase()}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3 mb-2",children:[t.jsx("h3",{className:"text-base sm:text-lg font-bold text-slate-800 truncate",children:H.name}),t.jsx("span",{className:"px-2 py-1 bg-slate-100 rounded text-xs font-semibold whitespace-nowrap",children:H.role||"technician"}),H.kyc&&t.jsxs("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded text-xs font-semibold flex items-center gap-1 whitespace-nowrap",children:[t.jsx(Xa,{className:"text-xs"}),"KYC"]}),H.status==="active"&&t.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded text-xs font-semibold whitespace-nowrap",children:"Active"})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3 text-xs sm:text-sm text-slate-600 mb-2",children:[H.email&&t.jsxs("span",{className:"flex items-center gap-1 truncate max-w-full",children:[t.jsx(en,{className:"text-xs flex-shrink-0"}),t.jsx("span",{className:"truncate",children:H.email})]}),H.phone&&t.jsxs("span",{className:"flex items-center gap-1 whitespace-nowrap",children:[t.jsx(tn,{className:"text-xs flex-shrink-0"}),H.phone]}),H.city&&t.jsxs("span",{className:"flex items-center gap-1 whitespace-nowrap",children:[t.jsx(Pr,{className:"text-xs flex-shrink-0"}),H.city]})]}),Y.length>0&&t.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:Y.map((me,de)=>t.jsxs("span",{className:"px-2 py-1 bg-primary/10 text-primary rounded text-xs font-medium flex items-center gap-1",children:[t.jsx(r4,{className:"text-xs flex-shrink-0"}),t.jsx("span",{className:"truncate",children:typeof me=="object"?me.name:me})]},de))}),ie.length>0&&t.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:ie.map((me,de)=>{var it,Ye;const Ge=typeof me=="object"?me.name:((it=D.find(Le=>(Le._id||Le.id)===me))==null?void 0:it.name)||me,Me=typeof me=="object"?me.city:((Ye=D.find(Le=>(Le._id||Le.id)===me))==null?void 0:Ye.city)||"";return t.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded text-xs font-medium flex items-center gap-1",children:[t.jsx(ZN,{className:"text-xs flex-shrink-0"}),t.jsxs("span",{className:"truncate",children:[Ge," ",Me&&`(${Me})`]})]},de)})})]}),t.jsx("div",{className:"hidden lg:block opacity-40 flex-shrink-0",children:t.jsx(ti,{className:"scale-50"})})]}),t.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 flex-wrap sm:flex-nowrap flex-shrink-0 self-start sm:self-auto",children:[t.jsx("button",{onClick:()=>b(H),className:"p-2 hover:bg-green-50 rounded-lg text-green-600 transition flex-shrink-0",title:"View ID Card",type:"button",children:t.jsx(hs,{className:"text-base sm:text-lg"})}),t.jsx("button",{onClick:()=>M(H),className:"p-2 hover:bg-purple-50 rounded-lg text-purple-600 transition flex-shrink-0",title:"View Activities",type:"button",children:t.jsx(Vc,{className:"text-base sm:text-lg"})}),t.jsx("button",{onClick:()=>se(H),className:"p-2 hover:bg-blue-50 rounded-lg text-blue-600 transition flex-shrink-0",title:"Edit Member",type:"button",children:t.jsx(ks,{className:"text-base sm:text-lg"})}),t.jsx("button",{onClick:()=>ee(H),className:"p-2 hover:bg-red-50 rounded-lg text-red-600 transition flex-shrink-0",title:"Delete Member",type:"button",children:t.jsx(Ma,{className:"text-base sm:text-lg"})})]})]})},B)})})]}),a&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-3 sm:p-4 overflow-y-auto",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full p-4 sm:p-6 my-auto max-h-[95vh] overflow-y-auto",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[t.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-slate-800",children:i?"Edit Team Member":"Add Team Member"}),t.jsx("button",{onClick:()=>{n(!1),l(null),N({name:"",email:"",phone:"",role:"technician",profilePicture:null}),k(null)},className:"p-2 hover:bg-slate-100 rounded-lg transition flex-shrink-0",type:"button",children:t.jsx(mt,{className:"text-lg sm:text-xl"})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Profile Picture"}),t.jsxs("div",{className:"flex items-center gap-4",children:[S?t.jsx("img",{src:S,alt:"Preview",className:"w-20 h-20 rounded-full object-cover border-2 border-primary/20"}):t.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-primary to-primary-dark text-white flex items-center justify-center font-bold text-2xl border-2 border-primary/20",children:v.name?v.name.charAt(0).toUpperCase():"?"}),t.jsxs("label",{className:"px-4 py-2 bg-primary text-white rounded-lg cursor-pointer hover:bg-primary-dark transition flex items-center gap-2",children:[t.jsx(l0,{}),S?"Change":"Upload"," Photo",t.jsx("input",{type:"file",accept:"image/*",onChange:R,className:"hidden"})]})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Name ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",value:v.name,onChange:H=>N({...v,name:H.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter name"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Phone ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"tel",value:v.phone,onChange:H=>N({...v,phone:H.target.value.replace(/\D/g,"").slice(0,10)}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter phone number",maxLength:10})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Email"}),t.jsx("input",{type:"email",value:v.email,onChange:H=>N({...v,email:H.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter email"})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"WhatsApp Number"}),t.jsx("input",{type:"tel",value:v.whatsappNumber,onChange:H=>N({...v,whatsappNumber:H.target.value.replace(/\D/g,"").slice(0,10)}),className:"w-full px-3 sm:px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-sm sm:text-base",placeholder:"WhatsApp number"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Qualification"}),t.jsx("input",{type:"text",value:v.qualification,onChange:H=>N({...v,qualification:H.target.value}),className:"w-full px-3 sm:px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-sm sm:text-base",placeholder:"Qualification"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Experience (Years)"}),t.jsx("input",{type:"number",value:v.experience,onChange:H=>N({...v,experience:H.target.value}),className:"w-full px-3 sm:px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-sm sm:text-base",placeholder:"Years"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"City"}),t.jsx("input",{type:"text",value:v.city,onChange:H=>N({...v,city:H.target.value}),className:"w-full px-3 sm:px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-sm sm:text-base",placeholder:"City"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Address"}),t.jsx("textarea",{value:v.address,onChange:H=>N({...v,address:H.target.value}),rows:2,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Full address"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Pincode"}),t.jsx("input",{type:"text",value:v.pincode,onChange:H=>N({...v,pincode:H.target.value.replace(/\D/g,"").slice(0,6)}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"6-digit pincode",maxLength:6})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Service Categories"}),t.jsx("div",{className:"max-h-40 overflow-y-auto p-3 bg-slate-50 rounded-lg border border-slate-200 grid grid-cols-1 sm:grid-cols-2 gap-2",children:X.length>0?X.map(H=>{const B=(v.categories||[]).includes(H._id||H.id);return t.jsxs("label",{className:`flex items-center gap-2 p-2 rounded cursor-pointer border-2 transition ${B?"bg-primary/10 border-primary":"bg-white border-slate-200 hover:border-primary/50"}`,children:[t.jsx("input",{type:"checkbox",checked:B,onChange:()=>O(H._id||H.id,H.name),className:"w-4 h-4 text-primary rounded focus:ring-primary"}),t.jsx("span",{className:"text-sm font-medium text-slate-800",children:H.name})]},H._id||H.id)}):t.jsx("div",{className:"col-span-2 text-center text-sm text-slate-500 py-4",children:"No service categories available"})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Service Hubs"}),t.jsx("div",{className:"max-h-40 overflow-y-auto p-3 bg-slate-50 rounded-lg border border-slate-200 space-y-2",children:D.length>0?D.map(H=>{const B=(v.hubs||[]).includes(H._id||H.id);return t.jsxs("label",{className:`flex items-center justify-between p-2 rounded cursor-pointer border-2 transition ${B?"bg-primary/10 border-primary":"bg-white border-slate-200 hover:border-primary/50"}`,children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-sm font-medium text-slate-800",children:H.name}),t.jsxs("span",{className:"text-xs text-slate-500 ml-2",children:[H.city,", ",H.state]})]}),t.jsx("input",{type:"checkbox",checked:B,onChange:()=>K(H._id||H.id),className:"w-4 h-4 text-primary rounded focus:ring-primary"})]},H._id||H.id)}):t.jsx("div",{className:"text-center text-sm text-slate-500 py-4",children:"No service hubs available"})})]}),t.jsx("div",{children:t.jsxs("button",{type:"button",onClick:()=>L(!he),className:"w-full px-4 py-2 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition flex items-center justify-between",children:[t.jsxs("span",{className:"flex items-center gap-2",children:[t.jsx(Xa,{}),"KYC Documents ",he?"(Hide)":"(Show)"]}),t.jsx("span",{children:he?"":"+"})]})}),he&&t.jsxs("div",{className:"space-y-4 p-4 bg-slate-50 rounded-lg border border-slate-200",children:[t.jsx("h4",{className:"font-semibold text-slate-800",children:"KYC Documents"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-700 mb-1",children:"PAN Card"}),_.panCard&&t.jsx("img",{src:_.panCard,alt:"PAN",className:"w-full h-20 object-cover rounded mb-1"}),t.jsxs("label",{className:"block w-full px-3 py-2 border-2 border-dashed border-slate-300 rounded cursor-pointer hover:border-primary transition text-center text-xs",children:[t.jsx(Yt,{className:"inline mr-1"}),_.panCard?"Change":"Upload"," PAN",t.jsx("input",{type:"file",accept:"image/*",onChange:H=>T("panCard",H.target.files[0]),className:"hidden"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-700 mb-1",children:"Aadhaar Front"}),_.aadhaar&&t.jsx("img",{src:_.aadhaar,alt:"Aadhaar",className:"w-full h-20 object-cover rounded mb-1"}),t.jsxs("label",{className:"block w-full px-3 py-2 border-2 border-dashed border-slate-300 rounded cursor-pointer hover:border-primary transition text-center text-xs",children:[t.jsx(Yt,{className:"inline mr-1"}),_.aadhaar?"Change":"Upload"," Aadhaar",t.jsx("input",{type:"file",accept:"image/*",onChange:H=>T("aadhaar",H.target.files[0]),className:"hidden"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-700 mb-1",children:"Aadhaar Back"}),_.aadhaarback&&t.jsx("img",{src:_.aadhaarback,alt:"Aadhaar Back",className:"w-full h-20 object-cover rounded mb-1"}),t.jsxs("label",{className:"block w-full px-3 py-2 border-2 border-dashed border-slate-300 rounded cursor-pointer hover:border-primary transition text-center text-xs",children:[t.jsx(Yt,{className:"inline mr-1"}),_.aadhaarback?"Change":"Upload"," Aadhaar Back",t.jsx("input",{type:"file",accept:"image/*",onChange:H=>T("aadhaarback",H.target.files[0]),className:"hidden"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-700 mb-1",children:"Cheque"}),_.chequeImage&&t.jsx("img",{src:_.chequeImage,alt:"Cheque",className:"w-full h-20 object-cover rounded mb-1"}),t.jsxs("label",{className:"block w-full px-3 py-2 border-2 border-dashed border-slate-300 rounded cursor-pointer hover:border-primary transition text-center text-xs",children:[t.jsx(Yt,{className:"inline mr-1"}),_.chequeImage?"Change":"Upload"," Cheque",t.jsx("input",{type:"file",accept:"image/*",onChange:H=>T("chequeImage",H.target.files[0]),className:"hidden"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-2",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-700 mb-1",children:"Account Number"}),t.jsx("input",{type:"text",value:C.accountNumber,onChange:H=>P({...C,accountNumber:H.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-sm"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-700 mb-1",children:"IFSC Code"}),t.jsx("input",{type:"text",value:C.ifscCode,onChange:H=>P({...C,ifscCode:H.target.value.toUpperCase()}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-sm"})]})]})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-4",children:[t.jsx("button",{onClick:i?U:q,disabled:o,className:"flex-1 py-2.5 sm:py-3 bg-primary text-white rounded-lg text-sm sm:text-base font-semibold hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",type:"button",children:o?"Processing...":(i?"Update":"Add")+" Member"}),t.jsx("button",{onClick:()=>{n(!1),l(null),N({name:"",email:"",phone:"",whatsappNumber:"",qualification:"",experience:"",address:"",city:"",pincode:"",role:"technician",profilePicture:null,categories:[],categoryNames:[],hubs:[]}),k(null),P({panCard:null,aadhaar:null,aadhaarback:null,chequeImage:null,drivingLicence:null,bill:null,accountNumber:"",ifscCode:"",accountHolderName:"",bankName:""}),A({}),L(!1)},className:"px-4 sm:px-6 py-2.5 sm:py-3 bg-slate-100 text-slate-700 rounded-lg text-sm sm:text-base font-semibold hover:bg-slate-200 transition",type:"button",children:"Cancel"})]})]})]})}),f&&t.jsx(T6e,{member:f,partner:null,onClose:()=>b(null)}),d&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-3 sm:p-4 overflow-y-auto",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-4xl w-full p-4 sm:p-6 my-auto max-h-[95vh] overflow-y-auto",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4 mb-4 sm:mb-6",children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("h2",{className:"text-xl sm:text-2xl font-bold text-slate-800 truncate",children:[d.name,"'s Activities"]}),t.jsx("p",{className:"text-xs sm:text-sm text-slate-600 mt-1",children:"View all bookings and activities"})]}),t.jsx("button",{onClick:()=>u(null),className:"p-2 hover:bg-slate-100 rounded-lg transition flex-shrink-0 self-end sm:self-auto",type:"button",children:t.jsx(mt,{className:"text-lg sm:text-xl"})})]}),h[d._id||d.id]?t.jsx("div",{className:"text-center py-12",children:t.jsx("p",{className:"text-slate-500",children:"Loading activities..."})}):t.jsx("div",{className:"space-y-4",children:(()=>{const H=d._id||d.id,B=m[H]||[];return B.length===0?t.jsxs("div",{className:"text-center py-12 text-slate-500",children:[t.jsx(Vc,{className:"text-4xl mx-auto mb-2 opacity-50"}),t.jsx("p",{children:"No activities found for this team member"})]}):B.map((Y,ie)=>{var me,de;return t.jsxs("div",{className:"border border-slate-200 rounded-lg p-4 hover:bg-slate-50 transition",children:[t.jsxs("div",{className:"flex items-start justify-between mb-2",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"font-semibold text-slate-800",children:((me=Y.subService)==null?void 0:me.name)||((de=Y.service)==null?void 0:de.name)||"Service"}),Y.user&&t.jsxs("p",{className:"text-sm text-slate-600 mt-1",children:["Customer: ",Y.user.name," (",Y.user.phone,")"]})]}),t.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${Y.status==="completed"?"bg-green-100 text-green-800":Y.status==="in_progress"?"bg-blue-100 text-blue-800":Y.status==="accepted"?"bg-purple-100 text-purple-800":"bg-slate-100 text-slate-800"}`,children:Y.status})]}),t.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 sm:gap-4 mt-3 text-xs sm:text-sm",children:[Y.scheduledDate&&t.jsxs("div",{children:[t.jsx("p",{className:"text-slate-500",children:"Scheduled Date"}),t.jsx("p",{className:"font-medium",children:new Date(Y.scheduledDate).toLocaleDateString()})]}),Y.scheduledTime&&t.jsxs("div",{children:[t.jsx("p",{className:"text-slate-500",children:"Time"}),t.jsx("p",{className:"font-medium",children:Y.scheduledTime})]}),Y.amount&&t.jsxs("div",{children:[t.jsx("p",{className:"text-slate-500",children:"Amount"}),t.jsxs("p",{className:"font-medium",children:["",Y.amount]})]}),Y.completedAt&&t.jsxs("div",{children:[t.jsx("p",{className:"text-slate-500",children:"Completed"}),t.jsx("p",{className:"font-medium",children:new Date(Y.completedAt).toLocaleDateString()})]})]}),Y.location&&t.jsxs("div",{className:"mt-3 text-sm",children:[t.jsx("p",{className:"text-slate-500",children:"Location"}),t.jsxs("p",{className:"font-medium",children:[Y.location.address,", ",Y.location.city," - ",Y.location.pincode]})]})]},ie)})})()})]})})]})},I6e=({booking:e,onClose:r,onComplete:s,token:a})=>{var y,v,N;const[n,i]=g.useState([]),[l,o]=g.useState([]),[c,d]=g.useState(""),[u,m]=g.useState(!1),[x,h]=g.useState(null),p=S=>{const k=Array.from(S.target.files);i(C=>[...C,...k])},f=S=>{const k=Array.from(S.target.files);o(C=>[...C,...k])},b=S=>{i(k=>k.filter((C,P)=>P!==S))},j=S=>{o(k=>k.filter((C,P)=>P!==S))},w=async S=>{if(S.preventDefault(),h(null),n.length===0&&l.length===0){h("Please upload at least one photo or video");return}m(!0);try{const k=new FormData;n.forEach(C=>{k.append("photos",C)}),l.forEach(C=>{k.append("videos",C)}),c.trim()&&k.append("remark",c.trim()),await s(e._id||e.bookingId,k),r()}catch(k){h(k.message||"Failed to complete job")}finally{m(!1)}};return t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between z-10",children:[t.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Complete Job"}),t.jsx("button",{onClick:r,className:"p-2 hover:bg-slate-100 rounded-lg transition",disabled:u,children:t.jsx(mt,{className:"w-5 h-5 text-slate-600"})})]}),t.jsxs("form",{onSubmit:w,className:"p-6 space-y-6",children:[x&&t.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg text-sm",children:x}),t.jsxs("div",{className:"bg-slate-50 rounded-lg p-4",children:[t.jsxs("p",{className:"text-sm text-slate-600 mb-1",children:[t.jsx("strong",{children:"Booking ID:"})," ",e.bookingId||((y=e._id)==null?void 0:y.toString().slice(-8))||"N/A"]}),t.jsxs("p",{className:"text-sm text-slate-600",children:[t.jsx("strong",{children:"Service:"})," ",((v=e.service)==null?void 0:v.name)||((N=e.subService)==null?void 0:N.name)||"N/A"]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:[t.jsx($f,{className:"inline mr-2"}),"Upload Photos ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("div",{className:"flex flex-col gap-3",children:[t.jsxs("label",{className:"flex items-center justify-center w-full px-4 py-3 border-2 border-dashed border-slate-300 rounded-lg cursor-pointer hover:border-primary transition",children:[t.jsx(Wo,{className:"w-5 h-5 text-slate-600 mr-2"}),t.jsx("span",{className:"text-sm text-slate-600",children:"Click to upload photos"}),t.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:p,className:"hidden",disabled:u})]}),n.length>0&&t.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:n.map((S,k)=>t.jsxs("div",{className:"relative group",children:[t.jsx("img",{src:URL.createObjectURL(S),alt:`Preview ${k+1}`,className:"w-full h-24 object-cover rounded-lg"}),t.jsx("button",{type:"button",onClick:()=>b(k),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition",children:t.jsx(mt,{className:"w-3 h-3"})})]},k))})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:[t.jsx(Wo,{className:"inline mr-2"}),"Upload Videos (Optional)"]}),t.jsxs("div",{className:"flex flex-col gap-3",children:[t.jsxs("label",{className:"flex items-center justify-center w-full px-4 py-3 border-2 border-dashed border-slate-300 rounded-lg cursor-pointer hover:border-primary transition",children:[t.jsx(Wo,{className:"w-5 h-5 text-slate-600 mr-2"}),t.jsx("span",{className:"text-sm text-slate-600",children:"Click to upload videos"}),t.jsx("input",{type:"file",accept:"video/*",multiple:!0,onChange:f,className:"hidden",disabled:u})]}),l.length>0&&t.jsx("div",{className:"space-y-2",children:l.map((S,k)=>t.jsxs("div",{className:"flex items-center justify-between bg-slate-50 p-2 rounded-lg",children:[t.jsx("span",{className:"text-sm text-slate-600 truncate flex-1",children:S.name}),t.jsx("button",{type:"button",onClick:()=>j(k),className:"ml-2 text-red-500 hover:text-red-700",children:t.jsx(mt,{className:"w-4 h-4"})})]},k))})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:[t.jsx(Yt,{className:"inline mr-2"}),"Remark (Optional)"]}),t.jsx("textarea",{value:c,onChange:S=>d(S.target.value),rows:4,className:"w-full px-4 py-3 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary resize-none",placeholder:"Add any remarks or notes about the job completion...",disabled:u})]}),t.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200",children:[t.jsx("button",{type:"button",onClick:r,className:"flex-1 px-4 py-3 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition",disabled:u,children:"Cancel"}),t.jsx("button",{type:"submit",className:"flex-1 px-4 py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",disabled:u||n.length===0&&l.length===0,children:u?"Completing...":"Complete Job"})]})]})]})})},_6e=({booking:e,onClose:r,onPause:s,token:a})=>{var b,j,w;const[n,i]=g.useState(""),[l,o]=g.useState(""),[c,d]=g.useState(""),[u,m]=g.useState(!1),[x,h]=g.useState(null),p=async y=>{if(y.preventDefault(),h(null),!n||!l){h("Please provide both date and time for resuming the job");return}m(!0);try{await s(e._id||e.bookingId,{nextScheduledDate:n,nextScheduledTime:l,pauseReason:c.trim()||"Not specified"}),r()}catch(v){h(v.message||"Failed to pause job")}finally{m(!1)}},f=()=>{const y=new Date;return y.setDate(y.getDate()+1),y.toISOString().split("T")[0]};return t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between z-10",children:[t.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Pause Job"}),t.jsx("button",{onClick:r,className:"p-2 hover:bg-slate-100 rounded-lg transition",disabled:u,children:t.jsx(mt,{className:"w-5 h-5 text-slate-600"})})]}),t.jsxs("form",{onSubmit:p,className:"p-6 space-y-6",children:[x&&t.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg text-sm",children:x}),t.jsxs("div",{className:"bg-slate-50 rounded-lg p-4",children:[t.jsxs("p",{className:"text-sm text-slate-600 mb-1",children:[t.jsx("strong",{children:"Booking ID:"})," ",e.bookingId||((b=e._id)==null?void 0:b.toString().slice(-8))||"N/A"]}),t.jsxs("p",{className:"text-sm text-slate-600",children:[t.jsx("strong",{children:"Service:"})," ",((j=e.service)==null?void 0:j.name)||((w=e.subService)==null?void 0:w.name)||"N/A"]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:[t.jsx(ns,{className:"inline mr-2"}),"Next Scheduled Date ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"date",value:n,onChange:y=>i(y.target.value),min:f(),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary",required:!0,disabled:u})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:[t.jsx(ns,{className:"inline mr-2"}),"Next Scheduled Time ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"time",value:l,onChange:y=>o(y.target.value),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary",required:!0,disabled:u})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Reason for Pausing (Optional)"}),t.jsx("textarea",{value:c,onChange:y=>d(y.target.value),rows:3,className:"w-full px-4 py-3 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary resize-none",placeholder:"e.g., Waiting for parts, Customer requested delay, etc.",disabled:u})]}),t.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200",children:[t.jsx("button",{type:"button",onClick:r,className:"flex-1 px-4 py-3 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition",disabled:u,children:"Cancel"}),t.jsx("button",{type:"submit",className:"flex-1 px-4 py-3 bg-yellow-500 text-white rounded-lg font-semibold hover:bg-yellow-600 transition disabled:opacity-50 disabled:cursor-not-allowed",disabled:u,children:u?"Pausing...":"Pause Job"})]})]})]})})},O6e=({booking:e,onClose:r,onCreate:s,token:a})=>{var F,X,ce;const[n,i]=g.useState([{name:"",description:"",quantity:1,unitPrice:0,total:0}]),[l,o]=g.useState(0),[c,d]=g.useState(0),[u,m]=g.useState(0),[x,h]=g.useState(0),[p,f]=g.useState(""),[b,j]=g.useState(""),[w,y]=g.useState(""),[v,N]=g.useState(!1),[S,k]=g.useState(null);_t.useEffect(()=>{const he=n.reduce((q,se)=>{const R=(se.quantity||0)*(se.unitPrice||0);return q+R},0);o(he);const L=he+(c||0)-(u||0);h(L)},[n,c,u]);const C=()=>{i([...n,{name:"",description:"",quantity:1,unitPrice:0,total:0}])},P=he=>{n.length>1&&i(n.filter((L,q)=>q!==he))},_=(he,L,q)=>{const se=[...n];se[he][L]=q,(L==="quantity"||L==="unitPrice")&&(se[he].total=(se[he].quantity||0)*(se[he].unitPrice||0)),i(se)},A=async he=>{if(he.preventDefault(),k(null),n.some(q=>!q.name||q.unitPrice<=0)){k("Please fill all item fields and ensure prices are greater than 0");return}if(!b){k("Please select a valid till date");return}if(x<=0){k("Total amount must be greater than 0");return}const L=new Date(b);if(L<=new Date){k("Valid till date must be in the future");return}N(!0);try{await s(e._id||e.bookingId,{items:n.map(q=>({name:q.name,description:q.description||"",quantity:q.quantity,unitPrice:q.unitPrice,total:q.total})),subtotal:l,tax:c,discount:u,totalAmount:x,description:p,validTill:L.toISOString(),notes:w}),r()}catch(q){k(q.message||"Failed to create quotation")}finally{N(!1)}},D=()=>{const he=new Date;return he.setDate(he.getDate()+1),he.toISOString().split("T")[0]};return t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between z-10",children:[t.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Send Extra Quotation"}),t.jsx("button",{onClick:r,className:"p-2 hover:bg-slate-100 rounded-lg transition",disabled:v,children:t.jsx(mt,{className:"w-5 h-5 text-slate-600"})})]}),t.jsxs("form",{onSubmit:A,className:"p-6 space-y-6",children:[S&&t.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg text-sm",children:S}),t.jsxs("div",{className:"bg-slate-50 rounded-lg p-4",children:[t.jsxs("p",{className:"text-sm text-slate-600 mb-1",children:[t.jsx("strong",{children:"Booking ID:"})," ",e.bookingId||((F=e._id)==null?void 0:F.toString().slice(-8))||"N/A"]}),t.jsxs("p",{className:"text-sm text-slate-600",children:[t.jsx("strong",{children:"Service:"})," ",((X=e.service)==null?void 0:X.name)||((ce=e.subService)==null?void 0:ce.name)||"N/A"]})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700",children:["Items ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("button",{type:"button",onClick:C,className:"px-3 py-1.5 bg-primary text-white rounded-lg text-sm font-semibold hover:bg-primary-dark transition inline-flex items-center gap-2",children:[t.jsx(Tr,{className:"w-4 h-4"})," Add Item"]})]}),t.jsx("div",{className:"space-y-3",children:n.map((he,L)=>t.jsxs("div",{className:"border border-slate-200 rounded-lg p-4 space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("h4",{className:"text-sm font-semibold text-slate-700",children:["Item ",L+1]}),n.length>1&&t.jsx("button",{type:"button",onClick:()=>P(L),className:"text-red-500 hover:text-red-700",children:t.jsx(Ma,{className:"w-4 h-4"})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs text-slate-600 mb-1",children:"Item Name *"}),t.jsx("input",{type:"text",value:he.name,onChange:q=>_(L,"name",q.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-primary text-sm",placeholder:"e.g., Spare Part, Additional Service",required:!0,disabled:v})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs text-slate-600 mb-1",children:"Quantity *"}),t.jsx("input",{type:"number",value:he.quantity,onChange:q=>_(L,"quantity",parseFloat(q.target.value)||0),min:"1",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-primary text-sm",required:!0,disabled:v})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs text-slate-600 mb-1",children:"Unit Price () *"}),t.jsx("input",{type:"number",value:he.unitPrice,onChange:q=>_(L,"unitPrice",parseFloat(q.target.value)||0),min:"0",step:"0.01",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-primary text-sm",required:!0,disabled:v})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs text-slate-600 mb-1",children:"Total ()"}),t.jsx("input",{type:"number",value:he.total.toFixed(2),readOnly:!0,className:"w-full px-3 py-2 border border-slate-300 rounded-lg bg-slate-50 text-sm"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs text-slate-600 mb-1",children:"Description"}),t.jsx("textarea",{value:he.description,onChange:q=>_(L,"description",q.target.value),rows:2,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-primary text-sm resize-none",placeholder:"Item description...",disabled:v})]})]},L))})]}),t.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 space-y-2",children:[t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-slate-600",children:"Subtotal:"}),t.jsxs("span",{className:"font-semibold",children:["",l.toFixed(2)]})]}),t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-slate-600",children:"Tax:"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"number",value:c,onChange:he=>d(parseFloat(he.target.value)||0),min:"0",step:"0.01",className:"w-24 px-2 py-1 border border-slate-300 rounded text-sm",disabled:v}),t.jsxs("span",{className:"font-semibold",children:["",c.toFixed(2)]})]})]}),t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-slate-600",children:"Discount:"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"number",value:u,onChange:he=>m(parseFloat(he.target.value)||0),min:"0",step:"0.01",className:"w-24 px-2 py-1 border border-slate-300 rounded text-sm",disabled:v}),t.jsxs("span",{className:"font-semibold",children:["",u.toFixed(2)]})]})]}),t.jsxs("div",{className:"flex justify-between text-base font-bold pt-2 border-t border-slate-300",children:[t.jsx("span",{children:"Total Amount:"}),t.jsxs("span",{className:"text-primary",children:["",x.toFixed(2)]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Description"}),t.jsx("textarea",{value:p,onChange:he=>f(he.target.value),rows:3,className:"w-full px-4 py-3 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary resize-none",placeholder:"Additional description about the quotation...",disabled:v})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:[t.jsx(Ss,{className:"inline mr-2"}),"Valid Till ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"date",value:b,onChange:he=>j(he.target.value),min:D(),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary",required:!0,disabled:v})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Notes (Optional)"}),t.jsx("textarea",{value:w,onChange:he=>y(he.target.value),rows:2,className:"w-full px-4 py-3 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary resize-none",placeholder:"Internal notes...",disabled:v})]}),t.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200",children:[t.jsx("button",{type:"button",onClick:r,className:"flex-1 px-4 py-3 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition",disabled:v,children:"Cancel"}),t.jsx("button",{type:"submit",className:"flex-1 px-4 py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",disabled:v||x<=0,children:v?"Sending...":"Send Quotation"})]})]})]})})},D6e=({quotation:e,onClose:r,onAccept:s,onReject:a,userType:n,token:i})=>{var N,S,k,C,P,_,A,D,F,X,ce,he,L,q;const[l,o]=g.useState(""),[c,d]=g.useState(!1),[u,m]=g.useState(!1),[x,h]=g.useState(null);if(!e)return t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full p-6",children:[t.jsx("h2",{className:"text-xl font-bold text-slate-900 mb-4",children:"Error"}),t.jsx("p",{className:"text-slate-600 mb-4",children:"Quotation data is missing or invalid."}),t.jsx("button",{onClick:r,className:"w-full px-4 py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition",children:"Close"})]})});const p=se=>{switch(se){case"accepted":case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";case"pending":return"bg-yellow-100 text-yellow-800";case"expired":return"bg-gray-100 text-gray-800";default:return"bg-slate-100 text-slate-800"}},f=se=>{switch(se){case"accepted":case"approved":return t.jsx(vt,{className:"w-4 h-4"});case"rejected":return t.jsx(Yn,{className:"w-4 h-4"});case"pending":return t.jsx(ns,{className:"w-4 h-4"});default:return t.jsx(ns,{className:"w-4 h-4"})}},b=async()=>{h(null),m(!0);try{await s(e._id),r()}catch(se){h(se.message||"Failed to accept quotation")}finally{m(!1)}},j=async()=>{if(!l.trim()&&n==="admin"){h("Please provide a rejection reason");return}h(null),m(!0);try{await a(e._id,l),r()}catch(se){h(se.message||"Failed to reject quotation")}finally{m(!1)}},w=n==="customer"&&e.customerStatus==="pending",y=n==="admin"&&e.adminStatus==="pending",v=e.validTill?new Date(e.validTill)<new Date:!1;return g.useEffect(()=>{var se;console.log("=== QuotationDetailsModal Debug ==="),console.log("Quotation data:",e),console.log("Quotation ID:",e._id),console.log("Quotation Number:",e.quotationNumber),console.log("Items:",e.items),console.log("Items count:",((se=e.items)==null?void 0:se.length)||0),console.log("User:",e.user),console.log("Partner:",e.partner),console.log("Booking:",e.booking),console.log("Subtotal:",e.subtotal),console.log("Total Amount:",e.totalAmount),console.log("===============================")},[e]),t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between z-10",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Quotation Details"}),t.jsxs("p",{className:"text-sm text-slate-600",children:["#",e.quotationNumber]})]}),t.jsx("button",{onClick:r,className:"p-2 hover:bg-slate-100 rounded-lg transition",disabled:u,children:t.jsx(mt,{className:"w-5 h-5 text-slate-600"})})]}),t.jsxs("div",{className:"p-6 space-y-6",children:[x&&t.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg text-sm",children:x}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"bg-slate-50 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(vr,{className:"w-4 h-4 text-slate-600"}),t.jsx("span",{className:"text-xs text-slate-600",children:"Customer Status"})]}),t.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-semibold flex items-center gap-1 w-fit ${p(e.customerStatus)}`,children:[f(e.customerStatus),((N=e.customerStatus)==null?void 0:N.charAt(0).toUpperCase())+((S=e.customerStatus)==null?void 0:S.slice(1))||"Pending"]}),e.customerResponseAt&&t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:new Date(e.customerResponseAt).toLocaleString()})]}),t.jsxs("div",{className:"bg-slate-50 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(Xa,{className:"w-4 h-4 text-slate-600"}),t.jsx("span",{className:"text-xs text-slate-600",children:"Admin Status"})]}),t.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-semibold flex items-center gap-1 w-fit ${p(e.adminStatus)}`,children:[f(e.adminStatus),((k=e.adminStatus)==null?void 0:k.charAt(0).toUpperCase())+((C=e.adminStatus)==null?void 0:C.slice(1))||"Pending"]}),e.adminResponseAt&&t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:new Date(e.adminResponseAt).toLocaleString()})]}),t.jsxs("div",{className:"bg-slate-50 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(ns,{className:"w-4 h-4 text-slate-600"}),t.jsx("span",{className:"text-xs text-slate-600",children:"Overall Status"})]}),t.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-semibold flex items-center gap-1 w-fit ${p(e.status)}`,children:[f(e.status),((P=e.status)==null?void 0:P.replace("_"," ").split(" ").map(se=>se.charAt(0).toUpperCase()+se.slice(1)).join(" "))||"Pending"]})]})]}),t.jsxs("div",{className:"bg-slate-50 rounded-lg p-4",children:[t.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Booking Information"}),t.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-slate-600",children:"Booking ID:"}),t.jsx("span",{className:"ml-2 font-semibold",children:((_=e.booking)==null?void 0:_.bookingId)||((D=(A=e.booking)==null?void 0:A._id)==null?void 0:D.toString().slice(-8))||((F=e.booking)==null?void 0:F.toString().slice(-8))||"N/A"})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-slate-600",children:"Customer:"}),t.jsx("span",{className:"ml-2 font-semibold",children:((X=e.user)==null?void 0:X.name)||e.user||"N/A"})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-slate-600",children:"Partner:"}),t.jsx("span",{className:"ml-2 font-semibold",children:((he=(ce=e.partner)==null?void 0:ce.profile)==null?void 0:he.name)||((L=e.partner)==null?void 0:L.phone)||((q=e.partner)==null?void 0:q.name)||"N/A"})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-slate-600",children:"Valid Till:"}),t.jsxs("span",{className:`ml-2 font-semibold ${v?"text-red-600":""}`,children:[e.validTill?new Date(e.validTill).toLocaleDateString():"N/A",v&&" (Expired)"]})]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Items"}),e.items&&e.items.length>0?t.jsx("div",{className:"space-y-2",children:e.items.map((se,R)=>t.jsxs("div",{className:"border border-slate-200 rounded-lg p-3",children:[t.jsxs("div",{className:"flex justify-between items-start mb-1",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold text-slate-800",children:se.name||"Item "+(R+1)}),se.description&&t.jsx("p",{className:"text-xs text-slate-600 mt-1",children:se.description})]}),t.jsxs("p",{className:"font-semibold text-slate-800",children:["",(se.total||0).toFixed(2)]})]}),t.jsxs("div",{className:"flex gap-4 text-xs text-slate-600",children:[t.jsxs("span",{children:["Qty: ",se.quantity||1]}),t.jsxs("span",{children:["Unit Price: ",(se.unitPrice||0).toFixed(2)]})]})]},R))}):t.jsx("p",{className:"text-sm text-slate-500 italic",children:"No items found in this quotation."})]}),t.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 space-y-2",children:[t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-slate-600",children:"Subtotal:"}),t.jsxs("span",{className:"font-semibold",children:["",(e.subtotal||0).toFixed(2)]})]}),(e.tax||0)>0&&t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-slate-600",children:"Tax:"}),t.jsxs("span",{className:"font-semibold",children:["",(e.tax||0).toFixed(2)]})]}),(e.discount||0)>0&&t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-slate-600",children:"Discount:"}),t.jsxs("span",{className:"font-semibold",children:["-",(e.discount||0).toFixed(2)]})]}),t.jsxs("div",{className:"flex justify-between text-base font-bold pt-2 border-t border-slate-300",children:[t.jsx("span",{children:"Total Amount:"}),t.jsxs("span",{className:"text-primary",children:["",(e.totalAmount||0).toFixed(2)]})]})]}),e.description&&t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Description"}),t.jsx("p",{className:"text-sm text-slate-600",children:e.description})]}),e.notes&&t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Notes"}),t.jsx("p",{className:"text-sm text-slate-600",children:e.notes})]}),e.customerRejectionReason&&t.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:[t.jsx("h3",{className:"text-sm font-semibold text-red-700 mb-1",children:"Customer Rejection Reason"}),t.jsx("p",{className:"text-sm text-red-600",children:e.customerRejectionReason})]}),e.adminRejectionReason&&t.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:[t.jsx("h3",{className:"text-sm font-semibold text-red-700 mb-1",children:"Admin Rejection Reason"}),t.jsx("p",{className:"text-sm text-red-600",children:e.adminRejectionReason})]}),(w||y)&&!v&&t.jsx("div",{className:"pt-4 border-t border-slate-200",children:c?t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Rejection Reason ",n==="admin"&&t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("textarea",{value:l,onChange:se=>o(se.target.value),rows:3,className:"w-full px-4 py-3 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary resize-none",placeholder:"Please provide a reason for rejection...",disabled:u})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{type:"button",onClick:()=>{d(!1),o(""),h(null)},className:"flex-1 px-4 py-3 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition",disabled:u,children:"Cancel"}),t.jsx("button",{type:"button",onClick:j,className:"flex-1 px-4 py-3 bg-red-500 text-white rounded-lg font-semibold hover:bg-red-600 transition disabled:opacity-50 disabled:cursor-not-allowed",disabled:u,children:u?"Rejecting...":"Confirm Rejection"})]})]}):t.jsxs("div",{className:"flex gap-3",children:[t.jsxs("button",{type:"button",onClick:b,className:"flex-1 px-4 py-3 bg-green-500 text-white rounded-lg font-semibold hover:bg-green-600 transition disabled:opacity-50 disabled:cursor-not-allowed inline-flex items-center justify-center gap-2",disabled:u,children:[t.jsx(vt,{className:"w-5 h-5"}),u?"Processing...":"Accept Quotation"]}),t.jsxs("button",{type:"button",onClick:()=>d(!0),className:"flex-1 px-4 py-3 bg-red-500 text-white rounded-lg font-semibold hover:bg-red-600 transition disabled:opacity-50 disabled:cursor-not-allowed inline-flex items-center justify-center gap-2",disabled:u,children:[t.jsx(Yn,{className:"w-5 h-5"}),"Reject Quotation"]})]})}),!w&&!y&&t.jsx("div",{className:"pt-4 border-t border-slate-200",children:t.jsx("button",{type:"button",onClick:r,className:"w-full px-4 py-3 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition",children:"Close"})})]})]})})},M6e=()=>{const{token:e,partner:r}=In(),[s,a]=g.useState([]),[n,i]=g.useState([]),[l,o]=g.useState(!0),[c,d]=g.useState(null),[u,m]=g.useState("all"),[x,h]=g.useState(null),[p,f]=g.useState(null),[b,j]=g.useState(null),[w,y]=g.useState(null),[v,N]=g.useState(null),[S,k]=g.useState(null),[C,P]=g.useState({});g.useEffect(()=>{A(),_()},[e]),g.useEffect(()=>{s.length>0&&e&&s.forEach(async T=>{try{const O=await jt.getQuotationsByBooking(e,T._id||T.bookingId);O.success&&O.data&&P(K=>({...K,[T._id||T.bookingId]:O.data}))}catch(O){console.error("Failed to fetch quotations:",O)}})},[s,e]);const _=async()=>{if(e)try{const T=await jt.getTeamMembers(e),O=(T==null?void 0:T.data)||T||[];i(Array.isArray(O)?O:[])}catch(T){console.error("Failed to fetch team members:",T)}},A=async()=>{if(e){o(!0),d(null);try{const T=await jt.getBookings(e);let O=[];T!=null&&T.bookings?Object.values(T.bookings).forEach(K=>{Array.isArray(K)&&(O=O.concat(K))}):Array.isArray(T)?O=T:Array.isArray(T==null?void 0:T.data)?O=T.data:Array.isArray(T==null?void 0:T.bookings)?O=T.bookings:T!=null&&T.data&&Array.isArray(T.data)&&(O=T.data),a(O)}catch(T){d(T.message||"Failed to fetch bookings")}finally{o(!1)}}},D=s.filter(T=>u==="all"?!0:T.status===u),F=T=>{switch(T){case"completed":return"bg-green-100 text-green-800";case"accepted":return"bg-blue-100 text-blue-800";case"in_progress":return"bg-purple-100 text-purple-800";case"pending":return"bg-yellow-100 text-yellow-800";case"paused":return"bg-orange-100 text-orange-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-slate-100 text-slate-800"}},X=T=>{switch(T){case"completed":return t.jsx(vt,{});case"accepted":case"in_progress":return t.jsx(ns,{});case"paused":return t.jsx(GC,{});case"rejected":return t.jsx(Yn,{});default:return t.jsx(as,{})}},ce=async(T,O)=>{if(!(!e||!O)){h(T);try{const K=await jt.assignBookingToTeamMember(e,T,O);K.success?(await A(),alert("Team member assigned successfully!")):alert(K.message||"Failed to assign team member")}catch(K){console.error("Failed to assign team member:",K),alert(K.message||"Failed to assign team member")}finally{h(null)}}},he=async(T,O)=>{try{const K=await jt.completeJob(e,T,O);if(K.success)await A(),alert("Job completed successfully!");else throw new Error(K.message||"Failed to complete job")}catch(K){throw console.error("Failed to complete job:",K),K}},L=async(T,O)=>{try{const K=await jt.pauseJob(e,T,O);if(K.success)await A(),alert("Job paused successfully!");else throw new Error(K.message||"Failed to pause job")}catch(K){throw console.error("Failed to pause job:",K),K}},q=async T=>{if(window.confirm("Are you sure you want to continue this job?"))try{const O=await jt.resumeJob(e,T);if(O.success)await A(),alert("Job continued successfully!");else throw new Error(O.message||"Failed to resume job")}catch(O){console.error("Failed to resume job:",O),alert(O.message||"Failed to resume job")}},se=async(T,O)=>{try{const K=await jt.createQuotation(e,T,O);if(K.success){const U=await jt.getQuotationsByBooking(e,T);U.success&&U.data&&P(ee=>({...ee,[T]:U.data})),await A(),alert("Quotation sent successfully!")}else throw new Error(K.message||"Failed to create quotation")}catch(K){throw console.error("Failed to create quotation:",K),K}};if(l)return t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})});const R={total:s.length,pending:s.filter(T=>T.status==="pending").length,accepted:s.filter(T=>T.status==="accepted").length,in_progress:s.filter(T=>T.status==="in_progress").length,paused:s.filter(T=>T.status==="paused").length,completed:s.filter(T=>T.status==="completed").length,rejected:s.filter(T=>T.status==="rejected").length};return t.jsxs("div",{className:"space-y-4 sm:space-y-6 px-2 sm:px-0",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-800 mb-1 sm:mb-2",children:"Jobs Management"}),t.jsx("p",{className:"text-sm sm:text-base text-slate-600",children:"Manage all your service bookings and jobs"})]}),t.jsx("button",{onClick:A,className:"p-2.5 sm:p-3 bg-white rounded-lg shadow-md hover:shadow-lg transition border border-slate-200 self-start sm:self-auto",children:t.jsx(Dt,{className:"text-lg sm:text-xl text-slate-600"})})]}),t.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-3 sm:gap-4",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 border border-slate-200",children:[t.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Total Jobs"}),t.jsx("p",{className:"text-2xl font-bold text-slate-800",children:R.total})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 border border-slate-200",children:[t.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Pending"}),t.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:R.pending})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 border border-slate-200",children:[t.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Accepted"}),t.jsx("p",{className:"text-2xl font-bold text-blue-600",children:R.accepted})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 border border-slate-200",children:[t.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Completed"}),t.jsx("p",{className:"text-2xl font-bold text-green-600",children:R.completed})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 border border-slate-200",children:[t.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Rejected"}),t.jsx("p",{className:"text-2xl font-bold text-red-600",children:R.rejected})]})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-md p-3 sm:p-4 border border-slate-200",children:t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4",children:[t.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 flex-wrap",children:[t.jsx(Td,{className:"text-slate-600 hidden sm:block"}),["all","pending","accepted","in_progress","paused","completed","rejected"].map(T=>t.jsx("button",{onClick:()=>m(T),className:`px-3 sm:px-4 py-1.5 sm:py-2 rounded-lg text-xs sm:text-sm font-semibold transition ${u===T?"bg-primary text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:T.charAt(0).toUpperCase()+T.slice(1)},T))]}),t.jsxs("button",{onClick:()=>{const T=D.map(O=>{var K,U,ee,M,H,B;return{"Booking ID":((K=O._id)==null?void 0:K.toString().slice(-8))||"N/A","Customer Name":((U=O.user)==null?void 0:U.name)||"N/A","Customer Phone":((ee=O.user)==null?void 0:ee.phone)||"N/A",Service:((M=O.subService)==null?void 0:M.name)||"N/A","Amount ()":O.amount||0,Status:O.status||"N/A","Scheduled Date":O.scheduledDate?new Date(O.scheduledDate).toLocaleDateString("en-IN"):"N/A","Scheduled Time":O.scheduledTime||"N/A",Location:((H=O.location)==null?void 0:H.address)||"N/A","Team Member":((B=O.teamMember)==null?void 0:B.name)||"Not Assigned","Created At":O.createdAt?new Date(O.createdAt).toLocaleString("en-IN"):"N/A"}});Bd(T,[{header:"Booking ID",accessor:"Booking ID"},{header:"Customer Name",accessor:"Customer Name"},{header:"Customer Phone",accessor:"Customer Phone"},{header:"Service",accessor:"Service"},{header:"Amount ()",accessor:"Amount ()"},{header:"Status",accessor:"Status"},{header:"Scheduled Date",accessor:"Scheduled Date"},{header:"Scheduled Time",accessor:"Scheduled Time"},{header:"Location",accessor:"Location"},{header:"Team Member",accessor:"Team Member"},{header:"Created At",accessor:"Created At"}],"Jobs_Management","Jobs",{columnWidths:[15,20,15,25,15,12,15,12,30,20,20]})},disabled:D.length===0,className:"px-3 sm:px-4 py-2 rounded-lg text-xs sm:text-sm font-semibold bg-primary text-white hover:bg-primary-dark transition inline-flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed self-start sm:self-auto",title:"Export to Excel",children:[t.jsx(kn,{})," ",t.jsx("span",{className:"hidden sm:inline",children:"Export Excel"}),t.jsx("span",{className:"sm:hidden",children:"Export"})]})]})}),t.jsx("div",{className:"bg-white rounded-xl shadow-md border border-slate-200 overflow-hidden",children:c?t.jsx("div",{className:"p-6 text-center text-red-600",children:c}):D.length===0?t.jsxs("div",{className:"p-12 text-center text-slate-500",children:[t.jsx(as,{className:"text-4xl mx-auto mb-2 opacity-50"}),t.jsx("p",{children:"No bookings found"})]}):t.jsx("div",{className:"divide-y divide-slate-200",children:D.map((T,O)=>{var K,U,ee,M,H,B,Y;return t.jsxs("div",{className:"p-4 sm:p-6 hover:bg-slate-50 transition",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3 sm:gap-4 mb-3 sm:mb-4",children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3 mb-2",children:[t.jsx("h3",{className:"text-base sm:text-lg font-bold text-slate-800 truncate",children:((K=T.service)==null?void 0:K.name)||T.serviceName||"Service Booking"}),t.jsxs("span",{className:`px-2 sm:px-3 py-1 rounded-full text-xs font-semibold flex items-center gap-1 w-fit ${F(T.status)}`,children:[X(T.status),((U=T.status)==null?void 0:U.charAt(0).toUpperCase())+((ee=T.status)==null?void 0:ee.slice(1))||"Unknown"]})]}),t.jsxs("p",{className:"text-sm text-slate-600 mb-1",children:["Booking ID: ",T.bookingId||T._id||"N/A"]}),t.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[T.user&&t.jsxs("p",{className:"text-sm text-slate-600",children:["Customer: ",((M=T.user)==null?void 0:M.name)||T.userName||"N/A"]}),T.teamMember&&t.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 rounded text-xs font-semibold flex items-center gap-1",children:[t.jsx(vr,{className:"text-xs"}),"Team: ",((H=T.teamMember)==null?void 0:H.name)||"Team Member"]})]}),!T.teamMember&&(T.status==="accepted"||T.status==="in_progress")&&n.length>0&&t.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[t.jsxs("select",{onChange:ie=>{ie.target.value&&(ce(T._id||T.bookingId,ie.target.value),ie.target.value="")},disabled:x===(T._id||T.bookingId),className:"px-3 py-1.5 text-sm border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary bg-white",children:[t.jsx("option",{value:"",children:"Assign to Team Member..."}),n.filter(ie=>ie.status==="active").map(ie=>t.jsxs("option",{value:ie._id||ie.id,children:[ie.name," (",ie.role||"technician",")"]},ie._id||ie.id))]}),x===(T._id||T.bookingId)&&t.jsx("span",{className:"text-xs text-slate-500",children:"Assigning..."})]})]}),t.jsxs("div",{className:"text-left sm:text-right flex-shrink-0",children:[t.jsxs("p",{className:"text-lg sm:text-xl font-bold text-primary",children:["",((B=T.totalAmount)==null?void 0:B.toLocaleString("en-IN"))||((Y=T.amount)==null?void 0:Y.toLocaleString("en-IN"))||0]}),t.jsx("p",{className:"text-xs sm:text-sm text-slate-500",children:T.createdAt?new Date(T.createdAt).toLocaleDateString("en-IN"):"N/A"}),t.jsxs("div",{className:"flex flex-col gap-2 mt-2",children:[t.jsxs("button",{onClick:()=>f({data:T,type:"booking"}),className:"px-2 sm:px-3 py-1 sm:py-1.5 bg-primary/10 text-primary rounded-lg text-xs sm:text-sm font-semibold hover:bg-primary/20 transition inline-flex items-center gap-1 sm:gap-2",children:[t.jsx(Yt,{})," ",t.jsx("span",{className:"hidden sm:inline",children:"Invoice"})]}),T.status==="paused"&&t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsxs("button",{onClick:()=>q(T._id||T.bookingId),className:"px-2 sm:px-3 py-1 sm:py-1.5 bg-green-500 text-white rounded-lg text-xs sm:text-sm font-semibold hover:bg-green-600 transition inline-flex items-center gap-1 sm:gap-2",children:[t.jsx(lZ,{})," ",t.jsx("span",{className:"hidden sm:inline",children:"Continue Job"}),t.jsx("span",{className:"sm:hidden",children:"Continue"})]}),T.pauseDetails&&t.jsxs("div",{className:"text-xs text-slate-600 mt-1",children:[t.jsxs("p",{children:["Resume: ",T.pauseDetails.nextScheduledDate?new Date(T.pauseDetails.nextScheduledDate).toLocaleDateString():"N/A"," ",T.pauseDetails.nextScheduledTime||""]}),T.pauseDetails.pauseReason&&t.jsxs("p",{className:"text-slate-500",children:["Reason: ",T.pauseDetails.pauseReason]})]})]}),(T.status==="accepted"||T.status==="in_progress")&&t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsxs("button",{onClick:()=>j(T),className:"px-2 sm:px-3 py-1 sm:py-1.5 bg-green-500 text-white rounded-lg text-xs sm:text-sm font-semibold hover:bg-green-600 transition inline-flex items-center gap-1 sm:gap-2",children:[t.jsx(vt,{})," ",t.jsx("span",{className:"hidden sm:inline",children:"Complete"}),t.jsx("span",{className:"sm:hidden",children:"Complete"})]}),t.jsxs("button",{onClick:()=>y(T),className:"px-2 sm:px-3 py-1 sm:py-1.5 bg-yellow-500 text-white rounded-lg text-xs sm:text-sm font-semibold hover:bg-yellow-600 transition inline-flex items-center gap-1 sm:gap-2",children:[t.jsx(GC,{})," ",t.jsx("span",{className:"hidden sm:inline",children:"Pause"}),t.jsx("span",{className:"sm:hidden",children:"Pause"})]}),t.jsxs("button",{onClick:()=>N(T),className:"px-2 sm:px-3 py-1 sm:py-1.5 bg-blue-500 text-white rounded-lg text-xs sm:text-sm font-semibold hover:bg-blue-600 transition inline-flex items-center gap-1 sm:gap-2",children:[t.jsx(Xt,{})," ",t.jsx("span",{className:"hidden sm:inline",children:"Send Quote"}),t.jsx("span",{className:"sm:hidden",children:"Quote"})]})]})]})]})]}),T.address&&t.jsx("div",{className:"mt-4 p-3 bg-slate-50 rounded-lg",children:t.jsxs("p",{className:"text-sm text-slate-600",children:[t.jsx("strong",{children:"Address:"})," ",T.address]})}),C[T._id||T.bookingId]&&C[T._id||T.bookingId].length>0&&t.jsxs("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:[t.jsx("div",{className:"flex items-center justify-between mb-2",children:t.jsxs("p",{className:"text-sm font-semibold text-blue-800",children:[t.jsx(Xt,{className:"inline mr-1"}),"Quotations (",C[T._id||T.bookingId].length,")"]})}),t.jsx("div",{className:"space-y-2",children:C[T._id||T.bookingId].map(ie=>{var me;return t.jsxs("div",{className:"bg-white rounded-lg p-2 flex items-center justify-between cursor-pointer hover:bg-blue-100 transition",onClick:()=>k(ie),children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("p",{className:"text-xs font-semibold text-slate-800",children:["#",ie.quotationNumber," - ",((me=ie.totalAmount)==null?void 0:me.toFixed(2))||"0.00"]}),t.jsxs("div",{className:"flex gap-2 mt-1",children:[t.jsxs("span",{className:`px-2 py-0.5 rounded text-xs font-semibold ${ie.customerStatus==="accepted"?"bg-green-100 text-green-800":ie.customerStatus==="rejected"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:["Customer: ",ie.customerStatus]}),t.jsxs("span",{className:`px-2 py-0.5 rounded text-xs font-semibold ${ie.adminStatus==="accepted"?"bg-green-100 text-green-800":ie.adminStatus==="rejected"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:["Admin: ",ie.adminStatus]})]})]}),t.jsx(Ci,{className:"w-4 h-4 text-blue-600 ml-2"})]},ie._id)})})]})]},O)})})}),p&&t.jsx(K5,{data:p.data,type:p.type,onClose:()=>f(null)}),b&&t.jsx(I6e,{booking:b,onClose:()=>j(null),onComplete:he,token:e}),w&&t.jsx(_6e,{booking:w,onClose:()=>y(null),onPause:L,token:e}),v&&t.jsx(O6e,{booking:v,onClose:()=>N(null),onCreate:se,token:e}),S&&t.jsx(D6e,{quotation:S,onClose:()=>k(null),userType:"partner",token:e})]})},L6e=()=>{var h,p;const{token:e,partner:r}=In(),[s,a]=g.useState(null),[n,i]=g.useState([]),[l,o]=g.useState(!0),[c,d]=g.useState(null);g.useEffect(()=>{u()},[e]);const u=async()=>{if(e){o(!0),d(null);try{const f=(r==null?void 0:r.partnerType)||null,[b,j]=await Promise.all([jt.getCurrentPlan(e).catch(()=>null),jt.getMGPlans(e,f).catch(()=>null)]);b!=null&&b.data?a(b.data):b&&a(b),j!=null&&j.data?i(j.data):j&&i(Array.isArray(j)?j:[])}catch(f){d(f.message||"Failed to fetch mg plans")}finally{o(!1)}}},m=async f=>{if(e)try{(await jt.subscribeToPlan(e,f)).success&&(alert("Successfully subscribed to plan!"),u())}catch(b){alert(b.message||"Failed to subscribe to plan")}},x=async()=>{if(e)try{(await jt.renewPlan(e)).success&&(alert("Plan renewed successfully!"),u())}catch(f){alert(f.message||"Failed to renew plan")}};return l?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):t.jsxs("div",{className:"space-y-4 sm:space-y-6 px-2 sm:px-0",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-800 mb-1 sm:mb-2",children:"MG Plan"}),t.jsx("p",{className:"text-sm sm:text-base text-slate-600",children:"Manage your mg plans details"})]}),t.jsx("button",{onClick:u,className:"p-2.5 sm:p-3 bg-white rounded-lg shadow-md hover:shadow-lg transition border border-slate-200 self-start sm:self-auto",children:t.jsx(Dt,{className:"text-lg sm:text-xl text-slate-600"})})]}),s&&t.jsxs("div",{className:"bg-gradient-to-br from-primary to-primary-dark rounded-2xl shadow-xl p-6 sm:p-8 text-white",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 sm:gap-6 mb-4 sm:mb-6",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx("h2",{className:"text-xl sm:text-2xl font-bold",children:"Current Plan"}),((h=s.plan)==null?void 0:h.partnerType)&&t.jsx("span",{className:"text-xs px-2 py-1 bg-white/20 rounded-full font-semibold",children:s.plan.partnerType==="individual"?" Individual":s.plan.partnerType==="franchise"?" Franchise":" Both"})]}),t.jsx("p",{className:"text-sm sm:text-base text-white/80",children:((p=s.plan)==null?void 0:p.name)||s.name||"MG Plan"})]}),t.jsx("div",{className:"bg-white/20 p-3 sm:p-4 rounded-xl self-start sm:self-auto",children:t.jsx(hs,{className:"text-3xl sm:text-4xl"})})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 sm:gap-4 mb-4 sm:mb-6",children:[t.jsxs("div",{className:"bg-white/10 rounded-xl p-4",children:[t.jsx("p",{className:"text-sm text-white/80 mb-1",children:"Leads Guaranteed"}),t.jsx("p",{className:"text-2xl font-bold",children:s.leadsGuaranteed||0})]}),t.jsxs("div",{className:"bg-white/10 rounded-xl p-4",children:[t.jsx("p",{className:"text-sm text-white/80 mb-1",children:"Leads Used"}),t.jsx("p",{className:"text-2xl font-bold",children:s.leadsUsed||0})]}),t.jsxs("div",{className:"bg-white/10 rounded-xl p-4",children:[t.jsx("p",{className:"text-sm text-white/80 mb-1",children:"Leads Remaining"}),t.jsx("p",{className:"text-2xl font-bold",children:s.leadsRemaining||0})]})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4 mb-4 sm:mb-6",children:[t.jsxs("div",{className:"bg-white/10 rounded-xl p-3 sm:p-4",children:[t.jsx("p",{className:"text-xs sm:text-sm text-white/80 mb-1",children:"Lead Fee"}),t.jsxs("p",{className:"text-lg sm:text-xl font-bold",children:["",s.leadFee||0]})]}),t.jsxs("div",{className:"bg-white/10 rounded-xl p-3 sm:p-4",children:[t.jsx("p",{className:"text-xs sm:text-sm text-white/80 mb-1",children:"Commission"}),t.jsxs("p",{className:"text-lg sm:text-xl font-bold",children:[s.commission||0,"%"]})]})]}),s.expiresAt&&t.jsxs("div",{className:"bg-white/10 rounded-xl p-3 sm:p-4 mb-4 sm:mb-6",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(Ss,{className:"text-lg sm:text-xl"}),t.jsx("p",{className:"text-sm sm:text-base font-semibold",children:"Plan Expires"})]}),t.jsx("p",{className:"text-base sm:text-lg",children:new Date(s.expiresAt).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"})}),s.daysUntilRenewal!==void 0&&s.daysUntilRenewal<=7&&t.jsx("button",{onClick:x,className:"mt-3 sm:mt-4 w-full py-2 bg-white text-primary rounded-lg text-sm sm:text-base font-semibold hover:bg-white/90 transition",children:"Renew Plan"})]}),s.isExpired&&t.jsx("div",{className:"bg-red-500/20 border border-red-500/50 rounded-xl p-4",children:t.jsx("p",{className:"text-red-100",children:" Your plan has expired. Please renew to continue."})})]}),!s&&t.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 sm:p-6 border border-slate-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[t.jsx("h2",{className:"text-lg sm:text-xl font-bold text-slate-800",children:"Available Plans"}),(r==null?void 0:r.partnerType)&&t.jsx("span",{className:`text-xs px-3 py-1 rounded-full font-semibold ${r.partnerType==="individual"?"bg-slate-100 text-slate-700":"bg-purple-100 text-purple-700"}`,children:r.partnerType==="individual"?" Individual":" Franchise"})]}),c?t.jsx("div",{className:"text-center text-red-600 py-8",children:c}):n.length===0?t.jsxs("div",{className:"text-center text-slate-500 py-8",children:[t.jsx(hs,{className:"text-4xl mx-auto mb-2 opacity-50"}),t.jsx("p",{children:"No plans available"})]}):t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:n.map((f,b)=>{var j;return t.jsxs("div",{className:"border-2 border-slate-200 rounded-xl p-4 sm:p-6 hover:border-primary transition",children:[t.jsxs("div",{className:"flex items-start justify-between mb-2",children:[t.jsx("h3",{className:"text-lg sm:text-xl font-bold text-slate-800",children:f.name||"Plan"}),f.partnerType&&t.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-semibold flex-shrink-0 ${f.partnerType==="individual"?"bg-slate-100 text-slate-700":f.partnerType==="franchise"?"bg-purple-100 text-purple-700":"bg-blue-100 text-blue-700"}`,children:f.partnerType==="individual"?" Individual":f.partnerType==="franchise"?" Franchise":" Both"})]}),t.jsxs("p",{className:"text-2xl sm:text-3xl font-bold text-primary mb-3 sm:mb-4",children:["",((j=f.price)==null?void 0:j.toLocaleString("en-IN"))||0]}),t.jsxs("ul",{className:"space-y-2 mb-4 sm:mb-6",children:[t.jsxs("li",{className:"flex items-center gap-2 text-sm sm:text-base text-slate-600",children:[t.jsx(Sl,{className:"text-green-600 flex-shrink-0"}),f.leads||0," Leads Guaranteed"]}),t.jsxs("li",{className:"flex items-center gap-2 text-sm sm:text-base text-slate-600",children:[t.jsx(Sl,{className:"text-green-600 flex-shrink-0"}),"Lead Fee: ",f.leadFee||0]}),t.jsxs("li",{className:"flex items-center gap-2 text-sm sm:text-base text-slate-600",children:[t.jsx(Sl,{className:"text-green-600 flex-shrink-0"}),"Commission: ",f.commission||0,"%"]})]}),t.jsx("button",{onClick:()=>m(f._id||f.id),className:"w-full py-2.5 sm:py-3 bg-primary text-white rounded-lg text-sm sm:text-base font-semibold hover:bg-primary-dark transition",children:"Subscribe Now"})]},b)})})]})]})},F6e=()=>{const{token:e}=In(),[r,s]=g.useState([]),[a,n]=g.useState([]),[i,l]=g.useState(!0),[o,c]=g.useState(null),[d,u]=g.useState(""),[m,x]=g.useState("all"),[h,p]=g.useState([]);g.useEffect(()=>{f()},[e,m]);const f=async()=>{if(e){l(!0),c(null);try{if(m!=="all"){const N=await jt.getProductsByCategory(e,m);let S=[];Array.isArray(N)?S=N:Array.isArray(N==null?void 0:N.data)?S=N.data:Array.isArray(N==null?void 0:N.products)&&(S=N.products),s(S)}else{const N=await jt.getCategories(e);let S=[];Array.isArray(N)?S=N:Array.isArray(N==null?void 0:N.data)?S=N.data:Array.isArray(N==null?void 0:N.categories)&&(S=N.categories),p(S),s([])}}catch(N){c(N.message||"Failed to fetch spare parts")}finally{l(!1)}}},b=async N=>{if(e)try{(await jt.addToCart(e,{productId:N._id||N.id,quantity:1})).success&&n([...a,{...N,quantity:1}])}catch(S){alert(S.message||"Failed to add to cart")}},j=(N,S)=>{n(a.map(k=>k._id===N||k.id===N?{...k,quantity:Math.max(1,k.quantity+S)}:k))},w=N=>{n(a.filter(S=>S._id!==N&&S.id!==N))},y=r.filter(N=>{var k,C;return((k=N.name)==null?void 0:k.toLowerCase().includes(d.toLowerCase()))||((C=N.description)==null?void 0:C.toLowerCase().includes(d.toLowerCase()))}),v=a.reduce((N,S)=>N+(S.price||0)*(S.quantity||1),0);return i?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):t.jsxs("div",{className:"space-y-4 sm:space-y-6 px-2 sm:px-0",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-800 mb-1 sm:mb-2",children:"Spare Parts"}),t.jsx("p",{className:"text-sm sm:text-base text-slate-600",children:"Browse and order spare parts for your services"})]}),t.jsx("button",{onClick:f,className:"p-2.5 sm:p-3 bg-white rounded-lg shadow-md hover:shadow-lg transition border border-slate-200 self-start sm:self-auto",children:t.jsx(Dt,{className:"text-lg sm:text-xl text-slate-600"})})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-md p-3 sm:p-4 border border-slate-200",children:t.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx(bn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400"}),t.jsx("input",{type:"text",value:d,onChange:N=>u(N.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-sm sm:text-base",placeholder:"Search spare parts..."})]}),t.jsxs("select",{value:m,onChange:N=>x(N.target.value),className:"px-3 sm:px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-sm sm:text-base",children:[t.jsx("option",{value:"all",children:"All Categories"}),Array.isArray(h)&&h.map((N,S)=>t.jsx("option",{value:N._id||N.id||N.name,children:N.name||"Category"},S))]})]})}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6",children:[t.jsx("div",{className:"lg:col-span-2",children:o?t.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-6 text-center text-red-600",children:o}):y.length===0?t.jsxs("div",{className:"bg-white rounded-xl shadow-md p-12 text-center border border-slate-200",children:[t.jsx(fs,{className:"text-4xl mx-auto mb-2 opacity-50 text-slate-400"}),t.jsx("p",{className:"text-slate-500",children:"No spare parts found"}),t.jsx("p",{className:"text-sm text-slate-400 mt-2",children:m==="all"?"Please select a category to view products":"Try a different category or search term"})]}):t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:y.map((N,S)=>{var k;return t.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 sm:p-6 border border-slate-200 hover:shadow-lg transition",children:[t.jsxs("div",{className:"flex items-start justify-between mb-3 sm:mb-4",children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h3",{className:"text-base sm:text-lg font-bold text-slate-800 mb-1 sm:mb-2 truncate",children:N.name||"Spare Part"}),N.description&&t.jsx("p",{className:"text-xs sm:text-sm text-slate-600 mb-2 line-clamp-2",children:N.description})]}),t.jsx("div",{className:"bg-primary/10 p-2 sm:p-3 rounded-lg flex-shrink-0 ml-2",children:t.jsx(fs,{className:"text-primary text-lg sm:text-xl"})})]}),t.jsx("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:t.jsxs("div",{children:[t.jsxs("p",{className:"text-xl sm:text-2xl font-bold text-primary",children:["",((k=N.price)==null?void 0:k.toLocaleString("en-IN"))||0]}),N.stock!==void 0&&t.jsxs("p",{className:"text-xs sm:text-sm text-slate-500",children:["Stock: ",N.stock," ",N.unit||"units"]})]})}),t.jsxs("button",{onClick:()=>b(N),disabled:N.stock===0,className:"w-full py-2 bg-primary text-white rounded-lg text-sm sm:text-base font-semibold hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[t.jsx(qn,{}),t.jsx("span",{className:"hidden sm:inline",children:N.stock===0?"Out of Stock":"Add to Cart"}),t.jsx("span",{className:"sm:hidden",children:N.stock===0?"Out":"Add"})]})]},S)})})}),t.jsx("div",{className:"lg:col-span-1",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 sm:p-6 border border-slate-200 lg:sticky lg:top-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[t.jsx("h2",{className:"text-lg sm:text-xl font-bold text-slate-800",children:"Cart"}),t.jsx(qn,{className:"text-lg sm:text-xl text-slate-600"})]}),a.length===0?t.jsxs("div",{className:"text-center py-8 text-slate-500",children:[t.jsx(qn,{className:"text-4xl mx-auto mb-2 opacity-50"}),t.jsx("p",{children:"Your cart is empty"})]}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"space-y-3 mb-4 max-h-96 overflow-y-auto",children:a.map((N,S)=>t.jsxs("div",{className:"p-3 bg-slate-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("h4",{className:"font-semibold text-slate-800 text-sm",children:N.name}),t.jsx("button",{onClick:()=>w(N._id||N.id),className:"text-red-600 hover:text-red-700",children:""})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>j(N._id||N.id,-1),className:"p-1 bg-white rounded border border-slate-300 hover:bg-slate-100",children:t.jsx(fj,{className:"text-xs"})}),t.jsx("span",{className:"px-2 font-semibold",children:N.quantity||1}),t.jsx("button",{onClick:()=>j(N._id||N.id,1),className:"p-1 bg-white rounded border border-slate-300 hover:bg-slate-100",children:t.jsx(Tr,{className:"text-xs"})})]}),t.jsxs("p",{className:"font-bold text-primary",children:["",((N.price||0)*(N.quantity||1)).toLocaleString("en-IN")]})]})]},S))}),t.jsxs("div",{className:"border-t border-slate-200 pt-3 sm:pt-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[t.jsx("span",{className:"text-base sm:text-lg font-semibold text-slate-800",children:"Total:"}),t.jsxs("span",{className:"text-xl sm:text-2xl font-bold text-primary",children:["",v.toLocaleString("en-IN")]})]}),t.jsx("button",{className:"w-full py-2.5 sm:py-3 bg-primary text-white rounded-lg text-sm sm:text-base font-semibold hover:bg-primary-dark transition",children:"Place Order"})]})]})]})})]})]})},R6e=()=>{const{token:e}=In(),[r,s]=g.useState([]),[a,n]=g.useState(!0),[i,l]=g.useState(null),[o,c]=g.useState("all"),[d,u]=g.useState(null);g.useEffect(()=>{m()},[e]);const m=async()=>{if(e){n(!0),l(null);try{const f=await jt.getTransactions(e),b=(f==null?void 0:f.transactions)||(f==null?void 0:f.data)||[];s(b)}catch(f){l(f.message||"Failed to fetch transactions")}finally{n(!1)}}},x=r.filter(f=>o==="all"?!0:f.type===o),h=r.filter(f=>f.type==="credit").reduce((f,b)=>f+(b.amount||0),0),p=r.filter(f=>f.type==="debit").reduce((f,b)=>f+(b.amount||0),0);return a?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):t.jsxs("div",{className:"space-y-4 sm:space-y-6 px-2 sm:px-0",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-800 mb-1 sm:mb-2",children:"Transactions"}),t.jsx("p",{className:"text-sm sm:text-base text-slate-600",children:"View all your wallet transactions"})]}),t.jsx("button",{onClick:m,className:"p-2.5 sm:p-3 bg-white rounded-lg shadow-md hover:shadow-lg transition border border-slate-200 self-start sm:self-auto",children:t.jsx(Dt,{className:"text-lg sm:text-xl text-slate-600"})})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 sm:gap-6",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 border border-slate-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("p",{className:"text-sm text-slate-600",children:"Total Credits"}),t.jsx(lr,{className:"text-green-600 text-xl"})]}),t.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["",h.toLocaleString("en-IN")]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 border border-slate-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("p",{className:"text-sm text-slate-600",children:"Total Debits"}),t.jsx(od,{className:"text-red-600 text-xl"})]}),t.jsxs("p",{className:"text-2xl font-bold text-red-600",children:["",p.toLocaleString("en-IN")]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 border border-slate-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("p",{className:"text-sm text-slate-600",children:"Net Balance"}),t.jsx(lr,{className:"text-primary text-xl"})]}),t.jsxs("p",{className:"text-2xl font-bold text-primary",children:["",(h-p).toLocaleString("en-IN")]})]})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-md p-3 sm:p-4 border border-slate-200",children:t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4",children:[t.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 flex-wrap",children:[t.jsx(Td,{className:"text-slate-600 hidden sm:block"}),t.jsx("div",{className:"flex gap-2",children:["all","credit","debit"].map(f=>t.jsx("button",{onClick:()=>c(f),className:`px-3 sm:px-4 py-1.5 sm:py-2 rounded-lg text-xs sm:text-sm font-semibold transition ${o===f?"bg-primary text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:f.charAt(0).toUpperCase()+f.slice(1)},f))})]}),t.jsxs("button",{onClick:()=>{const f=x.map(b=>{var j,w;return{"Date & Time":b.createdAt?new Date(b.createdAt).toLocaleString("en-IN"):"N/A",Type:((j=b.type)==null?void 0:j.charAt(0).toUpperCase())+((w=b.type)==null?void 0:w.slice(1))||"N/A","Amount ()":b.amount||0,"Balance ()":b.balance||0,Description:b.description||"N/A",Reference:b.reference||"N/A","Transaction ID":b.transactionId||b._id||"N/A"}});Bd(f,[{header:"Date & Time",accessor:"Date & Time"},{header:"Type",accessor:"Type"},{header:"Amount ()",accessor:"Amount ()"},{header:"Balance ()",accessor:"Balance ()"},{header:"Description",accessor:"Description"},{header:"Reference",accessor:"Reference"},{header:"Transaction ID",accessor:"Transaction ID"}],"Transactions","Transactions",{columnWidths:[20,12,15,15,30,20,25]})},disabled:x.length===0,className:"px-3 sm:px-4 py-2 rounded-lg text-xs sm:text-sm font-semibold bg-primary text-white hover:bg-primary-dark transition inline-flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed self-start sm:self-auto",title:"Export to Excel",children:[t.jsx(kn,{})," ",t.jsx("span",{className:"hidden sm:inline",children:"Export Excel"}),t.jsx("span",{className:"sm:hidden",children:"Export"})]})]})}),t.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-slate-200 overflow-hidden",children:[t.jsx("div",{className:"p-6 border-b border-slate-200",children:t.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"All Transactions"})}),i?t.jsx("div",{className:"p-6 text-center text-red-600",children:i}):x.length===0?t.jsxs("div",{className:"p-12 text-center text-slate-500",children:[t.jsx(lr,{className:"text-4xl mx-auto mb-2 opacity-50"}),t.jsx("p",{children:"No transactions found"})]}):t.jsx("div",{className:"divide-y divide-slate-200",children:x.map((f,b)=>{var j,w;return t.jsxs("div",{className:"p-4 sm:p-6 hover:bg-slate-50 transition flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4",children:[t.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 flex-1 min-w-0",children:[t.jsx("div",{className:`p-2 sm:p-3 rounded-lg flex-shrink-0 ${f.type==="credit"?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:f.type==="credit"?t.jsx(lr,{className:"text-lg sm:text-xl"}):t.jsx(od,{className:"text-lg sm:text-xl"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-1",children:[t.jsx("p",{className:"font-semibold text-slate-800 text-sm sm:text-base truncate",children:f.description||"Transaction"}),f.teamMember&&t.jsxs("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-700 rounded text-xs font-semibold flex items-center gap-1",children:[t.jsx(vr,{className:"text-xs"}),f.teamMember.name]})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-4 mt-1",children:[t.jsx("p",{className:"text-xs sm:text-sm text-slate-500",children:f.createdAt?new Date(f.createdAt).toLocaleString("en-IN"):f.timestamp?new Date(f.timestamp).toLocaleString("en-IN"):"N/A"}),f.transactionId&&t.jsxs("p",{className:"text-xs text-slate-400",children:["ID: ",f.transactionId]})]})]})]}),t.jsxs("div",{className:"text-left sm:text-right flex-shrink-0",children:[t.jsxs("p",{className:`text-lg sm:text-xl font-bold ${f.type==="credit"?"text-green-600":"text-red-600"}`,children:[f.type==="credit"?"+":"-","",((j=f.amount)==null?void 0:j.toLocaleString("en-IN"))||0]}),t.jsxs("p",{className:"text-xs sm:text-sm text-slate-500",children:["Balance: ",((w=f.balance)==null?void 0:w.toLocaleString("en-IN"))||0]}),t.jsxs("button",{onClick:()=>u({data:f,type:"transaction"}),className:"mt-2 px-2 sm:px-3 py-1 sm:py-1.5 bg-primary/10 text-primary rounded-lg text-xs sm:text-sm font-semibold hover:bg-primary/20 transition inline-flex items-center gap-1 sm:gap-2",children:[t.jsx(Yt,{})," ",t.jsx("span",{className:"hidden sm:inline",children:"Invoice"})]})]})]},b)})})]}),d&&t.jsx(K5,{data:d.data,type:d.type,onClose:()=>u(null)})]})},B6e=()=>{var C,P,_;const{partner:e,token:r}=In(),a=((e==null?void 0:e.partnerType)||"individual")==="franchise",[n,i]=g.useState({walletBalance:0,totalJobs:0,completedJobs:0,pendingJobs:0,totalEarnings:0,teamMembers:0}),[l,o]=g.useState(!0),[c,d]=g.useState({monthlyJobs:[],monthlyEarnings:[],statusDistribution:[],transactionTrend:[]}),[u,m]=g.useState([]),[x,h]=g.useState([]),[p,f]=g.useState(null);g.useEffect(()=>{(async()=>{var D,F,X;if(r)try{const ce=await jt.getWallet(r),he=((D=ce==null?void 0:ce.data)==null?void 0:D.balance)||((F=ce==null?void 0:ce.success)==null?void 0:F.balance)||0,L=((X=ce==null?void 0:ce.data)==null?void 0:X.transactions)||(ce==null?void 0:ce.transactions)||[],q=await jt.getBookings(r);let se=[];q!=null&&q.bookings?Object.values(q.bookings).forEach(re=>{Array.isArray(re)&&(se=se.concat(re))}):Array.isArray(q)?se=q:Array.isArray(q==null?void 0:q.data)?se=q.data:Array.isArray(q==null?void 0:q.bookings)&&(se=q.bookings);const R=se.length,T=se.filter(re=>(re==null?void 0:re.status)==="completed").length,O=se.filter(re=>["pending","accepted","in_progress"].includes(re==null?void 0:re.status)).length;let K=0;if(a)try{const re=await jt.getTeamMembers(r),ge=(re==null?void 0:re.data)||re||[];K=Array.isArray(ge)?ge.filter(pe=>pe.status==="active").length:0}catch(re){console.error("Error fetching team members:",re)}const U=se.filter(re=>(re==null?void 0:re.status)==="completed").reduce((re,ge)=>re+((ge==null?void 0:ge.amount)||(ge==null?void 0:ge.totalAmount)||0),0);i({walletBalance:he,totalJobs:R,completedJobs:T,pendingJobs:O,totalEarnings:U,teamMembers:K});const ee=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],M=new Date,H={},B={};for(let re=5;re>=0;re--){const ge=new Date(M.getFullYear(),M.getMonth()-re,1),pe=`${ge.getFullYear()}-${ge.getMonth()+1}`;H[pe]={month:ee[ge.getMonth()],jobs:0,earnings:0},B[pe]={month:ee[ge.getMonth()],earnings:0}}se.forEach(re=>{if(re.createdAt){const ge=new Date(re.createdAt),pe=`${ge.getFullYear()}-${ge.getMonth()+1}`;H[pe]&&(H[pe].jobs++,re.status==="completed"&&(H[pe].earnings+=re.amount||re.totalAmount||0,B[pe].earnings+=re.amount||re.totalAmount||0))}});const Y=Object.values(H),ie=Object.values(B),me={completed:se.filter(re=>(re==null?void 0:re.status)==="completed").length,pending:se.filter(re=>(re==null?void 0:re.status)==="pending").length,accepted:se.filter(re=>(re==null?void 0:re.status)==="accepted").length,in_progress:se.filter(re=>(re==null?void 0:re.status)==="in_progress").length,rejected:se.filter(re=>(re==null?void 0:re.status)==="rejected").length},de=[{name:"Completed",value:me.completed,color:"#10b981"},{name:"Pending",value:me.pending,color:"#f59e0b"},{name:"Accepted",value:me.accepted,color:"#3b82f6"},{name:"In Progress",value:me.in_progress,color:"#8b5cf6"},{name:"Rejected",value:me.rejected,color:"#ef4444"}].filter(re=>re.value>0),Ge={},Me=new Date;Me.setDate(Me.getDate()-30);for(let re=29;re>=0;re--){const ge=new Date;ge.setDate(ge.getDate()-re);const pe=ge.toISOString().split("T")[0];Ge[pe]={date:ge.toLocaleDateString("en-IN",{month:"short",day:"numeric"}),credit:0,debit:0}}L.forEach(re=>{if(re.createdAt||re.timestamp){const ge=new Date(re.createdAt||re.timestamp);if(ge>=Me){const pe=ge.toISOString().split("T")[0];Ge[pe]&&(re.type==="credit"?Ge[pe].credit+=re.amount||0:re.type==="debit"&&(Ge[pe].debit+=re.amount||0))}}});const it=Object.values(Ge),Ye=se.sort((re,ge)=>new Date(ge.createdAt||ge.updatedAt)-new Date(re.createdAt||re.updatedAt)).slice(0,5),Le=L.sort((re,ge)=>new Date(ge.createdAt||ge.timestamp)-new Date(re.createdAt||re.timestamp)).slice(0,5),z=se.filter(re=>re.status==="accepted"&&re.createdAt&&(re.acceptedAt||re.updatedAt));let xe=null;if(z.length>0){const re=z.map(ve=>{const ke=new Date(ve.createdAt);return new Date(ve.acceptedAt||ve.updatedAt)-ke}),ge=re.reduce((ve,ke)=>ve+ke,0)/re.length,pe=ge/(1e3*60*60);if(pe<1){const ve=ge/6e4;xe=`${Math.round(ve)}m`}else xe=`${pe.toFixed(1)}h`}d({monthlyJobs:Y,monthlyEarnings:ie,statusDistribution:de,transactionTrend:it}),m(Ye),h(Le),f(xe)}catch(ce){console.error("Error fetching stats:",ce)}finally{o(!1)}})()},[r,a]);const b=({percentage:A,size:D=80,strokeWidth:F=8,color:X,children:ce})=>{const he=(D-F)/2,L=he*2*Math.PI,q=L-A/100*L,se={blue:{stroke:"#3b82f6",text:"text-blue-600"},green:{stroke:"#10b981",text:"text-green-600"},purple:{stroke:"#8b5cf6",text:"text-purple-600"},emerald:{stroke:"#10b981",text:"text-emerald-600"},orange:{stroke:"#f59e0b",text:"text-orange-600"},indigo:{stroke:"#6366f1",text:"text-indigo-600"}},R=se[X]||se.blue;return t.jsxs("div",{className:"relative",style:{width:D,height:D},children:[t.jsxs("svg",{width:D,height:D,className:"transform -rotate-90",children:[t.jsx("circle",{cx:D/2,cy:D/2,r:he,stroke:"#e2e8f0",strokeWidth:F,fill:"none"}),t.jsx("circle",{cx:D/2,cy:D/2,r:he,stroke:R.stroke,strokeWidth:F,fill:"none",strokeDasharray:L,strokeDashoffset:q,strokeLinecap:"round",className:"transition-all duration-1000 ease-out",style:{transition:"stroke-dashoffset 1s ease-out"}})]}),t.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:t.jsx("div",{className:"text-center",children:ce})})]})},j=n.totalJobs>0?Math.round(n.completedJobs/n.totalJobs*100):0,w=n.totalJobs>0?Math.round(n.pendingJobs/n.totalJobs*100):0,y=Math.min(Math.round(n.walletBalance/1e5*100),100),v=Math.min(Math.round(n.teamMembers/10*100),100),N=Math.min(Math.round(n.totalEarnings/1e5*100),100),k=[{label:"Wallet Balance",value:`${n.walletBalance.toLocaleString("en-IN")}`,icon:Xt,color:"blue",bgColor:"bg-blue-500",link:"/partner/dashboard/wallet",percentage:y,subtitle:"Balance"},{label:"Total Jobs",value:n.totalJobs,icon:as,color:"green",bgColor:"bg-green-500",link:"/partner/dashboard/jobs",percentage:j,subtitle:`${j}% completed`},{label:"Completed Jobs",value:n.completedJobs,icon:lr,color:"purple",bgColor:"bg-purple-500",link:"/partner/dashboard/jobs",percentage:j,subtitle:"Success rate"},{label:"Total Earnings",value:`${n.totalEarnings.toLocaleString("en-IN")}`,icon:Xt,color:"emerald",bgColor:"bg-emerald-500",link:"/partner/dashboard/jobs",percentage:N,subtitle:"Total revenue"},{label:"Pending Jobs",value:n.pendingJobs,icon:as,color:"orange",bgColor:"bg-orange-500",link:"/partner/dashboard/jobs",percentage:w,subtitle:`${w}% pending`},{label:"Team Members",value:n.teamMembers,icon:Mr,color:"indigo",bgColor:"bg-indigo-500",link:"/partner/dashboard/team",percentage:v,subtitle:"Active members",showOnlyForFranchise:!0}].filter(A=>!A.showOnlyForFranchise||a);return l?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):t.jsxs("div",{className:"space-y-4 sm:space-y-6 px-2 sm:px-0",children:[t.jsxs("div",{className:"bg-gradient-to-r from-primary/10 via-primary/5 to-transparent rounded-xl p-4 sm:p-6 border border-primary/20 relative overflow-hidden",children:[t.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 bg-primary/5 rounded-full -mr-20 -mt-20"}),t.jsx("div",{className:"absolute bottom-0 left-0 w-32 h-32 bg-primary/5 rounded-full -ml-16 -mb-16"}),t.jsxs("div",{className:"relative z-10 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[t.jsxs("div",{children:[t.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-800 mb-1 sm:mb-2 flex items-center gap-2",children:[t.jsx("span",{children:"Dashboard Overview"}),t.jsx("span",{className:"text-lg sm:text-xl",children:""})]}),t.jsxs("p",{className:"text-sm sm:text-base text-slate-600",children:["Welcome back, ",t.jsx("span",{className:"font-semibold text-primary",children:((C=e==null?void 0:e.profile)==null?void 0:C.name)||(e==null?void 0:e.name)||"Partner"}),"! "]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-4 mt-3",children:[t.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm",children:[t.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),t.jsxs("span",{className:"text-slate-600",children:[t.jsxs("span",{className:"font-semibold text-slate-800",children:[j,"%"]})," completion rate"]})]}),t.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm",children:[t.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),t.jsxs("span",{className:"text-slate-600",children:[t.jsx("span",{className:"font-semibold text-slate-800",children:n.totalJobs})," total jobs"]})]}),t.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm",children:[t.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full"}),t.jsxs("span",{className:"text-slate-600",children:[t.jsxs("span",{className:"font-semibold text-slate-800",children:["",n.totalEarnings.toLocaleString("en-IN")]})," earned"]})]})]})]}),t.jsxs("div",{className:"text-xs sm:text-sm text-slate-500 bg-white/80 backdrop-blur-sm px-4 py-2 rounded-lg shadow-sm border border-slate-200",children:[t.jsx("div",{className:"font-medium text-slate-700 mb-0.5",children:"Today"}),new Date().toLocaleDateString("en-IN",{weekday:"long",year:"numeric",month:"long",day:"numeric"})]})]})]}),t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:k.map((A,D)=>{const F=A.icon;return t.jsxs(Ut,{to:A.link,className:"bg-white rounded-xl shadow-md hover:shadow-2xl transition-all duration-300 p-4 sm:p-6 border border-slate-200 hover:border-primary/50 group transform hover:-translate-y-1 relative overflow-hidden",children:[t.jsx("div",{className:`absolute top-0 right-0 w-24 h-24 bg-gradient-to-br ${A.bgColor} opacity-5 rounded-full -mr-12 -mt-12 group-hover:opacity-10 transition-opacity`}),t.jsxs("div",{className:"relative z-10",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[t.jsx("div",{className:`${A.bgColor} p-2.5 sm:p-3 rounded-xl text-white shadow-lg group-hover:scale-110 transition-transform duration-300`,children:t.jsx(F,{className:"text-lg sm:text-xl"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h3",{className:"text-xs sm:text-sm font-medium text-slate-600 mb-0.5",children:A.label}),A.subtitle&&t.jsx("p",{className:"text-xs text-slate-400",children:A.subtitle})]})]}),t.jsx("p",{className:"text-xl sm:text-2xl font-bold text-slate-800 group-hover:text-primary transition-colors mb-4",children:A.value})]}),t.jsx("div",{className:"flex-shrink-0",children:t.jsx(b,{percentage:A.percentage,size:70,strokeWidth:6,color:A.color,children:t.jsxs("span",{className:`text-xs sm:text-sm font-bold ${A.color==="blue"?"text-blue-600":A.color==="green"?"text-green-600":A.color==="purple"?"text-purple-600":A.color==="emerald"?"text-emerald-600":A.color==="orange"?"text-orange-600":"text-indigo-600"}`,children:[A.percentage,"%"]})})})]}),t.jsx("div",{className:"mt-4 h-1 bg-slate-100 rounded-full overflow-hidden",children:t.jsx("div",{className:`h-full ${A.bgColor} rounded-full transition-all duration-1000 ease-out`,style:{width:`${A.percentage}%`}})})]})]},D)})}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-md hover:shadow-xl transition-shadow duration-300 p-4 sm:p-6 border border-slate-200 relative overflow-hidden group",children:[t.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-blue-500/5 rounded-full -mr-16 -mt-16 group-hover:bg-blue-500/10 transition-colors"}),t.jsxs("div",{className:"relative",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[t.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:t.jsx(as,{className:"text-blue-600 text-lg"})}),t.jsx("h2",{className:"text-lg sm:text-xl font-bold text-slate-800",children:"Monthly Jobs Trend"})]}),t.jsx(Vi,{width:"100%",height:250,children:t.jsxs(vB,{data:c.monthlyJobs,children:[t.jsx(Yc,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),t.jsx(Jc,{dataKey:"month",stroke:"#64748b"}),t.jsx(Qc,{stroke:"#64748b"}),t.jsx(Gi,{contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),t.jsx(Eu,{}),t.jsx(p5,{dataKey:"jobs",fill:"#3b82f6",name:"Jobs",radius:[8,8,0,0]})]})})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-md hover:shadow-xl transition-shadow duration-300 p-4 sm:p-6 border border-slate-200 relative overflow-hidden group",children:[t.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-purple-500/5 rounded-full -mr-16 -mt-16 group-hover:bg-purple-500/10 transition-colors"}),t.jsxs("div",{className:"relative",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[t.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:t.jsx(lr,{className:"text-purple-600 text-lg"})}),t.jsx("h2",{className:"text-lg sm:text-xl font-bold text-slate-800",children:"Jobs Status Distribution"})]}),c.statusDistribution.length>0?t.jsx(Vi,{width:"100%",height:250,children:t.jsxs($g,{children:[t.jsx(N0,{data:c.statusDistribution,cx:"50%",cy:"50%",labelLine:!1,label:({name:A,percent:D})=>`${A}: ${(D*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:c.statusDistribution.map((A,D)=>t.jsx(tc,{fill:A.color},`cell-${D}`))}),t.jsx(Gi,{contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}})]})}):t.jsxs("div",{className:"flex flex-col items-center justify-center h-[250px] text-slate-400",children:[t.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mb-3",children:t.jsx(lr,{className:"text-2xl text-purple-400"})}),t.jsx("p",{className:"text-sm font-medium text-slate-500",children:"No data available"}),t.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Start completing jobs to see statistics"})]})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-md hover:shadow-xl transition-shadow duration-300 p-4 sm:p-6 border border-slate-200 relative overflow-hidden group",children:[t.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-green-500/5 rounded-full -mr-16 -mt-16 group-hover:bg-green-500/10 transition-colors"}),t.jsxs("div",{className:"relative",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[t.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:t.jsx(Xt,{className:"text-green-600 text-lg"})}),t.jsx("h2",{className:"text-lg sm:text-xl font-bold text-slate-800",children:"Monthly Earnings Trend"})]}),t.jsx(Vi,{width:"100%",height:250,children:t.jsxs(Tve,{data:c.monthlyEarnings,children:[t.jsx(Yc,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),t.jsx(Jc,{dataKey:"month",stroke:"#64748b"}),t.jsx(Qc,{stroke:"#64748b"}),t.jsx(Gi,{formatter:A=>`${A.toLocaleString("en-IN")}`,contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),t.jsx(Eu,{}),t.jsx(QR,{type:"monotone",dataKey:"earnings",stroke:"#10b981",strokeWidth:3,name:"Earnings ()",dot:{fill:"#10b981",r:4},activeDot:{r:6}})]})})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-md hover:shadow-xl transition-shadow duration-300 p-4 sm:p-6 border border-slate-200 relative overflow-hidden group",children:[t.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-orange-500/5 rounded-full -mr-16 -mt-16 group-hover:bg-orange-500/10 transition-colors"}),t.jsxs("div",{className:"relative",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[t.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:t.jsx(lr,{className:"text-orange-600 text-lg"})}),t.jsx("h2",{className:"text-lg sm:text-xl font-bold text-slate-800",children:"Transaction Trend (Last 30 Days)"})]}),c.transactionTrend.length>0?t.jsx(Vi,{width:"100%",height:250,children:t.jsxs(k5,{data:c.transactionTrend,children:[t.jsx(Yc,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),t.jsx(Jc,{dataKey:"date",angle:-45,textAnchor:"end",height:80,stroke:"#64748b"}),t.jsx(Qc,{stroke:"#64748b"}),t.jsx(Gi,{formatter:A=>`${A.toLocaleString("en-IN")}`,contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),t.jsx(Eu,{}),t.jsx(k0,{type:"monotone",dataKey:"credit",stackId:"1",stroke:"#10b981",fill:"#10b981",fillOpacity:.6,name:"Credits"}),t.jsx(k0,{type:"monotone",dataKey:"debit",stackId:"1",stroke:"#ef4444",fill:"#ef4444",fillOpacity:.6,name:"Debits"})]})}):t.jsxs("div",{className:"flex flex-col items-center justify-center h-[250px] text-slate-400",children:[t.jsx("div",{className:"w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center mb-3",children:t.jsx(lr,{className:"text-2xl text-orange-400"})}),t.jsx("p",{className:"text-sm font-medium text-slate-500",children:"No transaction data"}),t.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Transactions will appear here"})]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6",children:[t.jsxs("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-md hover:shadow-xl transition-shadow duration-300 p-4 sm:p-6 border border-slate-200 relative overflow-hidden",children:[t.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-primary/5 to-primary/10 rounded-full -mr-16 -mt-16"}),t.jsxs("div",{className:"relative z-10",children:[t.jsx("div",{className:"flex items-center justify-between mb-4",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-gradient-to-br from-primary to-primary-dark rounded-lg",children:t.jsx(Ui,{className:"text-white text-lg"})}),t.jsx("h2",{className:"text-lg sm:text-xl font-bold text-slate-800",children:"Performance Insights"})]})}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl p-4 border border-blue-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-xs font-medium text-blue-700",children:"Avg Response Time"}),t.jsx(ns,{className:"text-blue-600 text-sm"})]}),t.jsx("p",{className:"text-2xl font-bold text-blue-900",children:p||"0h"}),t.jsx("p",{className:"text-xs text-blue-600 mt-1",children:p?"Based on accepted jobs":"No accepted jobs yet"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-emerald-100 rounded-xl p-4 border border-emerald-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-xs font-medium text-emerald-700",children:"Success Rate"}),t.jsx(pn,{className:"text-emerald-600 text-sm"})]}),t.jsxs("p",{className:"text-2xl font-bold text-emerald-900",children:[j,"%"]}),t.jsxs("p",{className:"text-xs text-emerald-600 mt-1",children:[n.completedJobs," completed"]})]}),t.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl p-4 border border-purple-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-xs font-medium text-purple-700",children:"Monthly Growth"}),t.jsx(lr,{className:"text-purple-600 text-sm"})]}),t.jsxs("p",{className:"text-2xl font-bold text-purple-900",children:[c.monthlyJobs.length>1?Math.round((((P=c.monthlyJobs[c.monthlyJobs.length-1])==null?void 0:P.jobs)||0)/Math.max(((_=c.monthlyJobs[c.monthlyJobs.length-2])==null?void 0:_.jobs)||1,1)*100):0,"%"]}),t.jsx("p",{className:"text-xs text-purple-600 mt-1",children:"vs last month"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 rounded-xl p-4 border border-orange-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-xs font-medium text-orange-700",children:"Active Jobs"}),t.jsx(Vc,{className:"text-orange-600 text-sm"})]}),t.jsx("p",{className:"text-2xl font-bold text-orange-900",children:n.pendingJobs}),t.jsx("p",{className:"text-xs text-orange-600 mt-1",children:"In progress"})]})]})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-md hover:shadow-xl transition-shadow duration-300 p-4 sm:p-6 border border-slate-200 relative overflow-hidden",children:[t.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-purple-500/5 rounded-full -mr-12 -mt-12"}),t.jsxs("div",{className:"relative z-10",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:t.jsx(Vc,{className:"text-purple-600 text-lg"})}),t.jsx("h2",{className:"text-lg sm:text-xl font-bold text-slate-800",children:"Recent Activity"})]}),t.jsx(Ut,{to:"/partner/dashboard/jobs",className:"text-xs text-primary hover:underline",children:"View all"})]}),t.jsx("div",{className:"space-y-3 max-h-[400px] overflow-y-auto",children:u.length>0?u.map((A,D)=>{const F={completed:"bg-green-100 text-green-700 border-green-200",pending:"bg-yellow-100 text-yellow-700 border-yellow-200",accepted:"bg-blue-100 text-blue-700 border-blue-200",in_progress:"bg-purple-100 text-purple-700 border-purple-200",rejected:"bg-red-100 text-red-700 border-red-200"},X=F[A.status]||F.pending;return t.jsxs("div",{className:"flex items-start gap-3 p-3 bg-slate-50 rounded-lg hover:bg-slate-100 transition-colors",children:[t.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${A.status==="completed"?"bg-green-500":A.status==="in_progress"?"bg-purple-500":"bg-yellow-500"}`}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center justify-between mb-1",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-800 truncate",children:A.serviceName||A.serviceCategory||"Service"}),t.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full border ${X} font-medium`,children:A.status||"pending"})]}),t.jsxs("p",{className:"text-xs text-slate-600 mb-1",children:["",(A.amount||A.totalAmount||0).toLocaleString("en-IN")]}),t.jsx("p",{className:"text-xs text-slate-400",children:A.createdAt?new Date(A.createdAt).toLocaleDateString("en-IN",{month:"short",day:"numeric"}):"Recently"})]})]},D)}):t.jsxs("div",{className:"text-center py-8 text-slate-400",children:[t.jsx(as,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),t.jsx("p",{className:"text-sm",children:"No recent activity"})]})})]})]})]}),t.jsxs("div",{className:"bg-gradient-to-br from-white to-slate-50 rounded-xl shadow-md hover:shadow-lg transition-shadow duration-300 p-4 sm:p-6 border border-slate-200 relative overflow-hidden",children:[t.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 bg-primary/5 rounded-full -mr-20 -mt-20"}),t.jsxs("div",{className:"relative z-10",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[t.jsx("div",{className:"p-2 bg-gradient-to-br from-primary to-primary-dark rounded-lg",children:t.jsx(Ui,{className:"text-white text-lg"})}),t.jsx("h2",{className:"text-lg sm:text-xl font-bold text-slate-800",children:"Quick Actions"})]}),t.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[t.jsxs(Ut,{to:"/partner/dashboard/wallet",className:"group p-4 sm:p-5 bg-gradient-to-br from-blue-50 to-blue-100 hover:from-blue-100 hover:to-blue-200 rounded-xl transition-all duration-300 text-center transform hover:-translate-y-1 hover:shadow-lg relative overflow-hidden",children:[t.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-blue-500/10 rounded-full -mr-8 -mt-8 group-hover:bg-blue-500/20 transition-colors"}),t.jsxs("div",{className:"relative z-10",children:[t.jsx("div",{className:"bg-blue-500 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-3 group-hover:scale-110 transition-transform shadow-lg",children:t.jsx(Xt,{className:"text-xl sm:text-2xl text-white"})}),t.jsx("p",{className:"text-xs sm:text-sm font-semibold text-blue-800",children:"View Wallet"})]})]}),t.jsxs(Ut,{to:"/partner/dashboard/jobs",className:"group p-4 sm:p-5 bg-gradient-to-br from-green-50 to-green-100 hover:from-green-100 hover:to-green-200 rounded-xl transition-all duration-300 text-center transform hover:-translate-y-1 hover:shadow-lg relative overflow-hidden",children:[t.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-green-500/10 rounded-full -mr-8 -mt-8 group-hover:bg-green-500/20 transition-colors"}),t.jsxs("div",{className:"relative z-10",children:[t.jsx("div",{className:"bg-green-500 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-3 group-hover:scale-110 transition-transform shadow-lg",children:t.jsx(as,{className:"text-xl sm:text-2xl text-white"})}),t.jsx("p",{className:"text-xs sm:text-sm font-semibold text-green-800",children:"Manage Jobs"})]})]}),t.jsxs(Ut,{to:"/partner/dashboard/spare-parts",className:"group p-4 sm:p-5 bg-gradient-to-br from-purple-50 to-purple-100 hover:from-purple-100 hover:to-purple-200 rounded-xl transition-all duration-300 text-center transform hover:-translate-y-1 hover:shadow-lg relative overflow-hidden",children:[t.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-purple-500/10 rounded-full -mr-8 -mt-8 group-hover:bg-purple-500/20 transition-colors"}),t.jsxs("div",{className:"relative z-10",children:[t.jsx("div",{className:"bg-purple-500 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-3 group-hover:scale-110 transition-transform shadow-lg",children:t.jsx(fs,{className:"text-xl sm:text-2xl text-white"})}),t.jsx("p",{className:"text-xs sm:text-sm font-semibold text-purple-800",children:"Spare Parts"})]})]}),t.jsxs(Ut,{to:"/partner/dashboard/transactions",className:"group p-4 sm:p-5 bg-gradient-to-br from-orange-50 to-orange-100 hover:from-orange-100 hover:to-orange-200 rounded-xl transition-all duration-300 text-center transform hover:-translate-y-1 hover:shadow-lg relative overflow-hidden",children:[t.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-orange-500/10 rounded-full -mr-8 -mt-8 group-hover:bg-orange-500/20 transition-colors"}),t.jsxs("div",{className:"relative z-10",children:[t.jsx("div",{className:"bg-orange-500 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-3 group-hover:scale-110 transition-transform shadow-lg",children:t.jsx(lr,{className:"text-xl sm:text-2xl text-white"})}),t.jsx("p",{className:"text-xs sm:text-sm font-semibold text-orange-800",children:"Transactions"})]})]})]})]})]}),x.length>0&&t.jsxs("div",{className:"bg-white rounded-xl shadow-md hover:shadow-xl transition-shadow duration-300 p-4 sm:p-6 border border-slate-200 relative overflow-hidden",children:[t.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-emerald-500/5 rounded-full -mr-16 -mt-16"}),t.jsxs("div",{className:"relative z-10",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-emerald-100 rounded-lg",children:t.jsx(hs,{className:"text-emerald-600 text-lg"})}),t.jsx("h2",{className:"text-lg sm:text-xl font-bold text-slate-800",children:"Recent Transactions"})]}),t.jsxs(Ut,{to:"/partner/dashboard/transactions",className:"text-xs text-primary hover:underline flex items-center gap-1",children:["View all ",t.jsx(ds,{className:"text-xs"})]})]}),t.jsx("div",{className:"space-y-2",children:x.slice(0,3).map((A,D)=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg hover:bg-slate-100 transition-colors",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${A.type==="credit"?"bg-green-100":"bg-red-100"}`,children:A.type==="credit"?t.jsx(lr,{className:`text-lg ${A.type==="credit"?"text-green-600":"text-red-600"}`}):t.jsx(lr,{className:`text-lg rotate-180 ${A.type==="credit"?"text-green-600":"text-red-600"}`})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-800",children:A.description||A.type==="credit"?"Credit":"Debit"}),t.jsx("p",{className:"text-xs text-slate-500",children:A.createdAt?new Date(A.createdAt).toLocaleDateString("en-IN",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Recently"})]})]}),t.jsxs("div",{className:`text-sm font-bold ${A.type==="credit"?"text-green-600":"text-red-600"}`,children:[A.type==="credit"?"+":"-","",(A.amount||0).toLocaleString("en-IN")]})]},D))})]})]})]})},$6e=()=>{var ft,je,Fe,Tt,Lt,ye;const{partner:e,token:r,updatePartner:s}=In(),[a,n]=g.useState(null),[i,l]=g.useState(!0),[o,c]=g.useState(!1),[d,u]=g.useState(!1),[m,x]=g.useState(!1),[h,p]=g.useState(!1),[f,b]=g.useState({name:"",email:"",phone:"",whatsappNumber:"",qualification:"",experience:"",address:"",landmark:"",pincode:"",city:"",gstNumber:""}),[j,w]=g.useState({panCard:null,aadhaar:null,aadhaarback:null,chequeImage:null,drivingLicence:null,bill:null,accountNumber:"",ifscCode:"",accountHolderName:"",bankName:""}),[y,v]=g.useState({}),[N,S]=g.useState(null),[k,C]=g.useState(null),[P,_]=g.useState([]),[A,D]=g.useState([]),[F,X]=g.useState([]),[ce,he]=g.useState([]),[L,q]=g.useState([]),[se,R]=g.useState([]),[T,O]=g.useState([]),[K,U]=g.useState(!1),[ee,M]=g.useState(null),[H,B]=g.useState(null),[Y,ie]=g.useState(!1);g.useEffect(()=>{me(),de(),Ge()},[r]),g.useEffect(()=>{if(a&&P.length>0){const I=(a==null?void 0:a.hubs)||(e==null?void 0:e.hubs)||[];if(console.log("Profile Hubs:",I),console.log("Available Hubs:",P),I.length>0){const ae=I.map(Ce=>{var We,At;return typeof Ce=="string"?Ce:Ce&&typeof Ce=="object"?((We=Ce._id)==null?void 0:We.toString())||((At=Ce.id)==null?void 0:At.toString())||Ce.toString():Ce==null?void 0:Ce.toString()}).filter(Boolean);console.log("Setting selected hubs:",ae),D(ae)}else console.log("No hubs found in profile"),D([])}},[a,P,e]);const me=async()=>{var I,ae,Ce,We,At,pt;if(r){l(!0);try{const dt=await jt.getProfile(r);if(dt.success&&dt.profile){const fe=dt.profile;if(n(fe),b({name:fe.name||"",email:fe.email||((I=fe.profile)==null?void 0:I.email)||"",phone:fe.phone||"",whatsappNumber:fe.whatsappNumber||"",qualification:fe.qualification||"",experience:fe.experience||"",address:fe.address||((ae=fe.profile)==null?void 0:ae.address)||"",landmark:fe.landmark||((Ce=fe.profile)==null?void 0:Ce.landmark)||"",pincode:fe.pincode||((We=fe.profile)==null?void 0:We.pincode)||"",city:fe.city||((At=fe.profile)==null?void 0:At.city)||"",gstNumber:fe.gstNumber||((pt=fe.profile)==null?void 0:pt.gstNumber)||""}),fe.profilePicture){const V=fe.profilePicture.startsWith("http")?fe.profilePicture:`https://nexo.works/${fe.profilePicture}`;C(V)}if(fe.kyc){w(oe=>{var Ue,Je,Ve,ue;return{...oe,accountNumber:((Ue=fe.bankDetails)==null?void 0:Ue.accountNumber)||"",ifscCode:((Je=fe.bankDetails)==null?void 0:Je.ifscCode)||"",accountHolderName:((Ve=fe.bankDetails)==null?void 0:Ve.accountHolderName)||"",bankName:((ue=fe.bankDetails)==null?void 0:ue.bankName)||""}});const V={};fe.kyc.panCard&&(V.panCard=Me(fe.kyc.panCard)),fe.kyc.aadhaar&&(V.aadhaar=Me(fe.kyc.aadhaar)),fe.kyc.aadhaarback&&(V.aadhaarback=Me(fe.kyc.aadhaarback)),fe.kyc.chequeImage&&(V.chequeImage=Me(fe.kyc.chequeImage)),fe.kyc.drivingLicence&&(V.drivingLicence=Me(fe.kyc.drivingLicence)),fe.kyc.bill&&(V.bill=Me(fe.kyc.bill)),v(V)}if(fe.category&&fe.category.length>0){const V=fe.category.map(oe=>oe._id||oe);he(V),q(fe.categoryNames||fe.category.map(oe=>oe.name||"").filter(Boolean))}fe.subcategory&&R(Array.isArray(fe.subcategory)?fe.subcategory:[fe.subcategory]),fe.service&&O(Array.isArray(fe.service)?fe.service:[fe.service]),console.log("Profile loaded with hubs:",fe.hubs)}}catch(dt){M(dt.message||"Failed to fetch profile")}finally{l(!1)}}},de=async()=>{if(r)try{const I=await jt.getAvailableHubs(r),ae=(I==null?void 0:I.data)||I||[];_(Array.isArray(ae)?ae:[])}catch(I){console.error("Failed to fetch hubs:",I)}},Ge=async()=>{if(r)try{const I=await jt.getCategories(r),ae=(I==null?void 0:I.data)||I||[];X(Array.isArray(ae)?ae:[])}catch(I){console.error("Failed to fetch categories:",I)}},Me=I=>I?I.startsWith("http")?I:`https://nexo.works/${I}`:null,it=I=>{const ae=I.target.files[0];if(ae){S(ae);const Ce=new FileReader;Ce.onloadend=()=>{C(Ce.result)},Ce.readAsDataURL(ae)}},Ye=(I,ae)=>{if(ae){w(We=>({...We,[I]:ae}));const Ce=new FileReader;Ce.onloadend=()=>{v(We=>({...We,[I]:Ce.result}))},Ce.readAsDataURL(ae)}},Le=async()=>{if(r){U(!0),M(null),B(null);try{const I=new FormData;Object.keys(f).forEach(Ce=>{f[Ce]&&I.append(Ce,f[Ce])}),N&&I.append("profilePicture",N);const ae=await jt.updateProfile(r,I);ae.success?(B("Profile updated successfully!"),c(!1),s(ae.profile||f),me()):M(ae.message||"Failed to update profile")}catch(I){M(I.message||"Failed to update profile")}finally{U(!1)}}},z=async()=>{if(r){U(!0),M(null),B(null);try{const I=await jt.updateKYC(r,j);I.success?(B("KYC documents updated successfully!"),u(!1),me()):M(I.message||"Failed to update KYC")}catch(I){M(I.message||"Failed to update KYC")}finally{U(!1)}}},xe=async()=>{if(r){U(!0),M(null),B(null);try{const I=await jt.selectCategoryAndService(r,{partnerId:(e==null?void 0:e._id)||(a==null?void 0:a.id),category:ce,categoryNames:L,subcategory:se,service:T});I.success?(B("Categories and services updated successfully!"),x(!1),me()):M(I.message||"Failed to update categories")}catch(I){M(I.message||"Failed to update categories")}finally{U(!1)}}},re=async I=>{if(r)try{const ae=I==null?void 0:I.toString(),Ce=A.some(We=>(We==null?void 0:We.toString())===ae);Ce?(await jt.unassignHub(r,ae),D(We=>We.filter(At=>(At==null?void 0:At.toString())!==ae))):(await jt.assignHub(r,ae),D(We=>[...We,ae])),B(`Hub ${Ce?"unassigned":"assigned"} successfully!`),setTimeout(()=>me(),500)}catch(ae){M(ae.message||"Failed to update hub assignment")}},ge=(I,ae)=>{ce.includes(I)?(he(Ce=>Ce.filter(We=>We!==I)),q(Ce=>Ce.filter(We=>We!==ae))):(he(Ce=>[...Ce,I]),q(Ce=>[...Ce,ae]))};if(i)return t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})});const pe=k||(a==null?void 0:a.profilePicture)||null,ve=f.name||((ft=e==null?void 0:e.profile)==null?void 0:ft.name)||(e==null?void 0:e.name)||"Partner",ke=ve.charAt(0).toUpperCase(),Qe=((je=a==null?void 0:a.kyc)==null?void 0:je.status)||"pending";return t.jsxs("div",{className:"space-y-4 md:space-y-6 px-2 sm:px-4 md:px-0",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-800 mb-1 sm:mb-2",children:"Profile"}),t.jsx("p",{className:"text-sm sm:text-base text-slate-600",children:"Manage your complete profile information"})]}),t.jsx("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:!o&&t.jsxs(t.Fragment,{children:[t.jsxs("button",{onClick:()=>ie(!0),className:"px-4 sm:px-6 py-2.5 sm:py-3 bg-green-600 text-white rounded-lg font-semibold hover:bg-green-700 transition flex items-center justify-center gap-2 text-sm sm:text-base",children:[t.jsx(pn,{})," ID Card"]}),t.jsxs("button",{onClick:()=>c(!0),className:"px-4 sm:px-6 py-2.5 sm:py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition flex items-center justify-center gap-2 text-sm sm:text-base",children:[t.jsx(ks,{})," ",t.jsx("span",{className:"hidden sm:inline",children:"Edit Profile"}),t.jsx("span",{className:"sm:hidden",children:"Edit"})]})]})})]}),H&&t.jsx("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4 text-green-700",children:H}),ee&&t.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 text-red-700",children:ee}),t.jsx("div",{className:"bg-white rounded-xl shadow-md p-4 sm:p-6 border border-slate-200",children:t.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start gap-4 md:gap-6",children:[t.jsxs("div",{className:"relative flex-shrink-0",children:[t.jsx("div",{className:"w-24 h-24 sm:w-32 sm:h-32 rounded-full overflow-hidden border-4 border-primary/20 bg-gradient-to-br from-primary to-primary-dark flex items-center justify-center",children:pe?t.jsx("img",{src:pe,alt:ve,className:"w-full h-full object-cover"}):t.jsx("span",{className:"text-3xl sm:text-4xl font-bold text-white",children:ke})}),o&&t.jsxs("label",{className:"absolute bottom-0 right-0 bg-primary text-white p-1.5 sm:p-2 rounded-full cursor-pointer hover:bg-primary-dark transition shadow-lg",children:[t.jsx(l0,{className:"text-base sm:text-lg"}),t.jsx("input",{type:"file",accept:"image/*",onChange:it,className:"hidden"})]})]}),t.jsxs("div",{className:"flex-1 w-full text-center md:text-left",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3 mb-2 justify-center md:justify-start",children:[t.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-slate-800",children:ve}),t.jsx("div",{className:`px-2 sm:px-3 py-1 rounded-full text-xs font-semibold inline-block ${Qe==="approved"?"bg-green-100 text-green-800":Qe==="rejected"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:Qe==="approved"?" Verified":Qe==="rejected"?" Rejected":" Pending"})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4 text-sm text-slate-600",children:[f.email&&t.jsxs("div",{className:"flex items-center justify-center sm:justify-start gap-2",children:[t.jsx(en,{className:"text-slate-400 flex-shrink-0"}),t.jsx("span",{className:"truncate",children:f.email})]}),f.phone&&t.jsxs("div",{className:"flex items-center justify-center sm:justify-start gap-2",children:[t.jsx(tn,{className:"text-slate-400 flex-shrink-0"}),t.jsxs("span",{children:["+91 ",f.phone]})]}),f.city&&t.jsxs("div",{className:"flex items-center justify-center sm:justify-start gap-2 sm:col-span-2",children:[t.jsx(Pr,{className:"text-slate-400 flex-shrink-0"}),t.jsx("span",{children:f.city})]})]})]}),t.jsx("div",{className:"hidden lg:block flex-shrink-0",children:t.jsx(ti,{className:"opacity-60"})})]})}),t.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 sm:p-6 border border-slate-200",children:[t.jsx("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:t.jsx("h3",{className:"text-lg sm:text-xl font-bold text-slate-800",children:"Personal Information"})}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Full Name ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",value:f.name,onChange:I=>b({...f,name:I.target.value}),disabled:!o,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary disabled:bg-slate-50"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Email ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"email",value:f.email,onChange:I=>b({...f,email:I.target.value}),disabled:!o,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary disabled:bg-slate-50"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Phone Number"}),t.jsx("input",{type:"tel",value:f.phone,onChange:I=>b({...f,phone:I.target.value.replace(/\D/g,"").slice(0,10)}),disabled:!o,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary disabled:bg-slate-50"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"WhatsApp Number"}),t.jsx("input",{type:"tel",value:f.whatsappNumber,onChange:I=>b({...f,whatsappNumber:I.target.value.replace(/\D/g,"").slice(0,10)}),disabled:!o,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary disabled:bg-slate-50"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Qualification"}),t.jsx("input",{type:"text",value:f.qualification,onChange:I=>b({...f,qualification:I.target.value}),disabled:!o,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary disabled:bg-slate-50"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Experience (Years)"}),t.jsx("input",{type:"number",value:f.experience,onChange:I=>b({...f,experience:I.target.value}),disabled:!o,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary disabled:bg-slate-50"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"City"}),t.jsx("input",{type:"text",value:f.city,onChange:I=>b({...f,city:I.target.value}),disabled:!o,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary disabled:bg-slate-50"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Pincode"}),t.jsx("input",{type:"text",value:f.pincode,onChange:I=>b({...f,pincode:I.target.value.replace(/\D/g,"").slice(0,6)}),disabled:!o,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary disabled:bg-slate-50"})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Address"}),t.jsx("textarea",{value:f.address,onChange:I=>b({...f,address:I.target.value}),disabled:!o,rows:3,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary disabled:bg-slate-50"})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Landmark"}),t.jsx("input",{type:"text",value:f.landmark,onChange:I=>b({...f,landmark:I.target.value}),disabled:!o,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary disabled:bg-slate-50"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"GST Number"}),t.jsx("input",{type:"text",value:f.gstNumber,onChange:I=>b({...f,gstNumber:I.target.value.toUpperCase()}),disabled:!o,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary disabled:bg-slate-50"})]})]}),o&&t.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mt-4 sm:mt-6",children:[t.jsxs("button",{onClick:Le,disabled:K,className:"px-4 sm:px-6 py-2.5 sm:py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition flex items-center justify-center gap-2 disabled:opacity-50 text-sm sm:text-base",children:[t.jsx(Xi,{})," ",K?"Saving...":"Save Changes"]}),t.jsxs("button",{onClick:()=>{c(!1),me()},className:"px-4 sm:px-6 py-2.5 sm:py-3 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition flex items-center justify-center gap-2 text-sm sm:text-base",children:[t.jsx(mt,{})," Cancel"]})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 sm:p-6 border border-slate-200",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4 mb-4 sm:mb-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg sm:text-xl font-bold text-slate-800",children:"Categories & Services"}),t.jsx("p",{className:"text-xs sm:text-sm text-slate-500 mt-1",children:"Select your service categories and services"})]}),!m&&t.jsxs("button",{onClick:()=>x(!0),className:"px-3 sm:px-4 py-2 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition flex items-center justify-center gap-2 text-sm sm:text-base self-start sm:self-auto",children:[t.jsx(ks,{})," Edit"]})]}),L.length>0?t.jsx("div",{className:"space-y-4",children:t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Selected Categories:"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:L.map((I,ae)=>t.jsxs("span",{className:"px-3 py-1 bg-primary/10 text-primary rounded-full text-sm font-medium flex items-center gap-2",children:[t.jsx(r4,{})," ",I]},ae))})]})}):t.jsx("p",{className:"text-slate-500 text-center py-4",children:"No categories selected"}),m&&t.jsxs("div",{className:"mt-4 sm:mt-6 space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-3",children:"Select Categories:"}),t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 sm:gap-3 max-h-60 overflow-y-auto p-3 bg-slate-50 rounded-lg",children:F.map(I=>{const ae=ce.includes(I._id||I.id);return t.jsxs("label",{className:`flex items-center gap-3 p-3 rounded-lg cursor-pointer border-2 transition ${ae?"bg-primary/10 border-primary":"bg-white border-slate-200 hover:border-primary/50"}`,children:[t.jsx("input",{type:"checkbox",checked:ae,onChange:()=>ge(I._id||I.id,I.name),className:"w-4 h-4 text-primary rounded focus:ring-primary"}),t.jsx("span",{className:"font-medium text-slate-800",children:I.name})]},I._id||I.id)})})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[t.jsxs("button",{onClick:xe,disabled:K||ce.length===0,className:"px-4 sm:px-6 py-2.5 sm:py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition flex items-center justify-center gap-2 disabled:opacity-50 text-sm sm:text-base",children:[t.jsx(Xi,{})," Save Categories"]}),t.jsxs("button",{onClick:()=>{x(!1),me()},className:"px-4 sm:px-6 py-2.5 sm:py-3 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition flex items-center justify-center gap-2 text-sm sm:text-base",children:[t.jsx(mt,{})," Cancel"]})]})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 sm:p-6 border border-slate-200",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4 mb-4 sm:mb-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg sm:text-xl font-bold text-slate-800",children:"Service Hubs"}),t.jsx("p",{className:"text-xs sm:text-sm text-slate-500 mt-1",children:"Manage your assigned service hubs"})]}),!h&&t.jsxs("button",{onClick:()=>p(!0),className:"px-3 sm:px-4 py-2 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition flex items-center justify-center gap-2 text-sm sm:text-base self-start sm:self-auto",children:[t.jsx(ks,{})," Edit"]})]}),A.length>0?t.jsx("div",{className:"space-y-3",children:P.filter(I=>{var Ce;const ae=(Ce=I._id||I.id)==null?void 0:Ce.toString();return A.some(We=>(We==null?void 0:We.toString())===ae)}).map(I=>t.jsxs("div",{className:"p-3 sm:p-4 bg-slate-50 rounded-lg border border-slate-200 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",children:[t.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[t.jsx(ZN,{className:"text-primary text-lg sm:text-xl flex-shrink-0"}),t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsx("p",{className:"font-semibold text-slate-800 truncate",children:I.name}),t.jsxs("p",{className:"text-xs sm:text-sm text-slate-500 truncate",children:[I.city,", ",I.state]})]})]}),h&&t.jsx("button",{onClick:()=>{var ae;return re((ae=I._id||I.id)==null?void 0:ae.toString())},className:"px-3 sm:px-4 py-1.5 sm:py-2 bg-red-100 text-red-600 rounded-lg font-semibold hover:bg-red-200 transition text-sm sm:text-base w-full sm:w-auto",children:"Remove"})]},I._id||I.id))}):t.jsx("p",{className:"text-slate-500 text-center py-4",children:"No hubs assigned"}),h&&t.jsxs("div",{className:"mt-4 sm:mt-6 space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-3",children:"Available Hubs:"}),t.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto p-3 bg-slate-50 rounded-lg",children:P.map(I=>{var We;const ae=(We=I._id||I.id)==null?void 0:We.toString(),Ce=A.some(At=>(At==null?void 0:At.toString())===ae);return t.jsxs("div",{className:`p-3 rounded-lg border-2 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 ${Ce?"bg-primary/10 border-primary":"bg-white border-slate-200"}`,children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"font-semibold text-slate-800 truncate",children:I.name}),t.jsxs("p",{className:"text-xs sm:text-sm text-slate-500 truncate",children:[I.city,", ",I.state]})]}),t.jsx("button",{onClick:()=>re(I._id||I.id),className:`px-3 sm:px-4 py-1.5 sm:py-2 rounded-lg font-semibold transition text-sm sm:text-base w-full sm:w-auto ${Ce?"bg-red-100 text-red-600 hover:bg-red-200":"bg-primary text-white hover:bg-primary-dark"}`,children:Ce?"Remove":"Assign"})]},I._id||I.id)})})]}),t.jsx("button",{onClick:()=>{p(!1),me()},className:"px-4 sm:px-6 py-2.5 sm:py-3 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition text-sm sm:text-base w-full sm:w-auto",children:"Done"})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 sm:p-6 border border-slate-200",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4 mb-4 sm:mb-6",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"text-lg sm:text-xl font-bold text-slate-800",children:"KYC Documents"}),t.jsx("p",{className:"text-xs sm:text-sm text-slate-500 mt-1",children:"Upload and manage your KYC documents"}),((Fe=a==null?void 0:a.kyc)==null?void 0:Fe.status)&&t.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[t.jsx("span",{className:"text-xs font-semibold",children:"Status:"}),t.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${a.kyc.status==="approved"?"bg-green-100 text-green-800":a.kyc.status==="rejected"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:a.kyc.status.charAt(0).toUpperCase()+a.kyc.status.slice(1)}),a.kyc.remarks&&t.jsxs("span",{className:"text-xs text-slate-500 break-words",children:["(",a.kyc.remarks,")"]})]})]}),!d&&t.jsxs("button",{onClick:()=>u(!0),className:"px-3 sm:px-4 py-2 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition flex items-center justify-center gap-2 text-sm sm:text-base self-start sm:self-auto",children:[t.jsx(ks,{})," ",t.jsx("span",{className:"hidden sm:inline",children:a!=null&&a.kyc?"Update KYC":"Upload KYC"}),t.jsx("span",{className:"sm:hidden",children:a!=null&&a.kyc?"Update":"Upload"})]})]}),d?t.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["PAN Card ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("div",{className:"space-y-2",children:[y.panCard&&t.jsx("img",{src:y.panCard,alt:"PAN Card",className:"w-full h-32 object-cover rounded-lg border border-slate-200"}),t.jsxs("label",{className:"block w-full px-4 py-2 border-2 border-dashed border-slate-300 rounded-lg cursor-pointer hover:border-primary transition text-center",children:[t.jsx(Yt,{className:"inline text-slate-400 mr-2"}),y.panCard?"Change":"Upload"," PAN Card",t.jsx("input",{type:"file",accept:"image/*",onChange:I=>Ye("panCard",I.target.files[0]),className:"hidden"})]})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Aadhaar Card (Front) ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("div",{className:"space-y-2",children:[y.aadhaar&&t.jsx("img",{src:y.aadhaar,alt:"Aadhaar Front",className:"w-full h-32 object-cover rounded-lg border border-slate-200"}),t.jsxs("label",{className:"block w-full px-4 py-2 border-2 border-dashed border-slate-300 rounded-lg cursor-pointer hover:border-primary transition text-center",children:[t.jsx(Yt,{className:"inline text-slate-400 mr-2"}),y.aadhaar?"Change":"Upload"," Aadhaar Front",t.jsx("input",{type:"file",accept:"image/*",onChange:I=>Ye("aadhaar",I.target.files[0]),className:"hidden"})]})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Aadhaar Card (Back) ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("div",{className:"space-y-2",children:[y.aadhaarback&&t.jsx("img",{src:y.aadhaarback,alt:"Aadhaar Back",className:"w-full h-32 object-cover rounded-lg border border-slate-200"}),t.jsxs("label",{className:"block w-full px-4 py-2 border-2 border-dashed border-slate-300 rounded-lg cursor-pointer hover:border-primary transition text-center",children:[t.jsx(Yt,{className:"inline text-slate-400 mr-2"}),y.aadhaarback?"Change":"Upload"," Aadhaar Back",t.jsx("input",{type:"file",accept:"image/*",onChange:I=>Ye("aadhaarback",I.target.files[0]),className:"hidden"})]})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Cancelled Cheque ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("div",{className:"space-y-2",children:[y.chequeImage&&t.jsx("img",{src:y.chequeImage,alt:"Cheque",className:"w-full h-32 object-cover rounded-lg border border-slate-200"}),t.jsxs("label",{className:"block w-full px-4 py-2 border-2 border-dashed border-slate-300 rounded-lg cursor-pointer hover:border-primary transition text-center",children:[t.jsx(Yt,{className:"inline text-slate-400 mr-2"}),y.chequeImage?"Change":"Upload"," Cheque",t.jsx("input",{type:"file",accept:"image/*",onChange:I=>Ye("chequeImage",I.target.files[0]),className:"hidden"})]})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Driving Licence ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("div",{className:"space-y-2",children:[y.drivingLicence&&t.jsx("img",{src:y.drivingLicence,alt:"Driving Licence",className:"w-full h-32 object-cover rounded-lg border border-slate-200"}),t.jsxs("label",{className:"block w-full px-4 py-2 border-2 border-dashed border-slate-300 rounded-lg cursor-pointer hover:border-primary transition text-center",children:[t.jsx(Yt,{className:"inline text-slate-400 mr-2"}),y.drivingLicence?"Change":"Upload"," Driving Licence",t.jsx("input",{type:"file",accept:"image/*",onChange:I=>Ye("drivingLicence",I.target.files[0]),className:"hidden"})]})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Utility Bill ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("div",{className:"space-y-2",children:[y.bill&&t.jsx("img",{src:y.bill,alt:"Utility Bill",className:"w-full h-32 object-cover rounded-lg border border-slate-200"}),t.jsxs("label",{className:"block w-full px-4 py-2 border-2 border-dashed border-slate-300 rounded-lg cursor-pointer hover:border-primary transition text-center",children:[t.jsx(Yt,{className:"inline text-slate-400 mr-2"}),y.bill?"Change":"Upload"," Utility Bill",t.jsx("input",{type:"file",accept:"image/*",onChange:I=>Ye("bill",I.target.files[0]),className:"hidden"})]})]})]})]}),t.jsxs("div",{className:"border-t border-slate-200 pt-4 sm:pt-6",children:[t.jsx("h4",{className:"text-base sm:text-lg font-bold text-slate-800 mb-3 sm:mb-4",children:"Bank Details"}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Account Number ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",value:j.accountNumber,onChange:I=>w({...j,accountNumber:I.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["IFSC Code ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",value:j.ifscCode,onChange:I=>w({...j,ifscCode:I.target.value.toUpperCase()}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Account Holder Name ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",value:j.accountHolderName,onChange:I=>w({...j,accountHolderName:I.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Bank Name ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",value:j.bankName,onChange:I=>w({...j,bankName:I.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})]})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[t.jsxs("button",{onClick:z,disabled:K,className:"px-4 sm:px-6 py-2.5 sm:py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition flex items-center justify-center gap-2 disabled:opacity-50 text-sm sm:text-base",children:[t.jsx(Xi,{})," ",K?"Saving...":"Save KYC"]}),t.jsxs("button",{onClick:()=>{u(!1),me()},className:"px-4 sm:px-6 py-2.5 sm:py-3 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition flex items-center justify-center gap-2 text-sm sm:text-base",children:[t.jsx(mt,{})," Cancel"]})]})]}):t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[((Tt=a==null?void 0:a.kyc)==null?void 0:Tt.panCard)&&t.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg border border-slate-200",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(Yt,{className:"text-primary"}),t.jsx("span",{className:"font-semibold text-slate-800",children:"PAN Card"})]}),t.jsx("img",{src:Me(a.kyc.panCard),alt:"PAN",className:"w-full h-24 object-cover rounded"})]}),((Lt=a==null?void 0:a.kyc)==null?void 0:Lt.aadhaar)&&t.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg border border-slate-200",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(Yt,{className:"text-primary"}),t.jsx("span",{className:"font-semibold text-slate-800",children:"Aadhaar Front"})]}),t.jsx("img",{src:Me(a.kyc.aadhaar),alt:"Aadhaar",className:"w-full h-24 object-cover rounded"})]}),((ye=a==null?void 0:a.kyc)==null?void 0:ye.chequeImage)&&t.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg border border-slate-200",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(hs,{className:"text-primary"}),t.jsx("span",{className:"font-semibold text-slate-800",children:"Cheque"})]}),t.jsx("img",{src:Me(a.kyc.chequeImage),alt:"Cheque",className:"w-full h-24 object-cover rounded"})]}),!(a!=null&&a.kyc)&&t.jsx("p",{className:"text-slate-500 text-center py-4 md:col-span-3",children:"No KYC documents uploaded yet"})]})]}),Y&&a&&t.jsx(hz,{profile:a,partner:e,onClose:()=>ie(!1)})]})},z6e=()=>{const{partner:e}=In(),s=((e==null?void 0:e.partnerType)||"individual")==="franchise";return t.jsx("div",{className:"space-y-6",children:t.jsxs(Ny,{children:[t.jsx(et,{index:!0,element:t.jsx(B6e,{})}),t.jsx(et,{path:"profile",element:t.jsx($6e,{})}),t.jsx(et,{path:"wallet",element:t.jsx(A6e,{})}),s&&t.jsx(et,{path:"team",element:t.jsx(E6e,{})}),t.jsx(et,{path:"jobs",element:t.jsx(M6e,{})}),t.jsx(et,{path:"subscription",element:t.jsx(L6e,{})}),t.jsx(et,{path:"spare-parts",element:t.jsx(F6e,{})}),t.jsx(et,{path:"transactions",element:t.jsx(R6e,{})}),t.jsx(et,{path:"*",element:t.jsx(kd,{to:"/partner/dashboard",replace:!0})})]})})},cE=()=>{const{notifications:e}=In(),[r,s]=g.useState(!1),a=g.useRef(null),n=(e==null?void 0:e.notifications)||[],i=(e==null?void 0:e.unreadCount)||0,l=e==null?void 0:e.markAsRead,o=e==null?void 0:e.fetchNotifications;g.useEffect(()=>{const m=x=>{a.current&&!a.current.contains(x.target)&&s(!1)};return document.addEventListener("mousedown",m),()=>{document.removeEventListener("mousedown",m)}},[]),g.useEffect(()=>{o&&o()},[o]);const c=async(m=null)=>{if(l)try{await l(m),o&&await o()}catch(x){console.error("Error marking notification as read:",x)}},d=async m=>{if(m==null||m.preventDefault(),m==null||m.stopPropagation(),!!l)try{await l(),o&&await o()}catch(x){console.error("Error marking all as read:",x)}},u=m=>{if(!m)return"";const x=new Date(m),p=new Date-x,f=Math.floor(p/6e4),b=Math.floor(p/36e5),j=Math.floor(p/864e5);return f<1?"Just now":f<60?`${f}m ago`:b<24?`${b}h ago`:j<7?`${j}d ago`:x.toLocaleDateString()};return t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"relative",ref:a,children:t.jsxs("button",{onClick:()=>s(!r),className:"relative p-2 text-slate-600 hover:text-slate-900 hover:bg-slate-100 rounded-lg transition-colors","aria-label":"Notifications",children:[t.jsx(Sn,{className:"w-5 h-5"}),i>0&&t.jsx("span",{className:"absolute top-0 right-0 flex h-4 w-4 items-center justify-center rounded-full bg-red-500 text-xs font-semibold text-white transition-opacity duration-200",children:i>9?"9+":i},i)]})}),r&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"fixed inset-0 bg-black/20 z-[9998]",onClick:m=>{m.stopPropagation(),s(!1)}}),t.jsxs("div",{className:"fixed right-4 top-16 lg:right-4 lg:top-20 w-80 md:w-96 bg-white rounded-xl shadow-2xl border border-slate-200 z-[9999] max-h-[calc(100vh-140px)] flex flex-col overflow-hidden",onClick:m=>{m.stopPropagation()},onMouseDown:m=>{m.stopPropagation()},children:[t.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-200",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Notifications"}),t.jsxs("div",{className:"flex items-center gap-2",children:[i>0&&t.jsx("button",{onClick:m=>{m.preventDefault(),m.stopPropagation(),d(m)},className:"text-xs text-primary hover:text-primary-dark font-medium px-2 py-1 rounded hover:bg-primary/10 transition-colors",type:"button",children:"Mark all read"}),t.jsx("button",{onClick:m=>{m.stopPropagation(),s(!1)},className:"p-1 hover:bg-slate-100 rounded-lg transition-colors",type:"button",children:t.jsx(mt,{className:"w-4 h-4"})})]})]}),t.jsx("div",{className:"overflow-y-auto flex-1",children:n.length===0?t.jsxs("div",{className:"p-8 text-center text-slate-500",children:[t.jsx(Sn,{className:"w-12 h-12 mx-auto mb-3 text-slate-300"}),t.jsx("p",{className:"text-sm",children:"No notifications yet"})]}):t.jsx("div",{className:"divide-y divide-slate-100",children:n.map(m=>{const x=!m.read;return t.jsx("div",{className:`p-4 hover:bg-slate-50 transition-colors cursor-pointer ${x?"bg-blue-50/50":""}`,onClick:h=>{h.stopPropagation(),x&&c(m._id||m.id)},onMouseDown:h=>{h.stopPropagation()},children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex-shrink-0 mt-1",children:t.jsx("div",{className:`w-2 h-2 rounded-full ${x?"bg-primary":"bg-slate-300"}`})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:`text-sm font-medium line-clamp-2 ${x?"text-slate-900":"text-slate-600"}`,children:m.title||"New notification"}),m.message&&t.jsx("p",{className:"text-xs text-slate-600 mt-1 line-clamp-2",children:m.message}),t.jsx("p",{className:"text-xs text-slate-400 mt-2",children:u(m.createdAt||m.date)})]}),x&&t.jsx("div",{className:"flex-shrink-0",children:t.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"})})]})},m._id||m.id||Math.random())})})}),n.length>0&&t.jsx("div",{className:"p-3 border-t border-slate-200 bg-slate-50",children:t.jsx("button",{onClick:m=>{m.stopPropagation(),s(!1)},className:"w-full text-sm text-center text-primary hover:text-primary-dark font-medium",type:"button",children:"View all notifications"})})]})]})]})},U6e=()=>{var m;const{partner:e,logout:r,notifications:s}=In(),a=Qt();Br();const[n,i]=g.useState(!1),l=()=>{r(),a("/partner/login",{replace:!0})},o=((m=e==null?void 0:e.profile)==null?void 0:m.name)||(e==null?void 0:e.name)||"Partner",c=o.charAt(0).toUpperCase(),d=(e==null?void 0:e.partnerType)||"individual",u=d==="franchise";return g.useEffect(()=>{console.log("Partner Layout - Partner Data:",{partnerType:d,showTeamTab:u,hasPartner:!!e,partnerKeys:e?Object.keys(e):[]})},[e,d,u]),t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 flex flex-col",children:[t.jsx("header",{className:"lg:hidden bg-white shadow-md border-b border-slate-200 fixed top-0 left-0 right-0 z-[60] w-full",children:t.jsxs("div",{className:"px-4 py-3 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("button",{onClick:()=>i(!n),className:"p-2 hover:bg-slate-100 rounded-lg transition",type:"button",children:n?t.jsx(mt,{className:"text-xl"}):t.jsx($y,{className:"text-xl"})}),t.jsx(ti,{className:"scale-75 origin-left"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(cE,{}),e!=null&&e.profilePicture?t.jsx("img",{src:e.profilePicture.startsWith("http")?e.profilePicture:`https://nexo.works/${e.profilePicture}`,alt:o,className:"w-10 h-10 rounded-full object-cover border-2 border-primary/20"}):t.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-primary to-primary-dark text-white flex items-center justify-center font-bold shadow-md",children:c})]})]})}),t.jsxs("div",{className:"flex relative flex-1 pt-[64px] lg:pt-0",children:[t.jsxs("aside",{className:"hidden lg:flex lg:w-64 flex-col bg-white shadow-xl border-r border-slate-200 fixed top-0 left-0 h-screen overflow-hidden z-40",children:[t.jsx("div",{className:"px-4 py-4 border-b border-slate-200 flex-shrink-0 bg-white sticky top-0 z-10",children:t.jsx(ti,{className:"scale-75 origin-left"})}),t.jsx("div",{className:"px-4 py-4 border-b border-slate-200 bg-gradient-to-br from-primary/5 to-primary/10 flex-shrink-0",children:t.jsxs("div",{className:"flex items-center gap-3",children:[e!=null&&e.profilePicture?t.jsx("img",{src:e.profilePicture.startsWith("http")?e.profilePicture:`https://nexo.works/${e.profilePicture}`,alt:o,className:"w-12 h-12 rounded-full object-cover border-2 border-primary/20"}):t.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-primary to-primary-dark text-white flex items-center justify-center font-bold text-lg border-2 border-primary/20",children:c}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"font-semibold text-slate-800 truncate text-sm",children:o}),t.jsx("p",{className:"text-xs text-slate-500 truncate",children:(e==null?void 0:e.phone)||"N/A"})]}),t.jsx(cE,{})]})}),t.jsxs("nav",{className:"flex-1 px-3 py-4 space-y-1 overflow-y-auto overscroll-contain scrollbar-thin scrollbar-thumb-slate-300 scrollbar-track-transparent",children:[t.jsx(xo,{to:"/partner/dashboard",icon:Za,label:"Dashboard"}),t.jsx(xo,{to:"/partner/dashboard/profile",icon:vr,label:"Profile"}),t.jsx(xo,{to:"/partner/dashboard/wallet",icon:Xt,label:"Wallet"}),u&&t.jsx(xo,{to:"/partner/dashboard/team",icon:Mr,label:"Team"}),t.jsx(xo,{to:"/partner/dashboard/jobs",icon:as,label:"Jobs"}),t.jsx(xo,{to:"/partner/dashboard/subscription",icon:hs,label:"MG Plan"}),t.jsx(xo,{to:"/partner/dashboard/spare-parts",icon:fs,label:"Spare Parts"}),t.jsx(xo,{to:"/partner/dashboard/transactions",icon:Xt,label:"Transactions"})]}),t.jsx("div",{className:"px-4 py-4 border-t border-slate-200 flex-shrink-0 bg-white sticky bottom-0 z-10",children:t.jsxs("button",{onClick:l,className:"w-full inline-flex items-center justify-center gap-2 px-4 py-2.5 text-sm font-semibold rounded-lg bg-red-50 hover:bg-red-100 text-red-600 transition",children:[t.jsx(Ho,{})," Logout"]})})]}),n&&t.jsx("div",{className:"lg:hidden fixed inset-0 z-[70] bg-black/50 backdrop-blur-sm transition-opacity",onClick:()=>i(!1),children:t.jsxs("div",{className:"w-80 max-w-[85vw] bg-white h-full shadow-2xl overflow-y-auto flex flex-col",onClick:x=>x.stopPropagation(),children:[t.jsxs("div",{className:"px-4 py-4 border-b border-slate-200 flex-shrink-0 sticky top-0 bg-white z-10",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsx(ti,{className:"scale-75 origin-left"}),t.jsx("button",{onClick:()=>i(!1),className:"p-2 hover:bg-slate-100 rounded-lg transition",type:"button",children:t.jsx(mt,{className:"text-xl"})})]}),t.jsxs("div",{className:"flex items-center gap-3 bg-gradient-to-br from-primary/5 to-primary/10 p-3 rounded-lg",children:[e!=null&&e.profilePicture?t.jsx("img",{src:e.profilePicture.startsWith("http")?e.profilePicture:`https://nexo.works/${e.profilePicture}`,alt:o,className:"w-10 h-10 rounded-full object-cover border-2 border-primary/20"}):t.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-primary to-primary-dark text-white flex items-center justify-center font-bold border-2 border-primary/20",children:c}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"font-semibold text-slate-800 truncate text-sm",children:o}),t.jsx("p",{className:"text-xs text-slate-500 truncate",children:(e==null?void 0:e.phone)||"N/A"})]})]})]}),t.jsxs("nav",{className:"flex-1 px-3 py-4 space-y-1 overflow-y-auto",children:[t.jsx(po,{to:"/partner/dashboard",icon:Za,label:"Dashboard",onClick:()=>i(!1)}),t.jsx(po,{to:"/partner/dashboard/profile",icon:vr,label:"Profile",onClick:()=>i(!1)}),t.jsx(po,{to:"/partner/dashboard/wallet",icon:Xt,label:"Wallet",onClick:()=>i(!1)}),u&&t.jsx(po,{to:"/partner/dashboard/team",icon:Mr,label:"Team",onClick:()=>i(!1)}),t.jsx(po,{to:"/partner/dashboard/jobs",icon:as,label:"Jobs",onClick:()=>i(!1)}),t.jsx(po,{to:"/partner/dashboard/subscription",icon:hs,label:"MG Plan",onClick:()=>i(!1)}),t.jsx(po,{to:"/partner/dashboard/spare-parts",icon:fs,label:"Spare Parts",onClick:()=>i(!1)}),t.jsx(po,{to:"/partner/dashboard/transactions",icon:Xt,label:"Transactions",onClick:()=>i(!1)})]}),t.jsx("div",{className:"px-6 py-6 border-t border-slate-200 flex-shrink-0 sticky bottom-0 bg-white z-10",children:t.jsxs("button",{onClick:l,className:"w-full inline-flex items-center justify-center gap-2 px-4 py-3 text-sm font-semibold rounded-xl bg-red-50 hover:bg-red-100 text-red-600 transition",type:"button",children:[t.jsx(Ho,{})," Logout"]})})]})}),t.jsx("div",{className:"flex-1 min-w-0 w-full lg:ml-64",children:t.jsx("main",{className:"p-4 sm:p-6 lg:p-8 min-h-screen",children:t.jsx(Ql,{})})})]}),t.jsx(f4,{notification:s==null?void 0:s.currentNotification,onClose:(s==null?void 0:s.closeNotificationDialog)||(()=>{}),onMarkAsRead:(s==null?void 0:s.markNotificationAsRead)||(()=>{})})]})},xo=({to:e,icon:r,label:s})=>{const a=Br(),n=a.pathname===e||a.pathname.startsWith(e+"/");return t.jsxs(Ut,{to:e,className:`flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 relative group ${n?"bg-primary text-white shadow-md shadow-primary/20":"text-slate-600 hover:bg-slate-100 hover:text-slate-900"}`,children:[t.jsx(r,{className:`text-base transition-transform duration-200 ${n?"scale-110":"group-hover:scale-110"}`}),t.jsx("span",{className:"relative z-10",children:s}),n&&t.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-white rounded-r-full"})]})},po=({to:e,icon:r,label:s,onClick:a})=>{const n=Br(),i=n.pathname===e||n.pathname.startsWith(e+"/");return t.jsxs(Ut,{to:e,onClick:a,className:`flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition ${i?"bg-primary text-white shadow-md":"text-slate-600 hover:bg-slate-100"}`,children:[t.jsx(r,{className:"text-base"}),s]})},H6e=()=>{const{isAuthenticated:e,isLoading:r}=In(),s=Br();return r?t.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-white",children:t.jsxs("div",{className:"flex flex-col items-center gap-4",children:[t.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"}),t.jsx("p",{className:"text-sm font-medium tracking-wide text-white/80",children:"Loading partner portal..."})]})}):e?t.jsx(Ql,{}):t.jsx(kd,{to:"/partner/login",state:{from:s},replace:!0})},dE="https://nexo.works",Qr=e=>e.startsWith("/api/")?`${dE}${e}`:`${dE}/api/vendor${e}`,bs=e=>{const r={"Content-Type":"application/json"};return e&&(r.Authorization=`Bearer ${e}`),r},Zr=async e=>{const r=e.headers.get("content-type"),s=r&&r.includes("application/json");let a;try{a=s?await e.json():await e.text()}catch(n){throw console.error("Error parsing response:",n),new Error("Invalid response from server")}if(!e.ok){const n=a!=null&&a.message||a!=null&&a.error||(a==null?void 0:a.success)===!1?a==null?void 0:a.message:"Request failed",i=new Error(n);throw i.status=e.status,i.data=a,i}return a},ps={async sendOTP(e){try{const r=Qr("/auth/send-otp");console.log(" Vendor OTP API call:",{url:r,phone:e});const s=await fetch(r,{method:"POST",headers:bs(),body:JSON.stringify({phone:e})});return console.log(" Vendor OTP API response status:",s.status),Zr(s)}catch(r){throw console.error(" Vendor OTP API fetch error:",r),r}},async verifyOTP(e,r){const s=await fetch(Qr("/auth/verify-otp"),{method:"POST",headers:bs(),body:JSON.stringify({phone:e,otp:r})});return Zr(s)},async loginWithPassword(e,r){const s=await fetch(Qr("/auth/login"),{method:"POST",headers:bs(),body:JSON.stringify({email:e,password:r})});return Zr(s)},async updateFCMToken(e,r){const s=await fetch(Qr("/auth/update-fcm-token"),{method:"PUT",headers:bs(e),body:JSON.stringify({token:r})});return Zr(s)},async getProfile(e){const r=await fetch(Qr("/auth/profile"),{headers:bs(e)});return Zr(r)},async getSpareParts(e,r={}){const s=new URLSearchParams(r).toString(),a=Qr(`/spare-parts${s?`?${s}`:""}`),n=await fetch(a,{headers:bs(e)});return Zr(n)},async getSparePart(e,r){const s=await fetch(Qr(`/spare-parts/${r}`),{headers:bs(e)});return Zr(s)},async addSparePart(e,r){const s=await fetch(Qr("/spare-parts"),{method:"POST",headers:{Authorization:`Bearer ${e}`},body:r});return Zr(s)},async updateSparePart(e,r,s){const a=await fetch(Qr(`/spare-parts/${r}`),{method:"PUT",headers:{Authorization:`Bearer ${e}`},body:s});return Zr(a)},async deleteSparePart(e,r){const s=await fetch(Qr(`/spare-parts/${r}`),{method:"DELETE",headers:bs(e)});return Zr(s)},async getCategories(e){const r=await fetch(Qr("/spare-parts/categories"),{headers:bs(e)});return Zr(r)},async getBookings(e,r={}){const s=new URLSearchParams(r).toString(),a=Qr(`/bookings${s?`?${s}`:""}`),n=await fetch(a,{headers:bs(e)});return Zr(n)},async getBooking(e,r){const s=await fetch(Qr(`/bookings/${r}`),{headers:bs(e)});return Zr(s)},async updateBookingStatus(e,r,s){const a=await fetch(Qr(`/bookings/${r}/status`),{method:"PUT",headers:bs(e),body:JSON.stringify(s)});return Zr(a)},async getBookingStats(e){const r=await fetch(Qr("/bookings/stats"),{headers:bs(e)});return Zr(r)},async getTransactions(e,r={}){const s=new URLSearchParams(r).toString(),a=Qr(`/transactions${s?`?${s}`:""}`),n=await fetch(a,{headers:bs(e)});return Zr(n)},async getTransaction(e,r){const s=await fetch(Qr(`/transactions/${r}`),{headers:bs(e)});return Zr(s)},async getTransactionStats(e){const r=await fetch(Qr("/transactions/stats"),{headers:bs(e)});return Zr(r)},async createTransaction(e,r){const s=await fetch(Qr("/transactions"),{method:"POST",headers:bs(e),body:JSON.stringify(r)});return Zr(s)},async getNotifications(e){try{const r=await fetch(Qr("/notifications"),{headers:bs(e)});return Zr(r)}catch(r){if(console.error("Error fetching vendor notifications:",r),r.message&&(r.message.includes("Failed to fetch")||r.message.includes("ERR_CONNECTION_REFUSED")))return{success:!1,notifications:[],message:"Unable to connect to server"};throw r}},async markNotificationAsRead(e,r){const s=await fetch(Qr(`/notifications/${r}/mark-read`),{method:"PUT",headers:bs(e)});return Zr(s)},async markNotificationsAsRead(e){const r=await fetch(Qr("/notifications/mark-read"),{method:"PUT",headers:bs(e)});return Zr(r)}},fz=g.createContext(null),gz={isLoading:!0,isAuthenticated:!1,vendor:null,token:null,error:null};function V6e(e,r){var s,a,n;switch(r.type){case"INIT":return{...e,isLoading:!1,isAuthenticated:!!((s=r.payload)!=null&&s.token),vendor:((a=r.payload)==null?void 0:a.vendor)??null,token:((n=r.payload)==null?void 0:n.token)??null};case"LOGIN_START":return{...e,isLoading:!0,error:null};case"LOGIN_SUCCESS":return{...e,isLoading:!1,isAuthenticated:!0,vendor:r.payload.vendor,token:r.payload.token,error:null};case"LOGIN_ERROR":return{...e,isLoading:!1,isAuthenticated:!1,vendor:null,token:null,error:r.payload};case"LOGOUT":return{...gz,isLoading:!1};case"UPDATE_VENDOR":return{...e,vendor:{...e.vendor,...r.payload}};default:return e}}const W6e=({children:e})=>{const[r,s]=g.useReducer(V6e,gz);g.useEffect(()=>{const i=localStorage.getItem("nexo_vendor_auth");if(i)try{const l=JSON.parse(i);s({type:"INIT",payload:l})}catch(l){console.error("Failed to parse vendor auth cache",l),localStorage.removeItem("nexo_vendor_auth"),s({type:"INIT",payload:null})}else s({type:"INIT",payload:null})},[]);const a=p4(ps,r.token,r.isAuthenticated),n=g.useMemo(()=>({...r,notifications:a,login:async(i,l)=>{s({type:"LOGIN_START"});try{const o=await ps.verifyOTP(i,l);if(o.success&&o.vendor){const c={token:o.vendor.token,vendor:o.vendor};return localStorage.setItem("nexo_vendor_auth",JSON.stringify(c)),s({type:"LOGIN_SUCCESS",payload:c}),c}else throw new Error(o.message||"Login failed")}catch(o){const c=(o==null?void 0:o.message)??"Unable to login";throw s({type:"LOGIN_ERROR",payload:c}),new Error(c)}},loginWithPassword:async(i,l)=>{var o;s({type:"LOGIN_START"});try{const c=await ps.loginWithPassword(i,l);if(console.log("Login response:",c),c.success&&c.vendor){const d={token:c.vendor.token,vendor:c.vendor};return localStorage.setItem("nexo_vendor_auth",JSON.stringify(d)),s({type:"LOGIN_SUCCESS",payload:d}),d}else{const d=c.message||"Login failed";throw console.error("Login failed:",d,c),new Error(d)}}catch(c){console.error("Login error caught:",c);const d=(c==null?void 0:c.message)||((o=c==null?void 0:c.data)==null?void 0:o.message)||"Unable to login";throw s({type:"LOGIN_ERROR",payload:d}),new Error(d)}},logout:()=>{localStorage.removeItem("nexo_vendor_auth"),s({type:"LOGOUT"})},clearError:()=>s({type:"LOGIN_ERROR",payload:null}),updateVendor:i=>{const l=localStorage.getItem("nexo_vendor_auth");if(l)try{const o=JSON.parse(l);o.vendor={...o.vendor,...i},localStorage.setItem("nexo_vendor_auth",JSON.stringify(o)),s({type:"UPDATE_VENDOR",payload:i})}catch(o){console.error("Failed to update vendor data",o)}}}),[r,a]);return t.jsx(fz.Provider,{value:n,children:e})},oo=()=>{const e=g.useContext(fz);if(!e)throw new Error("useVendorAuth must be used within VendorAuthProvider");return e},G6e=()=>{const e=Qt(),{login:r,loginWithPassword:s,error:a,clearError:n}=oo(),[i,l]=g.useState("password"),[o,c]=g.useState(1),[d,u]=g.useState({phone:"",email:"",password:"",otp:""}),[m,x]=g.useState(!1),[h,p]=g.useState(null),[f,b]=g.useState(!1),[j,w]=g.useState(0);_t.useEffect(()=>{let C=null;return j>0&&(C=setInterval(()=>{w(P=>P-1)},1e3)),()=>{C&&clearInterval(C)}},[j]);const y=async C=>{var P;if(C.preventDefault(),C.stopPropagation(),p(null),n(),!d.phone||d.phone.length!==10){p("Please enter a valid 10-digit phone number");return}x(!0);try{console.log(" Vendor OTP request initiated for:",d.phone);const _=await ps.sendOTP(d.phone);if(console.log(" Vendor OTP API response:",_),_&&_.success)b(!0),c(2),w(60);else{const A=(_==null?void 0:_.message)||(_==null?void 0:_.error)||"Failed to send OTP";p(A),console.error(" Vendor OTP failed:",A)}}catch(_){console.error(" Vendor OTP error:",_);const A=_.message||((P=_.data)==null?void 0:P.message)||"Failed to send OTP. Please try again.";p(A)}finally{x(!1)}},v=async C=>{var P;if(C.preventDefault(),p(null),n(),!d.email||!d.password){p("Please enter email and password");return}x(!0);try{await s(d.email.trim(),d.password),e("/vendor/dashboard",{replace:!0})}catch(_){const A=_.message||((P=_.data)==null?void 0:P.message)||"Login failed. Please check your credentials.";p(A),console.error("Login error:",_)}finally{x(!1)}},N=async()=>{if(!(j>0)){x(!0),p(null);try{const C=await ps.sendOTP(d.phone);C.success?w(60):p(C.message||"Failed to resend OTP")}catch(C){p(C.message||"Failed to resend OTP")}finally{x(!1)}}},S=async C=>{if(C.preventDefault(),p(null),n(),!d.otp||d.otp.length!==6){p("Please enter a valid 6-digit OTP");return}x(!0);try{await r(d.phone,d.otp),e("/vendor/dashboard",{replace:!0})}catch(P){p(P.message||"Invalid OTP. Please try again.")}finally{x(!1)}},k=C=>{const{name:P,value:_}=C.target;let A=_;(P==="phone"||P==="otp")&&(A=_.replace(/\D/g,"").slice(0,P==="otp"?6:10)),u(D=>({...D,[P]:A})),p(null),a&&n()};return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center px-4 py-10",children:t.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:t.jsxs("div",{className:"bg-white/10 backdrop-blur-xl rounded-2xl shadow-2xl border border-white/20 p-8",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-primary rounded-full mb-4",children:t.jsx(_s,{className:"text-2xl text-white"})}),t.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Vendor Login"}),t.jsx("p",{className:"text-slate-300",children:"Welcome back! Please login to continue"})]}),o===1&&t.jsxs("div",{className:"mb-6 flex gap-2 bg-white/5 rounded-lg p-1",children:[t.jsx("button",{type:"button",onClick:()=>{l("password"),u({phone:"",email:"",password:"",otp:""}),p(null)},className:`flex-1 py-2 px-4 rounded-md text-sm font-semibold transition ${i==="password"?"bg-primary text-white":"text-slate-300 hover:text-white"}`,children:"Password"}),t.jsx("button",{type:"button",onClick:()=>{l("otp"),u({phone:"",email:"",password:"",otp:""}),p(null)},className:`flex-1 py-2 px-4 rounded-md text-sm font-semibold transition ${i==="otp"?"bg-primary text-white":"text-slate-300 hover:text-white"}`,children:"OTP"})]}),(h||a)&&t.jsx("div",{className:"mb-6 p-4 bg-red-500/20 border border-red-500/50 rounded-xl text-red-200 text-sm",children:h||a}),i==="password"&&o===1&&t.jsxs("form",{onSubmit:v,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-200 mb-2",children:"Email"}),t.jsxs("div",{className:"relative",children:[t.jsx(en,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-slate-400"}),t.jsx("input",{type:"email",name:"email",value:d.email,onChange:k,className:"w-full pl-12 pr-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Enter your email",required:!0,disabled:m})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-200 mb-2",children:"Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(_s,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-slate-400"}),t.jsx("input",{type:"password",name:"password",value:d.password,onChange:k,className:"w-full pl-12 pr-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Enter your password",required:!0,disabled:m})]})]}),t.jsx("button",{type:"submit",disabled:m,className:"w-full py-3 bg-primary hover:bg-primary-dark text-white font-semibold rounded-xl transition flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:m?t.jsxs(t.Fragment,{children:[t.jsx(Dt,{className:"animate-spin"}),"Logging in..."]}):t.jsxs(t.Fragment,{children:["Login",t.jsx(ds,{})]})})]}),i==="otp"&&o===1&&t.jsxs("form",{onSubmit:y,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-200 mb-2",children:"Phone Number"}),t.jsxs("div",{className:"relative",children:[t.jsx(tn,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-slate-400"}),t.jsx("input",{type:"tel",name:"phone",value:d.phone,onChange:k,className:"w-full pl-12 pr-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Enter 10-digit phone number",maxLength:10,required:!0,disabled:m})]})]}),t.jsx("button",{type:"submit",disabled:m,className:"w-full py-3 bg-primary hover:bg-primary-dark text-white font-semibold rounded-xl transition flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:m?t.jsxs(t.Fragment,{children:[t.jsx(Dt,{className:"animate-spin"}),"Sending OTP..."]}):t.jsxs(t.Fragment,{children:["Send OTP",t.jsx(ds,{})]})})]}),i==="otp"&&o===2&&t.jsxs("form",{onSubmit:S,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-200 mb-2",children:"Enter OTP"}),t.jsxs("div",{className:"relative",children:[t.jsx(_s,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-slate-400"}),t.jsx("input",{type:"text",name:"otp",value:d.otp,onChange:k,className:"w-full pl-12 pr-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent text-center text-2xl tracking-widest",placeholder:"000000",maxLength:6,required:!0,disabled:m,autoFocus:!0})]}),t.jsxs("p",{className:"mt-2 text-xs text-slate-400 text-center",children:["OTP sent to +91 ",d.phone]})]}),t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("button",{type:"button",onClick:()=>{c(1),u(C=>({...C,otp:""})),b(!1),w(0)},className:"text-slate-300 hover:text-white transition",children:"Change Number"}),t.jsx("button",{type:"button",onClick:N,disabled:j>0||m,className:"text-primary hover:text-primary-light transition disabled:opacity-50 disabled:cursor-not-allowed",children:j>0?`Resend OTP in ${j}s`:"Resend OTP"})]}),t.jsx("button",{type:"submit",disabled:m,className:"w-full py-3 bg-primary hover:bg-primary-dark text-white font-semibold rounded-xl transition flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:m?t.jsxs(t.Fragment,{children:[t.jsx(Dt,{className:"animate-spin"}),"Verifying..."]}):t.jsxs(t.Fragment,{children:["Login",t.jsx(ds,{})]})})]})]})})})},q6e=()=>{const{token:e,vendor:r}=oo(),[s,a]=g.useState({totalSpareParts:0,totalBookings:0,totalRevenue:0,pendingBookings:0,completedBookings:0,cancelledBookings:0,monthlyRevenue:0,averageOrderValue:0,lowStockItems:0}),[n,i]=g.useState(!0),[l,o]=g.useState({monthlyRevenue:[],bookingStatus:[],monthlyBookings:[]}),[c,d]=g.useState([]),[u,m]=g.useState([]),[x,h]=g.useState({revenueTrend:0,bookingsTrend:0}),p=g.useCallback(async()=>{var y;if(e)try{const[v,N,S]=await Promise.all([ps.getSpareParts(e),ps.getBookings(e),ps.getTransactionStats(e)]),k=v.data||v.spareParts||[],C=N.data||N.bookings||[],P=S.data||S||{},_=P.totalCredits||0,A=P.totalDebits||0,D=P.balance||_-A,F=C.filter(U=>U.status==="completed").length,X=C.filter(U=>U.status==="pending"||U.status==="confirmed").length,ce=C.filter(U=>U.status==="cancelled").length,he=C.filter(U=>U.status==="completed"&&U.totalAmount),L=he.length>0?he.reduce((U,ee)=>U+(ee.totalAmount||0),0)/he.length:0,q=k.filter(U=>(U.stock||0)<10).length,se=f(C,[]),R=[{name:"Completed",value:F,color:"#10b981"},{name:"Pending",value:X,color:"#f59e0b"},{name:"Cancelled",value:ce,color:"#ef4444"}],T=b(C),O=j(se),K=j(T);a({totalSpareParts:k.length,totalBookings:C.length,totalRevenue:D,pendingBookings:X,completedBookings:F,cancelledBookings:ce,monthlyRevenue:((y=se[se.length-1])==null?void 0:y.revenue)||0,averageOrderValue:L,lowStockItems:q}),o({monthlyRevenue:se,bookingStatus:R,monthlyBookings:T}),h({revenueTrend:O,bookingsTrend:K}),d(C.slice(0,5));try{const U=await ps.getTransactions(e),ee=U.data||U.transactions||[];m(ee.slice(0,5))}catch(U){console.error("Failed to fetch recent transactions:",U),m([])}}catch(v){console.error("Failed to fetch dashboard data:",v)}finally{i(!1)}},[e]);g.useEffect(()=>{if(!e)return;p();const y=setInterval(()=>{p()},3e5);return()=>clearInterval(y)},[e,p]);const f=(y,v=[])=>{const N=[],S=new Date;for(let k=5;k>=0;k--){const C=new Date(S.getFullYear(),S.getMonth()-k,1),P=C.toLocaleDateString("en-US",{month:"short"}),A=y.filter(D=>{const F=new Date(D.orderDate||D.createdAt);return F.getMonth()===C.getMonth()&&F.getFullYear()===C.getFullYear()&&D.status==="completed"}).reduce((D,F)=>D+(F.totalAmount||0),0);N.push({month:P,revenue:Math.round(A)})}return N},b=y=>{const v=[],N=new Date;for(let S=5;S>=0;S--){const k=new Date(N.getFullYear(),N.getMonth()-S,1),C=k.toLocaleDateString("en-US",{month:"short"}),P=y.filter(_=>{const A=new Date(_.orderDate||_.createdAt);return A.getMonth()===k.getMonth()&&A.getFullYear()===k.getFullYear()});v.push({month:C,bookings:P.length})}return v},j=y=>{var S,k,C,P;if(y.length<2)return 0;const v=((S=y[y.length-1])==null?void 0:S.revenue)||((k=y[y.length-1])==null?void 0:k.bookings)||0,N=((C=y[y.length-2])==null?void 0:C.revenue)||((P=y[y.length-2])==null?void 0:P.bookings)||0;return N===0?v>0?100:0:Math.round((v-N)/N*100)};if(n)return t.jsx("div",{className:"flex items-center justify-center h-96",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),t.jsx("p",{className:"text-slate-600",children:"Loading dashboard..."})]})});const w=[{title:"Total Revenue",value:`${s.totalRevenue.toLocaleString("en-IN")}`,icon:Xt,color:"text-emerald-600",bgColor:"bg-emerald-50",borderColor:"border-emerald-200",trend:x.revenueTrend,subtitle:`${s.monthlyRevenue.toLocaleString("en-IN")} this month`},{title:"Total Bookings",value:s.totalBookings,icon:qn,color:"text-blue-600",bgColor:"bg-blue-50",borderColor:"border-blue-200",trend:x.bookingsTrend,subtitle:`${s.completedBookings} completed`},{title:"Spare Parts",value:s.totalSpareParts,icon:fs,color:"text-purple-600",bgColor:"bg-purple-50",borderColor:"border-purple-200",subtitle:s.lowStockItems>0?`${s.lowStockItems} low stock`:"All in stock"},{title:"Pending Orders",value:s.pendingBookings,icon:ns,color:"text-amber-600",bgColor:"bg-amber-50",borderColor:"border-amber-200",subtitle:"Requires attention"}];return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsxs("h1",{className:"text-3xl font-bold text-slate-800 mb-2",children:["Welcome back, ",(r==null?void 0:r.name)||"Vendor","!"]}),t.jsx("p",{className:"text-slate-600",children:"Here's what's happening with your business today"})]}),t.jsxs("button",{onClick:p,className:"flex items-center gap-2 px-4 py-2 bg-white border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors text-sm font-medium text-slate-700",children:[t.jsx(Dt,{className:"w-4 h-4"}),"Refresh"]})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:w.map((y,v)=>t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 hover:shadow-lg hover:border-primary/20 transition-all duration-300 group cursor-pointer",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsx("div",{className:`${y.bgColor} p-3 rounded-xl group-hover:scale-110 group-hover:rotate-3 transition-all duration-300 shadow-sm`,children:t.jsx(y.icon,{className:`${y.color} text-xl`})}),y.trend!==void 0&&y.trend!==0&&t.jsxs("div",{className:`flex items-center gap-1 px-2 py-1 rounded-full text-xs font-semibold ${y.trend>=0?"bg-emerald-50 text-emerald-700 border border-emerald-200":"bg-red-50 text-red-700 border border-red-200"}`,children:[y.trend>=0?t.jsx(lr,{className:"w-3 h-3"}):t.jsx(od,{className:"w-3 h-3"}),Math.abs(y.trend),"%"]})]}),t.jsx("h3",{className:"text-sm font-semibold text-slate-600 mb-2",children:y.title}),t.jsx("p",{className:"text-3xl font-bold text-slate-800 mb-2 group-hover:text-primary transition-colors",children:y.value}),y.subtitle&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-slate-400"}),t.jsx("p",{className:"text-xs text-slate-500",children:y.subtitle})]})]},v))}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 hover:shadow-md transition-shadow",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"Revenue Trend"}),t.jsx("p",{className:"text-sm text-slate-600",children:"Last 6 months"})]}),t.jsx("div",{className:"p-2 bg-emerald-50 rounded-lg",children:t.jsx(i0,{className:"w-5 h-5 text-emerald-600"})})]}),l.monthlyRevenue.length>0&&l.monthlyRevenue.some(y=>y.revenue>0)?t.jsx(Vi,{width:"100%",height:250,children:t.jsxs(k5,{data:l.monthlyRevenue,children:[t.jsx("defs",{children:t.jsxs("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[t.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.3}),t.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]})}),t.jsx(Yc,{strokeDasharray:"3 3",stroke:"#f1f5f9"}),t.jsx(Jc,{dataKey:"month",stroke:"#64748b",fontSize:12}),t.jsx(Qc,{stroke:"#64748b",fontSize:12}),t.jsx(Gi,{contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},formatter:y=>[`${y.toLocaleString("en-IN")}`,"Revenue"]}),t.jsx(k0,{type:"monotone",dataKey:"revenue",stroke:"#10b981",strokeWidth:2,fillOpacity:1,fill:"url(#colorRevenue)"})]})}):t.jsxs("div",{className:"flex flex-col items-center justify-center h-[250px] text-center py-8",children:[t.jsx("div",{className:"w-20 h-20 bg-slate-100 rounded-full flex items-center justify-center mb-4",children:t.jsx(i0,{className:"w-10 h-10 text-slate-400"})}),t.jsx("p",{className:"text-slate-600 font-medium mb-1",children:"No Revenue Data"}),t.jsx("p",{className:"text-sm text-slate-500",children:"Revenue data will appear here once you start receiving payments"})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 hover:shadow-md transition-shadow",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"Booking Status"}),t.jsx("p",{className:"text-sm text-slate-600",children:"Distribution overview"})]}),t.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:t.jsx(Vc,{className:"w-5 h-5 text-blue-600"})})]}),l.bookingStatus.length>0&&l.bookingStatus.some(y=>y.value>0)?t.jsx(Vi,{width:"100%",height:250,children:t.jsxs($g,{children:[t.jsx(N0,{data:l.bookingStatus,cx:"50%",cy:"50%",labelLine:!1,label:({name:y,percent:v})=>`${y}: ${(v*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:l.bookingStatus.map((y,v)=>t.jsx(tc,{fill:y.color},`cell-${v}`))}),t.jsx(Gi,{contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}})]})}):t.jsxs("div",{className:"flex flex-col items-center justify-center h-[250px] text-center py-8",children:[t.jsx("div",{className:"w-20 h-20 bg-slate-100 rounded-full flex items-center justify-center mb-4",children:t.jsx(Vc,{className:"w-10 h-10 text-slate-400"})}),t.jsx("p",{className:"text-slate-600 font-medium mb-1",children:"No Booking Data"}),t.jsx("p",{className:"text-sm text-slate-500",children:"Booking statistics will appear here once you receive orders"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"Recent Bookings"}),t.jsxs(Ut,{to:"/vendor/dashboard/bookings",className:"text-sm text-primary hover:text-primary-dark font-medium flex items-center gap-1",children:["View all",t.jsx(ds,{className:"w-4 h-4"})]})]}),t.jsx("div",{className:"space-y-3",children:c.length===0?t.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mb-4",children:t.jsx(qn,{className:"w-8 h-8 text-slate-400"})}),t.jsx("p",{className:"text-slate-600 font-medium mb-1",children:"No Recent Bookings"}),t.jsx("p",{className:"text-sm text-slate-500 mb-4",children:"Your recent bookings will appear here"}),t.jsxs(Ut,{to:"/vendor/dashboard/add-spare-part",className:"inline-flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors text-sm font-medium",children:[t.jsx(fs,{className:"w-4 h-4"}),"Add Spare Parts"]})]}):c.map(y=>{var v,N;return t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-slate-50 to-white rounded-xl border border-slate-200 hover:border-primary/30 hover:shadow-md transition-all duration-200 group",children:[t.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[t.jsx("div",{className:`p-2 rounded-lg ${y.status==="completed"?"bg-emerald-100":y.status==="pending"?"bg-amber-100":y.status==="cancelled"?"bg-red-100":"bg-blue-100"}`,children:t.jsx(qn,{className:`w-4 h-4 ${y.status==="completed"?"text-emerald-600":y.status==="pending"?"text-amber-600":y.status==="cancelled"?"text-red-600":"text-blue-600"}`})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"font-semibold text-slate-800 text-sm truncate group-hover:text-primary transition-colors",children:((v=y.sparePart)==null?void 0:v.name)||y.sparePartName||"Spare Part"}),t.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[t.jsx("p",{className:"text-xs text-slate-600",children:((N=y.customer)==null?void 0:N.name)||"Customer"}),t.jsx("span",{className:"text-slate-300",children:""}),t.jsx("p",{className:"text-xs text-slate-500",children:new Date(y.orderDate||y.createdAt).toLocaleDateString()})]})]})]}),t.jsxs("div",{className:"flex items-center gap-3 ml-4",children:[t.jsx("span",{className:`px-3 py-1.5 rounded-full text-xs font-semibold border ${y.status==="completed"?"bg-emerald-50 text-emerald-700 border-emerald-200":y.status==="pending"?"bg-amber-50 text-amber-700 border-amber-200":y.status==="cancelled"?"bg-red-50 text-red-700 border-red-200":"bg-blue-50 text-blue-700 border-blue-200"}`,children:y.status}),t.jsxs("span",{className:"font-bold text-slate-800 text-lg",children:["",(y.totalAmount||0).toLocaleString("en-IN")]})]})]},y._id||y.id)})})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"Recent Transactions"}),t.jsxs(Ut,{to:"/vendor/dashboard/transactions",className:"text-sm text-primary hover:text-primary-dark font-medium flex items-center gap-1",children:["View all",t.jsx(ds,{className:"w-4 h-4"})]})]}),t.jsx("div",{className:"space-y-3",children:u.length===0?t.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mb-4",children:t.jsx(Xt,{className:"w-8 h-8 text-slate-400"})}),t.jsx("p",{className:"text-slate-600 font-medium mb-1",children:"No Recent Transactions"}),t.jsx("p",{className:"text-sm text-slate-500 mb-4",children:"Transaction history will appear here"}),t.jsxs(Ut,{to:"/vendor/dashboard/bookings",className:"inline-flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors text-sm font-medium",children:[t.jsx(qn,{className:"w-4 h-4"}),"View Bookings"]})]}):u.map(y=>t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-slate-50 to-white rounded-xl border border-slate-200 hover:border-primary/30 hover:shadow-md transition-all duration-200 group",children:[t.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[t.jsx("div",{className:`p-2.5 rounded-lg shadow-sm ${y.type==="credit"?"bg-emerald-100":"bg-red-100"}`,children:y.type==="credit"?t.jsx(lr,{className:"w-5 h-5 text-emerald-600"}):t.jsx(od,{className:"w-5 h-5 text-red-600"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"font-semibold text-slate-800 text-sm group-hover:text-primary transition-colors",children:y.description||(y.type==="credit"?"Payment Received":"Payment Sent")}),t.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[t.jsx(Ss,{className:"w-3 h-3 text-slate-400"}),t.jsx("p",{className:"text-xs text-slate-500",children:new Date(y.transactionDate||y.createdAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]})]})]}),t.jsxs("span",{className:`font-bold text-lg ${y.type==="credit"?"text-emerald-600":"text-red-600"}`,children:[y.type==="credit"?"+":"-","",(y.amount||0).toLocaleString("en-IN")]})]},y._id||y.id))})]})]}),t.jsxs("div",{className:"bg-gradient-to-br from-white to-slate-50 rounded-xl shadow-sm border border-slate-200 p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"Quick Actions"}),t.jsx("p",{className:"text-sm text-slate-600",children:"Get things done faster"})]}),t.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:t.jsx(Vc,{className:"w-5 h-5 text-primary"})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs(Ut,{to:"/vendor/dashboard/add-spare-part",className:"group relative p-6 bg-white border-2 border-slate-200 rounded-xl hover:border-primary hover:shadow-lg transition-all duration-300 text-center overflow-hidden",children:[t.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-primary/5 rounded-full -mr-10 -mt-10 group-hover:scale-150 transition-transform duration-500"}),t.jsxs("div",{className:"relative z-10",children:[t.jsx("div",{className:"inline-flex p-3 bg-primary/10 rounded-xl mb-3 group-hover:bg-primary group-hover:scale-110 transition-all duration-300",children:t.jsx(fs,{className:"text-2xl text-primary group-hover:text-white transition-colors"})}),t.jsx("p",{className:"font-bold text-slate-800 mb-1 group-hover:text-primary transition-colors",children:"Add Spare Part"}),t.jsx("p",{className:"text-xs text-slate-600",children:"Add new inventory item"})]})]}),t.jsxs(Ut,{to:"/vendor/dashboard/bookings",className:"group relative p-6 bg-white border-2 border-slate-200 rounded-xl hover:border-primary hover:shadow-lg transition-all duration-300 text-center overflow-hidden",children:[t.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-primary/5 rounded-full -mr-10 -mt-10 group-hover:scale-150 transition-transform duration-500"}),t.jsxs("div",{className:"relative z-10",children:[t.jsx("div",{className:"inline-flex p-3 bg-primary/10 rounded-xl mb-3 group-hover:bg-primary group-hover:scale-110 transition-all duration-300",children:t.jsx(qn,{className:"text-2xl text-primary group-hover:text-white transition-colors"})}),t.jsx("p",{className:"font-bold text-slate-800 mb-1 group-hover:text-primary transition-colors",children:"View Bookings"}),t.jsx("p",{className:"text-xs text-slate-600",children:"Manage all orders"})]})]}),t.jsxs(Ut,{to:"/vendor/dashboard/transactions",className:"group relative p-6 bg-white border-2 border-slate-200 rounded-xl hover:border-primary hover:shadow-lg transition-all duration-300 text-center overflow-hidden",children:[t.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-primary/5 rounded-full -mr-10 -mt-10 group-hover:scale-150 transition-transform duration-500"}),t.jsxs("div",{className:"relative z-10",children:[t.jsx("div",{className:"inline-flex p-3 bg-primary/10 rounded-xl mb-3 group-hover:bg-primary group-hover:scale-110 transition-all duration-300",children:t.jsx(Xt,{className:"text-2xl text-primary group-hover:text-white transition-colors"})}),t.jsx("p",{className:"font-bold text-slate-800 mb-1 group-hover:text-primary transition-colors",children:"View Transactions"}),t.jsx("p",{className:"text-xs text-slate-600",children:"Track payments"})]})]})]})]})]})},K6e=()=>{const{token:e}=oo(),[r,s]=g.useState([]),[a,n]=g.useState(!0),[i,l]=g.useState(""),[o,c]=g.useState("all"),[d,u]=g.useState([]);g.useEffect(()=>{m(),x()},[e,o]);const m=async()=>{if(e){n(!0);try{const f={};o!=="all"&&(f.category=o),i&&(f.search=i);const b=await ps.getSpareParts(e,f);s(b.data||[])}catch(f){console.error("Failed to fetch spare parts:",f)}finally{n(!1)}}},x=async()=>{if(e)try{const f=await ps.getCategories(e),b=f.data||f.categories||[];console.log("Fetched categories:",b),u(b)}catch(f){console.error("Failed to fetch categories:",f),u([])}},h=async f=>{if(window.confirm("Are you sure you want to delete this spare part?"))try{await ps.deleteSparePart(e,f),m()}catch{alert("Failed to delete spare part")}},p=r.filter(f=>{var b,j,w;if(o!=="all"&&f.category!==o)return!1;if(i){const y=i.toLowerCase();return((b=f.name)==null?void 0:b.toLowerCase().includes(y))||((j=f.description)==null?void 0:j.toLowerCase().includes(y))||((w=f.brand)==null?void 0:w.toLowerCase().includes(y))}return!0});return a?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-slate-800 mb-1",children:"Spare Parts"}),t.jsx("p",{className:"text-slate-600",children:"Manage your spare parts inventory"})]}),t.jsx("button",{onClick:m,className:"p-2.5 bg-white rounded-lg shadow-md hover:shadow-lg transition border border-slate-200 self-start sm:self-auto",children:t.jsx(Dt,{className:"text-lg text-slate-600"})})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-md p-4 border border-slate-200",children:t.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx(bn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400"}),t.jsx("input",{type:"text",value:i,onChange:f=>l(f.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Search spare parts..."})]}),t.jsxs("select",{value:o,onChange:f=>c(f.target.value),className:"px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary bg-white min-w-[180px]",children:[t.jsx("option",{value:"all",children:"All Categories"}),d.length>0?d.map((f,b)=>t.jsx("option",{value:f,children:f},b)):t.jsx("option",{value:"",disabled:!0,children:"No categories available"})]})]})}),p.length===0?t.jsxs("div",{className:"bg-white rounded-xl shadow-md p-12 text-center border border-slate-200",children:[t.jsx(fs,{className:"text-4xl mx-auto mb-2 opacity-50 text-slate-400"}),t.jsx("p",{className:"text-slate-500",children:"No spare parts found"})]}):t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:p.map(f=>{var b;return t.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 border border-slate-200 hover:shadow-lg transition",children:[t.jsx("div",{className:"w-full h-48 rounded-lg mb-4 overflow-hidden bg-gradient-to-br from-slate-50 to-slate-100 flex items-center justify-center relative",children:f.image?t.jsxs(t.Fragment,{children:[t.jsx("img",{src:f.image.startsWith("http")?f.image:f.image.startsWith("/")?`https://nexo.works${f.image}`:f.image,alt:f.name,className:"w-full h-full object-cover",onError:j=>{j.target.style.display="none",j.target.nextSibling&&(j.target.nextSibling.style.display="flex")}}),t.jsx("div",{className:"hidden absolute inset-0 items-center justify-center bg-gradient-to-br from-primary/10 to-primary/20",children:f.icon?t.jsx("span",{className:"text-6xl",children:f.icon}):t.jsx(fs,{className:"w-16 h-16 text-primary/40"})})]}):f.icon?t.jsx("span",{className:"text-7xl",children:f.icon}):t.jsx(fs,{className:"w-16 h-16 text-slate-400"})}),t.jsx("div",{className:"flex items-start justify-between mb-2",children:t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-1",children:f.name}),f.brand&&t.jsxs("p",{className:"text-sm text-slate-600 mb-2",children:["Brand: ",f.brand]}),f.description&&t.jsx("p",{className:"text-sm text-slate-600 mb-2 line-clamp-2",children:f.description})]})}),t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{children:[t.jsxs("p",{className:"text-xl font-bold text-primary",children:["",((b=f.price)==null?void 0:b.toLocaleString("en-IN"))||0]}),t.jsxs("p",{className:"text-sm text-slate-500",children:["Stock: ",f.stock," ",f.unit]})]}),t.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${f.status==="active"?"bg-green-100 text-green-800":f.status==="out_of_stock"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:f.status})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("a",{href:`/vendor/dashboard/add-spare-part?id=${f._id}`,className:"flex-1 py-2 bg-primary/10 text-primary rounded-lg font-semibold hover:bg-primary/20 transition text-center",children:[t.jsx(QN,{className:"inline mr-2"}),"Edit"]}),t.jsx("button",{onClick:()=>h(f._id),className:"py-2 px-4 bg-red-50 text-red-600 rounded-lg font-semibold hover:bg-red-100 transition",children:t.jsx(Ma,{})})]})]},f._id)})})]})},Y6e=[{emoji:"",name:"Wrench",category:"Tools"},{emoji:"",name:"Hammer",category:"Tools"},{emoji:"",name:"Tools",category:"Tools"},{emoji:"",name:"Gear",category:"Tools"},{emoji:"",name:"Nut & Bolt",category:"Tools"},{emoji:"",name:"Electrical",category:"Electrical"},{emoji:"",name:"Light Bulb",category:"Electrical"},{emoji:"",name:"Plug",category:"Electrical"},{emoji:"",name:"Antenna",category:"Electrical"},{emoji:"",name:"Battery",category:"Electrical"},{emoji:"",name:"Shower",category:"Plumbing"},{emoji:"",name:"Water",category:"Plumbing"},{emoji:"",name:"Droplet",category:"Plumbing"},{emoji:"",name:"Wave",category:"Plumbing"},{emoji:"",name:"Paint",category:"Painting"},{emoji:"",name:"Paintbrush",category:"Painting"},{emoji:"",name:"Frame",category:"Decor"},{emoji:"",name:"Window",category:"Decor"},{emoji:"",name:"Door",category:"Decor"},{emoji:"",name:"Snowflake",category:"AC"},{emoji:"",name:"Thermometer",category:"AC"},{emoji:"",name:"Cyclone",category:"AC"},{emoji:"",name:"Wind",category:"AC"},{emoji:"",name:"Broom",category:"Cleaning"},{emoji:"",name:"Sponge",category:"Cleaning"},{emoji:"",name:"Bottle",category:"Cleaning"},{emoji:"",name:"Soap",category:"Cleaning"},{emoji:"",name:"Fire Extinguisher",category:"Safety"},{emoji:"",name:"Paperclip",category:"Hardware"},{emoji:"",name:"Pushpin",category:"Hardware"},{emoji:"",name:"Lock",category:"Hardware"},{emoji:"",name:"Key",category:"Hardware"},{emoji:"",name:"Hook",category:"Hardware"},{emoji:"",name:"TV",category:"Appliances"},{emoji:"",name:"Phone",category:"Appliances"},{emoji:"",name:"Laptop",category:"Appliances"},{emoji:"",name:"Computer",category:"Appliances"},{emoji:"",name:"Keyboard",category:"Appliances"},{emoji:"",name:"Construction",category:"Building"},{emoji:"",name:"Brick",category:"Building"},{emoji:"",name:"House",category:"Building"},{emoji:"",name:"Building",category:"Building"},{emoji:"",name:"Factory",category:"Building"},{emoji:"",name:"Package",category:"Storage"},{emoji:"",name:"Clipboard",category:"Storage"},{emoji:"",name:"Card Index",category:"Storage"},{emoji:"",name:"Folder",category:"Storage"},{emoji:"",name:"File Cabinet",category:"Storage"},{emoji:"",name:"Toolbox",category:"General"},{emoji:"",name:"Shopping Cart",category:"General"},{emoji:"",name:"Chart",category:"General"},{emoji:"",name:"Star",category:"General"},{emoji:"",name:"Sparkle",category:"General"},{emoji:"",name:"Glowing Star",category:"General"},{emoji:"",name:"Diamond",category:"General"},{emoji:"",name:"Target",category:"General"},{emoji:"",name:"Check Mark",category:"General"},{emoji:"",name:"Magnifying Glass",category:"General"},{emoji:"",name:"Ladder",category:"Tools"},{emoji:"",name:"Bucket",category:"Tools"},{emoji:"",name:"Magnet",category:"Tools"},{emoji:"",name:"Flashlight",category:"Tools"},{emoji:"",name:"Screwdriver",category:"Tools"}],X6e=()=>{const{token:e}=oo(),r=Qt(),[s]=R0(),a=s.get("id"),[n,i]=g.useState(!1),[l,o]=g.useState({name:"",description:"",category:"",brand:"",price:"",stock:"",unit:"units",specifications:"",hsnCode:"",gstPercentage:"0",image:null,icon:""}),[c,d]=g.useState(null),[u,m]=g.useState([]),[x,h]=g.useState(!1),[p,f]=g.useState(null),[b,j]=g.useState("icon"),[w,y]=g.useState(!1),[v,N]=g.useState("");g.useEffect(()=>{S(),a&&k()},[e,a]);const S=async()=>{if(e)try{const F=await ps.getCategories(e),X=F.data||F.categories||[];console.log("Fetched categories for form:",X),m(X)}catch(F){console.error("Failed to fetch categories:",F),m([])}},k=async()=>{if(!(!e||!a))try{const X=(await ps.getSparePart(e,a)).data;o({name:X.name||"",description:X.description||"",category:X.category||"",brand:X.brand||"",price:X.price||"",stock:X.stock||"",unit:X.unit||"units",specifications:X.specifications||"",hsnCode:X.hsnCode||"",gstPercentage:X.gstPercentage||"0",image:null,icon:X.icon||""}),X.image?(d(X.image),j("image")):X.icon&&j("icon")}catch(F){console.error("Failed to fetch spare part:",F)}},C=F=>{const{name:X,value:ce}=F.target;o(he=>({...he,[X]:ce}))},P=F=>{const X=F.target.files[0];if(X){o(he=>({...he,image:X,icon:""})),j("image");const ce=new FileReader;ce.onloadend=()=>{d(ce.result)},ce.readAsDataURL(X)}},_=F=>{o(X=>({...X,icon:F,image:null})),j("icon"),d(null),y(!1)},A=async F=>{F.preventDefault(),i(!0),f(null),h(!1);try{const X=new FormData;if(Object.keys(l).forEach(ce=>{ce!=="image"&&ce!=="icon"&&l[ce]!==null&&l[ce]!==void 0&&l[ce]!==""&&X.append(ce,l[ce])}),b==="image"&&l.image)X.append("image",l.image),X.append("icon","");else if(b==="icon"&&l.icon){const ce=Array.isArray(l.icon)?l.icon[0]:l.icon;ce&&ce.trim()!==""&&X.append("icon",ce.trim())}else X.append("icon","");a?(await ps.updateSparePart(e,a,X),h(!0),setTimeout(()=>{r("/vendor/dashboard/spare-parts")},1500)):(await ps.addSparePart(e,X),h(!0),o({name:"",description:"",category:"",brand:"",price:"",stock:"",unit:"units",specifications:"",hsnCode:"",gstPercentage:"0",image:null,icon:""}),d(null),j("icon"),setTimeout(()=>h(!1),3e3))}catch(X){f(X.message||"Failed to save spare part")}finally{i(!1)}},D=Y6e.filter(F=>v===""||F.name.toLowerCase().includes(v.toLowerCase())||F.category.toLowerCase().includes(v.toLowerCase())||F.emoji.includes(v));return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-slate-800 mb-1",children:a?"Edit Spare Part":"Add New Spare Part"}),t.jsx("p",{className:"text-slate-600",children:"Add or update spare part information"})]}),x&&t.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 text-green-800",children:["Spare part ",a?"updated":"added"," successfully!"]}),p&&t.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-red-800",children:p}),t.jsxs("form",{onSubmit:A,className:"bg-white rounded-xl shadow-md p-6 border border-slate-200",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Name *"}),t.jsx("input",{type:"text",name:"name",value:l.name,onChange:C,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Description"}),t.jsx("textarea",{name:"description",value:l.description,onChange:C,rows:3,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Category *"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"text",name:"category",value:l.category,onChange:C,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary bg-white",list:"categories",placeholder:u.length>0?"Select existing or enter new category":"Enter category name (e.g., Engine Parts, Brake Parts)",required:!0}),u.length>0&&t.jsx("datalist",{id:"categories",children:u.map((F,X)=>t.jsx("option",{value:F},X))})]}),u.length>0?t.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[u.length," existing categor",u.length===1?"y":"ies"," available. Type to see suggestions or enter a new one."]}):t.jsxs("p",{className:"text-xs text-slate-500 mt-1 flex items-center gap-1",children:[t.jsx(fs,{className:"w-3 h-3"}),"No existing categories. This will create your first category."]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Brand"}),t.jsx("input",{type:"text",name:"brand",value:l.brand,onChange:C,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Price () *"}),t.jsx("input",{type:"number",name:"price",value:l.price,onChange:C,step:"0.01",min:"0",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Stock *"}),t.jsx("input",{type:"number",name:"stock",value:l.stock,onChange:C,min:"0",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Unit"}),t.jsx("input",{type:"text",name:"unit",value:l.unit,onChange:C,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"HSN Code"}),t.jsx("input",{type:"text",name:"hsnCode",value:l.hsnCode,onChange:C,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"GST Percentage (%)"}),t.jsx("input",{type:"number",name:"gstPercentage",value:l.gstPercentage,onChange:C,min:"0",max:"100",step:"0.01",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Specifications"}),t.jsx("textarea",{name:"specifications",value:l.specifications,onChange:C,rows:3,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Visual Representation"}),t.jsxs("div",{className:"flex gap-2 mb-4",children:[t.jsxs("button",{type:"button",onClick:()=>{j("icon"),o(F=>({...F,image:null})),d(null)},className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors ${b==="icon"?"bg-primary text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:[t.jsx(qC,{className:"w-4 h-4"}),"Select Icon"]}),t.jsxs("button",{type:"button",onClick:()=>{j("image"),o(F=>({...F,icon:""}))},className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors ${b==="image"?"bg-primary text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:[t.jsx($f,{className:"w-4 h-4"}),"Upload Image"]})]}),b==="image"?t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("label",{className:"flex-1 cursor-pointer",children:[t.jsx("input",{type:"file",accept:"image/*",onChange:P,className:"hidden"}),t.jsxs("div",{className:"border-2 border-dashed border-slate-300 rounded-lg p-6 text-center hover:border-primary transition",children:[t.jsx(Wo,{className:"text-2xl text-slate-400 mx-auto mb-2"}),t.jsx("p",{className:"text-sm text-slate-600",children:c?"Change Image":"Upload Image"})]})]}),c&&t.jsxs("div",{className:"relative",children:[t.jsx("img",{src:c,alt:"Preview",className:"w-32 h-32 object-cover rounded-lg"}),t.jsx("button",{type:"button",onClick:()=>{d(null),o(F=>({...F,image:null}))},className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1",children:t.jsx(mt,{})})]})]}):t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("button",{type:"button",onClick:()=>y(!w),className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition",children:[t.jsx(qC,{className:"w-4 h-4"}),l.icon?"Change Icon":"Select Icon"]}),l.icon&&t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-primary/10 to-primary/20 rounded-lg flex items-center justify-center text-4xl",children:l.icon}),t.jsx("button",{type:"button",onClick:()=>o(F=>({...F,icon:""})),className:"p-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition",children:t.jsx(mt,{})})]})]}),w&&t.jsxs("div",{className:"border border-slate-200 rounded-lg p-4 bg-slate-50",children:[t.jsx("div",{className:"mb-4",children:t.jsx("input",{type:"text",placeholder:"Search icons...",value:v,onChange:F=>N(F.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})}),t.jsx("div",{className:"grid grid-cols-8 sm:grid-cols-10 gap-2 max-h-64 overflow-y-auto",children:D.map((F,X)=>t.jsx("button",{type:"button",onClick:()=>_(F.emoji),className:`w-10 h-10 rounded-lg flex items-center justify-center text-xl transition-all duration-200 ${l.icon===F.emoji?"bg-primary text-white ring-2 ring-primary ring-offset-2 scale-110":"bg-white hover:bg-primary/10 hover:scale-105 border border-slate-200"}`,title:`${F.name} (${F.category})`,children:F.emoji},X))}),t.jsx("div",{className:"mt-4 flex justify-end",children:t.jsx("button",{type:"button",onClick:()=>y(!1),className:"px-4 py-2 bg-slate-200 text-slate-700 rounded-lg hover:bg-slate-300 transition",children:"Close"})})]})]})]})]}),t.jsxs("div",{className:"mt-6 flex gap-4",children:[t.jsx("button",{type:"submit",disabled:n,className:"px-6 py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",children:n?"Saving...":a?"Update Spare Part":"Add Spare Part"}),t.jsx("button",{type:"button",onClick:()=>r("/vendor/dashboard/spare-parts"),className:"px-6 py-3 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition",children:"Cancel"})]})]})]})},J6e=()=>{const{token:e}=oo(),[r,s]=g.useState([]),[a,n]=g.useState(!0),[i,l]=g.useState("all"),[o,c]=g.useState(null),[d,u]=g.useState(!1);g.useEffect(()=>{m()},[e,i]);const m=async()=>{if(e){n(!0);try{const p={};i!=="all"&&(p.status=i);const f=await ps.getBookings(e,p);s(f.data||[])}catch(p){console.error("Failed to fetch bookings:",p)}finally{n(!1)}}},x=async(p,f,b={})=>{u(!0);try{await ps.updateBookingStatus(e,p,{status:f,...b}),m(),c(null)}catch{alert("Failed to update booking status")}finally{u(!1)}},h=p=>{switch(p){case"pending":return"bg-yellow-100 text-yellow-800";case"confirmed":return"bg-blue-100 text-blue-800";case"dispatched":return"bg-purple-100 text-purple-800";case"delivered":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return a?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-slate-800 mb-1",children:"Bookings"}),t.jsx("p",{className:"text-slate-600",children:"Manage spare part bookings"})]}),t.jsx("button",{onClick:m,className:"p-2.5 bg-white rounded-lg shadow-md hover:shadow-lg transition border border-slate-200 self-start sm:self-auto",children:t.jsx(Dt,{className:"text-lg text-slate-600"})})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-md p-4 border border-slate-200",children:t.jsxs("select",{value:i,onChange:p=>l(p.target.value),className:"px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"confirmed",children:"Confirmed"}),t.jsx("option",{value:"dispatched",children:"Dispatched"}),t.jsx("option",{value:"delivered",children:"Delivered"}),t.jsx("option",{value:"cancelled",children:"Cancelled"})]})}),r.length===0?t.jsxs("div",{className:"bg-white rounded-xl shadow-md p-12 text-center border border-slate-200",children:[t.jsx(qn,{className:"text-4xl mx-auto mb-2 opacity-50 text-slate-400"}),t.jsx("p",{className:"text-slate-500",children:"No bookings found"})]}):t.jsx("div",{className:"space-y-4",children:r.map(p=>{var f,b,j,w,y,v;return t.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 border border-slate-200 hover:shadow-lg transition",children:t.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-4",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-1",children:((f=p.sparePart)==null?void 0:f.name)||"Spare Part"}),t.jsxs("p",{className:"text-sm text-slate-600",children:["Order Date: ",new Date(p.orderDate).toLocaleDateString()]})]}),t.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${h(p.status)}`,children:p.status})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-slate-500",children:"Quantity"}),t.jsx("p",{className:"font-semibold text-slate-800",children:p.quantity})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-slate-500",children:"Unit Price"}),t.jsxs("p",{className:"font-semibold text-slate-800",children:["",((b=p.unitPrice)==null?void 0:b.toLocaleString("en-IN"))||0]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-slate-500",children:"Total Amount"}),t.jsxs("p",{className:"font-semibold text-primary",children:["",((j=p.totalAmount)==null?void 0:j.toLocaleString("en-IN"))||0]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-slate-500",children:"Customer"}),t.jsx("p",{className:"font-semibold text-slate-800",children:((w=p.customer)==null?void 0:w.name)||((v=(y=p.partner)==null?void 0:y.profile)==null?void 0:v.name)||"N/A"})]})]}),p.shippingAddress&&t.jsxs("div",{className:"mb-4",children:[t.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Shipping Address"}),t.jsxs("p",{className:"text-sm text-slate-700",children:[p.shippingAddress.name,", ",p.shippingAddress.street,","," ",p.shippingAddress.city,", ",p.shippingAddress.state," -"," ",p.shippingAddress.pincode]}),t.jsxs("p",{className:"text-sm text-slate-600",children:["Phone: ",p.shippingAddress.phone]})]}),p.trackingNumber&&t.jsxs("div",{className:"mb-4",children:[t.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Tracking Number"}),t.jsx("p",{className:"text-sm font-semibold text-slate-800",children:p.trackingNumber})]})]}),t.jsxs("div",{className:"flex flex-col gap-2",children:[p.status==="pending"&&t.jsxs(t.Fragment,{children:[t.jsxs("button",{onClick:()=>x(p._id,"confirmed"),disabled:d,className:"px-4 py-2 bg-blue-500 text-white rounded-lg font-semibold hover:bg-blue-600 transition disabled:opacity-50",children:[t.jsx(vt,{className:"inline mr-2"}),"Confirm"]}),t.jsxs("button",{onClick:()=>x(p._id,"cancelled"),disabled:d,className:"px-4 py-2 bg-red-500 text-white rounded-lg font-semibold hover:bg-red-600 transition disabled:opacity-50",children:[t.jsx(mt,{className:"inline mr-2"}),"Cancel"]})]}),p.status==="confirmed"&&t.jsxs("button",{onClick:()=>{const N=prompt("Enter tracking number:");N&&x(p._id,"dispatched",{trackingNumber:N})},disabled:d,className:"px-4 py-2 bg-purple-500 text-white rounded-lg font-semibold hover:bg-purple-600 transition disabled:opacity-50",children:[t.jsx(r9,{className:"inline mr-2"}),"Dispatch"]}),p.status==="dispatched"&&t.jsxs("button",{onClick:()=>x(p._id,"delivered"),disabled:d,className:"px-4 py-2 bg-green-500 text-white rounded-lg font-semibold hover:bg-green-600 transition disabled:opacity-50",children:[t.jsx(vt,{className:"inline mr-2"}),"Mark Delivered"]})]})]})},p._id)})})]})},Q6e=()=>{var f,b,j;const{token:e}=oo(),[r,s]=g.useState([]),[a,n]=g.useState({totalCredits:0,totalDebits:0,balance:0}),[i,l]=g.useState(!0),[o,c]=g.useState("all"),[d,u]=g.useState("all");g.useEffect(()=>{m(),x()},[e,o,d]);const m=async()=>{if(e){l(!0);try{const w={};o!=="all"&&(w.type=o),d!=="all"&&(w.status=d);const y=await ps.getTransactions(e,w);s(y.data||[])}catch(w){console.error("Failed to fetch transactions:",w)}finally{l(!1)}}},x=async()=>{if(e)try{const w=await ps.getTransactionStats(e);n(w.data||{})}catch(w){console.error("Failed to fetch transaction stats:",w)}},h=w=>w==="credit"?"text-green-600":"text-red-600",p=w=>{switch(w){case"completed":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"failed":return"bg-red-100 text-red-800";case"refunded":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return i?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-slate-800 mb-1",children:"Transactions"}),t.jsx("p",{className:"text-slate-600",children:"View your transaction history"})]}),t.jsx("button",{onClick:()=>{m(),x()},className:"p-2.5 bg-white rounded-lg shadow-md hover:shadow-lg transition border border-slate-200 self-start sm:self-auto",children:t.jsx(Dt,{className:"text-lg text-slate-600"})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 border border-slate-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-600",children:"Total Credits"}),t.jsx(lr,{className:"text-green-500 text-xl"})]}),t.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["",((f=a.totalCredits)==null?void 0:f.toLocaleString("en-IN"))||0]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 border border-slate-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-600",children:"Total Debits"}),t.jsx(od,{className:"text-red-500 text-xl"})]}),t.jsxs("p",{className:"text-2xl font-bold text-red-600",children:["",((b=a.totalDebits)==null?void 0:b.toLocaleString("en-IN"))||0]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 border border-slate-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-600",children:"Balance"}),t.jsx(Xt,{className:"text-primary text-xl"})]}),t.jsxs("p",{className:"text-2xl font-bold text-primary",children:["",((j=a.balance)==null?void 0:j.toLocaleString("en-IN"))||0]})]})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-md p-4 border border-slate-200",children:t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[t.jsxs("select",{value:o,onChange:w=>c(w.target.value),className:"px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[t.jsx("option",{value:"all",children:"All Types"}),t.jsx("option",{value:"credit",children:"Credit"}),t.jsx("option",{value:"debit",children:"Debit"})]}),t.jsxs("select",{value:d,onChange:w=>u(w.target.value),className:"px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"completed",children:"Completed"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"failed",children:"Failed"}),t.jsx("option",{value:"refunded",children:"Refunded"})]})]})}),r.length===0?t.jsxs("div",{className:"bg-white rounded-xl shadow-md p-12 text-center border border-slate-200",children:[t.jsx(Xt,{className:"text-4xl mx-auto mb-2 opacity-50 text-slate-400"}),t.jsx("p",{className:"text-slate-500",children:"No transactions found"})]}):t.jsx("div",{className:"bg-white rounded-xl shadow-md border border-slate-200 overflow-hidden",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Date"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Description"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Type"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Amount"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Status"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Reference"})]})}),t.jsx("tbody",{className:"divide-y divide-slate-200",children:r.map(w=>{var y;return t.jsxs("tr",{className:"hover:bg-slate-50",children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-700",children:new Date(w.transactionDate).toLocaleDateString()}),t.jsx("td",{className:"px-6 py-4 text-sm text-slate-700",children:w.description}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${w.type==="credit"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:w.type})}),t.jsxs("td",{className:`px-6 py-4 whitespace-nowrap text-sm font-bold ${h(w.type)}`,children:[w.type==="credit"?"+":"-","",((y=w.amount)==null?void 0:y.toLocaleString("en-IN"))||0]}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${p(w.status)}`,children:w.status})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-600",children:w.reference||"N/A"})]},w._id)})})]})})})]})},Z6e=()=>t.jsx("div",{className:"space-y-6",children:t.jsxs(Ny,{children:[t.jsx(et,{index:!0,element:t.jsx(q6e,{})}),t.jsx(et,{path:"spare-parts",element:t.jsx(K6e,{})}),t.jsx(et,{path:"add-spare-part",element:t.jsx(X6e,{})}),t.jsx(et,{path:"bookings",element:t.jsx(J6e,{})}),t.jsx(et,{path:"transactions",element:t.jsx(Q6e,{})}),t.jsx(et,{path:"*",element:t.jsx(kd,{to:"/vendor/dashboard",replace:!0})})]})}),uE=()=>{const{notifications:e}=oo(),[r,s]=g.useState(!1),[a,n]=g.useState({}),i=g.useRef(null),l=g.useRef(null),o=(e==null?void 0:e.notifications)||[],c=(e==null?void 0:e.unreadCount)||0,d=e==null?void 0:e.markAsRead,u=e==null?void 0:e.fetchNotifications;g.useEffect(()=>{if(r&&l.current){const p=()=>{if(!l.current)return;const b=l.current.getBoundingClientRect(),j=window.innerWidth,w=window.innerHeight,y=384,v=Math.min(w-100,600);if(j<640)n({position:"fixed",top:"4rem",right:"0.5rem",width:"calc(100vw - 1rem)",maxWidth:"24rem",maxHeight:`${v}px`,zIndex:9999});else{const N=j-b.right,S=b.left,k=b.left<300;let C=y,P=0,_="auto";if(k){const A=Math.min(y,N+b.width-16);n({position:"fixed",left:`${b.left}px`,top:`${b.bottom+8}px`,width:`${Math.max(280,A)}px`,maxWidth:"24rem",maxHeight:`${v}px`,minWidth:"280px",zIndex:9999});return}else P=0,_="auto",N<y&&(S>N?(_=0,P="auto",C=Math.min(y,S-8)):C=Math.max(300,N-8)),n({position:"absolute",right:P,left:_,top:"100%",marginTop:"0.5rem",width:`${Math.max(280,C)}px`,maxWidth:"24rem",maxHeight:`${v}px`,minWidth:"280px",zIndex:9999})}},f=setTimeout(p,0);return window.addEventListener("resize",p),window.addEventListener("scroll",p,!0),()=>{clearTimeout(f),window.removeEventListener("resize",p),window.removeEventListener("scroll",p,!0)}}else n({})},[r]),g.useEffect(()=>{const p=f=>{i.current&&!i.current.contains(f.target)&&l.current&&!l.current.contains(f.target)&&s(!1)};return document.addEventListener("mousedown",p),()=>{document.removeEventListener("mousedown",p)}},[]),g.useEffect(()=>{u&&u()},[u]);const m=async(p=null)=>{d&&(await d(p),u&&await u())},x=async()=>{d&&(await d(),u&&await u())},h=p=>{if(!p)return"";const f=new Date(p),j=new Date-f,w=Math.floor(j/6e4),y=Math.floor(j/36e5),v=Math.floor(j/864e5);return w<1?"Just now":w<60?`${w}m ago`:y<24?`${y}h ago`:v<7?`${v}d ago`:f.toLocaleDateString()};return t.jsxs("div",{className:"relative z-50",ref:i,children:[t.jsxs("button",{ref:l,onClick:()=>s(!r),className:"relative p-2 text-slate-600 hover:text-slate-900 hover:bg-slate-100 rounded-lg transition-colors z-50","aria-label":"Notifications",children:[t.jsx(Sn,{className:"w-5 h-5"}),c>0&&t.jsx("span",{className:"absolute top-0 right-0 flex h-4 w-4 items-center justify-center rounded-full bg-red-500 text-xs font-semibold text-white transition-opacity duration-200",children:c>9?"9+":c},c)]}),r&&t.jsxs("div",{className:"bg-white rounded-xl shadow-2xl border border-slate-200 flex flex-col overflow-hidden",style:{...a,zIndex:9999,position:a.position||"absolute"},children:[t.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-200 flex-shrink-0",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Notifications"}),t.jsxs("div",{className:"flex items-center gap-2",children:[c>0&&t.jsx("button",{onClick:x,className:"text-xs text-primary hover:text-primary-dark font-medium",children:"Mark all read"}),t.jsx("button",{onClick:()=>s(!1),className:"p-1 hover:bg-slate-100 rounded-lg transition-colors",children:t.jsx(mt,{className:"w-4 h-4"})})]})]}),t.jsx("div",{className:"overflow-y-auto flex-1 min-h-0",children:o.length===0?t.jsxs("div",{className:"p-8 text-center text-slate-500",children:[t.jsx(Sn,{className:"w-12 h-12 mx-auto mb-3 text-slate-300"}),t.jsx("p",{className:"text-sm",children:"No notifications yet"})]}):t.jsx("div",{className:"divide-y divide-slate-100",children:o.map(p=>{var b;const f=!p.seen&&!p.read;return t.jsx("div",{className:`p-4 hover:bg-slate-50 transition-colors cursor-pointer ${f?"bg-blue-50/50":""}`,onClick:()=>{f&&m(p._id||p.id)},children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex-shrink-0 mt-1",children:t.jsx("div",{className:"w-2 h-2 rounded-full bg-primary"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-sm font-medium text-slate-900 break-words line-clamp-2",children:p.title||((b=p.message)==null?void 0:b.split(": ")[0])||"New notification"}),p.message&&t.jsx("p",{className:"text-xs text-slate-600 mt-1 break-words line-clamp-2",children:p.title?p.message:p.message.split(": ").slice(1).join(": ")||p.message}),t.jsx("p",{className:"text-xs text-slate-400 mt-2",children:h(p.date||p.createdAt)})]}),f&&t.jsx("div",{className:"flex-shrink-0",children:t.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"})})]})},p._id||p.id||Math.random())})})}),o.length>0&&t.jsx("div",{className:"p-3 border-t border-slate-200 bg-slate-50 flex-shrink-0",children:t.jsx("button",{onClick:()=>{s(!1)},className:"w-full text-sm text-center text-primary hover:text-primary-dark font-medium",children:"View all notifications"})})]})]})},eSe=()=>{const{vendor:e,token:r,logout:s,updateVendor:a,notifications:n}=oo(),i=Qt();Br();const[l,o]=g.useState(!1),[c,d]=g.useState(e==null?void 0:e.status),[u,m]=g.useState(!0),x=g.useRef(!1),h=g.useRef(e),p=g.useRef(a);g.useEffect(()=>{h.current=e,p.current=a},[e,a]);const f=g.useCallback(async(v=!1)=>{var N,S,k,C,P;if(!r){m(!1);return}if(!(x.current&&!v)){x.current=!0,m(!0);try{const _=await ps.getProfile(r);if(_.success&&_.vendor){const A=_.vendor.status;d(A),p.current&&p.current({..._.vendor})}else d(((N=h.current)==null?void 0:N.status)||"active")}catch(_){console.error("Error checking vendor status:",_),_.status===403||(S=_.data)!=null&&S.status?(d(((k=_.data)==null?void 0:k.status)||"suspended"),h.current&&p.current&&p.current({status:((C=_.data)==null?void 0:C.status)||"suspended"})):d(((P=h.current)==null?void 0:P.status)||"active")}finally{m(!1),x.current=!1}}},[r]);g.useEffect(()=>{if(!r)return;f(!0);const v=setInterval(()=>{f(!1)},3e5);return()=>{clearInterval(v),x.current=!1}},[r,f]),g.useEffect(()=>{if(!(n!=null&&n.currentNotification))return;const v=n.currentNotification,N=v.title||"",S=v.message||"",k=v.type||"";(v.isStatusChange===!0||k==="status-change"||k==="alert"||N.toLowerCase().includes("account")&&(N.toLowerCase().includes("activated")||N.toLowerCase().includes("suspended")||N.toLowerCase().includes("deactivated"))||S.toLowerCase().includes("account")&&(S.toLowerCase().includes("activated")||S.toLowerCase().includes("suspended")||S.toLowerCase().includes("deactivated")))&&(console.log("Status change notification detected, refreshing vendor status..."),setTimeout(()=>{f(!0)},1e3))},[n==null?void 0:n.currentNotification,f]),g.useEffect(()=>{const v=()=>{console.log("Status change event received, refreshing vendor status..."),setTimeout(()=>{f(!0)},1e3)};return window.addEventListener("vendorStatusChange",v),()=>{window.removeEventListener("vendorStatusChange",v)}},[f]);const b=()=>{s(),i("/vendor/login",{replace:!0})},j=(e==null?void 0:e.name)||(e==null?void 0:e.companyName)||"Vendor",w=j.charAt(0).toUpperCase(),y=c==="suspended"||c==="inactive";return u?t.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 flex items-center justify-center",children:t.jsxs(E.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",damping:20},className:"text-center",children:[t.jsx(E.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"}),t.jsx(E.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"text-slate-600",children:"Loading..."})]})}):y?t.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.4},className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 flex items-center justify-center p-4",children:t.jsxs(E.div,{initial:{scale:.5,opacity:0,y:100,rotateX:-90},animate:{scale:1,opacity:1,y:0,rotateX:0},transition:{type:"spring",damping:15,stiffness:200,delay:.2,duration:.8},className:"max-w-2xl w-full bg-white rounded-2xl shadow-2xl border border-slate-200 p-8 md:p-12 text-center",children:[t.jsx(E.div,{initial:{scale:0,rotate:-360,opacity:0},animate:{scale:1,rotate:0,opacity:1},transition:{type:"spring",damping:10,stiffness:150,delay:.4},className:"w-24 h-24 mx-auto mb-6 bg-gradient-to-br from-red-100 via-red-200 to-red-300 rounded-full flex items-center justify-center shadow-xl",children:t.jsx(E.div,{animate:{rotate:[0,-20,20,-20,0],scale:[1,1.2,1]},transition:{duration:.8,delay:1,repeat:3,ease:"easeInOut"},children:t.jsx(Zi,{className:"text-5xl text-red-600"})})},`alert-icon-${c}`),t.jsxs(E.h1,{initial:{opacity:0,y:-30,scale:.8},animate:{opacity:1,y:0,scale:1},transition:{delay:.6,type:"spring",stiffness:200,damping:15},className:"text-4xl font-bold text-slate-800 mb-4",children:["Account ",c==="suspended"?"Suspended":"Blocked"]},`title-${c}`),t.jsxs(E.p,{initial:{opacity:0,y:20,scale:.9},animate:{opacity:1,y:0,scale:1},transition:{delay:.7,type:"spring",stiffness:200,damping:15},className:"text-lg text-slate-600 mb-6",children:["Your vendor account has been ",c==="suspended"?"suspended":"blocked","."]},`description-${c}`),t.jsxs(E.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},transition:{delay:.7,type:"spring",stiffness:200},className:"bg-gradient-to-br from-red-50 to-red-100 border-2 border-red-200 rounded-lg p-6 mb-8 shadow-md",children:[t.jsx(E.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},className:"text-slate-700 mb-4 font-medium",children:"Please contact Nexo Admin to resolve this issue and restore access to your account."}),t.jsxs(E.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.9,type:"spring",stiffness:300},className:"flex items-center justify-center gap-3 text-slate-700",children:[t.jsx(E.div,{animate:{scale:[1,1.3,1],rotate:[0,10,-10,0]},transition:{duration:2.5,repeat:1/0,repeatDelay:2,ease:"easeInOut"},className:"p-2 bg-white rounded-full shadow-md",children:t.jsx(en,{className:"text-red-600 text-xl"})}),t.jsxs("span",{className:"text-lg",children:["Email: ",t.jsx(E.a,{href:"mailto:support@nexo.works",className:"text-primary hover:underline font-semibold inline-block",whileHover:{scale:1.1,color:"#2563eb"},whileTap:{scale:.95},transition:{type:"spring",stiffness:400},children:"support@nexo.works"})]})]})]},"contact-box"),t.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1,type:"spring",stiffness:200},className:"flex flex-col sm:flex-row gap-4 justify-center",children:[t.jsxs(E.button,{whileHover:{scale:1.08,boxShadow:"0 15px 30px rgba(59, 130, 246, 0.3)",y:-2},whileTap:{scale:.92,y:0},onClick:b,className:"px-8 py-3 bg-gradient-to-r from-primary to-primary-dark text-white rounded-lg font-semibold flex items-center justify-center gap-2 shadow-lg",children:[t.jsx(E.span,{animate:{x:[0,-3,3,0]},transition:{duration:1.5,repeat:1/0,repeatDelay:2},children:t.jsx(Ho,{})}),t.jsx("span",{children:"Logout"})]}),t.jsxs(E.button,{whileHover:{scale:1.08,boxShadow:"0 15px 30px rgba(0, 0, 0, 0.15)",y:-2,backgroundColor:"#e2e8f0"},whileTap:{scale:.92,y:0},onClick:()=>window.location.href="mailto:support@nexo.works?subject=Account Access Issue",className:"px-8 py-3 bg-slate-100 text-slate-700 rounded-lg font-semibold flex items-center justify-center gap-2 shadow-lg",children:[t.jsx(E.span,{animate:{scale:[1,1.2,1],rotate:[0,5,-5,0]},transition:{duration:2,repeat:1/0,repeatDelay:3},children:t.jsx(en,{})}),t.jsx("span",{children:"Contact Admin"})]})]},"buttons"),c==="suspended"&&t.jsx(E.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.2},className:"mt-6 text-sm text-slate-500",children:"If you believe this is an error, please contact our support team immediately."})]},`blocked-card-${c}`)},"blocked-screen"):t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 flex flex-col",children:[t.jsx("header",{className:"lg:hidden bg-white shadow-md border-b border-slate-200 fixed top-0 left-0 right-0 z-40 w-full",children:t.jsxs("div",{className:"px-4 py-3 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("button",{onClick:()=>o(!l),className:"p-2 hover:bg-slate-100 rounded-lg transition",type:"button",children:l?t.jsx(mt,{className:"text-xl"}):t.jsx($y,{className:"text-xl"})}),t.jsx(ti,{className:"scale-75 origin-left"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(uE,{}),t.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-primary to-primary-dark text-white flex items-center justify-center font-bold shadow-md",children:w})]})]})}),t.jsxs("div",{className:"flex relative flex-1 pt-[64px] lg:pt-0",children:[t.jsxs("aside",{className:"hidden lg:flex lg:w-64 flex-col bg-white shadow-xl border-r border-slate-200 fixed top-0 left-0 h-screen overflow-visible z-30",children:[t.jsx("div",{className:"px-4 py-4 border-b border-slate-200 flex-shrink-0 bg-white sticky top-0 z-10",children:t.jsx(ti,{className:"scale-75 origin-left"})}),t.jsx("div",{className:"px-4 py-4 border-b border-slate-200 bg-gradient-to-br from-primary/5 to-primary/10 flex-shrink-0 relative overflow-visible",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-primary to-primary-dark text-white flex items-center justify-center font-bold text-lg border-2 border-primary/20",children:w}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"font-semibold text-slate-800 truncate text-sm",children:j}),t.jsx("p",{className:"text-xs text-slate-500 truncate",children:(e==null?void 0:e.email)||"N/A"})]}),t.jsx(uE,{})]})}),t.jsxs("nav",{className:"flex-1 px-3 py-4 space-y-1 overflow-y-auto overscroll-contain scrollbar-thin scrollbar-thumb-slate-300 scrollbar-track-transparent",children:[t.jsx(ih,{to:"/vendor/dashboard",icon:Za,label:"Dashboard"}),t.jsx(ih,{to:"/vendor/dashboard/spare-parts",icon:fs,label:"Spare Parts"}),t.jsx(ih,{to:"/vendor/dashboard/add-spare-part",icon:Tr,label:"Add Spare Part"}),t.jsx(ih,{to:"/vendor/dashboard/bookings",icon:qn,label:"Bookings"}),t.jsx(ih,{to:"/vendor/dashboard/transactions",icon:Xt,label:"Transactions"})]}),t.jsx("div",{className:"px-4 py-4 border-t border-slate-200 flex-shrink-0 bg-white sticky bottom-0 z-10",children:t.jsxs("button",{onClick:b,className:"w-full inline-flex items-center justify-center gap-2 px-4 py-2.5 text-sm font-semibold rounded-lg bg-red-50 hover:bg-red-100 text-red-600 transition",children:[t.jsx(Ho,{})," Logout"]})})]}),l&&t.jsx("div",{className:"lg:hidden fixed inset-0 z-[70] bg-black/50 backdrop-blur-sm transition-opacity",onClick:()=>o(!1),children:t.jsxs("div",{className:"w-80 max-w-[85vw] bg-white h-full shadow-2xl overflow-y-auto flex flex-col",onClick:v=>v.stopPropagation(),children:[t.jsxs("div",{className:"px-4 py-4 border-b border-slate-200 flex-shrink-0 sticky top-0 bg-white z-10",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsx(ti,{className:"scale-75 origin-left"}),t.jsx("button",{onClick:()=>o(!1),className:"p-2 hover:bg-slate-100 rounded-lg transition",type:"button",children:t.jsx(mt,{className:"text-xl"})})]}),t.jsxs("div",{className:"flex items-center gap-3 bg-gradient-to-br from-primary/5 to-primary/10 p-3 rounded-lg",children:[t.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-primary to-primary-dark text-white flex items-center justify-center font-bold border-2 border-primary/20",children:w}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"font-semibold text-slate-800 truncate text-sm",children:j}),t.jsx("p",{className:"text-xs text-slate-500 truncate",children:(e==null?void 0:e.email)||"N/A"})]})]})]}),t.jsxs("nav",{className:"flex-1 px-3 py-4 space-y-1 overflow-y-auto",children:[t.jsx(lh,{to:"/vendor/dashboard",icon:Za,label:"Dashboard",onClick:()=>o(!1)}),t.jsx(lh,{to:"/vendor/dashboard/spare-parts",icon:fs,label:"Spare Parts",onClick:()=>o(!1)}),t.jsx(lh,{to:"/vendor/dashboard/add-spare-part",icon:Tr,label:"Add Spare Part",onClick:()=>o(!1)}),t.jsx(lh,{to:"/vendor/dashboard/bookings",icon:qn,label:"Bookings",onClick:()=>o(!1)}),t.jsx(lh,{to:"/vendor/dashboard/transactions",icon:Xt,label:"Transactions",onClick:()=>o(!1)})]}),t.jsx("div",{className:"px-6 py-6 border-t border-slate-200 flex-shrink-0 sticky bottom-0 bg-white z-10",children:t.jsxs("button",{onClick:b,className:"w-full inline-flex items-center justify-center gap-2 px-4 py-3 text-sm font-semibold rounded-xl bg-red-50 hover:bg-red-100 text-red-600 transition",type:"button",children:[t.jsx(Ho,{})," Logout"]})})]})}),t.jsx("div",{className:"flex-1 min-w-0 w-full lg:ml-64",children:t.jsx("main",{className:"p-4 sm:p-6 lg:p-8 min-h-screen",children:t.jsx(Ql,{})})})]}),t.jsx(f4,{notification:n==null?void 0:n.currentNotification,onClose:(n==null?void 0:n.closeNotificationDialog)||(()=>{}),onMarkAsRead:(n==null?void 0:n.markNotificationAsRead)||(()=>{})})]})},ih=({to:e,icon:r,label:s})=>{const a=Br(),n=a.pathname===e||a.pathname.startsWith(e+"/");return t.jsxs(Ut,{to:e,className:`flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 relative group ${n?"bg-primary text-white shadow-md shadow-primary/20":"text-slate-600 hover:bg-slate-100 hover:text-slate-900"}`,children:[t.jsx(r,{className:`text-base transition-transform duration-200 ${n?"scale-110":"group-hover:scale-110"}`}),t.jsx("span",{className:"relative z-10",children:s}),n&&t.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-white rounded-r-full"})]})},lh=({to:e,icon:r,label:s,onClick:a})=>{const n=Br(),i=n.pathname===e||n.pathname.startsWith(e+"/");return t.jsxs(Ut,{to:e,onClick:a,className:`flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition ${i?"bg-primary text-white shadow-md":"text-slate-600 hover:bg-slate-100"}`,children:[t.jsx(r,{className:"text-base"}),s]})},tSe=()=>{const{isAuthenticated:e,isLoading:r}=oo(),s=Br();return r?t.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-white",children:t.jsxs("div",{className:"flex flex-col items-center gap-4",children:[t.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"}),t.jsx("p",{className:"text-sm font-medium tracking-wide text-white/80",children:"Loading vendor portal..."})]})}):e?t.jsx(Ql,{}):t.jsx(kd,{to:"/vendor/login",state:{from:s},replace:!0})},rSe=()=>{var u;const{partnerId:e}=xm(),[r,s]=g.useState(null),[a,n]=g.useState(!0),[i,l]=g.useState(null);g.useEffect(()=>{o()},[e]);const o=async()=>{try{n(!0);const h=await(await fetch(`https://nexo.works/api/partner/verify/${e}`)).json();h.success&&h.partner?s(h.partner):l(h.message||"Partner not found")}catch(m){l("Failed to verify partner"),console.error("Verification error:",m)}finally{n(!1)}};if(a)return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 flex items-center justify-center p-4",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),t.jsx("p",{className:"text-slate-600",children:"Verifying partner..."})]})});if(i||!r)return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 flex items-center justify-center p-4",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 max-w-md w-full text-center",children:[t.jsx(Yn,{className:"text-red-500 text-6xl mx-auto mb-4"}),t.jsx("h1",{className:"text-2xl font-bold text-slate-800 mb-2",children:"Verification Failed"}),t.jsx("p",{className:"text-slate-600 mb-6",children:i||"Partner not found or invalid ID"}),t.jsx("a",{href:"/",className:"inline-block px-6 py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition",children:"Go to Home"})]})});const c=r.kycStatus==="approved"||r.kycStatus==="verified",d=r.profilePicture?r.profilePicture.startsWith("http")?r.profilePicture:`https://nexo.works/${r.profilePicture}`:null;return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 py-12 px-4",children:t.jsxs("div",{className:"max-w-2xl mx-auto",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx(ti,{className:"mx-auto mb-4"}),t.jsx("h1",{className:"text-3xl font-bold text-slate-800 mb-2",children:"Partner Verification"}),t.jsx("p",{className:"text-slate-600",children:"Verify Nexo Partner Identity"})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[t.jsx("div",{className:`${c?"bg-green-500":"bg-yellow-500"} text-white p-4 text-center`,children:t.jsx("div",{className:"flex items-center justify-center gap-3",children:c?t.jsxs(t.Fragment,{children:[t.jsx(vt,{className:"text-2xl"}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold",children:"Verified Partner"}),t.jsx("p",{className:"text-sm opacity-90",children:"This partner is verified by Nexo"})]})]}):t.jsxs(t.Fragment,{children:[t.jsx(Xa,{className:"text-2xl"}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold",children:"Verification Pending"}),t.jsx("p",{className:"text-sm opacity-90",children:"KYC verification in progress"})]})]})})}),t.jsx("div",{className:"p-6",children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[t.jsx("div",{className:"flex-shrink-0",children:d?t.jsx("img",{src:d,alt:r.name,className:"w-32 h-32 rounded-full object-cover border-4 border-primary/20"}):t.jsx("div",{className:"w-32 h-32 rounded-full bg-gradient-to-br from-primary to-primary-dark text-white flex items-center justify-center font-bold text-4xl border-4 border-primary/20",children:((u=r.name)==null?void 0:u.charAt(0).toUpperCase())||"P"})}),t.jsxs("div",{className:"flex-1 space-y-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-2xl font-bold text-slate-800 mb-1",children:r.name||"N/A"}),t.jsxs("p",{className:"text-slate-500",children:["Partner ID: ",r.partnerId||e]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.phone&&t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-slate-100 rounded-lg",children:t.jsx(tn,{className:"text-slate-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-slate-500",children:"Phone"}),t.jsx("p",{className:"font-semibold text-slate-800",children:r.phone})]})]}),r.email&&t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-slate-100 rounded-lg",children:t.jsx(en,{className:"text-slate-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-slate-500",children:"Email"}),t.jsx("p",{className:"font-semibold text-slate-800",children:r.email})]})]}),r.city&&t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-slate-100 rounded-lg",children:t.jsx(Pr,{className:"text-slate-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-slate-500",children:"City"}),t.jsx("p",{className:"font-semibold text-slate-800",children:r.city})]})]}),r.experience&&t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-slate-100 rounded-lg",children:t.jsx(vr,{className:"text-slate-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-slate-500",children:"Experience"}),t.jsxs("p",{className:"font-semibold text-slate-800",children:[r.experience," Years"]})]})]})]}),r.categoryNames&&r.categoryNames.length>0&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Service Categories"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:r.categoryNames.map((m,x)=>t.jsx("span",{className:"px-3 py-1 bg-primary/10 text-primary rounded-full text-sm font-medium",children:m},x))})]})]})]})}),t.jsx("div",{className:"bg-slate-50 border-t border-slate-200 p-6",children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx(Xa,{className:"text-primary text-2xl flex-shrink-0 mt-1"}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold text-slate-800 mb-2",children:"Verification Details"}),t.jsxs("ul",{className:"text-sm text-slate-600 space-y-1",children:[t.jsxs("li",{children:[" Partner ID verified: ",r.partnerId||e]}),t.jsxs("li",{children:[" KYC Status: ",t.jsx("span",{className:"font-semibold",children:r.kycStatus||"Pending"})]}),r.verifiedAt&&t.jsxs("li",{children:[" Verified on: ",new Date(r.verifiedAt).toLocaleDateString()]})]})]})]})})]}),t.jsx("div",{className:"text-center mt-6",children:t.jsx("a",{href:"/",className:"text-primary hover:text-primary-dark font-semibold",children:" Back to Home"})})]})})},sSe=()=>{const e=Qt(),r=Br(),s="919590926068",a=Zl(),[n,i]=g.useState({x:0,y:0}),[l,o]=g.useState(0);g.useEffect(()=>{const h=setInterval(()=>{o(p=>p+1)},1e3);return()=>clearInterval(h)},[]),g.useEffect(()=>{const h=p=>{i({x:p.clientX/window.innerWidth*100,y:p.clientY/window.innerHeight*100})};return window.addEventListener("mousemove",h),()=>window.removeEventListener("mousemove",h)},[]);const c={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.15,delayChildren:.1}}},d={hidden:{y:30,opacity:0},visible:{y:0,opacity:1,transition:{duration:.7,ease:[.22,1,.36,1]}}},u={animate:{y:[0,-30,0],x:[0,10,0],transition:{duration:4,repeat:1/0,ease:"easeInOut"}}},m={animate:{rotate:[0,360],transition:{duration:20,repeat:1/0,ease:"linear"}}},x=[{path:"/",label:"Home",icon:Za,color:"from-blue-500 to-blue-600"},{path:"/partner",label:"Partner Program",icon:lr,color:"from-green-500 to-green-600"},{path:"/leads",label:"Lead Marketplace",icon:Ui,color:"from-yellow-500 to-yellow-600"},{path:"/materials",label:"Material Store",icon:pj,color:"from-purple-500 to-purple-600"},{path:"/amc",label:"AMC Plans",icon:Pr,color:"from-pink-500 to-pink-600"},{path:"/emergency",label:"Emergency Service",icon:Ui,color:"from-red-500 to-red-600"}];return t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50/50 to-indigo-50 flex items-center justify-center p-4 sm:p-6 relative overflow-hidden",children:[t.jsx("div",{className:"absolute pointer-events-none transition-all duration-300 ease-out",style:{left:`${n.x}%`,top:`${n.y}%`,transform:"translate(-50%, -50%)"},children:t.jsx("div",{className:"w-96 h-96 bg-primary/5 rounded-full blur-3xl opacity-30 transition-opacity duration-500"})}),t.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[t.jsx(E.div,{className:"absolute top-20 left-10 w-72 h-72 bg-gradient-to-br from-primary/20 to-primary/5 rounded-full blur-3xl",variants:u,animate:"animate"}),t.jsx(E.div,{className:"absolute bottom-20 right-10 w-96 h-96 bg-gradient-to-br from-blue-400/10 to-indigo-400/5 rounded-full blur-3xl",variants:u,animate:"animate",transition:{delay:1,duration:5}}),t.jsx(E.div,{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-gradient-to-br from-primary/10 to-transparent rounded-full blur-3xl",variants:u,animate:"animate",transition:{delay:.5,duration:6}}),t.jsx(E.div,{className:"absolute top-1/4 right-1/4 w-48 h-48 bg-gradient-to-br from-yellow-300/10 to-orange-300/5 rounded-full blur-2xl",variants:m,animate:"animate"})]}),t.jsx(E.div,{className:"absolute inset-0 opacity-[0.03]",animate:{backgroundPosition:["0% 0%","100% 100%"]},transition:{duration:30,repeat:1/0,repeatType:"reverse"},style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23214A73' fill-opacity='0.1'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`,backgroundRepeat:"repeat",backgroundSize:"60px 60px"}}),t.jsxs(E.div,{className:"relative z-10 max-w-6xl w-full mx-auto",variants:c,initial:"hidden",animate:"visible",children:[t.jsxs(E.div,{variants:d,className:"text-center mb-8 sm:mb-12",children:[t.jsx("div",{className:"flex justify-center mb-4 sm:mb-6",children:t.jsx(ti,{className:"scale-110 sm:scale-125"})}),l>5&&t.jsxs(E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"inline-flex items-center gap-2 px-4 py-2 bg-white/80 backdrop-blur-sm rounded-full text-sm text-slate-600 shadow-lg mb-4",children:[t.jsx(Th,{className:"text-primary"}),t.jsxs("span",{children:["You've been here for ",l,"s"]})]})]}),t.jsxs("div",{className:"grid lg:grid-cols-2 gap-6 lg:gap-8 items-start lg:items-center",children:[t.jsxs(E.div,{variants:d,className:"text-center lg:text-left",children:[t.jsxs("div",{className:"relative mb-6 sm:mb-8",children:[t.jsx(E.h1,{className:"text-[8rem] sm:text-[12rem] lg:text-[14rem] xl:text-[16rem] font-black text-transparent bg-clip-text bg-gradient-to-r from-primary via-primary-dark to-primary leading-none relative select-none",animate:{backgroundPosition:["0% 50%","100% 50%","0% 50%"]},transition:{duration:5,repeat:1/0,ease:"linear"},style:{backgroundSize:"200% 200%"},children:"404"}),[...Array(6)].map((h,p)=>t.jsx(E.div,{className:"absolute w-3 h-3 bg-primary/30 rounded-full",style:{top:`${20+p*15}%`,left:`${10+p*12}%`},animate:{y:[0,-20,0],opacity:[.3,.7,.3],scale:[1,1.5,1]},transition:{duration:2+p*.3,repeat:1/0,delay:p*.2}},p))]}),t.jsx(E.div,{variants:d,className:"flex justify-center lg:justify-start mb-6 sm:mb-8",children:t.jsxs("div",{className:"relative",children:[t.jsxs(E.div,{className:"w-24 h-24 sm:w-28 sm:h-28 lg:w-36 lg:h-36 rounded-full bg-gradient-to-br from-primary via-primary-dark to-primary flex items-center justify-center shadow-2xl relative overflow-hidden",animate:{scale:[1,1.15,1],rotate:[0,10,-10,0]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/20 to-transparent"}),t.jsx(Zi,{className:"text-white text-5xl sm:text-6xl lg:text-7xl relative z-10"})]}),[1,2,3].map(h=>t.jsx(E.div,{className:"absolute inset-0 rounded-full border-2 border-primary/20",style:{top:`-${h*20}px`,left:`-${h*20}px`,right:`-${h*20}px`,bottom:`-${h*20}px`},animate:{scale:[1,1.5+h*.2,1],opacity:[.3,0,.3]},transition:{duration:2+h*.5,repeat:1/0,delay:h*.3}},h))]})}),t.jsxs(E.div,{variants:d,children:[t.jsx("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold text-slate-800 mb-3 sm:mb-4",children:"Page Not Found"}),t.jsx("p",{className:"text-lg sm:text-xl lg:text-2xl text-slate-600 mb-2 sm:mb-3",children:"Oops! We couldn't find what you're looking for."}),t.jsxs("p",{className:"text-sm sm:text-base text-slate-500 break-words",children:["The page ",t.jsx("span",{className:"font-mono text-primary bg-primary/10 px-2 py-1 rounded break-all",children:r.pathname})," doesn't exist or has been moved."]})]})]}),t.jsxs(E.div,{variants:d,className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4",children:[t.jsxs(Ut,{to:"/",className:"group flex-1 px-5 py-3 sm:px-6 sm:py-4 bg-gradient-to-r from-primary to-primary-dark text-white rounded-xl font-semibold hover:shadow-2xl transition-all duration-300 flex items-center justify-center gap-2 sm:gap-3 transform hover:scale-105 hover:-translate-y-1",children:[t.jsx(Za,{className:"text-lg sm:text-xl group-hover:scale-110 transition-transform"}),t.jsx("span",{className:"text-base sm:text-lg",children:"Go to Home"})]}),t.jsxs("button",{onClick:()=>e(-1),className:"group flex-1 px-5 py-3 sm:px-6 sm:py-4 bg-white text-primary border-2 border-primary rounded-xl font-semibold hover:bg-primary hover:text-white transition-all duration-300 flex items-center justify-center gap-2 sm:gap-3 transform hover:scale-105 hover:-translate-y-1 shadow-lg",children:[t.jsx(Y0,{className:"text-lg sm:text-xl group-hover:scale-110 transition-transform"}),t.jsx("span",{className:"text-base sm:text-lg",children:"Go Back"})]})]}),t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-bold text-slate-800 mb-4 flex items-center gap-2",children:[t.jsx(pj,{className:"text-primary"}),"Popular Pages"]}),t.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:x.map((h,p)=>{const f=h.icon;return t.jsx(E.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:p*.1},whileHover:{scale:1.05,y:-5},whileTap:{scale:.95},children:t.jsxs(Ut,{to:h.path,className:"group block p-4 bg-white/90 backdrop-blur-sm rounded-xl border-2 border-slate-200 hover:border-primary transition-all duration-300 shadow-md hover:shadow-xl",children:[t.jsx("div",{className:`w-12 h-12 rounded-lg bg-gradient-to-br ${h.color} flex items-center justify-center mb-3 mx-auto group-hover:scale-110 transition-transform`,children:t.jsx(f,{className:"text-white text-xl"})}),t.jsx("p",{className:"text-sm font-semibold text-slate-700 group-hover:text-primary transition-colors text-center",children:h.label})]})},h.path)})})]}),t.jsxs(E.div,{variants:d,className:"p-6 bg-gradient-to-br from-white/90 to-blue-50/50 backdrop-blur-sm rounded-2xl border-2 border-primary/20 shadow-xl",children:[t.jsxs("h3",{className:"text-lg font-bold text-slate-800 mb-4 flex items-center gap-2",children:[t.jsx(Th,{className:"text-primary"}),"Need Help?"]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("button",{onClick:()=>a(s),className:"w-full px-4 py-3 bg-gradient-to-r from-green-500 to-green-600 text-white rounded-lg font-semibold hover:shadow-lg transition-all duration-300 flex items-center justify-center gap-3 transform hover:scale-105",children:[t.jsx(yr,{className:"text-xl"}),t.jsx("span",{children:"Chat on WhatsApp"})]}),t.jsxs(Ut,{to:"/partner",className:"block w-full px-4 py-3 bg-white text-primary border-2 border-primary rounded-lg font-semibold hover:bg-primary hover:text-white transition-all duration-300 flex items-center justify-center gap-3 transform hover:scale-105",children:[t.jsx(e4,{className:"text-xl"}),t.jsx("span",{children:"Become a Partner"})]})]})]}),t.jsx(E.div,{variants:d,className:"p-5 bg-white/80 backdrop-blur-sm rounded-xl border-2 border-primary/30 shadow-lg",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:t.jsx(bn,{className:"text-primary text-xl"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-800 mb-1",children:"Can't find what you're looking for?"}),t.jsx("p",{className:"text-xs text-slate-600",children:"Try using the navigation menu or contact our support team for assistance."})]})]})})]})]}),t.jsx(E.div,{variants:d,className:"mt-8 sm:mt-12 text-center",children:t.jsxs("div",{className:"inline-flex flex-wrap items-center justify-center gap-4 sm:gap-6 px-4 sm:px-6 py-3 bg-white/60 backdrop-blur-sm rounded-full shadow-lg",children:[t.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm text-slate-600",children:[t.jsx(Ui,{className:"text-primary"}),t.jsx("span",{children:"Fast Response"})]}),t.jsx("div",{className:"w-1 h-1 bg-slate-300 rounded-full hidden sm:block"}),t.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm text-slate-600",children:[t.jsx(Th,{className:"text-primary"}),t.jsx("span",{children:"24/7 Support"})]}),t.jsx("div",{className:"w-1 h-1 bg-slate-300 rounded-full hidden sm:block"}),t.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm text-slate-600",children:[t.jsx(lr,{className:"text-primary"}),t.jsx("span",{children:"Trusted Platform"})]})]})})]})]})},aSe=({onPermissionGranted:e})=>{const[r,s]=g.useState(!1),[a,n]=g.useState(!1),[i,l]=g.useState("default");g.useEffect(()=>{if("Notification"in window){const m=Notification.permission;if(l(m),console.log("Current notification permission:",m),m==="default"){const x=setTimeout(()=>{s(!0)},3e3);return()=>clearTimeout(x)}else if(m==="denied"){const x=setTimeout(()=>{s(!0)},2e3);return()=>clearTimeout(x)}else m==="granted"&&console.log("Notification permission already granted")}},[]);const o=async()=>{n(!0);try{const m=await G9();m?(s(!1),l("granted"),e&&e(m)):l("denied")}catch(m){console.error("Error requesting permission:",m),l("denied")}finally{n(!1)}},c=()=>{s(!1),sessionStorage.setItem("notificationPromptDismissed","true")},d=()=>{const m=navigator.userAgent.toLowerCase();return m.includes("chrome")&&!m.includes("edge")?["Chrome Instructions:","1. Click the lock icon (or info icon) in the address bar",'2. Click "Site settings"','3. Find "Notifications"','4. Change from "Block" to "Allow"',"5. Refresh this page"]:m.includes("firefox")?["Firefox Instructions:","1. Click the lock icon in the address bar",'2. Click "More Information"','3. Go to "Permissions" tab','4. Find "Notifications"','5. Change from "Block" to "Allow"',"6. Refresh this page"]:m.includes("safari")?["Safari Instructions:","1. Go to Safari  Settings  Websites",'2. Click "Notifications"',"3. Find this website in the list",'4. Change to "Allow"',"5. Refresh this page"]:m.includes("edge")?["Edge Instructions:","1. Click the lock icon in the address bar",'2. Click "Permissions"','3. Find "Notifications"','4. Change from "Block" to "Allow"',"5. Refresh this page"]:["Browser Instructions:","1. Click the lock/info icon in the address bar","2. Go to Site settings/Permissions",'3. Find "Notifications"','4. Change from "Block" to "Allow"',"5. Refresh this page"]},u=()=>d().join(`
`);return sessionStorage.getItem("notificationPromptDismissed")==="true"&&i!=="denied"||!r?null:i==="denied"?t.jsx("div",{className:"fixed bottom-4 right-4 z-[10000] max-w-sm",children:t.jsx("div",{className:"bg-white rounded-xl shadow-2xl border border-amber-200 p-6",children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"flex-shrink-0",children:t.jsx("div",{className:"w-12 h-12 rounded-full bg-amber-100 flex items-center justify-center",children:t.jsx(Zi,{className:"w-6 h-6 text-amber-600"})})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-1",children:"Notifications Blocked"}),t.jsx("p",{className:"text-sm text-slate-600 mb-3",children:"Notifications are currently blocked. To enable them:"}),t.jsxs("div",{className:"bg-slate-50 rounded-lg p-3 mb-4",children:[t.jsx("p",{className:"text-xs text-slate-700 font-medium mb-2",children:"How to enable:"}),t.jsx("ol",{className:"text-xs text-slate-600 space-y-1 list-decimal list-inside",children:d().slice(1).map((m,x)=>t.jsx("li",{className:"ml-2",children:m.replace(/^\d+\.\s*/,"")},x))})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("button",{onClick:()=>{const m=u();navigator.clipboard.writeText(m).then(()=>{alert("Instructions copied to clipboard! Follow the steps to enable notifications.")}).catch(()=>{const x=document.createElement("textarea");x.value=m,document.body.appendChild(x),x.select(),document.execCommand("copy"),document.body.removeChild(x),alert("Instructions copied to clipboard! Follow the steps to enable notifications.")})},className:"px-4 py-2 bg-primary text-white rounded-lg text-sm font-semibold hover:bg-primary-dark transition-colors flex items-center gap-2",children:[t.jsx(kl,{className:"w-4 h-4"}),"Copy Instructions"]}),t.jsx("button",{onClick:c,className:"p-2 text-slate-400 hover:text-slate-600 transition-colors","aria-label":"Dismiss",children:t.jsx(mt,{className:"w-5 h-5"})})]})]})]})})}):t.jsx("div",{className:"fixed bottom-4 right-4 z-[10000] max-w-sm",children:t.jsx("div",{className:"bg-white rounded-xl shadow-2xl border border-slate-200 p-6",children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"flex-shrink-0",children:t.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center",children:t.jsx(Sn,{className:"w-6 h-6 text-primary"})})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-1",children:"Enable Notifications"}),t.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"Get instant updates about bookings, messages, and important alerts even when your browser is closed."}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:o,disabled:a,className:"px-4 py-2 bg-primary text-white rounded-lg text-sm font-semibold hover:bg-primary-dark transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Enabling...":"Enable Notifications"}),t.jsx("button",{onClick:c,className:"p-2 text-slate-400 hover:text-slate-600 transition-colors","aria-label":"Dismiss",children:t.jsx(mt,{className:"w-5 h-5"})})]})]})]})})})},nSe="https://nexo.works",iSe=({user:e,onClose:r,onPlanSelect:s})=>{var N;const{isAuthenticated:a}=an(),[n,i]=g.useState([]),[l,o]=g.useState(!0),[c,d]=g.useState(null),[u,m]=g.useState(!1),[x,h]=g.useState(null),p="919590926068";g.useEffect(()=>{(async()=>{try{const C=await(await fetch(`${nSe}/api/amc-plans`)).json();C.success&&C.data&&i(C.data)}catch(k){console.error("Error fetching AMC plans:",k)}finally{o(!1)}})()},[]);const f=S=>{var A;const k=((A=e==null?void 0:e.companyDetails)==null?void 0:A.companyName)||"your company";let C=`Hi! I'm ${e==null?void 0:e.name} from ${k}. I'm interested in the ${S.name} AMC plan (${S.price.toLocaleString("en-IN")}/year).`;e!=null&&e.companyDetails&&(C+=`

Company Details:`,C+=`
 Company: ${e.companyDetails.companyName}`,e.companyDetails.companySize&&(C+=`
 Size: ${e.companyDetails.companySize}`),e.companyDetails.industry&&(C+=`
 Industry: ${e.companyDetails.industry}`)),C+=`

Please provide more details about this plan and help me get started.`;const P=encodeURIComponent(C),_=`https://wa.me/${p}?text=${P}`;window.open(_,"_blank"),s&&s(S)},b=S=>{if(!a){alert("Please login to proceed with payment");return}h(S),m(!0)},j=S=>{console.log("Payment successful:",S),m(!1),h(null),alert(`Payment successful! Your ${x==null?void 0:x.name} AMC plan is now active.`),s&&s(x),r&&r()},w=S=>{console.error("Payment failed:",S),m(!1),alert("Payment failed. Please try again or contact support.")},y=()=>{m(!1),h(null)},v=()=>{r&&r()};return t.jsxs("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:[t.jsxs(E.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[t.jsxs("div",{className:"bg-gradient-to-r from-primary to-primary-dark text-white p-6 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Eo,{className:"w-8 h-8"}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold",children:"Choose Your AMC Plan"}),t.jsxs("p",{className:"text-white/90",children:["Welcome ",((N=e==null?void 0:e.companyDetails)==null?void 0:N.companyName)||(e==null?void 0:e.name),"! Select an Annual Maintenance Contract plan."]})]})]}),t.jsx("button",{onClick:v,className:"w-10 h-10 flex items-center justify-center bg-white/20 hover:bg-white/30 rounded-lg transition",children:t.jsx(Rl,{className:"w-5 h-5"})})]}),t.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:l?t.jsxs("div",{className:"text-center py-12",children:[t.jsx(ts,{className:"w-12 h-12 text-primary animate-spin mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600",children:"Loading AMC plans..."})]}):n.length===0?t.jsxs("div",{className:"text-center py-12",children:[t.jsx(Eo,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),t.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No AMC Plans Available"}),t.jsx("p",{className:"text-gray-600 mb-6",children:"We're currently setting up our AMC plans. Please contact us for custom quotes."}),t.jsxs(E.button,{onClick:()=>f({name:"Custom AMC Plan",price:0}),whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-[#25D366] text-white px-6 py-3 rounded-full font-semibold hover:bg-[#20BA5A] transition-all duration-300 flex items-center gap-2 mx-auto",children:[t.jsx(yr,{className:"w-5 h-5"}),"Contact Us for Custom Plan"]})]}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"text-center mb-8",children:t.jsx("p",{className:"text-gray-600",children:"Choose the perfect AMC plan for your business needs. Get priority support, scheduled maintenance, and significant cost savings."})}),t.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map((S,k)=>t.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:k*.1},whileHover:{y:-5,scale:1.02},className:`bg-white rounded-xl shadow-lg border-2 transition-all duration-300 overflow-hidden ${S.highlight?"border-primary scale-105 shadow-xl shadow-primary/20":"border-gray-200 hover:border-primary/30 hover:shadow-xl"}`,children:[S.highlight&&t.jsx("div",{className:"bg-gradient-to-r from-primary to-primary-dark text-white text-center py-2 px-4",children:t.jsx("span",{className:"text-sm font-bold",children:S.highlightText||"RECOMMENDED"})}),t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"text-center mb-6",children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:S.name}),t.jsxs("div",{className:"mb-4",children:[t.jsx("span",{className:"text-3xl font-bold text-primary",children:S.priceDisplay||`${S.price.toLocaleString("en-IN")}`}),t.jsx("span",{className:"text-gray-600",children:"/year"})]}),S.description&&t.jsx("p",{className:"text-gray-600 text-sm",children:S.description})]}),t.jsxs("ul",{className:"space-y-2 mb-6",children:[S.features.slice(0,4).map((C,P)=>t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx($e,{className:"text-green-500 mt-0.5 flex-shrink-0 text-sm"}),t.jsx("span",{className:"text-gray-700 text-sm",children:C})]},P)),S.features.length>4&&t.jsxs("li",{className:"text-gray-500 text-sm",children:["+",S.features.length-4," more features"]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs(E.button,{onClick:()=>b(S),whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},className:`w-full py-3 rounded-xl font-bold transition-all duration-300 flex items-center justify-center gap-2 ${S.highlight?"bg-gradient-to-r from-primary to-primary-dark text-white hover:from-primary-dark hover:to-primary shadow-lg":"bg-gradient-to-r from-blue-600 to-blue-700 text-white hover:from-blue-700 hover:to-blue-800"}`,children:[t.jsx(Ti,{className:"w-4 h-4"}),"Pay Now"]}),t.jsxs(E.button,{onClick:()=>f(S),whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},className:"w-full py-2 rounded-lg font-medium transition-all duration-300 flex items-center justify-center gap-2 bg-[#25D366] text-white hover:bg-[#20BA5A]",children:[t.jsx(yr,{className:"w-4 h-4"}),"Discuss on WhatsApp"]})]})]})]},S._id||k))})]})}),t.jsx("div",{className:"border-t border-gray-200 p-6 bg-gray-50",children:t.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[t.jsx("div",{className:"text-sm text-gray-600",children:t.jsx("p",{children:"Need a custom plan? Our team will help you find the perfect solution."})}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:v,className:"px-6 py-2 text-gray-600 hover:text-gray-800 font-semibold transition",children:"Skip for now"}),t.jsxs(E.button,{onClick:()=>f({name:"Custom AMC Plan",price:0}),whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-[#25D366] text-white px-6 py-2 rounded-lg font-semibold hover:bg-[#20BA5A] transition-all duration-300 flex items-center gap-2",children:[t.jsx(yr,{className:"w-4 h-4"}),"Custom Plan"]})]})]})})]}),u&&x&&t.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-[60] flex items-center justify-center p-4",children:t.jsx("div",{className:"max-w-md w-full",children:t.jsx(JN,{amount:x.price,orderData:{productinfo:`${x.name} AMC Plan`,userId:(e==null?void 0:e._id)||(e==null?void 0:e.userId)},onSuccess:j,onFailure:w,onCancel:y,title:`Pay for ${x.name}`,description:`Annual Maintenance Contract - ${x.name}`})})})]})},lSe=()=>{var x,h,p,f;const e=Qt(),{user:r}=an(),[s,a]=g.useState({totalBookings:0,activeBookings:0,completedBookings:0,walletBalance:0}),[n,i]=g.useState([]),[l,o]=g.useState(!0),[c,d]=g.useState(!1);g.useEffect(()=>{r!=null&&r._id&&u()},[r==null?void 0:r._id]),g.useEffect(()=>{var b;if((r==null?void 0:r.userType)==="company"&&!((b=r==null?void 0:r.amcSubscription)!=null&&b.isActive)){const j=setTimeout(()=>{d(!0)},2e3);return()=>clearTimeout(j)}},[r]);const u=async()=>{try{const b=localStorage.getItem("userToken"),j=(r==null?void 0:r._id)||localStorage.getItem("userId"),w={headers:{Authorization:`Bearer ${b}`}},v=(await Pt.get("https://nexo.works/api/user/bookings",w).catch(S=>(console.error("Error fetching bookings:",S),{data:{bookings:[]}}))).data.bookings||[];let N=0;if(j)try{const S=await Pt.get(`https://nexo.works/api/user/wallet/${j}`,w);S.data.success&&S.data.data&&(N=S.data.data.balance||0)}catch(S){console.error("Error fetching wallet balance:",S)}a({totalBookings:v.length,activeBookings:v.filter(S=>["pending","confirmed","in-progress"].includes(S.status)).length,completedBookings:v.filter(S=>S.status==="completed").length,walletBalance:N}),i(v.slice(0,5))}catch(b){console.error("Error fetching dashboard data:",b),a({totalBookings:0,activeBookings:0,completedBookings:0,walletBalance:0}),i([])}finally{o(!1)}},m=[{icon:Ss,label:"Total Bookings",value:s.totalBookings,color:"blue"},{icon:ns,label:"Active Bookings",value:s.activeBookings,color:"orange"},{icon:Vo,label:"Completed",value:s.completedBookings,color:"green"},{icon:Xt,label:"Wallet Balance",value:`${s.walletBalance}`,color:"purple"}];return l?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):t.jsxs("div",{className:"space-y-6",children:[(r==null?void 0:r.userType)==="company"&&t.jsxs("div",{className:"relative bg-gradient-to-r from-blue-600 via-purple-600 to-blue-800 rounded-2xl p-6 text-white overflow-hidden shadow-xl animate-fade-in",children:[t.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-16 -mt-16"}),t.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row items-center justify-between gap-4",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-xl rounded-xl flex items-center justify-center",children:t.jsx(Eo,{className:"text-white",size:24})}),t.jsxs("div",{children:[t.jsxs("h3",{className:"text-xl font-bold mb-1",children:["Welcome ",((x=r==null?void 0:r.companyDetails)==null?void 0:x.companyName)||"Corporate User","!"]}),t.jsx("p",{className:"text-blue-100",children:(h=r==null?void 0:r.amcSubscription)!=null&&h.isActive?`Your ${r.amcSubscription.planName} AMC plan is active`:"Get comprehensive AMC plans for your business needs"})]})]}),!((p=r==null?void 0:r.amcSubscription)!=null&&p.isActive)&&t.jsx("button",{onClick:()=>d(!0),className:"px-6 py-3 bg-white text-blue-600 rounded-xl hover:bg-blue-50 transition-all shadow-lg hover:shadow-xl transform hover:scale-105 font-semibold whitespace-nowrap",children:"View AMC Plans"})]})]}),t.jsxs("div",{className:"relative bg-gradient-to-br from-primary via-primary-dark to-[#152d47] rounded-3xl p-8 md:p-12 text-white overflow-hidden shadow-2xl animate-fade-in",children:[t.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-white/10 rounded-full -mr-48 -mt-48 animate-pulse-slow"}),t.jsx("div",{className:"absolute bottom-0 left-0 w-64 h-64 bg-white/5 rounded-full -ml-32 -mb-32"}),t.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIGZpbGw9IiNmZmYiIGZpbGwtb3BhY2l0eT0iMC4xIj48cGF0aCBkPSJNMzYgMzR2LTRoLTJ2NGgtNHYyaDR2NGgydi00aDR2LTJoLTR6bTAtMzBWMGgtMnY0aC00djJoNHY0aDJWNmg0VjRoLTR6TTYgMzR2LTRINHY0SDB2Mmg0djRoMnYtNGg0di0ySDZ6TTYgNFYwSDR2NEgwdjJoNHY0aDJWNmg0VjRINnoiLz48L2c+PC9nPjwvc3ZnPg==')] opacity-20"}),t.jsx("div",{className:"relative z-10",children:t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-6",children:[t.jsxs("div",{className:"flex items-center gap-4 md:gap-6 animate-slide-in-left",children:[t.jsxs("div",{className:"relative group",children:[t.jsx("div",{className:"w-16 h-16 md:w-20 md:h-20 bg-white/20 backdrop-blur-xl rounded-2xl flex items-center justify-center transform hover:scale-110 hover:rotate-6 transition-all duration-300 overflow-hidden ring-4 ring-white/30 shadow-2xl",children:r!=null&&r.profilePicture?t.jsx("img",{src:r.profilePicture,alt:r.name||"User",className:"w-full h-full object-cover"}):t.jsx("div",{className:"w-full h-full bg-gradient-to-br from-white/30 to-white/10 flex items-center justify-center",children:t.jsx(vr,{className:"text-white",size:32})})}),t.jsx("div",{className:"absolute -bottom-1 -right-1 w-5 h-5 bg-green-400 rounded-full border-4 border-primary-dark animate-pulse"})]}),t.jsxs("div",{children:[t.jsxs("h1",{className:"text-3xl md:text-4xl font-bold mb-2",children:["Welcome Back, ",((f=r==null?void 0:r.name)==null?void 0:f.split(" ")[0])||"User","! "]}),t.jsx("p",{className:"text-blue-100 text-lg",children:"Manage your bookings and services with ease"})]})]}),t.jsx("div",{className:"flex gap-3 animate-slide-in-right",children:t.jsx("button",{onClick:()=>e("/"),className:"px-6 py-3 bg-white text-primary rounded-xl hover:bg-blue-50 transition-all shadow-lg hover:shadow-xl transform hover:scale-105 font-semibold",children:"Book Now"})})]})})]}),t.jsxs("div",{className:"relative bg-gradient-to-r from-orange-500 via-red-500 to-pink-500 rounded-2xl p-4 md:p-6 text-white overflow-hidden shadow-xl animate-fade-in",style:{animationDelay:"200ms"},children:[t.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIGZpbGw9IiNmZmYiIGZpbGwtb3BhY2l0eT0iMC4xIj48cGF0aCBkPSJNMzYgMzR2LTRoLTJ2NGgtNHYyaDR2NGgydi00aDR2LTJoLTR6bTAtMzBWMGgtMnY0aC00djJoNHY0aDJWNmg0VjRoLTR6TTYgMzR2LTRINHY0SDB2Mmg0djRoMnYtNGg0di0ySDZ6TTYgNFYwSDR2NEgwdjJoNHY0aDJWNmg0VjRINnoiLz48L2c+PC9nPjwvc3ZnPg==')] opacity-20"}),t.jsx("div",{className:"relative z-10",children:t.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[t.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[t.jsxs("div",{className:"relative flex-shrink-0",children:[t.jsx("div",{className:"w-12 h-12 md:w-14 md:h-14 bg-white/20 backdrop-blur-xl rounded-xl flex items-center justify-center animate-bounce-slow",children:t.jsxs("div",{className:"relative",children:[t.jsx(Ym,{className:"text-yellow-300 animate-pulse",size:28}),t.jsx(Ui,{className:"absolute -top-1 -right-1 text-white animate-ping",size:12})]})}),t.jsx("div",{className:"absolute top-0 left-0 w-full h-full animate-spin",style:{animationDuration:"4s"},children:t.jsx(kl,{className:"absolute -top-1 left-1/2 -ml-2 text-yellow-300",size:12})}),t.jsx("div",{className:"absolute top-0 left-0 w-full h-full animate-spin",style:{animationDuration:"3s",animationDirection:"reverse"},children:t.jsx(Ym,{className:"absolute -bottom-1 left-1/2 -ml-2 text-white",size:10})}),t.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-yellow-300 rounded-full animate-ping"})]}),t.jsxs("div",{className:"text-left",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsxs("span",{className:"text-xs font-bold bg-white/20 px-2 py-0.5 rounded-full animate-pulse flex items-center gap-1",children:[t.jsx(Ui,{size:10}),"LIVE NOW"]}),t.jsxs("span",{className:"text-xs md:text-sm font-semibold text-yellow-300 flex items-center gap-1",children:[t.jsx(kl,{className:"animate-spin",size:14,style:{animationDuration:"3s"}}),"Fast Home Service"]})]}),t.jsxs("h3",{className:"text-lg md:text-xl font-bold leading-tight flex items-center gap-2",children:[t.jsx(Ym,{className:"text-yellow-300 animate-pulse",size:18}),"Service in ",t.jsx("span",{className:"text-yellow-300 animate-pulse",children:"Quick Time!"}),t.jsx(vt,{className:"text-green-300 animate-bounce",size:20})]}),t.jsxs("div",{className:"flex items-center gap-3 mt-1.5 text-xs md:text-sm text-white/90",children:[t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Mr,{className:"animate-pulse",size:14}),"Expert Technicians"]}),t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(pn,{className:"animate-pulse",size:14,style:{animationDelay:"0.5s"}}),"Certified"]}),t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Vo,{className:"animate-pulse",size:14,style:{animationDelay:"1s"}}),"4.9"]})]})]})]}),t.jsxs("div",{className:"flex items-center gap-3 md:gap-4 flex-shrink-0",children:[t.jsxs("div",{className:"hidden lg:flex items-center gap-3",children:[t.jsxs("div",{className:"text-center px-3 py-2 bg-white/10 backdrop-blur-sm rounded-lg border border-white/20 hover:bg-white/20 transition-all group",children:[t.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[t.jsx(Ym,{className:"text-yellow-300 group-hover:animate-spin",size:16}),t.jsx("div",{className:"text-lg font-bold",children:"1000+"})]}),t.jsx("div",{className:"text-xs text-white/80",children:"Services Done"})]}),t.jsxs("div",{className:"text-center px-3 py-2 bg-white/10 backdrop-blur-sm rounded-lg border border-white/20 hover:bg-white/20 transition-all group",children:[t.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[t.jsx(Ui,{className:"text-yellow-300 animate-pulse group-hover:animate-bounce",size:16}),t.jsx("div",{className:"text-lg font-bold",children:"Fast"})]}),t.jsx("div",{className:"text-xs text-white/80",children:"Response"})]})]}),t.jsxs("button",{onClick:()=>e("/"),className:"group relative px-5 md:px-6 py-2.5 md:py-3 bg-white text-orange-600 rounded-xl font-bold shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:scale-110 whitespace-nowrap overflow-hidden",children:[t.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:[t.jsx(Ym,{className:"group-hover:rotate-12 transition-transform",size:18}),t.jsx("span",{className:"text-sm md:text-base",children:"Book Service"}),t.jsx(ds,{className:"group-hover:translate-x-2 transition-transform",size:16})]}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-yellow-300 to-yellow-400 transform scale-x-0 group-hover:scale-x-100 transition-transform origin-left"})]})]})]})})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:m.map((b,j)=>{const w=b.icon,y={blue:"from-primary to-primary-light",orange:"from-orange-500 to-orange-600",green:"from-green-500 to-green-600",purple:"from-purple-500 to-purple-600"};return t.jsxs("div",{className:"group relative bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 p-6 overflow-hidden border border-gray-100 hover:border-primary/30 transform hover:-translate-y-2 animate-fade-in",style:{animationDelay:`${j*100}ms`},children:[t.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${y[b.color]} opacity-0 group-hover:opacity-5 transition-opacity duration-300`}),t.jsxs("div",{className:"relative z-10",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsx("div",{className:`p-3 rounded-xl bg-gradient-to-br ${y[b.color]} shadow-lg group-hover:scale-110 transition-transform duration-300`,children:t.jsx(w,{className:"text-white",size:24})}),t.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:t.jsx(ds,{className:"text-gray-600",size:16})})]}),t.jsx("p",{className:"text-slate-500 text-sm font-medium mb-1",children:b.label}),t.jsx("p",{className:"text-3xl font-bold text-slate-800 group-hover:text-primary transition-colors",children:b.value})]})]},j)})}),t.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden border border-gray-100 animate-fade-in",style:{animationDelay:"400ms"},children:[t.jsx("div",{className:"p-6 border-b border-slate-100 bg-gradient-to-r from-primary/5 to-primary-light/5",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary to-primary-dark rounded-xl flex items-center justify-center transform hover:scale-110 hover:rotate-6 transition-all duration-300",children:t.jsx(Ss,{className:"text-white",size:20})}),t.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Recent Bookings"})]}),t.jsxs("button",{onClick:()=>e("/user/dashboard/bookings"),className:"group flex items-center gap-2 px-4 py-2 bg-primary/10 text-primary hover:bg-primary hover:text-white rounded-xl font-medium transition-all duration-200",children:["View All",t.jsx(ds,{className:"group-hover:translate-x-1 transition-transform",size:16})]})]})}),t.jsx("div",{className:"p-6",children:n.length===0?t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"w-20 h-20 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(Ss,{className:"text-slate-400",size:32})}),t.jsx("p",{className:"text-slate-600 font-medium mb-2",children:"No bookings yet"}),t.jsx("p",{className:"text-slate-500 text-sm mb-6",children:"Start booking services to see them here"}),t.jsx("button",{onClick:()=>e("/"),className:"px-6 py-3 bg-gradient-to-r from-primary to-primary-dark text-white rounded-xl hover:shadow-lg hover:shadow-primary/30 transition-all duration-200 font-medium",children:"Book a Service"})]}):t.jsx("div",{className:"space-y-3",children:n.map((b,j)=>t.jsxs("div",{onClick:()=>e(`/user/dashboard/bookings/${b._id}`),className:"group flex items-center justify-between p-4 border-2 border-slate-200 rounded-xl hover:border-primary hover:bg-primary/5 cursor-pointer transition-all duration-200 transform hover:scale-[1.02] animate-slide-in-left",style:{animationDelay:`${j*50}ms`},children:[t.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary/10 to-primary-light/10 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform",children:t.jsx(Ss,{className:"text-primary",size:20})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"font-semibold text-slate-800 group-hover:text-primary transition-colors",children:b.serviceName||"Service Booking"}),t.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[t.jsx(ns,{className:"text-slate-400",size:14}),t.jsx("p",{className:"text-sm text-slate-600",children:new Date(b.bookingDate).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"})})]})]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("span",{className:`px-4 py-2 rounded-xl text-sm font-semibold border-2
                      ${b.status==="completed"?"bg-green-50 text-green-700 border-green-200":b.status==="cancelled"?"bg-red-50 text-red-700 border-red-200":"bg-blue-50 text-blue-700 border-blue-200"}`,children:b.status}),t.jsx(ds,{className:"text-slate-400 group-hover:text-primary group-hover:translate-x-1 transition-all",size:20})]})]},b._id))})})]}),t.jsx("div",{className:"bg-gradient-to-r from-green-500 to-green-600 rounded-2xl p-6 text-white mb-6 animate-fade-in",style:{animationDelay:"300ms"},children:t.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold mb-2",children:" Get Standard Plan"}),t.jsx("p",{className:"text-green-100",children:"Unlock premium features with our Standard subscription plan"}),t.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm",children:[t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(vt,{}),"Priority Support"]}),t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Vo,{}),"Premium Features"]}),t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Ui,{}),"Fast Service"]})]})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold mb-1",children:"299"}),t.jsx("div",{className:"text-green-100 text-sm mb-3",children:"per month"}),t.jsx("button",{onClick:()=>e("/#subscription-plans"),className:"bg-white text-green-600 px-6 py-3 rounded-xl font-bold hover:bg-green-50 transition-all shadow-lg hover:shadow-xl transform hover:scale-105",children:"Get Standard Plan"})]})]})}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsxs("button",{onClick:()=>e("/"),className:"group relative bg-gradient-to-br from-primary to-primary-light rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 p-8 text-left overflow-hidden transform hover:scale-105 animate-fade-in",style:{animationDelay:"500ms"},children:[t.jsx("div",{className:"absolute inset-0 bg-white opacity-0 group-hover:opacity-10 transition-opacity duration-300"}),t.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-16 -mt-16 group-hover:scale-150 transition-transform duration-500"}),t.jsxs("div",{className:"relative z-10",children:[t.jsx("div",{className:"w-14 h-14 bg-white/20 backdrop-blur-xl rounded-xl flex items-center justify-center mb-4 group-hover:scale-110 group-hover:rotate-6 transition-all duration-300",children:t.jsx(Ss,{className:"text-white",size:28})}),t.jsx("h3",{className:"font-bold text-white text-lg mb-2",children:"Book a Service"}),t.jsx("p",{className:"text-blue-100 text-sm",children:"Browse and book services instantly"}),t.jsxs("div",{className:"mt-4 flex items-center text-white text-sm font-medium",children:[t.jsx("span",{children:"Explore Services"}),t.jsx(ds,{className:"ml-2 group-hover:translate-x-2 transition-transform"})]})]})]}),t.jsxs("button",{onClick:()=>e("/user/dashboard/wallet"),className:"group relative bg-gradient-to-br from-green-500 to-green-600 rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 p-8 text-left overflow-hidden transform hover:scale-105 animate-fade-in",style:{animationDelay:"600ms"},children:[t.jsx("div",{className:"absolute inset-0 bg-white opacity-0 group-hover:opacity-10 transition-opacity duration-300"}),t.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-16 -mt-16 group-hover:scale-150 transition-transform duration-500"}),t.jsxs("div",{className:"relative z-10",children:[t.jsx("div",{className:"w-14 h-14 bg-white/20 backdrop-blur-xl rounded-xl flex items-center justify-center mb-4 group-hover:scale-110 group-hover:rotate-6 transition-all duration-300",children:t.jsx(Xt,{className:"text-white",size:28})}),t.jsx("h3",{className:"font-bold text-white text-lg mb-2",children:"Add Money"}),t.jsx("p",{className:"text-green-100 text-sm",children:"Top up your wallet balance"}),t.jsxs("div",{className:"mt-4 flex items-center text-white text-sm font-medium",children:[t.jsx("span",{children:"Manage Wallet"}),t.jsx(ds,{className:"ml-2 group-hover:translate-x-2 transition-transform"})]})]})]}),t.jsxs("button",{onClick:()=>e("/user/dashboard/support"),className:"group relative bg-gradient-to-br from-purple-500 to-purple-600 rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 p-8 text-left overflow-hidden transform hover:scale-105 animate-fade-in",style:{animationDelay:"700ms"},children:[t.jsx("div",{className:"absolute inset-0 bg-white opacity-0 group-hover:opacity-10 transition-opacity duration-300"}),t.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-16 -mt-16 group-hover:scale-150 transition-transform duration-500"}),t.jsxs("div",{className:"relative z-10",children:[t.jsx("div",{className:"w-14 h-14 bg-white/20 backdrop-blur-xl rounded-xl flex items-center justify-center mb-4 group-hover:scale-110 group-hover:rotate-6 transition-all duration-300",children:t.jsx(lr,{className:"text-white",size:28})}),t.jsx("h3",{className:"font-bold text-white text-lg mb-2",children:"Get Help"}),t.jsx("p",{className:"text-purple-100 text-sm",children:"Contact our support team"}),t.jsxs("div",{className:"mt-4 flex items-center text-white text-sm font-medium",children:[t.jsx("span",{children:"Contact Support"}),t.jsx(ds,{className:"ml-2 group-hover:translate-x-2 transition-transform"})]})]})]})]}),c&&t.jsx(iSe,{user:r,onClose:()=>d(!1),onPlanSelect:b=>{console.log("Selected AMC plan:",b),d(!1)}})]})},oSe=()=>{const e=Qt(),[r,s]=g.useState([]),[a,n]=g.useState([]),[i,l]=g.useState(!0),[o,c]=g.useState("all"),[d,u]=g.useState(!1),[m,x]=g.useState(null),[h,p]=g.useState(!1),[f,b]=g.useState(""),[j,w]=g.useState(!1),[y,v]=g.useState(null),N=g.useRef(null);g.useEffect(()=>{S()},[]),g.useEffect(()=>{k()},[o,r]);const S=async()=>{try{const F=localStorage.getItem("userToken"),X=await Pt.get("https://nexo.works/api/user/bookings",{headers:{Authorization:`Bearer ${F}`}}),ce=X.data.data||X.data.bookings||[];s(Array.isArray(ce)?ce:[])}catch(F){console.error("Error fetching bookings:",F),s([])}finally{l(!1)}},k=()=>{const F=Array.isArray(r)?r:[];n(o==="all"?F:F.filter(X=>X.status===o))},C=F=>({pending:"bg-yellow-100 text-yellow-800 border-yellow-200",confirmed:"bg-blue-100 text-blue-800 border-blue-200","in-progress":"bg-purple-100 text-purple-800 border-purple-200",completed:"bg-green-100 text-green-800 border-green-200",cancelled:"bg-red-100 text-red-800 border-red-200"})[F]||"bg-gray-100 text-gray-800 border-gray-200",P=F=>({pending:t.jsx(ns,{className:"inline",size:14}),confirmed:t.jsx(vt,{className:"inline",size:14}),"in-progress":t.jsx(Dt,{className:"inline animate-spin",size:14}),completed:t.jsx(vt,{className:"inline",size:14}),cancelled:t.jsx(mt,{className:"inline",size:14})})[F]||t.jsx(Zi,{className:"inline",size:14}),_=async()=>{if(m)try{const F=localStorage.getItem("userToken");await Pt.put(`https://nexo.works/api/user/bookings/${m._id}/cancel`,{},{headers:{Authorization:`Bearer ${F}`}}),b("Booking cancelled successfully"),p(!0),setTimeout(()=>p(!1),3e3),u(!1),x(null),S()}catch(F){console.error("Error cancelling booking:",F),alert("Failed to cancel booking. Please try again.")}},A=()=>{const F=N.current;document.body.innerHTML;const X=window.open("","","height=800,width=800");X.document.write("<html><head><title>Invoice</title>"),X.document.write("<style>"),X.document.write(`
      body { font-family: Arial, sans-serif; padding: 20px; }
      .invoice-container { max-width: 800px; margin: 0 auto; }
      .invoice-header { text-align: center; margin-bottom: 30px; border-bottom: 2px solid #214A73; padding-bottom: 20px; }
      .invoice-logo { font-size: 32px; font-weight: bold; color: #214A73; margin-bottom: 10px; }
      .invoice-details { display: flex; justify-content: space-between; margin-bottom: 30px; }
      .invoice-section { flex: 1; }
      .invoice-table { width: 100%; border-collapse: collapse; margin: 20px 0; }
      .invoice-table th, .invoice-table td { padding: 12px; text-align: left; border-bottom: 1px solid #ddd; }
      .invoice-table th { background-color: #f8f9fa; font-weight: bold; }
      .invoice-total { text-align: right; margin-top: 20px; font-size: 18px; font-weight: bold; }
      .invoice-footer { margin-top: 40px; text-align: center; color: #666; font-size: 12px; border-top: 1px solid #ddd; padding-top: 20px; }
      @media print {
        body { print-color-adjust: exact; -webkit-print-color-adjust: exact; }
      }
    `),X.document.write("</style></head><body>"),X.document.write(F.innerHTML),X.document.write("</body></html>"),X.document.close(),setTimeout(()=>{X.print(),X.close()},250)},D=()=>{A()};return i?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):t.jsxs("div",{className:"space-y-6",children:[h&&t.jsxs("div",{className:"fixed top-4 right-4 z-50 bg-green-500 text-white px-6 py-4 rounded-lg shadow-lg flex items-center gap-3 animate-slide-in",children:[t.jsx(vt,{size:24}),t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold",children:"Success!"}),t.jsx("p",{className:"text-sm text-green-100",children:f})]})]}),t.jsxs("div",{className:"relative bg-gradient-to-br from-primary via-primary-dark to-[#152d47] rounded-3xl p-8 md:p-12 text-white overflow-hidden shadow-2xl",children:[t.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/10 rounded-full -mr-32 -mt-32"}),t.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-white/5 rounded-full -ml-24 -mb-24"}),t.jsx("div",{className:"relative z-10",children:t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-6",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center",children:t.jsx(Ss,{size:24})}),t.jsx("h1",{className:"text-3xl md:text-4xl font-bold",children:"My Bookings"})]}),t.jsx("p",{className:"text-blue-100 text-lg",children:"Manage and track all your service bookings"})]}),t.jsxs("div",{className:"flex gap-4",children:[t.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-2xl p-4 text-center min-w-[100px]",children:[t.jsx("p",{className:"text-3xl font-bold mb-1",children:Array.isArray(r)?r.length:0}),t.jsx("p",{className:"text-sm text-blue-100",children:"Total Bookings"})]}),t.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-2xl p-4 text-center min-w-[100px]",children:[t.jsx("p",{className:"text-3xl font-bold mb-1",children:Array.isArray(r)?r.filter(F=>["pending","confirmed","in-progress"].includes(F.status)).length:0}),t.jsx("p",{className:"text-sm text-blue-100",children:"Active"})]})]})]})})]}),t.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx(Td,{className:"text-primary",size:20}),t.jsx("h3",{className:"font-semibold text-gray-800",children:"Filter Bookings"})]}),t.jsx("div",{className:"flex flex-wrap gap-3",children:["all","pending","confirmed","in-progress","completed","cancelled"].map(F=>t.jsxs("button",{onClick:()=>c(F),className:`px-5 py-2.5 rounded-xl font-medium capitalize transition-all transform hover:scale-105 ${o===F?"bg-gradient-to-r from-primary to-primary-light text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[F.replace("-"," "),F!=="all"&&t.jsxs("span",{className:"ml-2 text-xs opacity-75",children:["(",Array.isArray(r)?r.filter(X=>X.status===F).length:0,")"]})]},F))})]}),a.length===0?t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 p-12 text-center",children:[t.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-primary/10 to-primary-light/10 rounded-full flex items-center justify-center mx-auto mb-6",children:t.jsx(Ss,{className:"text-primary",size:48})}),t.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-3",children:"No Bookings Found"}),t.jsx("p",{className:"text-gray-600 mb-8 max-w-md mx-auto",children:o==="all"?"You haven't made any bookings yet. Start by booking a service!":`No ${o.replace("-"," ")} bookings at the moment.`}),t.jsxs("button",{onClick:()=>e("/"),className:"inline-flex items-center gap-2 px-8 py-4 bg-gradient-to-r from-primary to-primary-light text-white rounded-xl hover:from-primary-dark hover:to-primary font-semibold shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:[t.jsx(fs,{size:20}),"Book a Service Now"]})]}):t.jsx("div",{className:"grid grid-cols-1 gap-6",children:a.map(F=>t.jsx("div",{className:"group bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 border border-gray-100 hover:border-primary/30 overflow-hidden",children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex justify-between items-start mb-4",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary/10 to-primary-light/10 rounded-xl flex items-center justify-center flex-shrink-0",children:t.jsx(fs,{className:"text-primary",size:20})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-1",children:F.serviceName||"Service Booking"}),t.jsxs("p",{className:"text-sm text-gray-500",children:["Booking ID: #",F._id.slice(-8)]})]})]}),t.jsxs("div",{className:"space-y-2 ml-15",children:[t.jsxs("div",{className:"flex items-center text-gray-600",children:[t.jsx(Ss,{className:"mr-2 text-primary",size:16}),t.jsx("span",{className:"text-sm font-medium",children:new Date(F.bookingDate).toLocaleDateString("en-IN",{day:"numeric",month:"long",year:"numeric"})})]}),F.bookingTime&&t.jsxs("div",{className:"flex items-center text-gray-600",children:[t.jsx(ns,{className:"mr-2 text-primary",size:16}),t.jsx("span",{className:"text-sm font-medium",children:F.bookingTime})]}),F.address&&t.jsxs("div",{className:"flex items-start text-gray-600",children:[t.jsx(Pr,{className:"mr-2 mt-1 text-primary flex-shrink-0",size:16}),t.jsx("span",{className:"text-sm",children:F.address})]})]})]}),t.jsxs("span",{className:`px-4 py-2 rounded-xl text-sm font-semibold border-2 flex items-center gap-2 ${C(F.status)}`,children:[P(F.status),F.status.replace("-"," ")]})]}),F.cartItems&&F.cartItems.length>0&&t.jsxs("div",{className:"pt-4 border-t border-gray-100",children:[t.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Services:"}),t.jsxs("div",{className:"space-y-1",children:[F.cartItems.slice(0,3).map((X,ce)=>t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsxs("span",{className:"text-gray-600",children:[" ",X.name||X.serviceName]}),t.jsxs("span",{className:"text-gray-800 font-medium",children:["",X.price||X.amount||0]})]},ce)),F.cartItems.length>3&&t.jsxs("p",{className:"text-xs text-gray-500 italic",children:["+",F.cartItems.length-3," more service(s)"]})]})]}),F.totalAmount&&t.jsx("div",{className:"pt-4 border-t border-gray-100 mt-4",children:t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("span",{className:"text-gray-600 font-medium",children:"Total Amount"}),t.jsxs("span",{className:"text-2xl font-bold text-primary",children:["",F.totalAmount]})]})}),t.jsxs("div",{className:"flex flex-wrap gap-3 mt-4",children:[t.jsxs("button",{onClick:X=>{X.stopPropagation(),e(`/user/dashboard/bookings/${F._id}`)},className:"flex-1 min-w-[140px] flex items-center justify-center gap-2 px-4 py-2.5 bg-primary text-white rounded-xl hover:bg-primary-dark transition-all font-medium",children:[t.jsx(Ci,{size:18}),"View Details"]}),["confirmed","completed"].includes(F.status)&&t.jsxs("button",{onClick:X=>{X.stopPropagation(),v(F),w(!0)},className:"flex-1 min-w-[140px] flex items-center justify-center gap-2 px-4 py-2.5 bg-green-50 text-green-700 rounded-xl hover:bg-green-100 transition-all font-medium border-2 border-green-200",children:[t.jsx(Yt,{size:18}),"View Invoice"]}),["pending","confirmed"].includes(F.status)&&t.jsxs("button",{onClick:X=>{X.stopPropagation(),x(F),u(!0)},className:"flex-1 min-w-[140px] flex items-center justify-center gap-2 px-4 py-2.5 bg-red-50 text-red-600 rounded-xl hover:bg-red-100 transition-all font-medium border-2 border-red-200",children:[t.jsx(mt,{size:18}),"Cancel Booking"]}),F.status==="completed"&&t.jsxs("button",{onClick:X=>{X.stopPropagation(),alert("Review feature coming soon!")},className:"flex-1 min-w-[140px] flex items-center justify-center gap-2 px-4 py-2.5 bg-yellow-50 text-yellow-700 rounded-xl hover:bg-yellow-100 transition-all font-medium border-2 border-yellow-200",children:[t.jsx(Vo,{size:18}),"Write Review"]})]})]})},F._id))}),d&&m&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:t.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full shadow-2xl overflow-hidden animate-slide-up",children:[t.jsx("div",{className:"bg-gradient-to-r from-red-500 to-red-600 p-6 text-white",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center",children:t.jsx(Zi,{size:24})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold",children:"Cancel Booking?"}),t.jsx("p",{className:"text-red-100 text-sm",children:"This action cannot be undone"})]})]})}),t.jsxs("div",{className:"p-6",children:[t.jsxs("p",{className:"text-gray-700 mb-6",children:["Are you sure you want to cancel this booking for ",t.jsx("strong",{children:m.serviceName}),"?"]}),t.jsx("div",{className:"bg-yellow-50 border-2 border-yellow-200 rounded-xl p-4 mb-6",children:t.jsxs("p",{className:"text-sm text-yellow-800",children:[t.jsx("strong",{children:"Note:"})," Cancellation charges may apply based on the cancellation policy."]})}),t.jsxs("div",{className:"flex gap-4",children:[t.jsx("button",{onClick:()=>{u(!1),x(null)},className:"flex-1 px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 font-semibold transition-all",children:"Keep Booking"}),t.jsx("button",{onClick:_,className:"flex-1 px-6 py-3 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-xl hover:from-red-600 hover:to-red-700 font-semibold shadow-lg hover:shadow-xl transition-all duration-300",children:"Yes, Cancel"})]})]})]})}),j&&y&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 backdrop-blur-sm overflow-y-auto",children:t.jsxs("div",{className:"bg-white rounded-2xl max-w-4xl w-full shadow-2xl overflow-hidden animate-slide-up my-8",children:[t.jsxs("div",{className:"bg-gradient-to-r from-primary to-primary-light p-6 text-white flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center",children:t.jsx(Yt,{size:24})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold",children:"Invoice"}),t.jsxs("p",{className:"text-blue-100 text-sm",children:["Booking #",y._id.slice(-8)]})]})]}),t.jsx("button",{onClick:()=>w(!1),className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:t.jsx(mt,{size:24})})]}),t.jsxs("div",{className:"p-8",children:[t.jsx("div",{ref:N,children:t.jsxs("div",{className:"invoice-container",children:[t.jsxs("div",{className:"invoice-header text-center mb-8 pb-6 border-b-2 border-primary",children:[t.jsx("div",{className:"invoice-logo text-4xl font-bold text-primary mb-2",children:"Nexo"}),t.jsx("p",{className:"text-gray-600",children:"Professional Home Services"}),t.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Invoice Date: ",new Date().toLocaleDateString("en-IN")]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-8 mb-8",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold text-gray-800 mb-3",children:"Bill To:"}),t.jsx("p",{className:"text-gray-700 font-medium",children:y.userName||"Customer"}),t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:y.userPhone||"N/A"}),t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:y.address||"N/A"})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("h4",{className:"font-bold text-gray-800 mb-3",children:"Invoice Details:"}),t.jsxs("p",{className:"text-sm text-gray-600",children:["Invoice #: ",t.jsxs("span",{className:"font-medium text-gray-800",children:["INV-",y._id.slice(-8).toUpperCase()]})]}),t.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Booking ID: ",t.jsxs("span",{className:"font-medium text-gray-800",children:["#",y._id.slice(-8)]})]}),t.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Date: ",t.jsx("span",{className:"font-medium text-gray-800",children:new Date(y.bookingDate).toLocaleDateString("en-IN")})]}),t.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Status: ",t.jsx("span",{className:`font-medium capitalize ${y.status==="completed"?"text-green-600":"text-blue-600"}`,children:y.status})]})]})]}),t.jsxs("table",{className:"w-full border-collapse mb-8",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-gray-100",children:[t.jsx("th",{className:"text-left p-4 font-bold text-gray-800 border-b-2 border-gray-300",children:"Service Description"}),t.jsx("th",{className:"text-center p-4 font-bold text-gray-800 border-b-2 border-gray-300",children:"Quantity"}),t.jsx("th",{className:"text-right p-4 font-bold text-gray-800 border-b-2 border-gray-300",children:"Amount"})]})}),t.jsx("tbody",{children:y.cartItems&&y.cartItems.length>0?y.cartItems.map((F,X)=>t.jsxs("tr",{children:[t.jsxs("td",{className:"p-4 border-b border-gray-200",children:[t.jsx("p",{className:"font-medium text-gray-800",children:F.name||F.serviceName}),F.description&&t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:F.description})]}),t.jsx("td",{className:"p-4 text-center border-b border-gray-200 text-gray-700",children:F.quantity||1}),t.jsxs("td",{className:"p-4 text-right border-b border-gray-200 font-medium text-gray-800",children:["",F.price||F.amount||0]})]},X)):t.jsxs("tr",{children:[t.jsxs("td",{className:"p-4 border-b border-gray-200",children:[t.jsx("p",{className:"font-medium text-gray-800",children:y.serviceName||"Service"}),t.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Booking Date: ",new Date(y.bookingDate).toLocaleDateString("en-IN")]}),y.bookingTime&&t.jsxs("p",{className:"text-sm text-gray-600",children:["Time: ",y.bookingTime]})]}),t.jsx("td",{className:"p-4 text-center border-b border-gray-200 text-gray-700",children:"1"}),t.jsxs("td",{className:"p-4 text-right border-b border-gray-200 font-medium text-gray-800",children:["",y.amount||y.totalAmount||0]})]})})]}),t.jsx("div",{className:"flex justify-end mb-8",children:t.jsxs("div",{className:"w-64",children:[t.jsxs("div",{className:"flex justify-between py-2 text-gray-700",children:[t.jsx("span",{children:"Subtotal:"}),t.jsxs("span",{children:["",y.amount||y.totalAmount||0]})]}),y.gstAmount>0&&t.jsxs("div",{className:"flex justify-between py-2 text-gray-700",children:[t.jsx("span",{children:"GST (18%):"}),t.jsxs("span",{children:["",y.gstAmount]})]}),y.usewallet>0&&t.jsxs("div",{className:"flex justify-between py-2 text-green-600",children:[t.jsx("span",{children:"Wallet Used:"}),t.jsxs("span",{children:["- ",y.usewallet]})]}),y.discount>0&&t.jsxs("div",{className:"flex justify-between py-2 text-green-600",children:[t.jsx("span",{children:"Discount:"}),t.jsxs("span",{children:["- ",y.discount]})]}),t.jsxs("div",{className:"flex justify-between py-3 border-t-2 border-gray-300 font-bold text-lg text-primary",children:[t.jsx("span",{children:"Total Amount:"}),t.jsxs("span",{children:["",y.totalAmount||0]})]})]})}),t.jsxs("div",{className:"text-center pt-6 border-t border-gray-300",children:[t.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Thank you for choosing Nexo!"}),t.jsx("p",{className:"text-xs text-gray-500",children:"For any queries, contact us at support@nexo.works | +91 1800-XXX-XXXX"}),t.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"This is a computer-generated invoice and does not require a signature."})]})]})}),t.jsxs("div",{className:"flex gap-4 mt-8 pt-6 border-t border-gray-200",children:[t.jsxs("button",{onClick:A,className:"flex-1 flex items-center justify-center gap-2 px-6 py-3 bg-primary text-white rounded-xl hover:bg-primary-dark transition-all font-semibold",children:[t.jsx(X0,{size:20}),"Print Invoice"]}),t.jsxs("button",{onClick:D,className:"flex-1 flex items-center justify-center gap-2 px-6 py-3 bg-green-600 text-white rounded-xl hover:bg-green-700 transition-all font-semibold",children:[t.jsx(kn,{size:20}),"Download PDF"]}),t.jsx("button",{onClick:()=>w(!1),className:"px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 font-semibold transition-all",children:"Close"})]})]})]})})]})},cSe=()=>{const{bookingId:e}=xm(),r=Qt(),[s,a]=g.useState(null),[n,i]=g.useState(!0);g.useEffect(()=>{l()},[e]);const l=async()=>{try{const c=localStorage.getItem("userToken"),d=await Pt.get(`https://nexo.works/api/user/bookings/${e}`,{headers:{Authorization:`Bearer ${c}`}});a(d.data.data||d.data.booking)}catch(c){console.error("Error fetching booking details:",c)}finally{i(!1)}},o=async()=>{if(confirm("Are you sure you want to cancel this booking?"))try{const c=localStorage.getItem("userToken");await Pt.put(`https://nexo.works/api/user/bookings/${e}/cancel`,{},{headers:{Authorization:`Bearer ${c}`}}),alert("Booking cancelled successfully"),l()}catch(c){console.error("Error cancelling booking:",c),alert("Failed to cancel booking")}};return n?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):s?t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("button",{onClick:()=>r("/user/dashboard/bookings"),className:"p-2 hover:bg-gray-100 rounded-lg",children:t.jsx(Y0,{size:24})}),t.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Booking Details"})]}),t.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:s.serviceName||"Service Booking"}),t.jsxs("p",{className:"text-gray-500",children:["Booking ID: ",s._id]})]}),t.jsx("span",{className:`px-4 py-2 rounded-full text-sm font-medium
            ${s.status==="completed"?"bg-green-100 text-green-800":s.status==="cancelled"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:s.status})]})}),t.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Booking Information"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-start",children:[t.jsx(Ss,{className:"text-gray-400 mt-1 mr-3",size:20}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Date"}),t.jsx("p",{className:"font-medium text-gray-800",children:new Date(s.bookingDate).toLocaleDateString("en-IN",{day:"numeric",month:"long",year:"numeric"})})]})]}),s.bookingTime&&t.jsxs("div",{className:"flex items-start",children:[t.jsx(ns,{className:"text-gray-400 mt-1 mr-3",size:20}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Time"}),t.jsx("p",{className:"font-medium text-gray-800",children:s.bookingTime})]})]}),s.address&&t.jsxs("div",{className:"flex items-start",children:[t.jsx(Pr,{className:"text-gray-400 mt-1 mr-3",size:20}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Address"}),t.jsx("p",{className:"font-medium text-gray-800",children:s.address})]})]})]})]}),s.partner&&t.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Service Provider"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-start",children:[t.jsx(vr,{className:"text-gray-400 mt-1 mr-3",size:20}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Name"}),t.jsx("p",{className:"font-medium text-gray-800",children:s.partner.name})]})]}),s.partner.phone&&t.jsxs("div",{className:"flex items-start",children:[t.jsx(tn,{className:"text-gray-400 mt-1 mr-3",size:20}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Phone"}),t.jsx("p",{className:"font-medium text-gray-800",children:s.partner.phone})]})]})]})]}),s.cartItems&&s.cartItems.length>0&&t.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Services Booked"}),t.jsx("div",{className:"space-y-3",children:s.cartItems.map((c,d)=>t.jsxs("div",{className:"flex justify-between items-start py-2 border-b border-gray-100 last:border-0",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"font-medium text-gray-800",children:c.name||c.serviceName}),c.description&&t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:c.description}),c.quantity&&c.quantity>1&&t.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Quantity: ",c.quantity]})]}),t.jsxs("span",{className:"font-medium text-gray-800 ml-4",children:["",c.price||c.amount||0]})]},d))})]}),s.totalAmount&&t.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Payment Details"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between text-gray-600",children:[t.jsx("span",{children:"Subtotal"}),t.jsxs("span",{children:["",s.amount||0]})]}),s.gstAmount>0&&t.jsxs("div",{className:"flex justify-between text-gray-600",children:[t.jsx("span",{children:"GST (18%)"}),t.jsxs("span",{children:["",s.gstAmount]})]}),s.usewallet>0&&t.jsxs("div",{className:"flex justify-between text-green-600",children:[t.jsx("span",{children:"Wallet Used"}),t.jsxs("span",{children:["- ",s.usewallet]})]}),s.discount>0&&t.jsxs("div",{className:"flex justify-between text-green-600",children:[t.jsx("span",{children:"Discount"}),t.jsxs("span",{children:["- ",s.discount]})]}),t.jsxs("div",{className:"pt-3 border-t",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-lg font-semibold text-gray-800",children:"Total Amount"}),t.jsxs("span",{className:"text-2xl font-bold text-gray-800",children:["",s.totalAmount]})]}),t.jsx("div",{className:"mt-2",children:t.jsxs("span",{className:`inline-block px-3 py-1 rounded-full text-sm font-medium ${s.paymentStatus==="completed"?"bg-green-100 text-green-800":s.paymentStatus==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:["Payment: ",s.paymentStatus]})})]})]})]}),s.status!=="cancelled"&&s.status!=="completed"&&t.jsx("div",{className:"flex gap-4",children:t.jsx("button",{onClick:o,className:"flex-1 px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Cancel Booking"})}),s.status==="completed"&&!s.reviewed&&t.jsx("button",{onClick:()=>r(`/user/dashboard/bookings/${e}/review`),className:"w-full px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Write a Review"})]}):t.jsxs("div",{className:"text-center py-12",children:[t.jsx("p",{className:"text-gray-500",children:"Booking not found"}),t.jsx("button",{onClick:()=>r("/user/dashboard/bookings"),className:"mt-4 text-blue-600 hover:text-blue-700",children:"Back to Bookings"})]})},mE="https://nexo.works",Zt=e=>e.startsWith("/api/")?`${mE}${e}`:`${mE}/api/user${e}`,rr=e=>{const r={"Content-Type":"application/json"};return e&&(r.Authorization=`Bearer ${e}`),r},er=async e=>{const r=e.headers.get("content-type")||"",s=r.includes("application/json"),a=await e.text();if(console.log("API Response:",{status:e.status,ok:e.ok,contentType:r,text:a.substring(0,200)}),!a||a.trim()===""){if(!e.ok){const i=new Error("Empty response from server");throw i.status=e.status,i}return{success:!0,message:"Operation completed successfully"}}let n;if(s)try{n=JSON.parse(a)}catch(i){console.error("JSON Parse Error:",i),n=a}else n=a;if(!e.ok){const i=new Error((n==null?void 0:n.message)||(n==null?void 0:n.error)||"Request failed");throw i.status=e.status,i.data=n,i}return n},Qn={async register(e){const r=await fetch(Zt("/register"),{method:"POST",headers:rr(),body:JSON.stringify(e)});return er(r)},async sendOTP(e){const r=Zt("/auth/send-otp");console.log("Sending OTP to URL:",r,"Phone:",e);const s=await fetch(r,{method:"POST",headers:rr(),body:JSON.stringify({phone:e})});return er(s)},async sendLoginOTP(e){const r=Zt("/login/otp/send");console.log("Sending Login OTP to URL:",r,"Phone:",e);const s=await fetch(r,{method:"POST",headers:rr(),body:JSON.stringify({phone:e})});return er(s)},async verifyOTP(e,r){const s=await fetch(Zt("/login/otp/verify"),{method:"POST",headers:rr(),body:JSON.stringify({phone:e,otp:r})});return er(s)},async loginWithPassword(e,r){const s=await fetch(Zt("/login/password"),{method:"POST",headers:rr(),body:JSON.stringify({email:e,password:r})});return er(s)},async getProfile(e){const r=await fetch(Zt("/profile"),{headers:rr(e)});return er(r)},async updateProfile(e,r){const s={Authorization:`Bearer ${e}`},a=await fetch(Zt("/profile"),{method:"PUT",headers:s,body:r});return er(a)},async changePassword(e,r,s){const a=await fetch(Zt("/change-password"),{method:"PUT",headers:rr(e),body:JSON.stringify({currentPassword:r,newPassword:s})});return er(a)},async addAddress(e,r){const s=await fetch(Zt("/address"),{method:"POST",headers:rr(e),body:JSON.stringify(r)});return er(s)},async updateAddress(e,r,s){const a=await fetch(Zt(`/address/${r}`),{method:"PUT",headers:rr(e),body:JSON.stringify(s)});return er(a)},async deleteAddress(e,r){const s=await fetch(Zt(`/address/${r}`),{method:"DELETE",headers:rr(e)});return er(s)},async getBookings(e){const r=await fetch(Zt("/bookings"),{headers:rr(e)});return er(r)},async getBookingDetails(e,r){const s=await fetch(Zt(`/bookings/${r}`),{headers:rr(e)});return er(s)},async cancelBooking(e,r){const s=await fetch(Zt(`/bookings/${r}/cancel`),{method:"PUT",headers:rr(e)});return er(s)},async getWalletBalance(e,r){const s=await fetch(Zt(`/wallet/${r}`),{headers:rr(e)});return er(s)},async getWalletDetails(e,r){const s=await fetch(Zt(`/wallet/${r}`),{headers:rr(e)});return er(s)},async initiateWalletPayment(e,r,s){const a=await fetch(Zt("/wallet/initiate-payment"),{method:"POST",headers:rr(e),body:JSON.stringify({amount:r,userId:s})});return er(a)},async checkWalletPaymentStatus(e,r){const s=await fetch(Zt(`/wallet/payment-status/${r}`),{headers:rr(e)});return er(s)},async getNotifications(e){const r=await fetch(Zt("/notifications"),{headers:rr(e)});return er(r)},async markNotificationAsRead(e,r){const s=await fetch(Zt(`/notifications/${r}/read`),{method:"PUT",headers:rr(e)});return er(s)},async deleteNotification(e,r){const s=await fetch(Zt(`/notifications/${r}`),{method:"DELETE",headers:rr(e)});return er(s)},async sendSupportMessage(e,r,s){const a=await fetch(Zt("/contactus"),{method:"POST",headers:rr(e),body:JSON.stringify({subject:r,message:s})});return er(a)},async submitReview(e,r){const s=await fetch(Zt("/reviews"),{method:"POST",headers:rr(e),body:JSON.stringify(r)});return er(s)},async getDashboard(e){const r=await fetch(Zt("/dashboard"),{headers:rr(e)});return er(r)},async getQuickStats(e){const r=await fetch(Zt("/dashboard/quick-stats"),{headers:rr(e)});return er(r)},async getSmartAlerts(e){const r=await fetch(Zt("/dashboard/alerts"),{headers:rr(e)});return er(r)},async getActivityStreak(e){const r=await fetch(Zt("/dashboard/streak"),{headers:rr(e)});return er(r)},async getSuggestions(e){const r=await fetch(Zt("/dashboard/suggestions"),{headers:rr(e)});return er(r)},async getRecentActivity(e,r=15){const s=await fetch(Zt(`/dashboard/activity?limit=${r}`),{headers:rr(e)});return er(s)},async getBookingStats(e){const r=await fetch(Zt("/dashboard/booking-stats"),{headers:rr(e)});return er(r)},async getWalletSummaryDashboard(e){const r=await fetch(Zt("/dashboard/wallet-summary"),{headers:rr(e)});return er(r)},async getDashboardInsights(e){const r=await fetch(Zt("/dashboard/insights"),{headers:rr(e)});return er(r)},async getRecommendations(e){const r=await fetch(Zt("/dashboard/recommendations"),{headers:rr(e)});return er(r)},async getGreeting(e){const r=await fetch(Zt("/dashboard/greeting"),{headers:rr(e)});return er(r)}},hE="https://nexo.works",dSe=()=>{const{checkAuth:e}=an(),[r,s]=g.useState({name:"",email:"",phone:"",profilePicture:"",userType:"home",companyDetails:{companyName:"",companySize:"",industry:"",gstNumber:"",contactPerson:"",designation:""}}),[a,n]=g.useState(!0),[i,l]=g.useState(!1),[o,c]=g.useState(null),[d,u]=g.useState(!1),[m,x]=g.useState(!1),[h,p]=g.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[f,b]=g.useState(!1),[j,w]=g.useState(!1),[y,v]=g.useState(!1),[N,S]=g.useState(!1);g.useEffect(()=>{k()},[]);const k=async()=>{try{const F=localStorage.getItem("userToken"),ce=(await Pt.get(`${hE}/api/user/profile`,{headers:{Authorization:`Bearer ${F}`}})).data.user;console.log("Fetched user data:",ce);const he={name:ce.name||"",email:ce.email||"",phone:ce.phone||"",profilePicture:ce.profilePicture||"",userType:ce.userType||"home",companyDetails:ce.companyDetails||{companyName:"",companySize:"",industry:"",gstNumber:"",contactPerson:"",designation:""}};console.log("Setting profile data:",he),s(he),ce.profilePicture&&c(ce.profilePicture)}catch(F){console.error("Error fetching profile:",F)}finally{n(!1)}},C=F=>{s({...r,[F.target.name]:F.target.value})},P=F=>{s({...r,companyDetails:{...r.companyDetails,[F.target.name]:F.target.value}})},_=F=>{const X=F.target.files[0];if(X){const ce=new FileReader;ce.onloadend=()=>{c(ce.result)},ce.readAsDataURL(X),s({...r,profilePicture:X})}},A=async F=>{F.preventDefault(),l(!0);try{const X=localStorage.getItem("userToken"),ce=new FormData;ce.append("name",r.name),ce.append("email",r.email),ce.append("userType",r.userType),r.userType==="company"&&ce.append("companyDetails",JSON.stringify(r.companyDetails)),r.profilePicture instanceof File&&ce.append("profilePicture",r.profilePicture),await Pt.put(`${hE}/api/user/profile`,ce,{headers:{Authorization:`Bearer ${X}`,"Content-Type":"multipart/form-data"}}),u(!0),setTimeout(()=>u(!1),3e3),await k(),await e()}catch(X){console.error("Error updating profile:",X),alert("Failed to update profile")}finally{l(!1)}},D=async F=>{if(F.preventDefault(),h.newPassword!==h.confirmPassword){alert("New password and confirm password do not match");return}if(h.newPassword.length<6){alert("Password must be at least 6 characters long");return}S(!0);try{const X=localStorage.getItem("userToken");await Qn.changePassword(X,h.currentPassword,h.newPassword),u(!0),setTimeout(()=>u(!1),3e3),p({currentPassword:"",newPassword:"",confirmPassword:""}),x(!1)}catch(X){console.error("Error changing password:",X),alert(X.message||"Failed to change password. Please check your current password.")}finally{S(!1)}};return a?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):t.jsxs("div",{className:"space-y-6",children:[d&&t.jsxs("div",{className:"fixed top-4 right-4 z-50 bg-green-500 text-white px-6 py-4 rounded-lg shadow-lg flex items-center gap-3 animate-slide-in",children:[t.jsx(vt,{size:24}),t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold",children:"Profile Updated!"}),t.jsx("p",{className:"text-sm text-green-100",children:"Your changes have been saved successfully."})]})]}),t.jsxs("div",{className:"relative bg-gradient-to-br from-primary via-primary-dark to-[#152d47] rounded-3xl p-8 md:p-12 text-white overflow-hidden shadow-2xl",children:[t.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/10 rounded-full -mr-32 -mt-32"}),t.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-white/5 rounded-full -ml-24 -mb-24"}),t.jsxs("div",{className:"relative z-10",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center",children:t.jsx(vr,{size:24})}),t.jsx("h1",{className:"text-3xl md:text-4xl font-bold",children:"My Profile"})]}),t.jsx("p",{className:"text-blue-100 text-lg",children:"Manage your personal information and account settings"})]})]}),t.jsxs("div",{className:"max-w-3xl mx-auto",children:[t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden",children:[t.jsx("div",{className:"bg-gradient-to-r from-primary/10 to-primary-light/10 p-8 border-b border-gray-200",children:t.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6",children:[t.jsxs("div",{className:"relative group",children:[t.jsx("div",{className:"w-32 h-32 rounded-2xl overflow-hidden bg-gradient-to-br from-primary/20 to-primary-light/20 ring-4 ring-white shadow-xl",children:o?t.jsx("img",{src:o,alt:"Profile",className:"w-full h-full object-cover"}):t.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-primary to-primary-light",children:t.jsx(vr,{size:48,className:"text-white"})})}),t.jsxs("label",{className:"absolute bottom-0 right-0 p-3 bg-primary rounded-xl cursor-pointer hover:bg-primary-dark transition-all shadow-lg group-hover:scale-110 transform duration-300",children:[t.jsx(l0,{className:"text-white",size:20}),t.jsx("input",{type:"file",accept:"image/*",onChange:_,className:"hidden"})]})]}),t.jsxs("div",{className:"text-center md:text-left",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:r.name||"User"}),t.jsx("p",{className:"text-gray-600 mb-3",children:r.email||"No email provided"}),t.jsxs("div",{className:"flex items-center gap-2 text-sm text-primary",children:[t.jsx(Xa,{size:16}),t.jsx("span",{className:"font-medium",children:"Verified Account"})]})]})]})}),t.jsxs("form",{onSubmit:A,className:"p-8 space-y-6",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[t.jsx(ep,{size:16,className:"text-primary"}),"Full Name *"]}),t.jsxs("div",{className:"relative",children:[t.jsx(vr,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400"}),t.jsx("input",{type:"text",name:"name",value:r.name,onChange:C,className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-primary focus:border-primary transition-all",placeholder:"Enter your full name",required:!0})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[t.jsx(ep,{size:16,className:"text-primary"}),"Email Address *"]}),t.jsxs("div",{className:"relative",children:[t.jsx(en,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400"}),t.jsx("input",{type:"email",name:"email",value:r.email,onChange:C,className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-primary focus:border-primary transition-all",placeholder:"Enter your email address",required:!0})]})]}),t.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-xl p-6",children:[t.jsxs("label",{className:"block text-lg font-bold text-gray-900 mb-3 flex items-center gap-2",children:[t.jsx(ep,{size:20,className:"text-primary"}),"Account Type *"]}),t.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Choose your account type to get personalized services and AMC plans"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[{value:"home",label:"Home",icon:Za,desc:"Personal/Residential"},{value:"pg",label:"PG/Hostel",icon:Mr,desc:"Paying Guest/Hostel"},{value:"company",label:"Business",icon:as,desc:"Company/Organization"}].map(F=>{const X=F.icon,ce=r.userType===F.value;return t.jsxs("div",{onClick:()=>s({...r,userType:F.value}),className:`relative p-4 border-2 rounded-xl cursor-pointer transition-all duration-300 ${ce?"border-primary bg-primary/5 shadow-md":"border-gray-200 hover:border-primary/50 hover:shadow-sm"}`,children:[t.jsxs("div",{className:"flex flex-col items-center text-center",children:[t.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center mb-2 ${ce?"bg-primary text-white":"bg-gray-100 text-gray-600"}`,children:t.jsx(X,{size:24})}),t.jsx("h3",{className:`font-semibold text-sm ${ce?"text-primary":"text-gray-900"}`,children:F.label}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:F.desc})]}),ce&&t.jsx("div",{className:"absolute top-2 right-2",children:t.jsx(vt,{className:"text-primary",size:20})})]},F.value)})}),t.jsx("div",{className:"mt-4 p-3 bg-white border border-blue-200 rounded-lg",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(vt,{className:"text-green-500",size:16}),t.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Current selection: ",t.jsx("span",{className:"text-primary font-bold",children:r.userType==="home"?"Home (Personal/Residential)":r.userType==="pg"?"PG/Hostel (Paying Guest/Hostel)":"Business (Company/Organization)"})]})]})})]}),r.userType==="company"&&t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6 space-y-4",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[t.jsx(as,{className:"text-blue-600",size:20}),t.jsx("h3",{className:"text-lg font-bold text-blue-900",children:"Company Details"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Company Name *"}),t.jsx("input",{type:"text",name:"companyName",value:r.companyDetails.companyName,onChange:P,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-primary focus:border-primary transition-all",placeholder:"Enter company name",required:r.userType==="company"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Company Size"}),t.jsxs("select",{name:"companySize",value:r.companyDetails.companySize,onChange:P,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-primary focus:border-primary transition-all",children:[t.jsx("option",{value:"",children:"Select company size"}),t.jsx("option",{value:"small",children:"Small (1-50 employees)"}),t.jsx("option",{value:"medium",children:"Medium (51-200 employees)"}),t.jsx("option",{value:"large",children:"Large (201-1000 employees)"}),t.jsx("option",{value:"enterprise",children:"Enterprise (1000+ employees)"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Industry"}),t.jsx("input",{type:"text",name:"industry",value:r.companyDetails.industry,onChange:P,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-primary focus:border-primary transition-all",placeholder:"e.g., Technology, Healthcare, Manufacturing"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"GST Number"}),t.jsx("input",{type:"text",name:"gstNumber",value:r.companyDetails.gstNumber,onChange:P,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-primary focus:border-primary transition-all",placeholder:"Enter GST number (optional)"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Contact Person"}),t.jsx("input",{type:"text",name:"contactPerson",value:r.companyDetails.contactPerson,onChange:P,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-primary focus:border-primary transition-all",placeholder:"Primary contact person name"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Designation"}),t.jsx("input",{type:"text",name:"designation",value:r.companyDetails.designation,onChange:P,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-primary focus:border-primary transition-all",placeholder:"e.g., Manager, Director, Owner"})]})]}),t.jsx("div",{className:"bg-blue-100 border border-blue-300 rounded-lg p-3 mt-4",children:t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx(vt,{className:"text-blue-600 mt-0.5 flex-shrink-0",size:16}),t.jsxs("div",{className:"text-sm text-blue-800",children:[t.jsx("p",{className:"font-medium mb-1",children:"Business Account Benefits:"}),t.jsxs("ul",{className:"text-xs space-y-1",children:[t.jsx("li",{children:" Access to business AMC plans"}),t.jsx("li",{children:" Priority customer support"}),t.jsx("li",{children:" Bulk service discounts"}),t.jsx("li",{children:" Dedicated account manager"})]})]})]})})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[t.jsx(Xa,{size:16,className:"text-gray-400"}),"Phone Number (Verified)"]}),t.jsxs("div",{className:"relative",children:[t.jsx(tn,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400"}),t.jsx("input",{type:"tel",value:r.phone,className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-xl bg-gray-50 text-gray-600 cursor-not-allowed",disabled:!0})]}),t.jsxs("div",{className:"flex items-center gap-2 mt-2 text-sm text-gray-500",children:[t.jsx(vt,{size:14,className:"text-green-500"}),t.jsx("span",{children:"Phone number is verified and cannot be changed"})]})]}),t.jsx("div",{className:"pt-4",children:t.jsx("button",{type:"submit",disabled:i,className:"w-full flex items-center justify-center gap-2 px-6 py-4 bg-gradient-to-r from-primary to-primary-light text-white rounded-xl hover:from-primary-dark hover:to-primary disabled:from-gray-400 disabled:to-gray-400 disabled:cursor-not-allowed font-semibold shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-[1.02]",children:i?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"Saving Changes..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Xi,{size:20}),"Save Changes"]})})})]})]}),t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden",children:[t.jsxs("button",{onClick:()=>x(!m),className:"w-full bg-gradient-to-r from-primary/10 to-primary-light/10 p-6 border-b border-gray-200 flex items-center justify-between hover:from-primary/15 hover:to-primary-light/15 transition-all",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-primary rounded-xl flex items-center justify-center",children:t.jsx(_s,{className:"text-white",size:20})}),t.jsxs("div",{className:"text-left",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Change Password"}),t.jsx("p",{className:"text-gray-600 text-sm mt-0.5",children:"Update your account password"})]})]}),t.jsx("div",{className:`transform transition-transform ${m?"rotate-180":""}`,children:t.jsx(ep,{className:"text-primary",size:20})})]}),m&&t.jsxs("form",{onSubmit:D,className:"p-8 space-y-6",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[t.jsx(_s,{size:16,className:"text-primary"}),"Current Password *"]}),t.jsxs("div",{className:"relative",children:[t.jsx(_s,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400"}),t.jsx("input",{type:f?"text":"password",value:h.currentPassword,onChange:F=>p({...h,currentPassword:F.target.value}),className:"w-full pl-12 pr-12 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-primary focus:border-primary transition-all",placeholder:"Enter current password",required:!0}),t.jsx("button",{type:"button",onClick:()=>b(!f),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:f?t.jsx(Qv,{size:20}):t.jsx(Ci,{size:20})})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[t.jsx(_s,{size:16,className:"text-primary"}),"New Password *"]}),t.jsxs("div",{className:"relative",children:[t.jsx(_s,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400"}),t.jsx("input",{type:j?"text":"password",value:h.newPassword,onChange:F=>p({...h,newPassword:F.target.value}),className:"w-full pl-12 pr-12 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-primary focus:border-primary transition-all",placeholder:"Enter new password (min 6 characters)",required:!0,minLength:6}),t.jsx("button",{type:"button",onClick:()=>w(!j),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:j?t.jsx(Qv,{size:20}):t.jsx(Ci,{size:20})})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[t.jsx(_s,{size:16,className:"text-primary"}),"Confirm New Password *"]}),t.jsxs("div",{className:"relative",children:[t.jsx(_s,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400"}),t.jsx("input",{type:y?"text":"password",value:h.confirmPassword,onChange:F=>p({...h,confirmPassword:F.target.value}),className:"w-full pl-12 pr-12 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-primary focus:border-primary transition-all",placeholder:"Confirm new password",required:!0}),t.jsx("button",{type:"button",onClick:()=>v(!y),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:y?t.jsx(Qv,{size:20}):t.jsx(Ci,{size:20})})]}),h.newPassword&&h.confirmPassword&&h.newPassword!==h.confirmPassword&&t.jsx("p",{className:"text-red-500 text-sm mt-2",children:"Passwords do not match"})]}),t.jsxs("div",{className:"flex gap-4 pt-4",children:[t.jsx("button",{type:"button",onClick:()=>{x(!1),p({currentPassword:"",newPassword:"",confirmPassword:""})},className:"flex-1 px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 font-semibold transition-all",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:N||h.newPassword!==h.confirmPassword,className:"flex-1 flex items-center justify-center gap-2 px-6 py-3 bg-gradient-to-r from-primary to-primary-light text-white rounded-xl hover:from-primary-dark hover:to-primary disabled:from-gray-400 disabled:to-gray-400 disabled:cursor-not-allowed font-semibold shadow-lg hover:shadow-xl transition-all duration-300",children:N?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"Changing..."]}):t.jsxs(t.Fragment,{children:[t.jsx(_s,{size:20}),"Change Password"]})})]})]})]}),t.jsx("div",{className:"bg-gradient-to-br from-primary via-primary-dark to-[#152d47] rounded-2xl p-6 text-white shadow-xl",children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center flex-shrink-0",children:t.jsx(Xa,{size:24})}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-bold text-lg mb-2",children:"Account Security"}),t.jsx("p",{className:"text-blue-100 mb-4",children:"Your account is secured with phone verification. Keep your profile information up to date for the best experience."}),t.jsxs("div",{className:"flex flex-wrap gap-3",children:[t.jsx("div",{className:"px-3 py-1.5 bg-white/20 backdrop-blur-sm rounded-lg text-sm font-medium",children:" Phone Verified"}),t.jsx("div",{className:"px-3 py-1.5 bg-white/20 backdrop-blur-sm rounded-lg text-sm font-medium",children:" Active Account"}),r.password&&t.jsx("div",{className:"px-3 py-1.5 bg-white/20 backdrop-blur-sm rounded-lg text-sm font-medium",children:" Password Set"})]})]})]})})]})]})},uSe=()=>{const[e,r]=g.useState([]),[s,a]=g.useState(!0),[n,i]=g.useState(!1),[l,o]=g.useState(null),[c,d]=g.useState(!1),[u,m]=g.useState(!1),[x,h]=g.useState(!1),[p,f]=g.useState({address:"",lat:"",lng:"",landmark:"",addressType:"home"});g.useEffect(()=>{b()},[]);const b=async()=>{try{const S=localStorage.getItem("userToken"),k=await Pt.get("https://nexo.works/api/user/profile",{headers:{Authorization:`Bearer ${S}`}});r(k.data.user.addresses||[])}catch(S){console.error("Error fetching addresses:",S)}finally{a(!1)}},j=async S=>{S.preventDefault(),m(!0);try{const k=localStorage.getItem("userToken");l?await Pt.put(`https://nexo.works/api/user/address/${l._id}`,p,{headers:{Authorization:`Bearer ${k}`}}):await Pt.post("https://nexo.works/api/user/address",p,{headers:{Authorization:`Bearer ${k}`}}),d(!0),setTimeout(()=>d(!1),3e3),i(!1),o(null),f({address:"",lat:"",lng:"",landmark:"",addressType:"home"}),b()}catch(k){console.error("Error saving address:",k),alert("Failed to save address. Please try again.")}finally{m(!1)}},w=async S=>{if(confirm("Are you sure you want to delete this address?"))try{const k=localStorage.getItem("userToken");await Pt.delete(`https://nexo.works/api/user/address/${S}`,{headers:{Authorization:`Bearer ${k}`}}),alert("Address deleted successfully"),b()}catch(k){console.error("Error deleting address:",k),alert("Failed to delete address")}},y=S=>{o(S),f({address:S.address,lat:S.lat||"",lng:S.lng||"",landmark:S.landmark||"",addressType:S.addressType||"home"}),i(!0)},v=S=>S==="work"?t.jsx(as,{size:20}):t.jsx(Za,{size:20}),N=()=>{if(!navigator.geolocation){alert("Geolocation is not supported by your browser");return}h(!0),navigator.geolocation.getCurrentPosition(async S=>{const{latitude:k,longitude:C}=S.coords;try{const _=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${k}&lon=${C}&zoom=18&addressdetails=1`)).json();_&&_.display_name?f({...p,address:_.display_name,lat:k.toString(),lng:C.toString()}):f({...p,address:`Location: ${k.toFixed(6)}, ${C.toFixed(6)}`,lat:k.toString(),lng:C.toString()})}catch(P){console.error("Error reverse geocoding:",P),f({...p,address:`Location: ${k.toFixed(6)}, ${C.toFixed(6)}`,lat:k.toString(),lng:C.toString()})}finally{h(!1)}},S=>{console.error("Error getting location:",S);let k="Unable to get your location. ";switch(S.code){case S.PERMISSION_DENIED:k+="Please allow location access in your browser settings.";break;case S.POSITION_UNAVAILABLE:k+="Location information is unavailable.";break;case S.TIMEOUT:k+="Location request timed out.";break;default:k+="An unknown error occurred."}alert(k),h(!1)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})};return s?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):t.jsxs("div",{className:"space-y-6",children:[c&&t.jsxs("div",{className:"fixed top-4 right-4 z-50 bg-green-500 text-white px-6 py-4 rounded-lg shadow-lg flex items-center gap-3 animate-slide-in",children:[t.jsx(vt,{size:24}),t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold",children:"Success!"}),t.jsx("p",{className:"text-sm text-green-100",children:"Address saved successfully."})]})]}),t.jsxs("div",{className:"relative bg-gradient-to-br from-primary via-primary-dark to-[#152d47] rounded-3xl p-8 md:p-12 text-white overflow-hidden shadow-2xl",children:[t.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/10 rounded-full -mr-32 -mt-32"}),t.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-white/5 rounded-full -ml-24 -mb-24"}),t.jsx("div",{className:"relative z-10",children:t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center",children:t.jsx(Pr,{size:24})}),t.jsx("h1",{className:"text-3xl md:text-4xl font-bold",children:"My Addresses"})]}),t.jsx("p",{className:"text-blue-100 text-lg",children:"Manage your saved addresses for faster bookings"})]}),t.jsxs("button",{onClick:()=>{o(null),f({address:"",lat:"",lng:"",landmark:"",addressType:"home"}),i(!0)},className:"flex items-center justify-center gap-2 px-6 py-3 bg-white text-primary rounded-xl hover:bg-blue-50 transition-all shadow-lg hover:shadow-xl transform hover:scale-105 font-semibold",children:[t.jsx(Tr,{size:20}),"Add New Address"]})]})})]}),e.length===0?t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 p-12 text-center",children:[t.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-primary/10 to-primary-light/10 rounded-full flex items-center justify-center mx-auto mb-6",children:t.jsx(Pr,{className:"text-primary",size:48})}),t.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-3",children:"No Addresses Yet"}),t.jsx("p",{className:"text-gray-600 mb-8 max-w-md mx-auto",children:"Add your first address to make booking services faster and easier. You can save multiple addresses for home, work, and more."}),t.jsxs("button",{onClick:()=>i(!0),className:"inline-flex items-center gap-2 px-8 py-4 bg-gradient-to-r from-primary to-primary-light text-white rounded-xl hover:from-primary-dark hover:to-primary font-semibold shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:[t.jsx(Tr,{size:20}),"Add Your First Address"]})]}):t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map((S,k)=>t.jsxs("div",{className:"group bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 p-6 border border-gray-100 hover:border-primary/30 hover:-translate-y-1",children:[t.jsxs("div",{className:"flex justify-between items-start mb-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:`p-3 rounded-xl ${S.addressType==="home"?"bg-blue-100 text-blue-600":S.addressType==="work"?"bg-purple-100 text-purple-600":"bg-green-100 text-green-600"} group-hover:scale-110 transition-transform`,children:v(S.addressType)}),t.jsxs("div",{children:[t.jsx("span",{className:"font-bold text-gray-800 capitalize block",children:S.addressType}),t.jsxs("span",{className:"text-xs text-gray-500",children:["Address #",k+1]})]})]}),t.jsxs("div",{className:"flex gap-1",children:[t.jsx("button",{onClick:()=>y(S),className:"p-2 text-primary hover:bg-primary/10 rounded-lg transition-colors",title:"Edit address",children:t.jsx(ks,{size:18})}),t.jsx("button",{onClick:()=>w(S._id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete address",children:t.jsx(Ma,{size:18})})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx(Pr,{className:"text-gray-400 mt-1 flex-shrink-0",size:16}),t.jsx("p",{className:"text-gray-700 text-sm leading-relaxed",children:S.address})]}),S.landmark&&t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx(Zv,{className:"text-gray-400 mt-1 flex-shrink-0",size:16}),t.jsxs("p",{className:"text-sm text-gray-600",children:[t.jsx("span",{className:"font-medium",children:"Landmark:"})," ",S.landmark]})]})]}),t.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100",children:t.jsx("button",{onClick:()=>y(S),className:"w-full py-2 text-primary hover:bg-primary/5 rounded-lg transition-colors text-sm font-medium",children:"Edit Details"})})]},S._id))}),n&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:t.jsxs("div",{className:"bg-white rounded-2xl max-w-lg w-full shadow-2xl overflow-hidden animate-slide-up",children:[t.jsx("div",{className:"bg-gradient-to-r from-primary/10 to-primary-light/10 p-6 border-b border-gray-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-primary rounded-xl flex items-center justify-center",children:t.jsx(Pr,{className:"text-white",size:20})}),t.jsx("h2",{className:"text-xl font-bold text-gray-800",children:l?"Edit Address":"Add New Address"})]}),t.jsx("button",{onClick:()=>{i(!1),o(null)},className:"p-2 hover:bg-gray-200 rounded-lg transition-colors",children:t.jsx(mt,{size:20,className:"text-gray-600"})})]})}),t.jsxs("form",{onSubmit:j,className:"p-6 space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Address Type *"}),t.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[t.jsxs("label",{className:`flex flex-col items-center justify-center p-4 border-2 rounded-xl cursor-pointer transition-all ${p.addressType==="home"?"border-primary bg-primary/5":"border-gray-200 hover:border-primary/30"}`,children:[t.jsx("input",{type:"radio",name:"addressType",value:"home",checked:p.addressType==="home",onChange:S=>f({...p,addressType:S.target.value}),className:"sr-only"}),t.jsx(Za,{size:24,className:p.addressType==="home"?"text-primary":"text-gray-400"}),t.jsx("span",{className:`mt-2 text-sm font-medium ${p.addressType==="home"?"text-primary":"text-gray-600"}`,children:"Home"})]}),t.jsxs("label",{className:`flex flex-col items-center justify-center p-4 border-2 rounded-xl cursor-pointer transition-all ${p.addressType==="work"?"border-primary bg-primary/5":"border-gray-200 hover:border-primary/30"}`,children:[t.jsx("input",{type:"radio",name:"addressType",value:"work",checked:p.addressType==="work",onChange:S=>f({...p,addressType:S.target.value}),className:"sr-only"}),t.jsx(as,{size:24,className:p.addressType==="work"?"text-primary":"text-gray-400"}),t.jsx("span",{className:`mt-2 text-sm font-medium ${p.addressType==="work"?"text-primary":"text-gray-600"}`,children:"Work"})]}),t.jsxs("label",{className:`flex flex-col items-center justify-center p-4 border-2 rounded-xl cursor-pointer transition-all ${p.addressType==="other"?"border-primary bg-primary/5":"border-gray-200 hover:border-primary/30"}`,children:[t.jsx("input",{type:"radio",name:"addressType",value:"other",checked:p.addressType==="other",onChange:S=>f({...p,addressType:S.target.value}),className:"sr-only"}),t.jsx(e9,{size:24,className:p.addressType==="other"?"text-primary":"text-gray-400"}),t.jsx("span",{className:`mt-2 text-sm font-medium ${p.addressType==="other"?"text-primary":"text-gray-600"}`,children:"Other"})]})]})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Complete Address *"}),t.jsx("button",{type:"button",onClick:N,disabled:x,className:"flex items-center gap-2 px-3 py-1.5 text-sm font-medium text-primary hover:bg-primary/10 rounded-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:x?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),"Getting..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Zv,{size:16}),"Use Current Location"]})})]}),t.jsxs("div",{className:"relative",children:[t.jsx(Pr,{className:"absolute left-4 top-4 text-gray-400",size:18}),t.jsx("textarea",{value:p.address,onChange:S=>f({...p,address:S.target.value}),className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-primary focus:border-primary transition-all resize-none",rows:"3",placeholder:"House/Flat No., Building Name, Street, Area",required:!0})]}),p.lat&&p.lng&&t.jsxs("p",{className:"text-xs text-green-600 mt-2 flex items-center gap-1",children:[t.jsx(vt,{size:12}),"Location coordinates saved: ",parseFloat(p.lat).toFixed(4),", ",parseFloat(p.lng).toFixed(4)]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Landmark (Optional)"}),t.jsxs("div",{className:"relative",children:[t.jsx(Zv,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),t.jsx("input",{type:"text",value:p.landmark,onChange:S=>f({...p,landmark:S.target.value}),className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-primary focus:border-primary transition-all",placeholder:"Nearby landmark for easy location"})]})]}),t.jsxs("div",{className:"flex gap-4 pt-4",children:[t.jsx("button",{type:"button",onClick:()=>{i(!1),o(null)},disabled:u,className:"flex-1 px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 font-semibold transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:u,className:"flex-1 flex items-center justify-center gap-2 px-6 py-3 bg-gradient-to-r from-primary to-primary-light text-white rounded-xl hover:from-primary-dark hover:to-primary disabled:from-gray-400 disabled:to-gray-400 disabled:cursor-not-allowed font-semibold shadow-lg hover:shadow-xl transition-all duration-300",children:u?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"Saving..."]}):t.jsxs(t.Fragment,{children:[t.jsx(vt,{size:20}),"Save Address"]})})]})]})]})})]})},mSe=()=>{const[e,r]=g.useState(null),[s,a]=g.useState(0),[n,i]=g.useState([]),[l,o]=g.useState(!0),[c,d]=g.useState(!1),[u,m]=g.useState(""),[x,h]=g.useState(!1),[p,f]=g.useState(null);g.useEffect(()=>{b(),w(),j()},[]);const b=async()=>{try{const v=localStorage.getItem("userToken");if(v){const N=await Qn.getProfile(v);r(N.user)}}catch(v){console.error("Error fetching user profile:",v)}},j=()=>{const v=new URLSearchParams(window.location.search),N=v.get("payment"),S=v.get("amount"),k=v.get("reason");N==="success"?(f({type:"success",message:`${S} added successfully to your wallet!`}),window.history.replaceState({},document.title,window.location.pathname),setTimeout(()=>{w(),f(null)},3e3)):N==="failed"&&(f({type:"error",message:`Payment failed: ${k||"Unknown error"}`}),setTimeout(()=>f(null),5e3))},w=async()=>{try{const v=localStorage.getItem("userToken"),N=(e==null?void 0:e._id)||localStorage.getItem("userId");if(!v||!N){console.error("No token or userId found"),o(!1);return}const S=await Qn.getWalletDetails(v,N);S.success&&(a(S.data.balance||0),i(S.data.transactions||[])),o(!1)}catch(v){console.error("Error fetching wallet data:",v),a(0),i([]),o(!1)}},y=async v=>{if(v.preventDefault(),!u||u<=0){alert("Please enter a valid amount");return}try{h(!0);const N=localStorage.getItem("userToken"),S=(e==null?void 0:e._id)||localStorage.getItem("userId");if(!N||!S){alert("Please login to continue"),h(!1);return}const k=await Qn.initiateWalletPayment(N,parseFloat(u),S);if(k.success){const C=document.createElement("form");C.method="POST",C.action=k.data.action,Object.keys(k.data).forEach(P=>{if(P!=="action"){const _=document.createElement("input");_.type="hidden",_.name=P,_.value=k.data[P],C.appendChild(_)}}),document.body.appendChild(C),C.submit()}else alert("Failed to initiate payment. Please try again."),h(!1)}catch(N){console.error("Error initiating payment:",N),alert("Failed to initiate payment. Please try again."),h(!1)}};return l?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):t.jsxs("div",{className:"space-y-6",children:[p&&t.jsxs("div",{className:`fixed top-4 right-4 z-50 max-w-md p-4 rounded-lg shadow-lg ${p.type==="success"?"bg-green-500":"bg-red-500"} text-white flex items-center gap-3 animate-slide-in`,children:[p.type==="success"?t.jsx(vt,{size:24}):t.jsx(Yn,{size:24}),t.jsx("p",{className:"font-medium",children:p.message})]}),t.jsxs("div",{className:"relative bg-gradient-to-br from-primary via-primary-dark to-blue-900 rounded-3xl p-8 text-white overflow-hidden shadow-2xl",children:[t.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/10 rounded-full -mr-32 -mt-32"}),t.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-white/5 rounded-full -ml-24 -mb-24"}),t.jsxs("div",{className:"relative z-10",children:[t.jsxs("div",{className:"flex justify-between items-start mb-8",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(Xt,{className:"text-white/80",size:20}),t.jsx("p",{className:"text-white/80 text-sm font-medium",children:"Available Balance"})]}),t.jsxs("h1",{className:"text-5xl font-bold mb-2",children:["",s.toFixed(2)]}),t.jsxs("p",{className:"text-white/60 text-sm",children:["Last updated: ",new Date().toLocaleDateString()]})]}),t.jsxs("button",{onClick:()=>d(!0),className:"flex items-center gap-2 px-6 py-3 bg-white text-primary rounded-xl hover:bg-white/90 transition-all shadow-lg hover:shadow-xl transform hover:scale-105 font-semibold",children:[t.jsx(Tr,{size:20}),"Add Money"]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4",children:[t.jsx("p",{className:"text-white/70 text-xs mb-1",children:"Total Spent"}),t.jsxs("p",{className:"text-2xl font-bold",children:["",n.filter(v=>v.type==="Debit").reduce((v,N)=>v+N.amount,0).toFixed(2)]})]}),t.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4",children:[t.jsx("p",{className:"text-white/70 text-xs mb-1",children:"Total Added"}),t.jsxs("p",{className:"text-2xl font-bold",children:["",n.filter(v=>v.type==="Credit").reduce((v,N)=>v+N.amount,0).toFixed(2)]})]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("button",{onClick:()=>d(!0),className:"bg-white rounded-lg shadow p-6 hover:shadow-lg transition-shadow text-left",children:[t.jsx(Tr,{className:"text-green-600 mb-3",size:32}),t.jsx("h3",{className:"font-semibold text-gray-800 mb-1",children:"Add Money"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Top up your wallet"})]}),t.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[t.jsx(Bf,{className:"text-blue-600 mb-3",size:32}),t.jsx("h3",{className:"font-semibold text-gray-800 mb-1",children:"Total Spent"}),t.jsxs("p",{className:"text-2xl font-bold text-gray-800",children:["",n.filter(v=>v.type==="Debit").reduce((v,N)=>v+N.amount,0).toFixed(2)]})]}),t.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[t.jsx(Rf,{className:"text-purple-600 mb-3",size:32}),t.jsx("h3",{className:"font-semibold text-gray-800 mb-1",children:"Total Added"}),t.jsxs("p",{className:"text-2xl font-bold text-gray-800",children:["",n.filter(v=>v.type==="Credit").reduce((v,N)=>v+N.amount,0).toFixed(2)]})]})]}),t.jsxs("div",{className:"bg-white rounded-lg shadow",children:[t.jsx("div",{className:"p-6 border-b",children:t.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Transaction History"})}),t.jsx("div",{className:"p-6",children:n.length===0?t.jsxs("div",{className:"text-center py-8",children:[t.jsx(ns,{className:"mx-auto text-gray-400 mb-4",size:48}),t.jsx("p",{className:"text-gray-500",children:"No transactions yet"})]}):t.jsx("div",{className:"space-y-4",children:n.map((v,N)=>t.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:`p-3 rounded-lg ${v.type==="Credit"?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:v.type==="Credit"?t.jsx(Rf,{size:20}):t.jsx(Bf,{size:20})}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-800",children:v.description||(v.type==="Credit"?"Money Added":"Payment")}),t.jsx("p",{className:"text-sm text-gray-500",children:new Date(v.date).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}),v.transactionId&&t.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["ID: ",v.transactionId]})]})]}),t.jsxs("span",{className:`text-lg font-bold ${v.type==="Credit"?"text-green-600":"text-red-600"}`,children:[v.type==="Credit"?"+":"-","",v.amount.toFixed(2)]})]},N))})})]}),c&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Add Money to Wallet"}),t.jsxs("form",{onSubmit:y,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Enter Amount"}),t.jsxs("div",{className:"relative",children:[t.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:""}),t.jsx("input",{type:"number",value:u,onChange:v=>m(v.target.value),className:"w-full pl-8 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0.00",min:"1",step:"0.01",required:!0})]})]}),t.jsx("div",{className:"grid grid-cols-4 gap-2",children:[100,500,1e3,2e3].map(v=>t.jsxs("button",{type:"button",onClick:()=>m(v.toString()),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:["",v]},v))}),t.jsxs("div",{className:"flex gap-4 pt-4",children:[t.jsx("button",{type:"button",onClick:()=>{d(!1),m("")},disabled:x,className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:x,className:"flex-1 px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:x?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"Processing..."]}):"Add Money"})]})]})]})})]})},hSe=()=>{const[e,r]=g.useState([]),[s,a]=g.useState(!0);g.useEffect(()=>{n()},[]);const n=async()=>{try{const l=localStorage.getItem("userToken"),o=await Pt.get("https://nexo.works/api/user/profile",{headers:{Authorization:`Bearer ${l}`}});r(o.data.user.reviews||[])}catch(l){console.error("Error fetching reviews:",l)}finally{a(!1)}},i=l=>t.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(o=>t.jsx(Vo,{size:16,className:o<=l?"fill-yellow-400 text-yellow-400":"text-gray-300"},o))});return s?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"My Reviews"}),t.jsxs("div",{className:"text-sm text-gray-500",children:["Total Reviews: ",e.length]})]}),e.length===0?t.jsxs("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:[t.jsx(Vo,{className:"mx-auto text-gray-400 mb-4",size:48}),t.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"No reviews yet"}),t.jsx("p",{className:"text-gray-500",children:"Complete a booking to leave a review"})]}):t.jsx("div",{className:"space-y-4",children:e.map((l,o)=>{var c;return t.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[t.jsxs("div",{className:"flex justify-between items-start mb-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:((c=l.partner)==null?void 0:c.name)||"Service Provider"}),i(l.rating)]}),t.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[t.jsx(Ss,{className:"mr-2",size:14}),new Date(l.createdAt).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"})]})]}),t.jsx("p",{className:"text-gray-700",children:l.comment}),l.video&&t.jsx("div",{className:"mt-4",children:t.jsx("video",{src:l.video,controls:!0,className:"w-full max-w-md rounded-lg"})})]},o)})})]})},xSe=()=>{const[e,r]=g.useState([]),[s,a]=g.useState(!0);g.useEffect(()=>{n()},[]);const n=async()=>{try{const o=localStorage.getItem("userToken"),c=await Pt.get("https://nexo.works/api/user/notifications",{headers:{Authorization:`Bearer ${o}`}});r(c.data.notifications||[])}catch(o){console.error("Error fetching notifications:",o)}finally{a(!1)}},i=async o=>{try{const c=localStorage.getItem("userToken");await Pt.put(`https://nexo.works/api/user/notifications/${o}/read`,{},{headers:{Authorization:`Bearer ${c}`}}),n()}catch(c){console.error("Error marking notification as read:",c)}},l=async o=>{try{const c=localStorage.getItem("userToken");await Pt.delete(`https://nexo.works/api/user/notifications/${o}`,{headers:{Authorization:`Bearer ${c}`}}),n()}catch(c){console.error("Error deleting notification:",c)}};return s?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Notifications"}),e.filter(o=>!o.seen).length>0&&t.jsxs("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium",children:[e.filter(o=>!o.seen).length," New"]})]}),e.length===0?t.jsxs("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:[t.jsx(Sn,{className:"mx-auto text-gray-400 mb-4",size:48}),t.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"No notifications"}),t.jsx("p",{className:"text-gray-500",children:"You're all caught up!"})]}):t.jsx("div",{className:"space-y-4",children:e.map(o=>t.jsx("div",{className:`bg-white rounded-lg shadow p-6 ${o.seen?"":"border-l-4 border-blue-600"}`,children:t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-gray-800 mb-2",children:o.message}),t.jsx("p",{className:"text-sm text-gray-500",children:new Date(o.date).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})})]}),t.jsxs("div",{className:"flex gap-2 ml-4",children:[!o.seen&&t.jsx("button",{onClick:()=>i(o._id),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg",title:"Mark as read",children:t.jsx(Sl,{size:18})}),t.jsx("button",{onClick:()=>l(o._id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",title:"Delete",children:t.jsx(Ma,{size:18})})]})]})},o._id))})]})},pSe=()=>{const[e,r]=g.useState({subject:"",message:""}),[s,a]=g.useState(!1),[n,i]=g.useState(!1),[l,o]=g.useState(null),c=async m=>{m.preventDefault(),a(!0);try{const x=localStorage.getItem("userToken");await Pt.post("https://nexo.works/api/user/contactus",e,{headers:{Authorization:`Bearer ${x}`}}),i(!0),r({subject:"",message:""}),setTimeout(()=>i(!1),5e3)}catch(x){console.error("Error sending message:",x),alert("Failed to send message. Please try again.")}finally{a(!1)}},d=m=>{o(l===m?null:m)},u=[{question:"How do I book a service?",answer:"Browse our services, select the one you need, choose a date and time, and confirm your booking. You can pay using your wallet or other payment methods."},{question:"Can I cancel my booking?",answer:"Yes, you can cancel your booking from the My Bookings section. Cancellation charges may apply based on the timing. Free cancellation is available up to 2 hours before the scheduled time."},{question:"How do I add money to my wallet?",answer:'Go to the Wallet section and click on "Add Money". Choose your payment method (UPI, Card, Net Banking) and complete the transaction securely through PayU gateway.'},{question:"How can I track my service provider?",answer:"Once your booking is confirmed, you can track your service provider in real-time from the booking details page. You'll receive notifications when they're on the way."},{question:"What if I'm not satisfied with the service?",answer:"We have a 100% satisfaction guarantee. If you're not happy with the service, contact our support team within 24 hours and we'll make it right or provide a full refund."},{question:"How do I update my profile information?",answer:"Go to the Profile section from the sidebar menu. You can update your name, email, phone number, and profile picture. Changes are saved automatically."}];return t.jsxs("div",{className:"space-y-8",children:[n&&t.jsxs("div",{className:"fixed top-4 right-4 z-50 bg-green-500 text-white px-6 py-4 rounded-lg shadow-lg flex items-center gap-3 animate-slide-in",children:[t.jsx(vt,{size:24}),t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold",children:"Message Sent Successfully!"}),t.jsx("p",{className:"text-sm text-green-100",children:"We'll get back to you soon."})]})]}),t.jsxs("div",{className:"relative bg-gradient-to-br from-primary via-primary-dark to-[#152d47] rounded-3xl p-8 md:p-12 text-white overflow-hidden shadow-2xl",children:[t.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/10 rounded-full -mr-32 -mt-32"}),t.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-white/5 rounded-full -ml-24 -mb-24"}),t.jsxs("div",{className:"relative z-10",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center",children:t.jsx(aZ,{size:24})}),t.jsx("h1",{className:"text-3xl md:text-4xl font-bold",children:"Support & Help Center"})]}),t.jsx("p",{className:"text-blue-100 text-lg max-w-2xl",children:"We're here to help! Get in touch with our support team or find answers to common questions."})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"group bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 p-6 text-center border border-gray-100 hover:border-primary/30 hover:-translate-y-1",children:[t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-primary to-primary-dark rounded-2xl flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform duration-300 shadow-lg",children:t.jsx(tn,{className:"text-white",size:28})}),t.jsx("h3",{className:"font-bold text-gray-800 mb-2 text-lg",children:"Call Us"}),t.jsx("p",{className:"text-primary font-semibold text-lg mb-2",children:"+91 1800-XXX-XXXX"}),t.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-gray-500",children:[t.jsx(ns,{size:14}),t.jsx("span",{children:"Mon-Sat, 9AM-6PM"})]}),t.jsx("button",{className:"mt-4 px-4 py-2 bg-primary/10 text-primary rounded-lg hover:bg-primary/20 transition-colors text-sm font-medium",children:"Call Now"})]}),t.jsxs("div",{className:"group bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 p-6 text-center border border-gray-100 hover:border-green-200 hover:-translate-y-1",children:[t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-500 to-green-600 rounded-2xl flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform duration-300 shadow-lg",children:t.jsx(en,{className:"text-white",size:28})}),t.jsx("h3",{className:"font-bold text-gray-800 mb-2 text-lg",children:"Email Us"}),t.jsx("p",{className:"text-green-600 font-semibold mb-2",children:"support@nexo.works"}),t.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-gray-500",children:[t.jsx(vt,{size:14}),t.jsx("span",{children:"24/7 Support"})]}),t.jsx("button",{className:"mt-4 px-4 py-2 bg-green-50 text-green-600 rounded-lg hover:bg-green-100 transition-colors text-sm font-medium",children:"Send Email"})]}),t.jsxs("div",{className:"group bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 p-6 text-center border border-gray-100 hover:border-primary-light/30 hover:-translate-y-1",children:[t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-primary-light to-primary rounded-2xl flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform duration-300 shadow-lg",children:t.jsx(e4,{className:"text-white",size:28})}),t.jsx("h3",{className:"font-bold text-gray-800 mb-2 text-lg",children:"Live Chat"}),t.jsx("p",{className:"text-primary-light font-semibold mb-2",children:"Chat with us"}),t.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-gray-500",children:[t.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),t.jsx("span",{children:"Available 24/7"})]}),t.jsx("button",{className:"mt-4 px-4 py-2 bg-primary/10 text-primary-light rounded-lg hover:bg-primary/20 transition-colors text-sm font-medium",children:"Start Chat"})]})]}),t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden",children:[t.jsx("div",{className:"bg-gradient-to-r from-primary/10 to-primary-light/10 p-6 border-b border-gray-200",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-primary rounded-xl flex items-center justify-center",children:t.jsx(Uf,{className:"text-white",size:20})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Send us a Message"}),t.jsx("p",{className:"text-gray-600 text-sm mt-0.5",children:"We typically respond within 24 hours"})]})]})}),t.jsxs("form",{onSubmit:c,className:"p-6 space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Subject *"}),t.jsx("input",{type:"text",value:e.subject,onChange:m=>r({...e,subject:m.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-primary focus:border-primary transition-all",placeholder:"What is this about?",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Message *"}),t.jsx("textarea",{value:e.message,onChange:m=>r({...e,message:m.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-primary focus:border-primary transition-all resize-none",rows:"6",placeholder:"Describe your issue or question in detail...",required:!0}),t.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Please provide as much detail as possible to help us assist you better."})]}),t.jsx("button",{type:"submit",disabled:s,className:"w-full flex items-center justify-center gap-2 px-6 py-4 bg-gradient-to-r from-primary to-primary-light text-white rounded-xl hover:from-primary-dark hover:to-primary disabled:from-gray-400 disabled:to-gray-400 disabled:cursor-not-allowed font-semibold shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-[1.02]",children:s?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"Sending..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Uf,{size:20}),"Send Message"]})})]})]}),t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden",children:[t.jsx("div",{className:"bg-gradient-to-r from-primary/10 to-primary-light/10 p-6 border-b border-gray-200",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-primary rounded-xl flex items-center justify-center",children:t.jsx(Th,{className:"text-white",size:20})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Frequently Asked Questions"}),t.jsx("p",{className:"text-gray-600 text-sm mt-0.5",children:"Quick answers to common questions"})]})]})}),t.jsx("div",{className:"p-6 space-y-3",children:u.map((m,x)=>t.jsxs("div",{className:"border-2 border-gray-100 rounded-xl overflow-hidden hover:border-primary/30 transition-all duration-300",children:[t.jsxs("button",{onClick:()=>d(x),className:"w-full flex items-center justify-between p-4 text-left hover:bg-gray-50 transition-colors",children:[t.jsx("h3",{className:"font-semibold text-gray-800 pr-4",children:m.question}),t.jsx("div",{className:`flex-shrink-0 w-8 h-8 bg-primary/10 rounded-lg flex items-center justify-center transition-transform duration-300 ${l===x?"rotate-180":""}`,children:t.jsx(tZ,{className:"text-primary",size:20})})]}),t.jsx("div",{className:`overflow-hidden transition-all duration-300 ${l===x?"max-h-96":"max-h-0"}`,children:t.jsx("div",{className:"p-4 pt-0 text-gray-600 bg-gray-50",children:t.jsx("p",{className:"leading-relaxed",children:m.answer})})})]},x))})]}),t.jsx("div",{className:"bg-gradient-to-br from-primary via-primary-dark to-[#152d47] rounded-2xl p-6 text-white shadow-xl",children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center flex-shrink-0",children:t.jsx(vt,{size:24})}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-bold text-lg mb-2",children:"Need Immediate Help?"}),t.jsx("p",{className:"text-blue-100 mb-4",children:"For urgent issues, please call our support hotline. We're available 24/7 to assist you with any emergency service needs."}),t.jsxs("div",{className:"flex flex-wrap gap-3",children:[t.jsx("button",{className:"px-4 py-2 bg-white text-primary rounded-lg hover:bg-blue-50 transition-colors font-medium",children:"Call Support"}),t.jsx("button",{className:"px-4 py-2 bg-white/20 backdrop-blur-sm text-white rounded-lg hover:bg-white/30 transition-colors font-medium",children:"View Help Center"})]})]})]})})]})},xE="https://nexo.works",fSe=()=>{const{user:e}=an(),r=Qt(),[s]=R0(),[a,n]=g.useState([]),[i,l]=g.useState(null),[o,c]=g.useState(!0),[d,u]=g.useState(null);g.useEffect(()=>{const j=s.get("payment"),w=s.get("reason");j==="success"?(u({type:"success",message:"Subscription activated successfully!"}),window.history.replaceState({},"","/user/subscriptions")):j==="failed"&&(u({type:"error",message:`Payment failed: ${w||"Unknown error"}`}),window.history.replaceState({},"","/user/subscriptions")),m()},[s]);const m=async()=>{try{c(!0);const j=localStorage.getItem("userToken"),w=await Pt.get(`${xE}/api/user/amc-subscriptions`,{headers:{Authorization:`Bearer ${j}`}});w.data.success&&(n(w.data.data.subscriptions||[]),l(w.data.data.activeSubscription||null))}catch(j){console.error("Error fetching AMC subscriptions:",j),u({type:"error",message:"Failed to load AMC subscriptions"})}finally{c(!1)}},x=async j=>{if(window.confirm("Are you sure you want to cancel this AMC subscription?"))try{const w=localStorage.getItem("userToken");(await Pt.put(`${xE}/api/user/amc-subscriptions/${j}/cancel`,{reason:"User requested cancellation"},{headers:{Authorization:`Bearer ${w}`}})).data.success&&(u({type:"success",message:"AMC subscription cancelled successfully"}),m())}catch(w){console.error("Error cancelling AMC subscription:",w),u({type:"error",message:"Failed to cancel AMC subscription"})}},h=j=>{switch(j){case"active":return t.jsx($e,{className:"text-green-500"});case"pending":return t.jsx(ei,{className:"text-yellow-500"});case"expired":case"cancelled":return t.jsx(Rl,{className:"text-red-500"});default:return null}},p=j=>{switch(j){case"active":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"expired":case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},f=j=>new Date(j).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"}),b=(j,w)=>{const y=new Date(j),v=new Date(w),N=Math.abs(v-y),S=Math.ceil(N/(1e3*60*60*24));if(S>=365){const k=Math.floor(S/365);return`${k} ${k>1?"years":"year"}`}else if(S>=30){const k=Math.floor(S/30);return`${k} ${k>1?"months":"month"}`}else return`${S} ${S>1?"days":"day"}`};return o?t.jsx("div",{className:"flex justify-center items-center min-h-screen",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[d&&t.jsx(mj,{type:d.type,message:d.message,onClose:()=>u(null)}),t.jsxs("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"My AMC Subscriptions"}),t.jsx("p",{className:"text-gray-600",children:"Manage your Annual Maintenance Contract subscriptions"})]}),i&&t.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-primary to-primary-dark rounded-2xl p-6 mb-8 text-white",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold",children:i.planName}),t.jsx("p",{className:"text-white/80",children:"Active AMC Plan"})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"text-3xl font-bold",children:["",i.planPrice]}),t.jsxs("div",{className:"text-white/80",children:["for ",b(i.startDate,i.endDate)]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-sm mb-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Qx,{}),t.jsxs("span",{children:["Started: ",f(i.startDate)]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Qx,{}),t.jsxs("span",{children:["Expires: ",f(i.endDate)]})]})]}),i.serviceAddress&&i.serviceAddress.address&&t.jsxs("div",{className:"mb-4 p-3 bg-white/10 rounded-lg",children:[t.jsx("h4",{className:"text-sm font-semibold mb-1",children:"Service Address:"}),t.jsxs("p",{className:"text-sm text-white/90",children:[i.serviceAddress.address,i.serviceAddress.landmark&&`, ${i.serviceAddress.landmark}`,i.serviceAddress.pincode&&` - ${i.serviceAddress.pincode}`]})]}),i.features&&i.features.length>0&&t.jsxs("div",{className:"mb-4",children:[t.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Plan Benefits:"}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.features.slice(0,4).map((j,w)=>t.jsx("span",{className:"px-2 py-1 bg-white/20 text-white text-xs rounded-full",children:j},w)),i.features.length>4&&t.jsxs("span",{className:"px-2 py-1 bg-white/10 text-white/80 text-xs rounded-full",children:["+",i.features.length-4," more"]})]})]}),t.jsx("button",{onClick:()=>x(i._id),className:"mt-4 bg-white/20 hover:bg-white/30 text-white px-4 py-2 rounded-lg transition-colors",children:"Cancel AMC Subscription"})]}),!i&&t.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gray-50 rounded-2xl p-8 mb-8 text-center",children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No Active AMC Subscription"}),t.jsx("p",{className:"text-gray-600 mb-4",children:"Subscribe to an AMC plan to enjoy annual maintenance benefits and priority support"}),t.jsx("button",{onClick:()=>r("/"),className:"bg-primary text-white px-6 py-3 rounded-full font-semibold hover:bg-primary-dark transition-colors",children:"Browse AMC Plans"})]}),t.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"AMC Subscription History"}),a.length===0?t.jsx("div",{className:"text-center py-8 text-gray-500",children:t.jsx("p",{children:"No AMC subscription history found"})}):t.jsx("div",{className:"space-y-4",children:a.map(j=>t.jsx(E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"border border-gray-200 rounded-xl p-4 hover:shadow-md transition-shadow",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("h3",{className:"text-lg font-bold text-gray-900",children:j.planName}),t.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-semibold flex items-center gap-1 ${p(j.status)}`,children:[h(j.status),j.status.toUpperCase()]})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2 text-sm text-gray-600 mb-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ad,{className:"text-primary"}),t.jsxs("span",{children:["",j.planPrice,"/year"]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Qx,{className:"text-primary"}),t.jsx("span",{children:f(j.startDate)})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Qx,{className:"text-primary"}),t.jsxs("span",{children:["to ",f(j.endDate)]})]})]}),j.serviceAddress&&j.serviceAddress.address&&t.jsxs("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg",children:[t.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-1",children:"Service Address:"}),t.jsxs("p",{className:"text-sm text-gray-600",children:[j.serviceAddress.address,j.serviceAddress.landmark&&`, ${j.serviceAddress.landmark}`,j.serviceAddress.pincode&&` - ${j.serviceAddress.pincode}`]})]}),j.features&&j.features.length>0&&t.jsxs("div",{className:"mt-3",children:[t.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Plan Features:"}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[j.features.slice(0,3).map((w,y)=>t.jsx("span",{className:"px-2 py-1 bg-primary/10 text-primary text-xs rounded-full",children:w},y)),j.features.length>3&&t.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full",children:["+",j.features.length-3," more"]})]})]}),t.jsxs("div",{className:"mt-3 flex flex-wrap gap-4 text-xs text-gray-500",children:[j.txnid&&t.jsxs("span",{children:["Transaction ID: ",j.txnid]}),j.mihpayid&&t.jsxs("span",{children:["Payment ID: ",j.mihpayid]})]})]}),j.status==="active"&&t.jsx("button",{onClick:()=>x(j._id),className:"ml-4 text-red-600 hover:text-red-700 font-semibold text-sm",children:"Cancel"})]})},j._id))})]})]})},gSe=()=>t.jsx("div",{className:"user-dashboard",children:t.jsxs(Ny,{children:[t.jsx(et,{index:!0,element:t.jsx(lSe,{})}),t.jsx(et,{path:"bookings",element:t.jsx(oSe,{})}),t.jsx(et,{path:"bookings/:bookingId",element:t.jsx(cSe,{})}),t.jsx(et,{path:"subscriptions",element:t.jsx(fSe,{})}),t.jsx(et,{path:"profile",element:t.jsx(dSe,{})}),t.jsx(et,{path:"addresses",element:t.jsx(uSe,{})}),t.jsx(et,{path:"wallet",element:t.jsx(mSe,{})}),t.jsx(et,{path:"reviews",element:t.jsx(hSe,{})}),t.jsx(et,{path:"notifications",element:t.jsx(xSe,{})}),t.jsx(et,{path:"support",element:t.jsx(pSe,{})}),t.jsx(et,{path:"*",element:t.jsx(kd,{to:"/user/dashboard",replace:!0})})]})}),ySe=()=>{var c,d;const[e,r]=g.useState(!1),s=Qt(),a=Br(),{user:n,logout:i}=an(),l=[{path:"/user/dashboard",icon:Za,label:"Dashboard",color:"blue"},{path:"/user/dashboard/bookings",icon:Ss,label:"My Bookings",color:"purple"},{path:"/user/dashboard/subscriptions",icon:hs,label:"Subscriptions",color:"teal"},{path:"/user/dashboard/profile",icon:vr,label:"Profile",color:"green"},{path:"/user/dashboard/addresses",icon:Pr,label:"Addresses",color:"orange"},{path:"/user/dashboard/wallet",icon:hs,label:"Wallet",color:"pink"},{path:"/user/dashboard/reviews",icon:Vo,label:"My Reviews",color:"yellow"},{path:"/user/dashboard/notifications",icon:Sn,label:"Notifications",color:"red"},{path:"/user/dashboard/support",icon:Th,label:"Support",color:"indigo"}],o=()=>{i(),s("/")};return t.jsxs("div",{className:"flex h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-slate-50",children:[e&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>r(!1)}),t.jsx("aside",{className:`
        fixed lg:static inset-y-0 left-0 z-50
        w-72 bg-gradient-to-b from-slate-900 via-slate-800 to-slate-900 shadow-2xl transform transition-transform duration-300
        ${e?"translate-x-0":"-translate-x-full lg:translate-x-0"}
      `,children:t.jsxs("div",{className:"flex flex-col h-full",children:[t.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-white/10",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary to-primary-dark rounded-xl flex items-center justify-center",children:t.jsx(vr,{className:"text-white",size:20})}),t.jsx("h1",{className:"text-2xl font-bold text-white",children:"Nexo"})]}),t.jsx("button",{onClick:()=>r(!1),className:"lg:hidden text-slate-400 hover:text-white transition-colors",children:t.jsx(mt,{size:24})})]}),t.jsx("nav",{className:"flex-1 overflow-y-auto p-4 space-y-1",children:l.map(u=>{const m=u.icon,x=a.pathname===u.path;return t.jsxs("button",{onClick:()=>{s(u.path),r(!1)},className:`
                    w-full flex items-center gap-3 px-4 py-3.5 rounded-xl
                    transition-all duration-200 group relative overflow-hidden
                    ${x?"bg-gradient-to-r from-primary to-primary-dark text-white shadow-lg shadow-primary/50":"text-slate-300 hover:bg-white/5 hover:text-white"}
                  `,children:[x&&t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/20 to-transparent animate-pulse"}),t.jsx(m,{size:20,className:"relative z-10"}),t.jsx("span",{className:"font-medium relative z-10",children:u.label}),x&&t.jsx("div",{className:"ml-auto w-2 h-2 bg-white rounded-full relative z-10"})]},u.path)})}),t.jsxs("div",{className:"p-4 border-t border-white/10",children:[t.jsx("div",{className:"bg-white/5 rounded-xl p-4 mb-3",children:t.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary to-primary-dark rounded-full flex items-center justify-center overflow-hidden ring-2 ring-white/20 shadow-lg",children:n!=null&&n.profilePicture?t.jsx("img",{src:n.profilePicture,alt:n.name||"User",className:"w-full h-full object-cover"}):t.jsx(vr,{className:"text-white",size:20})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-white font-semibold text-sm truncate",children:(n==null?void 0:n.name)||"Welcome!"}),t.jsx("p",{className:"text-slate-400 text-xs truncate",children:(n==null?void 0:n.email)||(n==null?void 0:n.phone)||"User Dashboard"})]})]})}),t.jsxs("button",{onClick:o,className:`w-full flex items-center justify-center gap-2 px-4 py-3 rounded-xl
                bg-red-500/10 text-red-400 hover:bg-red-500/20 hover:text-red-300
                transition-all duration-200 font-medium`,children:[t.jsx(Ho,{size:18}),t.jsx("span",{children:"Logout"})]})]})]})}),t.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[t.jsx("header",{className:"bg-white/80 backdrop-blur-xl shadow-sm z-10 border-b border-slate-200",children:t.jsxs("div",{className:"flex items-center justify-between px-6 py-4",children:[t.jsx("button",{onClick:()=>r(!0),className:"lg:hidden p-2 text-slate-600 hover:text-slate-900 hover:bg-slate-100 rounded-lg transition-colors",children:t.jsx($y,{size:24})}),t.jsxs("div",{className:"flex-1 lg:ml-0 ml-4",children:[t.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:((c=l.find(u=>u.path===a.pathname))==null?void 0:c.label)||"Dashboard"}),t.jsx("p",{className:"text-sm text-slate-600 mt-0.5",children:new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("button",{onClick:()=>s("/user/dashboard/notifications"),className:"relative p-3 text-slate-600 hover:text-primary rounded-xl hover:bg-primary/10 transition-all duration-200",children:[t.jsx(Sn,{size:22}),t.jsx("span",{className:"absolute top-2 right-2 w-2.5 h-2.5 bg-red-500 rounded-full border-2 border-white animate-pulse"})]}),t.jsxs("button",{onClick:()=>s("/user/dashboard/profile"),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-primary to-primary-dark text-white rounded-xl hover:shadow-lg hover:shadow-primary/30 transition-all duration-200",children:[t.jsx("div",{className:"w-6 h-6 bg-white/20 rounded-full flex items-center justify-center overflow-hidden",children:n!=null&&n.profilePicture?t.jsx("img",{src:n.profilePicture,alt:n.name||"User",className:"w-full h-full object-cover"}):t.jsx(vr,{size:14})}),t.jsx("span",{className:"hidden sm:inline font-medium",children:((d=n==null?void 0:n.name)==null?void 0:d.split(" ")[0])||"Profile"})]})]})]})}),t.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:t.jsx("div",{className:"max-w-7xl mx-auto",children:t.jsx(Ql,{})})})]})]})},bSe=()=>localStorage.getItem("userToken")?t.jsx(Ql,{}):t.jsx(kd,{to:"/",replace:!0}),pE=()=>{const e=Qt(),{checkAuth:r}=an(),[s,a]=g.useState("otp"),[n,i]=g.useState(1),[l,o]=g.useState({phone:"",otp:"",email:"",password:""}),[c,d]=g.useState(!1),[u,m]=g.useState(null),[x,h]=g.useState(0),[p,f]=g.useState(null);_t.useEffect(()=>{let N=null;return x>0&&(N=setInterval(()=>{h(S=>S-1)},1e3)),()=>{N&&clearInterval(N)}},[x]);const b=async N=>{if(N.preventDefault(),m(null),!l.phone||l.phone.length!==10){m("Please enter a valid 10-digit phone number");return}d(!0);try{console.log("Sending login OTP to:",l.phone);const S=await Qn.sendLoginOTP(l.phone);console.log("OTP Response:",S),S.success?(S.otp&&f(S.otp),i(2),h(60)):m(S.message||"Failed to send OTP")}catch(S){console.error("OTP Error:",S),m(S.message||"Failed to connect to server. Please check if backend is running.")}finally{d(!1)}},j=async()=>{if(!(x>0)){d(!0),m(null);try{const N=await Qn.sendLoginOTP(l.phone);N.success?(N.otp&&f(N.otp),h(60)):m(N.message||"Failed to resend OTP")}catch(N){m(N.message||"Failed to resend OTP")}finally{d(!1)}}},w=async N=>{if(N.preventDefault(),m(null),!l.otp||l.otp.length!==6){m("Please enter a valid 6-digit OTP");return}d(!0);try{const S=await Qn.verifyOTP(l.phone,l.otp);S.token?(localStorage.setItem("userToken",S.token),await r(),e("/user/dashboard",{replace:!0})):m("Invalid OTP. Please try again.")}catch(S){m(S.message||"Invalid OTP. Please try again.")}finally{d(!1)}},y=async N=>{N.preventDefault(),m(null),d(!0);try{const S=await Qn.loginWithPassword(l.email,l.password);S.token?(localStorage.setItem("userToken",S.token),await r(),e("/user/dashboard",{replace:!0})):m("Invalid credentials")}catch(S){m(S.message||"Invalid credentials. Please try again.")}finally{d(!1)}},v=N=>{const{name:S,value:k}=N.target;o(S==="phone"||S==="otp"?C=>({...C,[S]:k.replace(/\D/g,"").slice(0,S==="otp"?6:10)}):C=>({...C,[S]:k})),m(null)};return t.jsxs("div",{className:"min-h-screen relative bg-gradient-to-br from-primary via-primary-dark to-slate-900 flex items-center justify-center px-4 py-10 overflow-hidden",children:[t.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[t.jsx(E.div,{className:"absolute -top-40 -left-40 w-80 h-80 bg-blue-500/30 rounded-full blur-3xl",animate:{scale:[1,1.2,1],x:[0,50,0],y:[0,30,0]},transition:{duration:8,repeat:1/0,ease:"easeInOut"}}),t.jsx(E.div,{className:"absolute top-1/4 -right-40 w-96 h-96 bg-purple-500/20 rounded-full blur-3xl",animate:{scale:[1,1.3,1],x:[0,-30,0],y:[0,50,0]},transition:{duration:10,repeat:1/0,ease:"easeInOut",delay:1}}),t.jsx(E.div,{className:"absolute -bottom-40 left-1/3 w-96 h-96 bg-cyan-500/20 rounded-full blur-3xl",animate:{scale:[1,1.4,1],x:[0,40,0],y:[0,-40,0]},transition:{duration:12,repeat:1/0,ease:"easeInOut",delay:2}}),[...Array(20)].map((N,S)=>t.jsx(E.div,{className:"absolute rounded-full bg-white/20",style:{width:`${Math.random()*6+2}px`,height:`${Math.random()*6+2}px`,left:`${Math.random()*100}%`,top:`${Math.random()*100}%`},animate:{y:[0,-100,0],x:[0,Math.random()*50-25,0],opacity:[.2,.8,.2]},transition:{duration:Math.random()*5+5,repeat:1/0,ease:"easeInOut",delay:Math.random()*2}},S)),t.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:`
              linear-gradient(rgba(255,255,255,0.1) 1px, transparent 1px),
              linear-gradient(90deg, rgba(255,255,255,0.1) 1px, transparent 1px)
            `,backgroundSize:"50px 50px"}}),[...Array(5)].map((N,S)=>t.jsx(E.div,{className:"absolute h-px bg-gradient-to-r from-transparent via-white/30 to-transparent",style:{width:"100%",top:`${20+S*20}%`},animate:{x:["-100%","100%"],opacity:[0,1,0]},transition:{duration:3+S,repeat:1/0,ease:"linear",delay:S*.5}},`line-${S}`))]}),t.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md relative z-10",children:t.jsxs("div",{className:"bg-white/10 backdrop-blur-xl rounded-2xl shadow-2xl border border-white/20 p-8",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-primary to-primary-dark rounded-2xl mb-4 shadow-lg",children:t.jsx(vr,{className:"text-2xl text-white"})}),t.jsx("h1",{className:"text-3xl font-bold text-white mb-2 drop-shadow-lg",children:"User Login"}),t.jsx("p",{className:"text-white/90 font-medium",children:"Welcome back! Please login to continue"})]}),u&&t.jsx("div",{className:"mb-6 p-4 bg-red-500/20 border border-red-500/50 rounded-xl text-red-200 text-sm",children:u}),t.jsxs("div",{className:"flex gap-2 mb-6 bg-white/10 backdrop-blur-sm p-1.5 rounded-xl border border-white/20",children:[t.jsx("button",{onClick:()=>{a("otp"),i(1),m(null)},className:`flex-1 py-2.5 rounded-lg font-semibold transition-all ${s==="otp"?"bg-gradient-to-r from-primary to-primary-dark text-white shadow-lg shadow-primary/50":"text-white/80 hover:text-white hover:bg-white/5"}`,children:"Login with OTP"}),t.jsx("button",{onClick:()=>{a("password"),i(1),m(null)},className:`flex-1 py-2.5 rounded-lg font-semibold transition-all ${s==="password"?"bg-gradient-to-r from-primary to-primary-dark text-white shadow-lg shadow-primary/50":"text-white/80 hover:text-white hover:bg-white/5"}`,children:"Login with Password"})]}),s==="otp"&&n===1&&t.jsxs("form",{onSubmit:b,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-white mb-2",children:"Phone Number"}),t.jsxs("div",{className:"relative",children:[t.jsx(tn,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-white/60"}),t.jsx("input",{type:"tel",name:"phone",value:l.phone,onChange:v,className:"w-full pl-12 pr-4 py-3 bg-white/10 backdrop-blur-sm border border-white/30 rounded-xl text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-white/50 focus:bg-white/15",placeholder:"Enter 10-digit phone number",maxLength:10,required:!0,disabled:c})]})]}),t.jsx("button",{type:"submit",disabled:c,className:"w-full py-3 bg-primary hover:bg-primary-dark text-white font-semibold rounded-xl transition flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:c?t.jsxs(t.Fragment,{children:[t.jsx(Dt,{className:"animate-spin"}),"Sending OTP..."]}):t.jsxs(t.Fragment,{children:["Send OTP",t.jsx(ds,{})]})})]}),s==="otp"&&n===2&&t.jsxs("form",{onSubmit:w,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-white mb-2",children:"Enter OTP"}),t.jsxs("div",{className:"relative",children:[t.jsx(_s,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-white/60"}),t.jsx("input",{type:"text",name:"otp",value:l.otp,onChange:v,className:"w-full pl-12 pr-4 py-3 bg-white/10 backdrop-blur-sm border border-white/30 rounded-xl text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-white/50 focus:bg-white/15 text-center text-2xl tracking-widest font-bold",placeholder:"000000",maxLength:6,required:!0,disabled:c,autoFocus:!0})]}),t.jsxs("p",{className:"mt-2 text-sm text-white/80 text-center font-medium",children:["OTP sent to +91 ",l.phone]}),p&&t.jsxs("div",{className:"mt-3 p-3 bg-green-500/20 border border-green-500/50 rounded-xl",children:[t.jsx("p",{className:"text-xs text-white/70 text-center mb-1",children:"Testing OTP:"}),t.jsx("p",{className:"text-2xl font-bold text-white text-center tracking-widest",children:p})]})]}),t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("button",{type:"button",onClick:()=>{i(1),o(N=>({...N,otp:""})),h(0)},className:"text-white/90 hover:text-white transition font-medium",children:" Change Number"}),t.jsx("button",{type:"button",onClick:j,disabled:x>0||c,className:"text-white font-semibold hover:text-white/80 transition disabled:opacity-50 disabled:cursor-not-allowed",children:x>0?`Resend in ${x}s`:"Resend OTP"})]}),t.jsx("button",{type:"submit",disabled:c,className:"w-full py-3 bg-primary hover:bg-primary-dark text-white font-semibold rounded-xl transition flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:c?t.jsxs(t.Fragment,{children:[t.jsx(Dt,{className:"animate-spin"}),"Verifying..."]}):t.jsxs(t.Fragment,{children:["Login",t.jsx(ds,{})]})})]}),s==="password"&&t.jsxs("form",{onSubmit:y,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-white mb-2",children:"Email Address"}),t.jsxs("div",{className:"relative",children:[t.jsx(en,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-white/60"}),t.jsx("input",{type:"email",name:"email",value:l.email,onChange:v,className:"w-full pl-12 pr-4 py-3 bg-white/10 backdrop-blur-sm border border-white/30 rounded-xl text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-white/50 focus:bg-white/15",placeholder:"Enter your email",required:!0,disabled:c})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-white mb-2",children:"Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(_s,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-white/60"}),t.jsx("input",{type:"password",name:"password",value:l.password,onChange:v,className:"w-full pl-12 pr-4 py-3 bg-white/10 backdrop-blur-sm border border-white/30 rounded-xl text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-white/50 focus:bg-white/15",placeholder:"Enter your password",required:!0,disabled:c})]})]}),t.jsx("button",{type:"submit",disabled:c,className:"w-full py-3 bg-primary hover:bg-primary-dark text-white font-semibold rounded-xl transition flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:c?t.jsxs(t.Fragment,{children:[t.jsx(Dt,{className:"animate-spin"}),"Logging in..."]}):t.jsxs(t.Fragment,{children:["Login",t.jsx(ds,{})]})})]}),t.jsxs("div",{className:"mt-8 text-center space-y-3",children:[t.jsxs("p",{className:"text-sm text-white/90 font-medium",children:["Don't have an account?"," ",t.jsx("button",{onClick:()=>e("/user/register"),className:"text-white font-bold hover:underline transition",children:"Sign Up"})]}),t.jsx("button",{onClick:()=>e("/"),className:"text-sm text-white/80 hover:text-white transition font-medium",children:" Back to Home"})]})]})})]})},vSe=()=>{const e=Qt(),{checkAuth:r}=an(),[s,a]=g.useState(1),[n,i]=g.useState({name:"",email:"",phone:"",password:"",confirmPassword:"",otp:"",referalCode:"",userType:"home",companyName:"",companySize:"",industry:"",gstNumber:"",contactPerson:"",designation:""}),[l,o]=g.useState(!1),[c,d]=g.useState(null),[u,m]=g.useState(0),[x,h]=g.useState(null);_t.useEffect(()=>{let w=null;return u>0&&(w=setInterval(()=>{m(y=>y-1)},1e3)),()=>{w&&clearInterval(w)}},[u]);const p=w=>{const{name:y,value:v}=w.target;i(y==="phone"?N=>({...N,[y]:v.replace(/\D/g,"").slice(0,10)}):y==="otp"?N=>({...N,[y]:v.replace(/\D/g,"").slice(0,6)}):N=>({...N,[y]:v})),d(null)},f=async w=>{if(w.preventDefault(),d(null),!n.name||!n.email||!n.phone||!n.password){d("Please fill in all required fields");return}if(n.userType==="company"&&(!n.companyName||!n.contactPerson)){d("Company name and contact person are required for company registration");return}if(n.phone.length!==10){d("Please enter a valid 10-digit phone number");return}if(n.password.length<6){d("Password must be at least 6 characters");return}if(n.password!==n.confirmPassword){d("Passwords do not match");return}o(!0);try{console.log("Sending OTP to:",n.phone);const y=await Qn.sendOTP(n.phone);console.log("OTP Response:",y),y.success?(y.otp&&h(y.otp),a(2),m(60)):d(y.message||"Failed to send OTP")}catch(y){console.error("Registration Error:",y),d(y.message||"Failed to connect to server. Please check if backend is running on port 9000.")}finally{o(!1)}},b=async()=>{if(!(u>0)){o(!0),d(null);try{const w=await Qn.sendOTP(n.phone);w.success?(w.otp&&h(w.otp),m(60)):d(w.message||"Failed to resend OTP")}catch(w){d(w.message||"Failed to resend OTP")}finally{o(!1)}}},j=async w=>{if(w.preventDefault(),d(null),!n.otp||n.otp.length!==6){d("Please enter a valid 6-digit OTP");return}o(!0);try{const y=await Qn.verifyOTP(n.phone,n.otp);if(y.success||y.token){const v={name:n.name,email:n.email,phone:n.phone,password:n.password,confirmPassword:n.confirmPassword,referalCode:n.referalCode,userType:n.userType,...n.userType==="company"&&{companyDetails:{companyName:n.companyName,companySize:n.companySize,industry:n.industry,gstNumber:n.gstNumber,contactPerson:n.contactPerson,designation:n.designation}}},N=await Qn.register(v);N.token?(localStorage.setItem("userToken",N.token),await r(),e("/user/dashboard",{replace:!0})):y.token?(localStorage.setItem("userToken",y.token),await r(),e("/user/dashboard",{replace:!0})):(d("Registration completed but login failed. Please login manually."),setTimeout(()=>e("/user/login"),2e3))}else d("Invalid OTP. Please try again.")}catch(y){console.error("Registration error:",y),d(y.message||"Verification failed. Please try again.")}finally{o(!1)}};return t.jsxs("div",{className:"min-h-screen relative bg-gradient-to-br from-primary via-primary-dark to-slate-900 flex items-center justify-center px-4 py-10 overflow-hidden",children:[t.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[t.jsx(E.div,{className:"absolute -top-40 -left-40 w-80 h-80 bg-blue-500/30 rounded-full blur-3xl",animate:{scale:[1,1.2,1],x:[0,50,0],y:[0,30,0]},transition:{duration:8,repeat:1/0,ease:"easeInOut"}}),t.jsx(E.div,{className:"absolute top-1/4 -right-40 w-96 h-96 bg-purple-500/20 rounded-full blur-3xl",animate:{scale:[1,1.3,1],x:[0,-30,0],y:[0,50,0]},transition:{duration:10,repeat:1/0,ease:"easeInOut",delay:1}}),t.jsx(E.div,{className:"absolute -bottom-40 left-1/3 w-96 h-96 bg-cyan-500/20 rounded-full blur-3xl",animate:{scale:[1,1.4,1],x:[0,40,0],y:[0,-40,0]},transition:{duration:12,repeat:1/0,ease:"easeInOut",delay:2}}),[...Array(20)].map((w,y)=>t.jsx(E.div,{className:"absolute rounded-full bg-white/20",style:{width:`${Math.random()*6+2}px`,height:`${Math.random()*6+2}px`,left:`${Math.random()*100}%`,top:`${Math.random()*100}%`},animate:{y:[0,-100,0],x:[0,Math.random()*50-25,0],opacity:[.2,.8,.2]},transition:{duration:Math.random()*5+5,repeat:1/0,ease:"easeInOut",delay:Math.random()*2}},y)),t.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:`
              linear-gradient(rgba(255,255,255,0.1) 1px, transparent 1px),
              linear-gradient(90deg, rgba(255,255,255,0.1) 1px, transparent 1px)
            `,backgroundSize:"50px 50px"}}),[...Array(5)].map((w,y)=>t.jsx(E.div,{className:"absolute h-px bg-gradient-to-r from-transparent via-white/30 to-transparent",style:{width:"100%",top:`${20+y*20}%`},animate:{x:["-100%","100%"],opacity:[0,1,0]},transition:{duration:3+y,repeat:1/0,ease:"linear",delay:y*.5}},`line-${y}`))]}),t.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md relative z-10",children:t.jsxs("div",{className:"bg-white/10 backdrop-blur-xl rounded-2xl shadow-2xl border border-white/20 p-8",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-primary to-primary-dark rounded-2xl mb-4 shadow-lg",children:t.jsx(vr,{className:"text-2xl text-white"})}),t.jsx("h1",{className:"text-3xl font-bold text-white mb-2 drop-shadow-lg",children:"Create Account"}),t.jsx("p",{className:"text-white/90 font-medium",children:"Join Nexo and book services easily"})]}),t.jsxs("div",{className:"flex items-center justify-center mb-6 gap-2",children:[t.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${s>=1?"bg-primary text-white":"bg-white/20 text-slate-400"}`,children:s>1?t.jsx(Sl,{size:16}):"1"}),t.jsx("div",{className:`w-16 h-1 ${s>=2?"bg-primary":"bg-white/20"}`}),t.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${s>=2?"bg-primary text-white":"bg-white/20 text-slate-400"}`,children:"2"})]}),c&&t.jsx("div",{className:"mb-6 p-4 bg-red-500/20 border border-red-500/50 rounded-xl text-red-200 text-sm",children:c}),s===1&&t.jsxs("form",{onSubmit:f,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-white mb-3",children:"I am registering as *"}),t.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{value:"home",label:"Home",icon:Za,desc:"Personal use"},{value:"pg",label:"PG/Hostel",icon:Mr,desc:"Paying guest"},{value:"company",label:"Company",icon:as,desc:"Business use"},{value:"other",label:"Other",icon:e9,desc:"Other purpose"}].map(w=>{const y=w.icon;return t.jsxs("button",{type:"button",onClick:()=>i(v=>({...v,userType:w.value})),className:`p-3 rounded-xl border-2 transition-all text-left ${n.userType===w.value?"border-primary bg-primary/20 text-white":"border-white/30 bg-white/5 text-white/80 hover:border-white/50 hover:bg-white/10"}`,disabled:l,children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx(y,{className:"text-lg"}),t.jsx("span",{className:"font-semibold text-sm",children:w.label})]}),t.jsx("p",{className:"text-xs opacity-80",children:w.desc})]},w.value)})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-white mb-2",children:"Full Name *"}),t.jsxs("div",{className:"relative",children:[t.jsx(vr,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-white/60"}),t.jsx("input",{type:"text",name:"name",value:n.name,onChange:p,className:"w-full pl-12 pr-4 py-3 bg-white/10 backdrop-blur-sm border border-white/30 rounded-xl text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-white/50 focus:bg-white/15",placeholder:"Enter your full name",required:!0,disabled:l})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-white mb-2",children:"Email Address *"}),t.jsxs("div",{className:"relative",children:[t.jsx(en,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-white/60"}),t.jsx("input",{type:"email",name:"email",value:n.email,onChange:p,className:"w-full pl-12 pr-4 py-3 bg-white/10 backdrop-blur-sm border border-white/30 rounded-xl text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-white/50 focus:bg-white/15",placeholder:"Enter your email",required:!0,disabled:l})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-white mb-2",children:"Phone Number *"}),t.jsxs("div",{className:"relative",children:[t.jsx(tn,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-white/60"}),t.jsx("input",{type:"tel",name:"phone",value:n.phone,onChange:p,className:"w-full pl-12 pr-4 py-3 bg-white/10 backdrop-blur-sm border border-white/30 rounded-xl text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-white/50 focus:bg-white/15",placeholder:"Enter 10-digit phone number",maxLength:10,required:!0,disabled:l})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-white mb-2",children:"Password *"}),t.jsxs("div",{className:"relative",children:[t.jsx(_s,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-white/60"}),t.jsx("input",{type:"password",name:"password",value:n.password,onChange:p,className:"w-full pl-12 pr-4 py-3 bg-white/10 backdrop-blur-sm border border-white/30 rounded-xl text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-white/50 focus:bg-white/15",placeholder:"Create a password (min 6 characters)",required:!0,disabled:l})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-white mb-2",children:"Confirm Password *"}),t.jsxs("div",{className:"relative",children:[t.jsx(_s,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-white/60"}),t.jsx("input",{type:"password",name:"confirmPassword",value:n.confirmPassword,onChange:p,className:"w-full pl-12 pr-4 py-3 bg-white/10 backdrop-blur-sm border border-white/30 rounded-xl text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-white/50 focus:bg-white/15",placeholder:"Confirm your password",required:!0,disabled:l})]})]}),n.userType==="company"&&t.jsxs(E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"space-y-4 border-t border-white/20 pt-4",children:[t.jsx("div",{className:"text-center",children:t.jsx("p",{className:"text-sm font-semibold text-white/90 mb-3",children:"Company Details"})}),t.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-white mb-2",children:"Company Name *"}),t.jsx("input",{type:"text",name:"companyName",value:n.companyName,onChange:p,className:"w-full px-4 py-3 bg-white/10 backdrop-blur-sm border border-white/30 rounded-xl text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-white/50 focus:bg-white/15",placeholder:"Enter company name",required:n.userType==="company",disabled:l})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-white mb-2",children:"Contact Person *"}),t.jsx("input",{type:"text",name:"contactPerson",value:n.contactPerson,onChange:p,className:"w-full px-4 py-3 bg-white/10 backdrop-blur-sm border border-white/30 rounded-xl text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-white/50 focus:bg-white/15",placeholder:"Contact person name",required:n.userType==="company",disabled:l})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-white mb-2",children:"Company Size"}),t.jsxs("select",{name:"companySize",value:n.companySize,onChange:p,className:"w-full px-4 py-3 bg-white/10 backdrop-blur-sm border border-white/30 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-white/50 focus:bg-white/15",disabled:l,children:[t.jsx("option",{value:"",className:"bg-gray-800",children:"Select size"}),t.jsx("option",{value:"small",className:"bg-gray-800",children:"Small (1-50)"}),t.jsx("option",{value:"medium",className:"bg-gray-800",children:"Medium (51-200)"}),t.jsx("option",{value:"large",className:"bg-gray-800",children:"Large (201-1000)"}),t.jsx("option",{value:"enterprise",className:"bg-gray-800",children:"Enterprise (1000+)"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-white mb-2",children:"Designation"}),t.jsx("input",{type:"text",name:"designation",value:n.designation,onChange:p,className:"w-full px-4 py-3 bg-white/10 backdrop-blur-sm border border-white/30 rounded-xl text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-white/50 focus:bg-white/15",placeholder:"Your designation",disabled:l})]})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-white mb-2",children:"Industry"}),t.jsx("input",{type:"text",name:"industry",value:n.industry,onChange:p,className:"w-full px-4 py-3 bg-white/10 backdrop-blur-sm border border-white/30 rounded-xl text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-white/50 focus:bg-white/15",placeholder:"e.g., IT, Manufacturing, Healthcare",disabled:l})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-white mb-2",children:"GST Number (Optional)"}),t.jsx("input",{type:"text",name:"gstNumber",value:n.gstNumber,onChange:p,className:"w-full px-4 py-3 bg-white/10 backdrop-blur-sm border border-white/30 rounded-xl text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-white/50 focus:bg-white/15",placeholder:"GST registration number",disabled:l})]})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-white mb-2",children:"Referral Code (Optional)"}),t.jsx("input",{type:"text",name:"referalCode",value:n.referalCode,onChange:p,className:"w-full px-4 py-3 bg-white/10 backdrop-blur-sm border border-white/30 rounded-xl text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-white/50 focus:bg-white/15",placeholder:"Enter referral code if you have one",disabled:l})]}),t.jsx("button",{type:"submit",disabled:l,className:"w-full py-3 bg-primary hover:bg-primary-dark text-white font-semibold rounded-xl transition flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:l?t.jsxs(t.Fragment,{children:[t.jsx(Dt,{className:"animate-spin"}),"Processing..."]}):t.jsxs(t.Fragment,{children:["Continue",t.jsx(ds,{})]})})]}),s===2&&t.jsxs("form",{onSubmit:j,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-white mb-2",children:"Enter OTP"}),t.jsxs("div",{className:"relative",children:[t.jsx(_s,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-white/60"}),t.jsx("input",{type:"text",name:"otp",value:n.otp,onChange:p,className:"w-full pl-12 pr-4 py-3 bg-white/10 backdrop-blur-sm border border-white/30 rounded-xl text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-white/50 focus:bg-white/15 text-center text-2xl tracking-widest font-bold",placeholder:"000000",maxLength:6,required:!0,disabled:l,autoFocus:!0})]}),t.jsxs("p",{className:"mt-2 text-sm text-white/80 text-center font-medium",children:["OTP sent to +91 ",n.phone]}),x&&t.jsxs("div",{className:"mt-3 p-3 bg-green-500/20 border border-green-500/50 rounded-xl",children:[t.jsx("p",{className:"text-xs text-white/70 text-center mb-1",children:"Testing OTP:"}),t.jsx("p",{className:"text-2xl font-bold text-white text-center tracking-widest",children:x})]})]}),t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("button",{type:"button",onClick:()=>{a(1),i(w=>({...w,otp:""})),m(0)},className:"text-white/90 hover:text-white transition font-medium",children:" Back"}),t.jsx("button",{type:"button",onClick:b,disabled:u>0||l,className:"text-white font-semibold hover:text-white/80 transition disabled:opacity-50 disabled:cursor-not-allowed",children:u>0?`Resend in ${u}s`:"Resend OTP"})]}),t.jsx("button",{type:"submit",disabled:l,className:"w-full py-3 bg-primary hover:bg-primary-dark text-white font-semibold rounded-xl transition flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:l?t.jsxs(t.Fragment,{children:[t.jsx(Dt,{className:"animate-spin"}),"Verifying..."]}):t.jsxs(t.Fragment,{children:["Complete Registration",t.jsx(Sl,{})]})})]}),t.jsxs("div",{className:"mt-8 text-center space-y-3",children:[t.jsxs("p",{className:"text-sm text-white/90 font-medium",children:["Already have an account?"," ",t.jsx("button",{onClick:()=>e("/user/login"),className:"text-white font-bold hover:underline transition",children:"Login"})]}),t.jsx("button",{onClick:()=>e("/"),className:"text-sm text-white/80 hover:text-white transition font-medium",children:" Back to Home"})]})]})})]})},fE=()=>{const[e]=R0(),r=Qt(),[s,a]=g.useState(!0),n=e.get("status"),i=e.get("txnid"),l=e.get("payid"),o=e.get("reason"),c=e.get("type");g.useEffect(()=>{const x=setTimeout(()=>{a(!1)},1500);return()=>clearTimeout(x)},[]);const d=()=>{r("/")},u=()=>{r(c==="subscription"?"/user/dashboard/subscriptions":"/user/dashboard/bookings")},m=()=>{const x=`Hi! I need help with my payment. Transaction ID: ${i||"N/A"}. Status: ${n}. ${o?`Reason: ${o}`:""}`,p=`https://wa.me/919590926068?text=${encodeURIComponent(x)}`;window.open(p,"_blank")};return s?t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:t.jsxs(E.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center",children:[t.jsx(ts,{className:"w-16 h-16 text-primary animate-spin mx-auto mb-4"}),t.jsx("p",{className:"text-xl text-gray-600",children:"Processing payment result..."})]})}):t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:t.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-xl max-w-md w-full p-8 text-center",children:n==="success"?t.jsxs(t.Fragment,{children:[t.jsx(E.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:t.jsx($e,{className:"w-12 h-12 text-green-600"})}),t.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Payment Successful!"}),t.jsx("p",{className:"text-gray-600 mb-6",children:c==="subscription"?"Your subscription has been activated successfully. You will receive a confirmation shortly.":"Your payment has been processed successfully. You will receive a confirmation shortly."}),i&&t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[t.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Transaction ID"}),t.jsx("p",{className:"font-mono text-sm font-semibold text-gray-900",children:i}),l&&t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"text-sm text-gray-600 mb-1 mt-2",children:"Payment ID"}),t.jsx("p",{className:"font-mono text-sm font-semibold text-gray-900",children:l})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs(E.button,{onClick:u,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full bg-primary text-white py-3 rounded-xl font-semibold hover:bg-primary-dark transition-all flex items-center justify-center gap-2",children:[t.jsx(SX,{}),c==="subscription"?"View My Subscriptions":"View My Bookings"]}),t.jsxs(E.button,{onClick:d,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full bg-gray-100 text-gray-700 py-3 rounded-xl font-semibold hover:bg-gray-200 transition-all flex items-center justify-center gap-2",children:[t.jsx(Lf,{}),"Go to Home"]})]})]}):t.jsxs(t.Fragment,{children:[t.jsx(E.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:t.jsx(Rl,{className:"w-12 h-12 text-red-600"})}),t.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Payment Failed"}),t.jsx("p",{className:"text-gray-600 mb-4",children:"Unfortunately, your payment could not be processed."}),o&&t.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:[t.jsx("p",{className:"text-sm text-red-600 font-medium",children:"Reason:"}),t.jsx("p",{className:"text-sm text-red-700 mt-1",children:o})]}),i&&t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[t.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Transaction ID"}),t.jsx("p",{className:"font-mono text-sm font-semibold text-gray-900",children:i})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs(E.button,{onClick:m,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full bg-[#25D366] text-white py-3 rounded-xl font-semibold hover:bg-[#20BA5A] transition-all flex items-center justify-center gap-2",children:[t.jsx(yr,{}),"Contact Support"]}),t.jsxs(E.button,{onClick:d,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full bg-gray-100 text-gray-700 py-3 rounded-xl font-semibold hover:bg-gray-200 transition-all flex items-center justify-center gap-2",children:[t.jsx(Lf,{}),"Go to Home"]})]})]})})})},jSe=()=>{const{isAuthenticated:e,user:r}=an(),s=Qt(),[a,n]=g.useState(!1),i=c=>{console.log("Payment successful:",c),alert("Payment successful! Check console for details."),n(!1)},l=c=>{console.error("Payment failed:",c),alert("Payment failed! Check console for details."),n(!1)},o=()=>{n(!1)};return e?t.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:t.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Payment Gateway Test"}),t.jsx("p",{className:"text-gray-600",children:"Test the PayU payment integration"})]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"User Information"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("p",{children:[t.jsx("span",{className:"font-semibold",children:"Name:"})," ",(r==null?void 0:r.name)||"N/A"]}),t.jsxs("p",{children:[t.jsx("span",{className:"font-semibold",children:"Email:"})," ",(r==null?void 0:r.email)||"N/A"]}),t.jsxs("p",{children:[t.jsx("span",{className:"font-semibold",children:"Phone:"})," ",(r==null?void 0:r.phone)||"N/A"]}),t.jsxs("p",{children:[t.jsx("span",{className:"font-semibold",children:"User Type:"})," ",(r==null?void 0:r.userType)||"home"]})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Test Payments"}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("button",{onClick:()=>n(!0),className:"w-full bg-primary text-white py-3 rounded-lg font-semibold hover:bg-primary-dark transition",children:"Test Payment - 100"}),t.jsxs("div",{className:"text-sm text-gray-600",children:[t.jsx("p",{className:"font-semibold mb-2",children:"Test Instructions:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[t.jsx("li",{children:"Click the button above to open payment gateway"}),t.jsx("li",{children:"You'll be redirected to PayU test environment"}),t.jsx("li",{children:"Use test card details provided by PayU"}),t.jsx("li",{children:"After payment, you'll be redirected back"})]})]})]})]})]}),a&&t.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:t.jsx("div",{className:"max-w-md w-full",children:t.jsx(JN,{amount:100,orderData:{productinfo:"Test Payment - PayU Integration",userId:(r==null?void 0:r._id)||(r==null?void 0:r.userId)},onSuccess:i,onFailure:l,onCancel:o,title:"Test Payment",description:"Testing PayU payment integration"})})})]})}):t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Please Login"}),t.jsx("p",{className:"text-gray-600 mb-6",children:"You need to be logged in to test payments."}),t.jsx("button",{onClick:()=>s("/user/login"),className:"bg-primary text-white px-6 py-3 rounded-lg font-semibold hover:bg-primary-dark transition",children:"Go to Login"})]})})};function wSe(){return t.jsx(OX,{children:t.jsxs(SW,{children:[t.jsx(DX,{}),t.jsx(aSe,{}),t.jsxs(Ny,{children:[t.jsxs(et,{element:t.jsx(QQ,{}),children:[t.jsx(et,{path:"/",element:t.jsx(AQ,{})}),t.jsx(et,{path:"/service/:serviceName",element:t.jsx(EQ,{})}),t.jsx(et,{path:"/service/:serviceName/checkout",element:t.jsx(IQ,{})}),t.jsx(et,{path:"/payment/success",element:t.jsx(_Q,{})}),t.jsx(et,{path:"/payment/failure",element:t.jsx(OQ,{})}),t.jsx(et,{path:"/payment",element:t.jsx(fE,{})}),t.jsx(et,{path:"/payment-result",element:t.jsx(fE,{})}),t.jsx(et,{path:"/test-payment",element:t.jsx(jSe,{})}),t.jsx(et,{path:"/partner",element:t.jsx(DQ,{})}),t.jsx(et,{path:"/leads",element:t.jsx(MQ,{})}),t.jsx(et,{path:"/materials",element:t.jsx(LQ,{})}),t.jsx(et,{path:"/emergency",element:t.jsx(FQ,{})}),t.jsx(et,{path:"/amc",element:t.jsx(BQ,{})}),t.jsx(et,{path:"/brand-partnerships",element:t.jsx($Q,{})}),t.jsx(et,{path:"/partner/onboard",element:t.jsx(VC,{})}),t.jsx(et,{path:"/partner-onboarding",element:t.jsx(VC,{})}),t.jsx(et,{path:"/partner-terms",element:t.jsx(VQ,{})}),t.jsx(et,{path:"/terms",element:t.jsx(WQ,{})}),t.jsx(et,{path:"/privacy",element:t.jsx(GQ,{})}),t.jsx(et,{path:"/refund-policy",element:t.jsx(qQ,{})}),t.jsx(et,{path:"/partner-refund-policy",element:t.jsx(KQ,{})}),t.jsx(et,{path:"/verify/partner/:partnerId",element:t.jsx(rSe,{})})]}),t.jsx(et,{path:"/admin",element:t.jsx(rse,{})}),t.jsx(et,{path:"/partner/login",element:t.jsx(P6e,{})}),t.jsx(et,{path:"/vendor/login",element:t.jsx(G6e,{})}),t.jsx(et,{path:"/user/login",element:t.jsx(pE,{})}),t.jsx(et,{path:"/user-login",element:t.jsx(pE,{})}),t.jsx(et,{path:"/user/register",element:t.jsx(vSe,{})}),t.jsx(et,{element:t.jsx(ase,{}),children:t.jsxs(et,{element:t.jsx(sse,{}),children:[t.jsx(et,{path:"/admin/dashboard",element:t.jsx(Uve,{})}),t.jsx(et,{path:"/admin/partners",element:t.jsx(D5e,{})}),t.jsx(et,{path:"/admin/partners/manual-register",element:t.jsx(G5e,{})}),t.jsx(et,{path:"/admin/partners/:partnerId",element:t.jsx(W5e,{})}),t.jsx(et,{path:"/admin/vendors",element:t.jsx(K5e,{})}),t.jsx(et,{path:"/admin/vendors/:vendorId",element:t.jsx(Y5e,{})}),t.jsx(et,{path:"/admin/customers",element:t.jsx(X5e,{})}),t.jsx(et,{path:"/admin/customer-bookings",element:t.jsx(J5e,{})}),t.jsx(et,{path:"/admin/spares",element:t.jsx(e6e,{})}),t.jsx(et,{path:"/admin/amc",element:t.jsx(t6e,{})}),t.jsx(et,{path:"/admin/cities",element:t.jsx(r6e,{})}),t.jsx(et,{path:"/admin/leads",element:t.jsx(s6e,{})}),t.jsx(et,{path:"/admin/reports",element:t.jsx(n6e,{})}),t.jsx(et,{path:"/admin/notifications",element:t.jsx(d6e,{})}),t.jsx(et,{path:"/admin/notification-templates",element:t.jsx(c6e,{})}),t.jsx(et,{path:"/admin/refunds",element:t.jsx(x6e,{})}),t.jsx(et,{path:"/admin/mg-plans",element:t.jsx(p6e,{})}),t.jsx(et,{path:"/admin/fees",element:t.jsx(f6e,{})}),t.jsx(et,{path:"/admin/fee-transactions",element:t.jsx(g6e,{})}),t.jsx(et,{path:"/admin/categories",element:t.jsx(b6e,{})}),t.jsx(et,{path:"/admin/hubs",element:t.jsx(v6e,{})}),t.jsx(et,{path:"/admin/popular-services",element:t.jsx(j6e,{})}),t.jsx(et,{path:"/admin/amc-plans",element:t.jsx(N6e,{})}),t.jsx(et,{path:"/admin/featured-reviews",element:t.jsx(w6e,{})}),t.jsx(et,{path:"/admin/whatsapp-settings",element:t.jsx(S6e,{})})]})}),t.jsx(et,{element:t.jsx(H6e,{}),children:t.jsx(et,{element:t.jsx(U6e,{}),children:t.jsx(et,{path:"/partner/dashboard/*",element:t.jsx(z6e,{})})})}),t.jsx(et,{element:t.jsx(tSe,{}),children:t.jsx(et,{element:t.jsx(eSe,{}),children:t.jsx(et,{path:"/vendor/dashboard/*",element:t.jsx(Z6e,{})})})}),t.jsx(et,{element:t.jsx(bSe,{}),children:t.jsx(et,{element:t.jsx(ySe,{}),children:t.jsx(et,{path:"/user/dashboard/*",element:t.jsx(gSe,{})})})}),t.jsx(et,{path:"*",element:t.jsx(sSe,{})})]})]})})}const NSe=()=>{const[e,r]=g.useState(!0),[s,a]=g.useState(0),[n]=g.useState(()=>{const d=Array.from({length:20},(x,h)=>({size:h<5?Math.random()*20+15:Math.random()*60+30,duration:Math.random()*8+6,delay:Math.random()*2,startX:Math.random()*100,startY:Math.random()*100,opacity:Math.random()*.3+.2,isVisible:h<5,x1:Math.random()*200-100,x2:Math.random()*200-100,x3:Math.random()*200-100,x4:Math.random()*200-100,y1:Math.random()*200-100,y2:Math.random()*200-100,y3:Math.random()*200-100,y4:Math.random()*200-100,scale1:Math.random()*.5+1.2,scale2:Math.random()*.5+.8})),u=Array.from({length:12},(x,h)=>({size:Math.random()*100+80,duration:Math.random()*10+8,delay:Math.random()*2.5,startX:Math.random()*100,startY:Math.random()*100,opacity:Math.random()*.25+.15,isVisible:h<4,x1:Math.random()*250-125,x2:Math.random()*250-125,x3:Math.random()*250-125,x4:Math.random()*250-125,y1:Math.random()*250-125,y2:Math.random()*250-125,y3:Math.random()*250-125,y4:Math.random()*250-125,scale1:Math.random()*.5+1.25,scale2:Math.random()*.5+.75})),m=Array.from({length:8},()=>({size:Math.random()*150+100,duration:Math.random()*12+10,delay:Math.random()*3,startX:Math.random()*100,startY:Math.random()*100,opacity:Math.random()*.2+.1,isVisible:!1,x1:Math.random()*300-150,x2:Math.random()*300-150,x3:Math.random()*300-150,y1:Math.random()*300-150,y2:Math.random()*300-150,y3:Math.random()*300-150,scale1:Math.random()*.4+1.3,scale2:Math.random()*.4+.7}));return{smallBalls:d,mediumBalls:u,largeBalls:m}});g.useEffect(()=>{let d="normal";if("connection"in navigator){const y=navigator.connection||navigator.mozConnection||navigator.webkitConnection;if(y){const v=y.effectiveType;v==="slow-2g"||v==="2g"?d="slow":v==="3g"&&(d="medium")}}let u,m,x;const h=d==="slow"?8e3:d==="medium"?6e3:5e3,p=d==="slow"?2e3:1500,f=d==="slow"?5:d==="medium"?10:15;u=setInterval(()=>{a(y=>y>=90?(clearInterval(u),90):Math.min(y+Math.random()*f,90))},d==="slow"?300:d==="medium"?250:200);const j=()=>{const y=document.querySelectorAll("img"),v=y.length;let N=0;return v===0?!0:(y.forEach(S=>{S.complete?N++:(S.addEventListener("load",()=>{N++,N===v&&a(95)}),S.addEventListener("error",()=>{N++,N===v&&a(95)}))}),N===v)},w=()=>{x=setTimeout(()=>{a(100),setTimeout(()=>{r(!1)},500)},p)};return document.readyState==="complete"?j()?w():setTimeout(()=>{w()},500):window.addEventListener("load",()=>{setTimeout(()=>{w()},300)}),m=setTimeout(()=>{clearInterval(u),a(100),setTimeout(()=>{r(!1)},500)},h),()=>{u&&clearInterval(u),m&&clearTimeout(m),x&&clearTimeout(x),window.removeEventListener("load",w)}},[]);const i={initial:{scale:.8,opacity:0},animate:{scale:[.8,1.1,1],opacity:1,rotate:[0,360],transition:{scale:{duration:1,ease:"easeOut"},rotate:{duration:2,repeat:1/0,ease:"linear"}}}},l={animate:{opacity:[.6,1,.6],strokeWidth:[3,3.5,3],transition:{duration:2,repeat:1/0,ease:"easeInOut"}}},o={animate:{scale:[1,1.2,1],transition:{duration:1.5,repeat:1/0,ease:"easeInOut"}}},c={initial:{opacity:1},exit:{opacity:0,transition:{duration:.5,ease:"easeInOut"}}};return t.jsx(wl,{children:e&&t.jsxs(E.div,{className:"fixed inset-0 z-[9999] bg-gradient-to-br from-primary via-primary-dark to-primary flex flex-col items-center justify-center",variants:c,initial:"initial",exit:"exit",children:[t.jsx("div",{className:"absolute inset-0 opacity-10",children:t.jsx("div",{className:"w-full h-full",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.1'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`,backgroundRepeat:"repeat"}})}),n.smallBalls.map((d,u)=>t.jsx(E.div,{className:`absolute rounded-full pointer-events-none ${d.isVisible?"bg-white/20 backdrop-blur-sm border border-white/30":"bg-white/50 blur-2xl"}`,style:{width:`${d.size}px`,height:`${d.size}px`,left:`${d.startX}%`,top:`${d.startY}%`,opacity:d.isVisible?.4:d.opacity,zIndex:d.isVisible?2:1,filter:d.isVisible?"drop-shadow(0 0 8px rgba(255,255,255,0.3))":"blur(40px)",WebkitFilter:d.isVisible?"drop-shadow(0 0 8px rgba(255,255,255,0.3))":"blur(40px)",boxShadow:d.isVisible?"inset 0 0 20px rgba(255,255,255,0.1), 0 0 15px rgba(255,255,255,0.2)":"none"},animate:{x:[d.x1,d.x2,d.x3,d.x4,d.x1],y:[d.y1,d.y2,d.y3,d.y4,d.y1],scale:[1,d.scale1,1,d.scale2,1]},transition:{duration:d.duration,repeat:1/0,ease:"easeInOut",delay:d.delay,repeatType:"loop"}},`small-${u}`)),n.mediumBalls.map((d,u)=>t.jsx(E.div,{className:`absolute rounded-full pointer-events-none ${d.isVisible?"bg-white/20 backdrop-blur-sm border border-white/30":"bg-white/45 blur-2xl"}`,style:{width:`${d.size}px`,height:`${d.size}px`,left:`${d.startX}%`,top:`${d.startY}%`,opacity:d.isVisible?.35:d.opacity,zIndex:d.isVisible?2:1,filter:d.isVisible?"drop-shadow(0 0 10px rgba(255,255,255,0.3))":"blur(50px)",WebkitFilter:d.isVisible?"drop-shadow(0 0 10px rgba(255,255,255,0.3))":"blur(50px)",boxShadow:d.isVisible?"inset 0 0 25px rgba(255,255,255,0.1), 0 0 20px rgba(255,255,255,0.2)":"none"},animate:{x:[d.x1,d.x2,d.x3,d.x4,d.x1],y:[d.y1,d.y2,d.y3,d.y4,d.y1],scale:[1,d.scale1,1,d.scale2,1]},transition:{duration:d.duration,repeat:1/0,ease:"easeInOut",delay:d.delay,repeatType:"loop"}},`medium-${u}`)),n.largeBalls.map((d,u)=>t.jsx(E.div,{className:"absolute rounded-full bg-white/35 blur-3xl pointer-events-none",style:{width:`${d.size}px`,height:`${d.size}px`,left:`${d.startX}%`,top:`${d.startY}%`,opacity:d.opacity,zIndex:0,filter:"blur(80px)",WebkitFilter:"blur(80px)"},animate:{x:[d.x1,d.x2,d.x3,d.x1],y:[d.y1,d.y2,d.y3,d.y1],scale:[1,d.scale1,1,d.scale2,1]},transition:{duration:d.duration,repeat:1/0,ease:"easeInOut",delay:d.delay,repeatType:"loop"}},`large-${u}`)),t.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[t.jsx(E.div,{className:"relative w-24 h-24 sm:w-32 sm:h-32 mb-6",variants:i,initial:"initial",animate:"animate",children:t.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx(E.path,{d:"M24 8C24 8 16 12 16 20C16 20 20 24 24 24C28 24 32 20 32 20C32 12 24 8 24 8Z",stroke:"#FFFFFF",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",variants:l,animate:"animate"}),t.jsx(E.path,{d:"M24 40C24 40 32 36 32 28C32 28 28 24 24 24C20 24 16 28 16 28C16 36 24 40 24 40Z",stroke:"#FFFFFF",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",variants:l,animate:"animate",transition:{delay:.2}}),t.jsx(E.path,{d:"M8 24C8 24 12 16 20 16C20 16 24 20 24 24C24 28 20 32 20 32C12 32 8 24 8 24Z",stroke:"#FFFFFF",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",variants:l,animate:"animate",transition:{delay:.4}}),t.jsx(E.path,{d:"M40 24C40 24 36 32 28 32C28 32 24 28 24 24C24 20 28 16 28 16C36 16 40 24 40 24Z",stroke:"#FFFFFF",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",variants:l,animate:"animate",transition:{delay:.6}}),t.jsx(E.circle,{cx:"24",cy:"24",r:"4",fill:"#FFFFFF",variants:o,animate:"animate"})]})}),t.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"text-center mb-8",children:[t.jsx("h1",{className:"text-4xl sm:text-5xl font-bold text-white mb-2",children:"Nexo"}),t.jsx("p",{className:"text-sm sm:text-base text-white/80 font-light",children:"Connect. Work. Grow."})]}),t.jsxs("div",{className:"w-64 sm:w-80 max-w-md mx-auto",children:[t.jsx("div",{className:"h-1.5 bg-white/20 rounded-full overflow-hidden",children:t.jsx(E.div,{className:"h-full bg-white rounded-full",initial:{width:0},animate:{width:`${s}%`},transition:{duration:.3,ease:"easeOut"}})}),t.jsx(E.p,{className:"text-white/60 text-xs sm:text-sm mt-3 text-center",animate:{opacity:[.5,1,.5]},transition:{duration:1.5,repeat:1/0},children:s<50?"Loading...":s<90?"Almost there...":"Ready!"})]})]}),t.jsxs("div",{className:"absolute inset-0 pointer-events-none z-5",children:[t.jsx(E.div,{className:"absolute top-1/4 left-1/4 w-8 h-8 sm:w-10 sm:h-10 text-white/40",animate:{y:[0,-20,0],rotate:[0,15,-15,0],opacity:[.3,.5,.3]},transition:{duration:4,repeat:1/0,ease:"easeInOut",delay:0},children:t.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:t.jsx("path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"})})}),t.jsx(E.div,{className:"absolute top-1/3 right-1/4 w-8 h-8 sm:w-10 sm:h-10 text-white/40",animate:{y:[0,15,0],rotate:[0,-10,10,0],opacity:[.3,.5,.3]},transition:{duration:5,repeat:1/0,ease:"easeInOut",delay:.5},children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M15 12l-8.5 8.5c-.83.83-2.17.83-3 0 0 0 0 0 0 0-.83-.83-.83-2.17 0-3L12 9"}),t.jsx("path",{d:"M17.64 15L22 10.64"}),t.jsx("path",{d:"M20.91 11.7l-2.25-2.25L15.64 12l-1.5-1.5 3.06-3.06-2.25-2.25L12 7.36l-1.5-1.5 2.81-2.81-2.25-2.25L7.36 3l-1.5-1.5L9.38.14l-2.25-2.25L4.5 1.5"})]})}),t.jsx(E.div,{className:"absolute bottom-1/3 left-1/3 w-8 h-8 sm:w-10 sm:h-10 text-white/40",animate:{x:[0,15,0],rotate:[0,20,-20,0],opacity:[.3,.5,.3]},transition:{duration:4.5,repeat:1/0,ease:"easeInOut",delay:1},children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M9.06 2.57c-1.18-.59-2.65-.15-3.44.99l-.57.8c-.28.4-.28.95 0 1.35l5.18 7.27c.28.4.78.4 1.06 0l5.18-7.27c.28-.4.28-.95 0-1.35l-.57-.8c-.79-1.14-2.26-1.58-3.44-.99L9.06 2.57z"}),t.jsx("path",{d:"M12 18v4"}),t.jsx("path",{d:"M9 22h6"})]})}),t.jsx(E.div,{className:"absolute bottom-1/4 right-1/3 w-8 h-8 sm:w-10 sm:h-10 text-white/40",animate:{y:[0,-15,0],rotate:[0,-15,15,0],opacity:[.3,.5,.3]},transition:{duration:5.5,repeat:1/0,ease:"easeInOut",delay:1.5},children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M18 3v3a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V3"}),t.jsx("path",{d:"M12 21v-9"}),t.jsx("path",{d:"M9 21v-6"}),t.jsx("path",{d:"M15 21v-6"}),t.jsx("path",{d:"M9 3h6"})]})}),t.jsx(E.div,{className:"absolute top-1/2 left-1/5 w-8 h-8 sm:w-10 sm:h-10 text-white/40",animate:{x:[0,-10,0],y:[0,10,0],opacity:[.3,.5,.3]},transition:{duration:6,repeat:1/0,ease:"easeInOut",delay:2},children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M20 7h-3V6a2 2 0 0 0-2-2H9a2 2 0 0 0-2 2v1H4a1 1 0 0 0-1 1v11a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3V8a1 1 0 0 0-1-1z"}),t.jsx("path",{d:"M9 6v1"}),t.jsx("path",{d:"M15 6v1"})]})}),t.jsx(E.div,{className:"absolute top-2/3 right-1/5 w-8 h-8 sm:w-10 sm:h-10 text-white/40",animate:{rotate:[0,360],x:[0,10,0],opacity:[.3,.5,.3]},transition:{duration:7,repeat:1/0,ease:"linear",delay:2.5},children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M12 2v4"}),t.jsx("path",{d:"M12 18v4"}),t.jsx("path",{d:"M8 6h8"}),t.jsx("path",{d:"M8 18h8"}),t.jsx("path",{d:"M12 6l-4 4h8l-4-4z"}),t.jsx("path",{d:"M12 18l-4-4h8l-4 4z"}),t.jsx("circle",{cx:"12",cy:"12",r:"2"})]})})]}),t.jsx(E.div,{className:"absolute bottom-12 left-1/2 transform -translate-x-1/2",animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},children:t.jsx("div",{className:"w-8 h-8 border-4 border-white/30 border-t-white rounded-full"})})]})})};"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/firebase-messaging-sw.js").catch(e=>{console.error("Service Worker registration failed:",e)})});W1.createRoot(document.getElementById("root")).render(t.jsxs(LI,{children:[t.jsx(NSe,{}),t.jsx(tse,{children:t.jsx(C6e,{children:t.jsx(W6e,{children:t.jsx(SQ,{children:t.jsx(wSe,{})})})})})]}));
